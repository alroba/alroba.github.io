{"version":3,"sources":["components/layers/AllMines_2022Layer.js","../node_modules/@material-ui/icons/RemoveOutlined.js","../node_modules/@material-ui/icons/AddOutlined.js","components/common/ZoomControl.js","assets/img/carto-logo-map.svg","components/views/main/MapContainer.js","components/layers/index.js"],"names":["ALL_MINES_2022_LAYER_ID","DATA","Object","entries","map","elem","color","label","layerConfig","title","visible","legend","attr","type","LEGEND_TYPES","CATEGORY","labels","data","colors","AllMines_2022Layer","setPopupInfo","selectedId","setSelectedId","dispatch","useDispatch","allMines_2022Layer","useSelector","state","carto","layers","source","selectSourceById","cartoLayerProps","useCartoLayerProps","NO_DATA_STR","dataPromise","useMemo","fetchLayerData","connection","format","GeoJsonLayer","dataTransform","res","id","pointType","pickable","getIconSize","d","properties","prop_id","getIconColor","colorCategories","domain","getIcon","url","width","height","mask","onDataLoad","updateLayer","layerAttributes","updateTriggers","onClick","info","object","coordinates","geometry","propsObject","fields","value","prop_name","primary_commodity","commodities_list","dev_stage","stage","operator_name","operator_hq","operator_country","owner_name","owner_hq","owner_country","state_province","country_name","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","React","_default","createElement","useStyles","makeStyles","theme","zoomControl","backgroundColor","palette","background","paper","ZoomControl","className","showCurrentZoom","zoomLevel","Math","floor","viewState","zoom","classes","increaseZoom","useCallback","nextZoom","setViewState","decreaseZoom","Grid","container","direction","alignItems","IconButton","Divider","orientation","flexItem","Box","px","minWidth","Typography","display","align","variant","_defs","_g","_extends","assign","bind","target","i","arguments","length","key","prototype","hasOwnProperty","call","apply","this","SvgCartoLogoMap","_ref","svgRef","titleId","props","viewBox","xmlns","xmlnsXlink","ref","undefined","in","values","stroke","strokeWidth","fill","fillRule","filter","fillOpacity","ForwardRef","Map","lazy","mapWrapper","position","flex","overflow","zIndex","bottom","spacing","left","breakpoints","down","drawingTool","top","cartoLogoMap","transform","gmaps","right","MapContainer","isGmaps","BASEMAPS","basemap","popupInfo","useState","FeatureSelectionLayer","getLayers","item","popup","setPopup","setSelected","Hidden","xsDown"],"mappings":"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","file":"static/js/map-container.b5f27379.chunk.js","sourcesContent":["import { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { colorCategories, fetchLayerData, CartoLayer } from '@deck.gl/carto';\nimport { GeoJsonLayer } from '@deck.gl/layers';\nimport { selectSourceById, updateLayer } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\n\nimport { LEGEND_TYPES } from '@carto/react-ui';\n\nexport const ALL_MINES_2022_LAYER_ID = 'allMines_2022Layer';\n\nexport const CATEGORY_COLORS = {\n  'Early Stage ': [37, 144, 216],\n  'Mine Stage': [110, 45, 135],\n  'Late Stage ': [0, 70, 145],  \n};\n\nconst DATA = Object.entries(CATEGORY_COLORS).map((elem) => {\n  return { color: elem[1], label: elem[0] };\n});\n\nconst layerConfig = {\n  title: 'Stage',\n  visible: true,\n  legend: {\n    attr: 'stage',\n    type: LEGEND_TYPES.CATEGORY,\n    labels: DATA.map((data) => data.label),\n    colors: DATA.map((data) => data.color),\n  },\n};\n\nexport default function AllMines_2022Layer(setPopupInfo, selectedId, setSelectedId) {\n  const dispatch = useDispatch();\n  const { allMines_2022Layer } = useSelector((state) => state.carto.layers);\n  const source = useSelector((state) => selectSourceById(state, allMines_2022Layer?.source));\n  const cartoLayerProps = useCartoLayerProps({ source });\n  const NO_DATA_STR = 'No data';\n\n  // The CartoLayer only works with dynamic tiles so feature dropping can\n  // happen at lower zoom levels. If feature dropping happens, the widgets\n  // linked to the same source are not going to work. If we want the widgets\n  // to work at all zoom levels, we need to fetch the data in GeoJSON format\n  // and then use the GeoJsonLayer intead of the CartoLayer.\n  const dataPromise = useMemo(\n    () =>\n      source?.data &&\n      fetchLayerData({\n        type: source.type,\n        connection: source.connection,\n        source: source.data,\n        format: 'geojson',\n      }),\n    [source?.type, source?.data, source?.connection]\n  );\n\n  if (allMines_2022Layer && source) {\n    return new GeoJsonLayer({\n      ...cartoLayerProps,\n      data: dataPromise,\n      dataTransform: (res) => res.data,\n      id: ALL_MINES_2022_LAYER_ID,\n      \n      pointType: 'icon',\n      pickable: true,\n      getIconSize: d => d.properties.prop_id === selectedId ? 25 : 13,\n      getIconColor: colorCategories({\n        attr: 'stage',\n        domain: [\n          'Early Stage ',\n          'Mine Stage',\n          'Late Stage '\n        ],\n        colors: [\n          [37, 144, 216],\n          [110, 45, 135],\n          [0, 70, 145]\n        ]\n      }),\n      getIcon: d => ({\n        url: 'https://s3.amazonaws.com/com.cartodb.users-assets.production/maki-icons/oil-well-18.svg',\n        width: 24,\n        height: 24,\n        mask: true\n      }),\n\n      onDataLoad: (data) => {\n        dispatch(\n          updateLayer({\n            id: ALL_MINES_2022_LAYER_ID,\n            layerAttributes: { ...layerConfig },\n          })\n        );\n        cartoLayerProps.onDataLoad && cartoLayerProps.onDataLoad(data);\n      },\n      updateTriggers: {\n        ...cartoLayerProps.updateTriggers, // getting existing update triggers\n        getIconSize: selectedId,\n      },\n      visible: allMines_2022Layer.visible,\n\n      onClick: (info) => {\n        if (info?.object) {\n          setSelectedId(info.object.properties.prop_id)\n          setPopupInfo({\n            coordinates: info.object.geometry.coordinates,\n            propsObject: {\n              fields: [\n                {\n                  label: 'Property',\n                  value: info.object.properties.prop_name || NO_DATA_STR,\n                },\n                {\n                  label: 'Primary Commodity',\n                  value: info.object.properties.primary_commodity || NO_DATA_STR,\n                },\n                {\n                  label: 'Other Commodities',\n                  value: info.object.properties.commodities_list || NO_DATA_STR,\n                },\n                {\n                  label: 'Development Stage',\n                  value: info.object.properties.dev_stage || NO_DATA_STR,\n                },\n                {\n                  label: 'Stage',\n                  value: info.object.properties.stage || NO_DATA_STR,\n                },\n                {\n                  label: 'Operator',\n                  value: info.object.properties.operator_name || NO_DATA_STR,\n                },\n                {\n                  label: 'Operator HQ',\n                  value: info.object.properties.operator_hq || NO_DATA_STR,\n                },\n                {\n                  label: 'Operator Country',\n                  value: info.object.properties.operator_country || NO_DATA_STR,\n                },\n                {\n                  label: 'Owner',\n                  value: info.object.properties.owner_name || NO_DATA_STR,\n                },\n                {\n                  label: 'Owner HQ',\n                  value: info.object.properties.owner_hq || NO_DATA_STR,\n                },\n                {\n                  label: 'Owner Country',\n                  value: info.object.properties.owner_country || NO_DATA_STR,\n                },\n                {\n                  label: 'State/Province',\n                  value: info.object.properties.state_province || NO_DATA_STR,\n                },\n                {\n                  label: 'Country',\n                  value: info.object.properties.country_name || NO_DATA_STR,\n                },\n              ]\n            },\n          })\n        } else {\n            setSelectedId(null);\n        }\n      }\n    });\n  }\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'RemoveOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddOutlined');\n\nexports.default = _default;","import { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Box,\n  Divider,\n  Grid,\n  IconButton,\n  makeStyles,\n  Typography,\n} from '@material-ui/core';\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\nimport RemoveOutlinedIcon from '@material-ui/icons/RemoveOutlined';\nimport { setViewState } from '@carto/react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  zoomControl: {\n    backgroundColor: theme.palette.background.paper,\n    width: 'auto',\n  },\n}));\n\nconst MINIMUN_ZOOM_LEVEL = 0;\nconst MAXIMUM_ZOOM_LEVEL = 20;\n\nexport default function ZoomControl({ className, showCurrentZoom }) {\n  const dispatch = useDispatch();\n  const zoomLevel = useSelector((state) => Math.floor(state.carto.viewState.zoom));\n  const classes = useStyles();\n\n  const increaseZoom = useCallback(() => {\n    const nextZoom = zoomLevel + 1;\n    if (nextZoom <= MAXIMUM_ZOOM_LEVEL) {\n      dispatch(setViewState({ zoom: nextZoom }));\n    }\n  }, [dispatch, zoomLevel]);\n\n  const decreaseZoom = useCallback(() => {\n    const nextZoom = zoomLevel - 1;\n    if (nextZoom >= MINIMUN_ZOOM_LEVEL) {\n      dispatch(setViewState({ zoom: nextZoom }));\n    }\n  }, [dispatch, zoomLevel]);\n\n  return (\n    <Grid\n      container\n      direction='row'\n      alignItems='center'\n      className={`${className} ${classes.zoomControl}`}\n    >\n      <IconButton onClick={decreaseZoom} aria-label='Decrease zoom'>\n        <RemoveOutlinedIcon />\n      </IconButton>\n      <Divider orientation='vertical' flexItem />\n      {showCurrentZoom && (\n        <Box px={1} minWidth={36}>\n          <Typography\n            display='block'\n            align='center'\n            color='textSecondary'\n            variant='overline'\n          >\n            {zoomLevel}\n          </Typography>\n        </Box>\n      )}\n      <Divider orientation='vertical' flexItem />\n      <IconButton onClick={increaseZoom} aria-label='Increase zoom'>\n        <AddOutlinedIcon />\n      </IconButton>\n    </Grid>\n  );\n}\n","var _defs, _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCartoLogoMap(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"62px\",\n    height: \"24px\",\n    viewBox: \"0 0 62 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"CARTO Components/Logo/Positive/Logo\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"filter-1\"\n  }, /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    in: \"SourceGraphic\",\n    type: \"matrix\",\n    values: \"0 0 0 0 0.172549 0 0 0 0 0.188235 0 0 0 0 0.196078 0 0 0 0.600000 0\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"CARTO-Components/Logo/Positive/Logo\",\n    filter: \"url(#filter-1)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    fill: \"#162945\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.226087,24 C55.8390965,24 61.2,18.627417 61.2,12 C61.2,5.372583 55.8390965,0 49.226087,0 C42.6130774,0 37.2521739,5.372583 37.2521739,12 C37.2521739,18.627417 42.6130774,24 49.226087,24 Z\",\n    id: \"Halo\",\n    fillOpacity: 0.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.15947729,15.9877346 C5.83227729,15.9877346 6.79902534,15.2552013 7.51593962,14.260268 L5.93003832,13.1232013 C5.47382014,13.6808013 5.00673962,14.0525346 4.21378897,14.0525346 C3.14927988,14.0525346 2.39977858,13.1560013 2.39977858,12.0080013 L2.39977858,11.9861346 C2.39977858,10.8709346 3.14927988,9.95253464 4.21378897,9.95253464 C4.9415656,9.95253464 5.44123313,10.3133346 5.87572664,10.849068 L7.46162793,9.6136013 C6.788163,8.68426797 5.78882793,8.02826797 4.23551365,8.02826797 C1.93269806,8.02826797 0.238173389,9.7776013 0.238173389,12.0080013 L0.238173389,12.029868 C0.238173389,14.3149346 1.98700975,15.9877346 4.15947729,15.9877346 L4.15947729,15.9877346 Z M11.1304487,15.834668 L13.3355032,15.834668 L13.8786201,14.457068 L16.8223136,14.457068 L17.3654305,15.834668 L19.6247967,15.834668 L16.3878201,8.12666797 L14.3565629,8.12666797 L11.1304487,15.834668 Z M14.4977733,12.8061346 L15.355898,10.6413346 L16.2031604,12.8061346 L14.4977733,12.8061346 Z M23.728111,15.834668 L25.8354045,15.834668 L25.8354045,13.5168013 L26.7695655,13.5168013 L28.3011551,15.834668 L30.7234564,15.834668 L28.909446,13.1669346 C29.8544694,12.7624013 30.4736226,11.9861346 30.4736226,10.8053346 L30.4736226,10.783468 C30.4736226,10.029068 30.2455135,9.4496013 29.8001577,9.00133464 C29.2896278,8.48746797 28.4858148,8.18133464 27.3235447,8.18133464 L23.728111,8.18133464 L23.728111,15.834668 Z M25.8354045,11.8549346 L25.8354045,10.0072013 L27.2257837,10.0072013 C27.9209733,10.0072013 28.3663291,10.3133346 28.3663291,10.9256013 L28.3663291,10.947468 C28.3663291,11.505068 27.942698,11.8549346 27.236646,11.8549346 L25.8354045,11.8549346 Z M49.226087,8 C51.4304235,8 53.2173913,9.790861 53.2173913,12 C53.2173913,14.209139 51.4304235,16 49.226087,16 C47.0217504,16 45.2347826,14.209139 45.2347826,12 C45.2347826,9.790861 47.0217504,8 49.226087,8 Z M41.1486512,8.18133464 L41.1486512,10.0400013 L38.8675603,10.0400013 L38.8675603,15.834668 L36.7602667,15.834668 L36.7602667,10.0400013 L34.4900382,10.0400013 L34.4900382,8.18133464 L41.1486512,8.18133464 Z\"\n  }))))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCartoLogoMap);\nexport default __webpack_public_path__ + \"static/media/carto-logo-map.5c7c203f.svg\";\nexport { ForwardRef as ReactComponent };","import { lazy, useState } from 'react';\nimport { BASEMAPS } from '@carto/react-basemaps';\nimport ZoomControl from 'components/common/ZoomControl';\nimport { getLayers } from 'components/layers';\nimport { ReactComponent as CartoLogoMap } from 'assets/img/carto-logo-map.svg';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { FeatureSelectionWidget, LegendWidget } from '@carto/react-widgets';\nimport { Grid, Hidden } from '@material-ui/core';\n\nconst Map = lazy(() => import(/* webpackChunkName: 'map' */ 'components/common/map/Map'));\n\nconst useStyles = makeStyles((theme) => ({\n  mapWrapper: {\n    position: 'relative',\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n\n    // [theme.breakpoints.down('xs')]: {\n    //   height: `calc(100% - ${theme.spacing(12) - 1}px)`, // Minus 1 to fix that weirdly sometimes the bottom sheet is 1px lower than needed\n    // },\n\n    // Fix Mapbox attribution button not clickable\n    '& #deckgl-wrapper': {\n      '& #deckgl-overlay': {\n        zIndex: 1,\n      },\n      '& #view-default-view > div': {\n        zIndex: 'auto !important',\n      },\n    },\n  },\n  zoomControl: {\n    position: 'absolute',\n    bottom: theme.spacing(4),\n    left: theme.spacing(4),\n    zIndex: 1,\n\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  drawingTool: {\n    position: 'absolute',\n    top: theme.spacing(4),\n    left: theme.spacing(4),\n    zIndex: 1,\n\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  cartoLogoMap: {\n    position: 'absolute',\n    bottom: theme.spacing(4),\n    left: '50%',\n    transform: 'translateX(-50%)',\n  },\n  gmaps: {\n    '& $zoomControl': {\n      left: theme.spacing(4),\n      bottom: theme.spacing(5),\n    },\n  },\n  legend: {\n    position: 'absolute',\n    bottom: theme.spacing(4),\n    right: theme.spacing(4),\n\n    [theme.breakpoints.down('sm')]: {\n      bottom: theme.spacing(10),\n      right: theme.spacing(2),\n    },\n\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(18.5),\n      right: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function MapContainer() {\n  const isGmaps = useSelector((state) => BASEMAPS[state.carto.basemap].type === 'gmaps');\n  const classes = useStyles();\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [selectedId, setSelectedId] = useState(null);\n\n  const layers = getLayers(setPopupInfo, selectedId, setSelectedId);\n\n  return (\n    <Grid item className={`${classes.mapWrapper} ${isGmaps ? classes.gmaps : ''}`}>\n      <Map layers={layers} popup={popupInfo} setPopup={setPopupInfo} setSelected={setSelectedId} />\n\n      <Hidden xsDown>\n        <ZoomControl className={classes.zoomControl} showCurrentZoom />\n        <FeatureSelectionWidget className={classes.drawingTool} />\n      </Hidden>\n      {!isGmaps && <CartoLogoMap className={classes.cartoLogoMap} />}\n      <LegendWidget className={classes.legend} />\n    </Grid>\n  );\n}\n","import AllMines_2022Layer from './AllMines_2022Layer';\nimport { FeatureSelectionLayer } from '@carto/react-widgets';\n// [hygen] Import layers\n\nexport const getLayers = (setPopupInfo, selectedId, setSelectedId) => {\n  return [\n    AllMines_2022Layer(setPopupInfo, selectedId, setSelectedId),\n    FeatureSelectionLayer(),\n    // [hygen] Add layer\n  ];\n};\n"],"sourceRoot":""}