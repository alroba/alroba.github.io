{"version":3,"sources":["../../../../src/bitmap-layer/create-mesh.ts","../../../../src/bitmap-layer/bitmap-layer-fragment.ts","../../../../src/bitmap-layer/bitmap-layer.ts","../../../../src/bitmap-layer/bitmap-layer-vertex.ts","../../../../src/line-layer/line-layer.ts","../../../../src/line-layer/line-layer-vertex.glsl.ts","../../../../src/line-layer/line-layer-fragment.glsl.ts","../../../../src/great-circle-layer/great-circle-layer.ts","../../../../src/s2-layer/s2-geometry.ts","../../../../src/s2-layer/s2-utils.ts","../../../../src/s2-layer/s2-layer.ts","../../../../src/quadkey-layer/quadkey-utils.ts","../../../../src/quadkey-layer/quadkey-layer.ts","../../../../src/trips-layer/trips-layer.ts","../../../../src/h3-layers/h3-cluster-layer.ts","../../../../src/mesh-layer/mesh-layer.ts","../../../../src/mesh-layer/mesh-layer-vertex.glsl.ts","../../../../src/mesh-layer/mesh-layer-fragment.glsl.ts","../../../src/constants.ts","../../../src/type-utils.ts","../../../../../src/ellipsoid/helpers/scale-to-geodetic-surface.ts","../../../../../src/ellipsoid/helpers/ellipsoid-transform.ts","../../../../src/ellipsoid/ellipsoid.ts","../../../../src/utils/doubly-linked-list-node.ts","../../../../src/utils/doubly-linked-list.ts","../../../../src/tileset/tileset-cache.ts","../../../../../src/tileset/helpers/frame-state.ts","../../../../../src/tileset/helpers/zoom.ts","../../../../../src/tileset/helpers/bounding-volume.ts","../../../../../src/tileset/helpers/tiles-3d-lod.ts","../../../../../src/tileset/helpers/i3s-lod.ts","../../../../src/utils/managed-array.ts","../../../../../src/tileset/traversers/tileset-traverser.ts","../../../../src/tileset/tile-3d.ts","../../../../../src/tileset/helpers/3d-tiles-options.ts","../../../../../src/tileset/traversers/tileset-3d-traverser.ts","../../../../../src/tileset/traversers/i3s-pending-tiles-register.ts","../../../../../src/tileset/traversers/i3s-tile-manager.ts","../../../../../src/tileset/traversers/i3s-tileset-traverser.ts","../../../../src/tileset/tileset-3d.ts","../../../../../src/tileset/helpers/transform-utils.ts","../../../../../src/lib/utils/version.ts","../../../../src/lib/constants.ts","../../../../../../src/lib/parsers/helpers/parse-utils.ts","../../../../src/geometry/constants.ts","../../../../../src/geometry/gl/gl-type.ts","../../../../../src/lib/classes/tile-3d-feature-table.ts","../../../../../../src/lib/classes/helpers/tile-3d-accessor-utils.ts","../../../../../src/lib/classes/tile-3d-batch-table-hierarchy.ts","../../../../../src/lib/classes/tile-3d-batch-table.ts","../../../../../../src/lib/parsers/helpers/parse-3d-tile-header.ts","../../../../../../src/lib/parsers/helpers/parse-3d-tile-tables.ts","../../../../../src/geometry/colors/rgb565.ts","../../../../../../src/lib/parsers/helpers/normalize-3d-tile-colors.ts","../../../../../src/geometry/utils/assert.ts","../../../../../src/geometry/compression/attribute-compression.ts","../../../../../../src/lib/parsers/helpers/normalize-3d-tile-normals.ts","../../../../../../src/lib/parsers/helpers/normalize-3d-tile-positions.ts","../../../../../src/lib/parsers/parse-3d-tile-point-cloud.ts","../../../../../../src/lib/parsers/helpers/parse-3d-tile-gltf-view.ts","../../../../../src/lib/parsers/parse-3d-tile-batched-model.ts","../../../../../src/lib/parsers/parse-3d-tile-instanced-model.ts","../../../../../src/lib/parsers/parse-3d-tile-composite.ts","../../../../../src/lib/parsers/parse-3d-tile-gltf.ts","../../../../../src/lib/parsers/parse-3d-tile.ts","../../../../../../src/lib/parsers/helpers/parse-3d-tile-subtree.ts","../../../src/tile-3d-subtree-loader.ts","../../../../../../src/lib/parsers/helpers/parse-3d-implicit-tiles.ts","../../../../../src/lib/parsers/parse-3d-tile-header.ts","../../../src/tiles-3d-loader.ts","../../../../src/tile-3d-layer/tile-3d-layer.ts","../../../src/terrain-loader.ts","../../../../src/terrain-layer/terrain-layer.ts","../../../../src/geohash-layer/geohash-utils.ts","../../../../src/geohash-layer/geohash-layer.ts","../../../../../src/lib/binary-utils/memory-copy-utils.ts","../../../../../src/lib/binary-utils/get-first-characters.ts","../../../../src/classes/euler.ts","../../../../src/classes/pose.ts","../../../../src/geometries/truncated-cone-geometry.js","../../../../src/geometries/cone-geometry.js","../../../../src/geometries/cylinder-geometry.js","../../../../src/geometries/ico-sphere-geometry.js","../../../../src/geometries/plane-geometry.js","../../../../src/geometry/geometry-utils.js","../../../../src/geometries/sphere-geometry.js","../../../../../src/modules/project/project.js","../../../../../src/modules/dirlight/dirlight.js","../../../../src/brushing/shader-module.ts","../../../../src/brushing/brushing.ts","../../../../src/data-filter/shader-module.ts","../../../../src/data-filter/aggregator.ts","../../../../src/data-filter/data-filter.ts","../../../../src/fp64/project64.ts","../../../../src/fp64/project64.glsl.ts","../../../../src/fp64/fp64.ts","../../../../src/path-style/shaders.glsl.ts","../../../../src/path-style/path-style.ts","../../../../src/fill-style/shaders.glsl.ts","../../../../src/fill-style/fill-style.ts","../../../../src/mask/shader-module.ts","../../../../src/mask/mask.ts","../../../../../src/lib/parser-utils/parse-json.ts","../../../src/lib/geojson-edit-mode.ts","../../src/utils.ts","../node_modules/@turf/distance/dist/es/index.js","../node_modules/@turf/bearing/dist/es/index.js","../../../src/lib/immutable-feature-collection.ts","../node_modules/@turf/destination/dist/es/index.js","../../../src/lib/two-click-polygon-mode.ts","../node_modules/@turf/centroid/dist/es/index.js","../cartoReactApi/webpack/universalModuleDefinition","../cartoReactApi/node_modules/@babel/runtime/regenerator/index.js","../cartoReactApi/node_modules/regenerator-runtime/runtime.js","../cartoReactApi/external umd \"@carto/react-core\"","../cartoReactApi/external umd \"@carto/react-core/\"","../cartoReactApi/external umd \"@carto/react-redux\"","../cartoReactApi/external umd \"@carto/react-workers\"","../cartoReactApi/external umd \"@deck.gl/carto\"","../cartoReactApi/external umd \"@deck.gl/core\"","../cartoReactApi/external umd \"@deck.gl/extensions\"","../cartoReactApi/external umd \"react\"","../cartoReactApi/external umd \"react-redux\"","../cartoReactApi/webpack/bootstrap","../cartoReactApi/webpack/runtime/compat get default export","../cartoReactApi/webpack/runtime/define property getters","../cartoReactApi/webpack/runtime/global","../cartoReactApi/webpack/runtime/hasOwnProperty shorthand","../cartoReactApi/webpack/runtime/make namespace object","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../cartoReactApi/src/api/common.js","../cartoReactApi/src/api/SQL.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../cartoReactApi/src/api/lds.js","../cartoReactApi/src/api/tilejson.js","../cartoReactApi/src/api/stats.js","../cartoReactApi/src/api/model.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../cartoReactApi/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../cartoReactApi/src/hooks/utils.js","../cartoReactApi/src/hooks/useFeaturesCommons.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/worker_threads-browser.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-utils/get-loadable-worker-url.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-utils/get-transfer-list.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-thread.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-job.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-pool.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-farm.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/worker-loader-utils/parse-with-worker.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/get-worker-url.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/assert.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/normalize-loader.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/javascript-utils/is-type.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/path-utils/file-aliases.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/utils/mime-type-utils.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/utils/resource-utils.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/utils/response-utils.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js","../cartoReactApi/node_modules/@probe.gl/env/dist/esm/lib/is-browser.js","../cartoReactApi/node_modules/@probe.gl/env/dist/esm/lib/is-electron.js","../cartoReactApi/node_modules/@probe.gl/env/dist/esm/utils/globals.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/utils/local-storage.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/utils/formatters.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/utils/color.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/utils/assert.js","../cartoReactApi/node_modules/@probe.gl/env/dist/esm/lib/globals.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/utils/hi-res-timestamp.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/log.js","../cartoReactApi/node_modules/@probe.gl/log/dist/esm/utils/autobind.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/loggers.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/globals.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/option-defaults.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/option-utils.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/buffer-utils.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/array-buffer-utils.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-array-buffer-iterator.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-stream-iterator.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/get-data.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-iterator.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-string-iterator.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-blob-iterator.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/iterators/async-iteration.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/utils/log.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/api/select-loader.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/api/register-loaders.js","../cartoReactApi/node_modules/@loaders.gl/loader-utils/dist/esm/lib/path-utils/path.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","../cartoReactApi/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/loader-context.js","../cartoReactApi/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/validate-worker-version.js","../cartoReactApi/src/hooks/useTileFeatures.js","../cartoReactApi/src/hooks/dataFilterExtensionUtil.js","../cartoReactApi/src/hooks/maskExtensionUtil.js","../cartoReactApi/src/hooks/useCartoLayerProps.js","../cartoReactApi/src/hooks/useGeojsonFeatures.js","../../src/index.ts","../node_modules/@turf/clone/dist/es/index.js","../node_modules/@turf/center/dist/es/index.js","../node_modules/@turf/rhumb-destination/dist/es/index.js","../../../src/index.ts","../cartoReactWidgets/webpack/universalModuleDefinition","../cartoReactWidgets/node_modules/@babel/runtime/regenerator/index.js","../cartoReactWidgets/node_modules/hammerjs/hammer.js","../cartoReactWidgets/node_modules/prop-types/factoryWithThrowingShims.js","../cartoReactWidgets/node_modules/prop-types/index.js","../cartoReactWidgets/node_modules/prop-types/lib/ReactPropTypesSecret.js","../cartoReactWidgets/node_modules/regenerator-runtime/runtime.js","../cartoReactWidgets/external umd \"@carto/react-api\"","../cartoReactWidgets/external umd \"@carto/react-api/\"","../cartoReactWidgets/external umd \"@carto/react-basemaps/\"","../cartoReactWidgets/external umd \"@carto/react-core\"","../cartoReactWidgets/external umd \"@carto/react-core/\"","../cartoReactWidgets/external umd \"@carto/react-redux\"","../cartoReactWidgets/external umd \"@carto/react-redux/\"","../cartoReactWidgets/external umd \"@carto/react-ui\"","../cartoReactWidgets/external umd \"@carto/react-ui/\"","../cartoReactWidgets/external umd \"@carto/react-workers\"","../cartoReactWidgets/external umd \"@deck.gl/carto\"","../cartoReactWidgets/external umd \"@deck.gl/core\"","../cartoReactWidgets/external umd \"@deck.gl/layers\"","../cartoReactWidgets/external umd \"@material-ui/core\"","../cartoReactWidgets/external umd \"@material-ui/core/styles\"","../cartoReactWidgets/external umd \"@nebula.gl/edit-modes\"","../cartoReactWidgets/external umd \"@nebula.gl/layers\"","../cartoReactWidgets/external umd \"react\"","../cartoReactWidgets/external umd \"react-redux\"","../cartoReactWidgets/webpack/bootstrap","../cartoReactWidgets/webpack/runtime/compat get default export","../cartoReactWidgets/webpack/runtime/define property getters","../cartoReactWidgets/webpack/runtime/global","../cartoReactWidgets/webpack/runtime/hasOwnProperty shorthand","../cartoReactWidgets/webpack/runtime/make namespace object","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/extends.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/typeof.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../cartoReactWidgets/src/models/utils.js","../cartoReactWidgets/src/models/FormulaModel.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../cartoReactWidgets/src/models/HistogramModel.js","../cartoReactWidgets/src/models/CategoryModel.js","../cartoReactWidgets/src/models/GeocodingModel.js","../cartoReactWidgets/src/models/ScatterPlotModel.js","../cartoReactWidgets/src/models/TimeSeriesModel.js","../cartoReactWidgets/src/models/TableModel.js","../cartoReactWidgets/src/hooks/useWidgetFilterValues.js","../cartoReactWidgets/src/widgets/utils/propTypesFns.js","../cartoReactWidgets/node_modules/dequal/dist/index.mjs","../cartoReactWidgets/src/widgets/utils/constants.js","../cartoReactWidgets/src/hooks/useCustomCompareMemo.js","../cartoReactWidgets/src/hooks/useWidgetSource.js","../cartoReactWidgets/src/hooks/useWidgetFetch.js","../cartoReactWidgets/src/hooks/useCustomCompareEffect.js","../cartoReactWidgets/src/widgets/utils/defaultDroppingFeaturesAlertProps.js","../cartoReactWidgets/src/widgets/utils/WidgetWithAlert.js","../cartoReactWidgets/src/widgets/CategoryWidget.js","../cartoReactWidgets/src/widgets/FormulaWidget.js","../cartoReactWidgets/src/hooks/useGeocoderWidgetController.js","../cartoReactWidgets/src/widgets/GeocoderWidget.js","../cartoReactWidgets/src/hooks/useStats.js","../cartoReactWidgets/src/widgets/HistogramWidget.js","../cartoReactWidgets/src/widgets/PieWidget.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../cartoReactWidgets/src/widgets/LegendWidget.js","../cartoReactWidgets/src/widgets/utils/sortLayers.js","../cartoReactWidgets/src/widgets/ScatterPlotWidget.js","../cartoReactWidgets/src/widgets/TimeSeriesWidget.js","../cartoReactWidgets/src/widgets/BarWidget.js","../cartoReactWidgets/src/widgets/FeatureSelectionWidget.js","../cartoReactWidgets/src/widgets/TableWidget.js","../cartoReactWidgets/src/models/RangeModel.js","../cartoReactWidgets/src/widgets/RangeWidget.js","../cartoReactWidgets/src/hooks/useSourceFilters.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/createClass.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/get.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../cartoReactWidgets/src/layers/EditableCartoGeoJsonLayer.js","../cartoReactWidgets/node_modules/@babel/runtime/helpers/esm/inherits.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/inputs/input.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/constants.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/utils/globals.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/inputs/move-input.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/inputs/key-input.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/utils/event-utils.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","../cartoReactWidgets/node_modules/mjolnir.js/dist/esm/event-manager.js","../cartoReactWidgets/src/layers/useEventManager.js","../cartoReactWidgets/src/layers/MaskLayer.js","../cartoReactWidgets/src/layers/FeatureSelectionLayer.js","../node_modules/@turf/difference/dist/es/index.js","../node_modules/@turf/rhumb-distance/dist/es/index.js","../node_modules/viewport-mercator-project/module.js","../../../src/lib/modify-mode.ts","../node_modules/@turf/circle/dist/es/index.js","../../../src/lib/translate-mode.ts","../../../src/lib/draw-polygon-mode.ts","../../../src/layers/editable-geojson-layer.ts","../../src/constants.ts","../node_modules/@turf/point-to-line-distance/dist/es/index.js","../node_modules/@turf/nearest-point-on-line/dist/es/index.js","../../../src/lib/scale-mode.ts","../node_modules/@turf/rhumb-bearing/dist/es/index.js","../../../src/lib/rotate-mode.ts","../node_modules/@turf/transform-rotate/dist/es/index.js","../../../src/lib/composite-mode.ts","../node_modules/@turf/along/dist/es/index.js","../node_modules/@turf/ellipse/dist/es/index.js","../../../src/lib/three-click-polygon-mode.ts","../../src/memoize.ts","../../../src/layers/editable-layer.ts","../node_modules/long/dist/long.js","../../../../src/utils/matrix.ts","../../../../src/layers/path-outline-layer/path-outline-layer.ts","../node_modules/d3-geo/src/adder.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-geo/src/noop.js","../node_modules/d3-geo/src/stream.js","../node_modules/d3-geo/src/area.js","../node_modules/d3-geo/src/cartesian.js","../node_modules/d3-geo/src/bounds.js","../node_modules/d3-geo/src/centroid.js","../node_modules/d3-geo/src/compose.js","../node_modules/d3-geo/src/rotation.js","../node_modules/d3-geo/src/circle.js","../node_modules/d3-geo/src/clip/buffer.js","../node_modules/d3-geo/src/pointEqual.js","../node_modules/d3-geo/src/clip/polygon.js","../node_modules/d3-geo/node_modules/d3-array/src/ascending.js","../node_modules/d3-geo/node_modules/d3-array/src/bisect.js","../node_modules/d3-geo/node_modules/d3-array/src/bisector.js","../node_modules/d3-geo/node_modules/d3-array/src/cross.js","../node_modules/d3-geo/node_modules/d3-array/src/array.js","../node_modules/d3-geo/node_modules/d3-array/src/ticks.js","../node_modules/d3-geo/node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-geo/node_modules/d3-array/src/merge.js","../node_modules/d3-geo/node_modules/d3-array/src/zip.js","../node_modules/d3-geo/src/clip/extent.js","../node_modules/d3-geo/src/clip/line.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/src/length.js","../node_modules/d3-geo/src/interpolate.js","../node_modules/d3-geo/src/identity.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/path/bounds.js","../node_modules/d3-geo/src/path/context.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-geo/src/path/string.js","../node_modules/d3-geo/src/path/index.js","../node_modules/d3-geo/src/clip/index.js","../node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/d3-geo/src/clip/circle.js","../node_modules/d3-geo/src/transform.js","../node_modules/d3-geo/src/projection/fit.js","../node_modules/d3-geo/src/projection/resample.js","../node_modules/d3-geo/src/projection/index.js","../node_modules/d3-geo/src/projection/azimuthal.js","../node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../node_modules/d3-geo/src/projection/mercator.js","../node_modules/d3-geo/src/projection/equirectangular.js","../node_modules/d3-geo/src/projection/gnomonic.js","../node_modules/d3-geo/src/projection/naturalEarth1.js","../node_modules/d3-geo/src/projection/orthographic.js","../node_modules/d3-geo/src/projection/stereographic.js","../node_modules/d3-geo/src/projection/transverseMercator.js","../node_modules/@turf/buffer/dist/es/index.js","../../../src/draco-loader.ts","../../../../../../src/lib/schema/impl/schema.ts","../../../../../src/lib/utils/assert.ts","../../../../../../src/lib/schema/impl/field.ts","../../../../../../src/lib/schema/impl/enum.ts","../../../../../../src/lib/schema/impl/type.ts","../../../../../src/category/mesh/deduce-mesh-schema.ts","../../../../../src/lib/arrow/arrow-like-type-utils.ts","../../../../../src/lib/utils/get-draco-schema.ts","../../../../src/lib/draco-parser.ts","../../../../../src/category/mesh/mesh-utils.ts","../../../../src/lib/draco-module-loader.ts","../../../../src/scenegraph/scenegraph-node.js","../../../../src/scenegraph/group-node.js","../../../../src/gltf/gltf-animator.js","../../../../src/scenegraph/model-node.js","../../../../src/gltf/create-gltf-model.js","../../../../src/gltf/gltf-instantiator.js","../../../../src/scenegraph-layer/gltf-utils.ts","../../../../src/scenegraph-layer/scenegraph-layer.ts","../../../../src/scenegraph-layer/scenegraph-layer-vertex.glsl.ts","../../../../src/scenegraph-layer/scenegraph-layer-fragment.glsl.ts","../../../../src/gltf/create-gltf-objects.js","../../../../src/arc-layer/arc-layer.ts","../../../../src/arc-layer/arc-layer-vertex.glsl.ts","../../../../src/arc-layer/arc-layer-fragment.glsl.ts","../../../../src/point-cloud-layer/point-cloud-layer.ts","../../../../src/point-cloud-layer/point-cloud-layer-vertex.glsl.ts","../../../../src/point-cloud-layer/point-cloud-layer-fragment.glsl.ts","../../../../src/simple-mesh-layer/simple-mesh-layer.ts","../../../../src/simple-mesh-layer/simple-mesh-layer-vertex.glsl.ts","../../../../src/simple-mesh-layer/simple-mesh-layer-fragment.glsl.ts","../node_modules/@turf/union/dist/es/index.js","../../../src/lib/resize-circle-mode.ts","../node_modules/@turf/transform-translate/dist/es/index.js","../node_modules/@turf/transform-scale/dist/es/index.js","../../../src/lib/duplicate-mode.ts","../../../src/lib/extend-line-string-mode.ts","../../../src/lib/split-polygon-mode.ts","../node_modules/turf-jsts/jsts.min.js","../../../src/lib/extrude-mode.ts","../../../src/lib/elevation-mode.ts","../../../src/lib/transform-mode.ts","../../../src/lib/draw-point-mode.ts","../../../src/lib/draw-line-string-mode.ts","../../../src/lib/draw-rectangle-mode.ts","../../../src/lib/draw-square-mode.ts","../../../src/lib/draw-rectangle-from-center-mode.ts","../../../src/lib/draw-square-from-center-mode.ts","../../../src/lib/draw-circle-by-diameter-mode.ts","../../../src/lib/draw-circle-from-center-mode.ts","../../../src/lib/draw-ellipse-by-bounding-box-mode.ts","../../../src/lib/draw-ellipse-using-three-points-mode.ts","../../../src/lib/draw-rectangle-using-three-points-mode.ts","../../../src/lib/draw-90degree-polygon-mode.ts","../../../src/lib/draw-polygon-by-dragging-mode.ts","../node_modules/lodash.throttle/index.js","../../../src/lib/view-mode.ts","../../../src/lib/measure-distance-mode.ts","../node_modules/@turf/midpoint/dist/es/index.js","../../../src/lib/measure-area-mode.ts","../node_modules/@turf/area/dist/es/index.js","../../../src/lib/measure-angle-mode.ts","../../../src/lib/snappable-mode.ts","../../src/style.ts","../../../src/layers/editable-path-layer.ts","../../../src/layers/editable-h3-cluster-layer.ts","../../src/container.ts","../../src/buffer-reader.ts","../../src/util.ts","../../src/read.ts","../../../../src/gltf/gltf-material-parser.js","../../../src/layers/selection-layer.ts","../../../src/layers/elevated-edit-handle-layer.ts","../../../src/index.js","../../../../src/shaderlib/outline/outline.ts","../../../../src/layers/path-marker-layer/path-marker-layer.ts","../../../../src/layers/path-marker-layer/arrow-2d-geometry.ts","../../../../src/layers/path-marker-layer/create-path-markers.ts","../../../../src/layers/path-marker-layer/polyline.ts","../../../src/layers/junction-scatterplot-layer.ts","../node_modules/@turf/boolean-clockwise/dist/es/index.js","../node_modules/@turf/rewind/dist/es/index.js","../../../../../src/lib/library-utils/library-utils.ts","../../../../../src/lib/parsers/basis-module-loader.ts","../../../../src/lib/gl-extensions.ts","../../../../../src/lib/utils/texture-formats.ts","../../../../../src/lib/parsers/parse-ktx.ts","../../../../../src/lib/parsers/parse-basis.ts","../../../src/basis-loader.ts","../../../../../src/lib/gltf-utils/resolve-url.ts","../../../../../src/lib/gltf-utils/get-typed-array.ts","../../../../../src/lib/gltf-utils/gltf-utils.ts","../../../../../src/lib/api/gltf-scenegraph.ts","../../../../src/meshopt/meshopt-decoder.ts","../../../../../src/lib/extensions/EXT_meshopt_compression.ts","../../../../../src/lib/category-api/image-format.ts","../../../../../src/lib/extensions/EXT_texture_webp.ts","../../../../../src/lib/extensions/KHR_texture_basisu.ts","../../../../../src/lib/gltf-utils/gltf-attribute-utils.ts","../../../../../src/lib/extensions/KHR_draco_mesh_compression.ts","../../../../../../src/lib/extensions/deprecated/KHR_lights_punctual.ts","../../../../../../src/lib/extensions/deprecated/KHR_materials_unlit.ts","../../../../../../src/lib/extensions/deprecated/KHR_techniques_webgl.ts","../../../../../src/lib/api/gltf-extensions.ts","../../../../../src/lib/extensions/KHR_binary_gltf.ts","../../../../../src/lib/api/normalize-gltf-v1.ts","../../../../../src/lib/api/post-process-gltf.ts","../../../../../src/lib/parsers/parse-glb.ts","../../../../../src/lib/parsers/parse-gltf.ts","../../../src/gltf-loader.ts","../../../../../src/modules/fp64/fp64-utils.js","../../../../../src/modules/fp64/fp64.js","../../../../../src/modules/fp64/fp64-functions.glsl.js","../../../../../src/modules/fp64/fp64-arithmetic.glsl.js","../../../../../src/modules/pbr/pbr.js","../../../../../src/modules/pbr/pbr-vertex.glsl.js","../../../../../src/modules/pbr/pbr-fragment.glsl.js"],"names":["DEFAULT_INDICES","Uint16Array","DEFAULT_TEX_COORDS","Float32Array","createMesh","bounds","resolution","positions","Float64Array","i","length","vertexCount","indices","texCoords","createQuad","maxXSpan","Math","max","abs","maxYSpan","uCount","ceil","vCount","Uint32Array","vertex","index","u","ut","v","vt","p","interpolateQuad","quad","lerp","defaultProps","image","type","value","async","compare","_imageCoordinateSystem","COORDINATE_SYSTEM","DEFAULT","desaturate","min","transparentColor","tintColor","BitmapLayer","Layer","constructor","_defineProperty","getShaders","super","vs","fs","modules","project32","picking","initializeState","attributeManager","this","getAttributeManager","remove","noAlloc","add","size","isIndexed","update","attribute","state","mesh","fp64","use64bitPositions","updateState","props","oldProps","changeFlags","extensionsChanged","gl","context","model","delete","_getModel","invalidateAll","oldMesh","_createMesh","setVertexCount","key","invalidate","setState","_getCoordinateUniforms","getPickingInfo","params","info","color","bitmap","width","height","uv","fracUV","unpackUVsFromRGB","pixel","floor","disablePickingIndex","disablePicking","restorePickingColors","_updateAutoHighlight","encodePickingColor","normalizedBounds","isRectangularBounds","viewport","Model","id","geometry","Geometry","drawMode","isInstanced","draw","opts","uniforms","moduleParameters","coordinateConversion","pickingActive","setUniforms","bitmapTexture","map","x","slice","LNGLAT","CARTESIAN","imageCoordinateSystem","Error","defaultImageCoordinateSystem","bottomLeft","lngLatToWorld","topRight","Number","isFinite","getSourcePosition","sourcePosition","getTargetPosition","targetPosition","getColor","getWidth","widthUnits","widthScale","widthMinPixels","widthMaxPixels","MAX_SAFE_INTEGER","LineLayer","wrapLongitude","addInstanced","instanceSourcePositions","transition","accessor","instanceTargetPositions","instanceColors","colorFormat","normalized","defaultValue","instanceWidths","UNIT","useShortestPath","attributes","GreatCircleLayer","ArcLayer","getHeight","greatCircle","RADIAN_TO_DEGREE","PI","IJToST","ij","order","offsets","maxSize","singleSTtoUV","st","STToUV","FaceUVToXYZ","face","XYZToLngLat","y","z","lat","atan2","sqrt","rotateAndFlipQuadrant","n","point","rx","ry","getS2QuadKey","token","indexOf","paddedToken","padEnd","Long","fromString","getIdFromToken","idS","bin","toString","FACE_BITS","lsbIndex","lastIndexOf","faceB","substring","posB","levelN","faceS","posS","toHilbertQuadkey","getS2Polygon","level","pow","result","ptIndex","prevLng","offset","nextOffset","stepI","stepJ","j","lngLat","deltaLng","getGeoBounds","hilbertQuadkey","parts","split","parseInt","position","maxLevel","bit","val","t","FromHilbertQuadKey","S2Layer","GeoCellLayer","indexToBounds","data","getS2Token","_normalize","positionFormat","getPolygon","objectInfo","d","getQuadkeyPolygon","quadkey","topLeft","bottomRight","mask","scale","q","quadkeyToWorldBounds","w","worldToLngLat","e","s","QuadkeyLayer","getQuadkey","TripsLayer","PathLayer","shaders","inject","timestamps","shaderAttributes","instanceTimestamps","vertexOffset","instanceNextTimestamps","fadeTrail","trailLength","currentTime","getTimestamps","H3ClusterLayer","H3HexagonLayer","_checkH3Lib","dataChanged","updateTriggersChanged","getHexagons","polygons","iterable","createIterable","object","hexagons","multiPolygon","h3SetToMultiPolygon","polygon","push","getSubLayerRow","MeshLayer","SimpleMeshLayer","pbr","featureIds","featureIdsPickingColors","calculateFeatureIdsPickingColors","pbrMaterial","updatePbrMaterialUniforms","u_Camera","getUniforms","project_uCameraPosition","pickFeatureIds","Boolean","getModel","materialParser","parseMaterial","COLOR_0","colors","constant","defines","HAS_UV_REGIONS","uvRegions","parameters","unlit","pbrMetallicRoughness","baseColorTexture","GLTFMaterialParser","NORMAL","normals","TEXCOORD_0","material","pbrDebug","imageBasedLightingEnvironment","lights","useTangents","Uint8ClampedArray","pickingColor","finalizeState","optional","WGS84_RADIUS_X","WGS84_RADIUS_Y","WGS84_RADIUS_Z","identity","Vector3","fromCartographic","cartographic","longitude","latitude","toCartographic","vector","scratchVector","scaleToGeodeticSurfaceIntersection","scaleToGeodeticSurfaceGradient","scratchOrigin","VECTOR_PRODUCT_LOCAL_FRAME","up","south","north","west","east","down","degeneratePositionLocalFrame","scratchAxisVectors","scratchVector1","scratchVector2","scratchVector3","localFrameToFixedFrame","ellipsoid","firstAxis","secondAxis","thirdAxis","cartesianOrigin","thirdAxisInferred","firstAxisVector","secondAxisVector","thirdAxisVector","assert","origin","copy","equalsEpsilon","sign","fromArray","set","normalize","geodeticSurfaceNormal","cross","scratchNormal","scratchK","scratchPosition","scratchHeight","scratchCartesian","Ellipsoid","_MathUtils","EPSILON1","radii","radiiSquared","radiiToTheFourth","oneOverRadii","oneOverRadiiSquared","minimumRadius","maximumRadius","squaredXOverSquaredZ","Object","freeze","equals","right","cartographicToCartesian","normal","k","geodeticSurfaceNormalCartographic","gamma","dot","to","cartesianToCartographic","cartesian","from","scaleToGeodeticSurface","h","subtract","asin","vec3","config","_cartographicRadians","toDegrees","eastNorthUpToFixedFrame","Matrix4","geocentricSurfaceNormal","cartographicVectorRadians","toRadians","fromCartographicToRadians","cosLatitude","cos","sin","centerToleranceSquared","positionX","positionY","positionZ","oneOverRadiiX","oneOverRadiiY","oneOverRadiiZ","x2","y2","z2","squaredNorm","ratio","intersection","oneOverRadiiSquaredX","oneOverRadiiSquaredY","oneOverRadiiSquaredZ","gradient","xMultiplier","yMultiplier","zMultiplier","func","lambda","len","correction","xMultiplier2","yMultiplier2","zMultiplier2","EPSILON12","scaleToGeocentricSurface","beta","multiplyScalar","transformPositionToScaledSpace","transformPositionFromScaledSpace","getSurfaceNormalIntersectionWithZAxis","buffer","EPSILON15","DoublyLinkedListNode","item","previous","next","DoublyLinkedList","_length","node","tail","head","splice","nextNode","_insert","oldNodeNext","defined","undefined","TilesetCache","_list","_sentinel","_trimTiles","reset","touch","tile","_cacheNode","tileset","addCallback","unloadTile","unloadCallback","unloadTiles","trimTiles","list","maximumMemoryUsageInBytes","maximumMemoryUsage","sentinel","gpuMemoryUsageInBytes","trim","cullingVolume","CullingVolume","Plane","getFrameState","frameNumber","cameraDirection","cameraUp","metersPerUnit","distanceScales","viewportCenterCartesian","worldToCartesian","center","enuToFixedTransform","WGS84","cameraPositionCartographic","unprojectPosition","cameraPosition","cameraPositionCartesian","cameraDirectionCartesian","transformAsVector","cameraUpCartesian","frustumPlanes","getFrustumPlanes","nearCenterCommon","closestPointOnPlane","near","nearCenterCartesian","cameraCartesian","planes","fromPointNormal","dir","cartesianPos","commonSpacePlanesToWGS84","ViewportClass","bearing","zoom","camera","direction","topDownViewport","pitch","sseDenominator","plane","refPoint","out","distanceToRef","distance","cartographicPos","getZoomFromBoundingVolume","boundingVolume","cartorgraphicCenter","OrientedBoundingBox","halfAxes","obbSize","getColumn","axeY","axeZ","farthestVertex","getObbSize","log2","BoundingSphere","radius","getZoomFromFullExtent","fullExtent","cartesianCenter","extentVertex","xmax","ymax","zmax","extentSize","TILE_CONTENT_STATE","TILE_REFINEMENT","TILE_TYPE","TILESET_TYPE","LOD_METRIC_TYPE","TILE3D_OPTIMIZATION_HINT","scratchScale","scratchNorthWest","scratchSouthEast","createBoundingVolume","boundingVolumeHeader","transform","box","halfSize","quaternion","Quaternion","transformByQuaternion","toArray","xAxis","yAxis","zAxis","Matrix3","createBox","region","minHeight","maxHeight","northWest","degrees","southEast","centerInCartesian","addVectors","subVectors","createSphere","sphere","getScale","uniformScale","getDynamicScreenSpaceError","distanceToCamera","dynamicScreenSpaceError","dynamicScreenSpaceErrorComputedDensity","density","factor","dynamicScreenSpaceErrorFactor","dynamicError","scalar","exp","fog","toEye","cameraPositionEnu","extraVertexEnu","projectedOriginVector","enuToCartesianMatrix","cartesianToEnuMatrix","getProjectedRadius","frameState","mbsLat","header","mbs","mbsLon","mbsZ","mbsR","mbsCenterCartesian","invert","projection","extraZ","extraVectorCartesian","sphereMbsBorderVertexCartesian","sphereMbsBorderVertexCartographic","projectedOrigin","project","projectedMbsBorderVertex","magnitude","ManagedArray","Map","_array","Array","values","get","element","_map","has","peek","pop","reserve","resize","find","target","DEFAULT_PROPS","loadSiblings","skipLevelOfDetail","maximumScreenSpaceError","updateTransforms","onTraversalEnd","viewportTraversersMap","basePath","TilesetTraverser","traversalFinished","options","Date","getTime","_traversalStack","_emptyTraversalStack","_frameNumber","root","selectedTiles","requestedTiles","emptyTiles","traverse","updateTile","executeTraversal","stack","_selectionDepth","shouldRefine","canTraverse","updateChildTiles","updateAndPushChildren","hasRenderContent","parent","parentRefines","_shouldRefine","stoppedRefining","refine","loadTile","selectTile","touchTile","newTime","lastUpdate","updateDebounceTime","children","child","depth","sort","compareDistanceToCamera","bind","checkRefines","hasVisibleChild","refines","isVisibleAndInRequestVolume","childRefines","_inRequestVolume","contentAvailable","executeEmptyTraversal","updateTileVisibility","shouldSelectTile","_selectedFrame","shouldLoadTile","_requestedFrame","_priority","_getPriority","_cache","_touchedFrame","useParentMetric","ignoreVisibility","hasChildren","hasTilesetContent","contentExpired","hasUnloadedContent","screenSpaceError","_screenSpaceError","getScreenSpaceError","viewportIds","updateVisibility","b","a","_distanceToCamera","anyChildrenVisible","anyVisible","allDescendantsLoaded","TileHeader","parentHeader","extendedId","url","_getRefine","contentUrl","lodMetricType","lodMetricValue","content","contentState","hasEmptyContent","userData","extensions","_visitedFrame","traverser","_centerZDepth","_visible","_stackLength","_initialTransform","_initializeLodMetric","_initializeTransforms","_initializeBoundingVolumes","_initializeContent","_initializeRenderingState","_lodJudge","_expireDate","_expiredContent","seal","destroy","isDestroyed","selected","isVisible","contentReady","contentFailed","contentUnloaded","useParentLodMetric","parentLodMetricValue","viewDistanceScale","error","getTiles3DScreenSpaceError","unselect","_traverser","maySkipTile","rootScreenSpaceError","requestToken","_requestScheduler","scheduleRequest","getTileUrl","loader","loadOptions","isTileset","_getLoaderSpecificOptions","load","contentLoader","_isTileset","_initializeTileHeaders","_onContentLoaded","done","unloadContent","parentVisibilityPlaneMask","_visibilityPlaneMask","MASK_INDETERMINATE","parentTransform","computedTransform","modelMatrix","_updateTransform","distanceToTile","visibility","MASK_OUTSIDE","insideViewerRequestVolume","computeVisibilityWithPlaneMask","contentVisibility","distanceSquaredTo","cameraSpaceZDepth","viewerRequestVolume","_viewerRequestVolume","updateExpiration","now","lessThan","extras","console","warn","tileHeader","clone","multiplyRight","parentInitialTransform","_contentBoundingVolume","_updateBoundingVolume","_tileset","_tile","disableSkipLevelOfDetail","loaderId","i3s","isTileHeader","assetGltfUpAxis","asset","gltfUpAxis","Tileset3DTraverser","firstChild","meetsScreenSpaceErrorEarly","replace","useOptimization","_optimChildrenWithinParent","I3SPendingTilesRegister","register","viewportId","viewportMap","frameNumberMap","oldCount","deregister","isZero","STATUS","I3STileManager","_statusMap","request","callback","status","pendingTilesRegister","then","actualFrameNumber","catch","newFrameNumber","newViewportId","hasPendingTiles","I3STilesetTraverser","_tileManager","isNaN","screenSize","getLodStatus","childTiles","childTile","_loadTile","nodePages","nodePagesTile","formTileFromNodePages","_onTileLoad","nodeId","nodeUrl","loadContent","description","throttleRequests","maxRequests","maximumTilesSelected","debounceTime","onTileLoad","onTileUnload","onTileError","onTraversalComplete","loadTiles","fetch","attributions","TILES_TOTAL","TILES_IN_MEMORY","TILES_IN_VIEW","TILES_RENDERABLE","TILES_LOADED","TILES_LOADING","TILES_UNLOADED","TILES_LOAD_FAILED","POINTS_COUNT","TILES_GPU_MEMORY","Tileset3D","json","path","dirname","roots","cartographicCenter","traverseCounter","geometricError","_initializeTraverser","RequestScheduler","_pendingCount","_tiles","_emptyTiles","_requestedTiles","frameStateData","lastUpdatedVieports","_queryParams","_queryParamsString","stats","Stats","_initializeStats","_extensionsUsed","credits","tilesetInitializationPromise","_initializeTileSet","_destroy","isLoaded","tiles","queryParams","queryParamStrings","keys","join","getQueryParamString","setProps","setOptions","tilePath","startsWith","hasExtension","extensionName","viewports","doUpdate","updatePromise","Promise","resolve","setTimeout","preparedViewports","viewportsToTraverse","_needTraverse","includes","traverserId","_onTraversalEnd","currentFrameStateData","filteredSelectedTiles","unselectedTiles","tuples","viewportLongitude","viewportLatitude","entries","deltaLon","deltaLat","tuplesSorted","limitSelectedTiles","_updateTiles","frameStateKey","frameStateDataValue","concat","_loadTiles","_unloadTiles","_updateStats","_tilesChanged","oldSelectedTiles","set1","Set","set2","changed","filter","_unloadTile","tilesRenderable","pointsRenderable","pointCount","count","tilesetJson","calculateViewPropsI3S","_initializeTiles3DTileset","calculateViewPropsTiles3D","_initializeI3STileset","xmin","ymin","zmin","extent","store","_this$tileset$store","getZoomFromExtent","parentTileHeader","rootTile","Tile3D","incrementCount","childHeader","TraverserClass","I3SetTraverser","_destroyTileHeaders","parentTile","_destroySubtree","loaded","_onStartTileLoading","_onTileLoadError","_onEndTileLoading","message","nodesInNodePages","addCount","rtcCenter","translate","rotationY","rotateX","rotationX","rotateY","isQuantized","quantizedVolumeOffset","quantizedVolumeScale","cartesianModelMatrix","cartographicOrigin","toFixedFrameMatrix","cartographicModelMatrix","coordinateSystem","calculateTransformProps","_addTileToCache","decrementCount","_updateCacheStats","byteLength","_destroyTile","version","tilesetVersion","properties","extensionsUsed","VERSION","TILE3D_TYPE","COMPOSITE","POINT_CLOUD","BATCHED_3D_MODEL","INSTANCED_3D_MODEL","GEOMETRY","VECTOR","GLTF","getStringFromArrayBuffer","arrayBuffer","byteOffset","ArrayBuffer","textDecoder","TextDecoder","typedArray","Uint8Array","decode","getMagicString","dataView","DataView","String","fromCharCode","getUint8","GL_TYPE","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","DOUBLE","GL","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","GL_TYPE_TO_ARRAY_TYPE","Int8Array","Int16Array","Int32Array","NAME_TO_GL_TYPE","ERR_TYPE_CONVERSION","GLType","arrayOrType","isView","glType","name","UNSIGNED_SHORT_5_6_5","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","ArrayType","getArrayType","BYTES_PER_ELEMENT","getByteSize","Tile3DFeatureTable","featureTableJson","featureTableBinary","getExtension","hasProperty","propertyName","getGlobalProperty","componentType","componentLength","jsonValue","_getTypedArrayFromBinary","getPropertyArray","fromName","featuresLength","_getTypedArrayFromArray","getProperty","featureId","cachedTypedArrays","_cachedTypedArrays","createTypedArray","array","COMPONENTS_PER_ATTRIBUTE","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","UNPACKER","PACKER","initializeHierarchy","batchTable","jsonHeader","binaryBody","hierarchy","legacyHierarchy","HIERARCHY","hierarchyJson","classId","binaryAccessor","instancesLength","classes","parentIndexes","classIds","parentCounts","parentIds","parentIdsLength","AttributeType","getBinaryAccessor","createArrayBufferView","classesLength","classInstancesLength","instances","binaryProperties","getBinaryProperties","combine","classCounts","fill","classIndexes","validateInstance","validateHierarchy","initializeHierarchyValues","traverseHierarchy","instanceIndex","endConditionCallback","visited","scratchVisited","visitedMarker","marker","scratchStack","parentCount","parentIndex","parentId","traverseHierarchyMultipleParents","hasParent","traverseHierarchySingleParent","IGNORED_PROPERTY_FIELDS","Tile3DBatchTableParser","binary","featureCount","_extensions","_properties","_binaryProperties","_initializeBinaryProperties","_hierarchy","memorySizeInBytes","isClass","batchId","className","_checkBatchId","isExactClass","getExactClassName","_hasPropertyInHierarchy","getPropertyNames","results","propertyNames","_getPropertyNamesInHierarchy","binaryProperty","_getBinaryProperty","propertyValues","hierarchyProperty","_getHierarchyProperty","setProperty","_setBinaryProperty","_setHierarchyProperty","unpack","pack","property","_initializeBinaryProperty","tile3DAccessor","unpacker","packer","createTypedArrayFromAccessor","componentCount","hasOwnProperty","instanceClass","indexInClass","parse3DTileHeaderSync","view","magic","getUint32","DEPRECATION_WARNING","parse3DTileTablesHeaderSync","batchLength","featureTableJsonByteLength","featureTableBinaryByteLength","batchTableJsonByteLength","batchTableBinaryByteLength","SIZEOF_UINT32","parse3DTileTablesSync","BATCH_LENGTH","featureTableString","JSON","parse","parse3DTileFeatureTable","batchTableString","batchTableJson","batchTableBinary","parse3DTileBatchTable","decodeRGB565","rgb565","r5","g6","b5","normalize3DTileColorAttribute","batchIds","isRGB565","colorArray","condition","Vector2","fromSNorm","rangeMaximum","clamp","signNotZero","octDecodeInRange","rangeMax","oldVX","octDecode","normalize3DTilePositionAttribute","decodeQuantizedPositions","decodedArray","quantizedRange","multiply","parsePointCloud3DTile","isTranslucent","isOctEncoded16P","initializeTile","featureTable","pointsLength","batchFeatureLength","Tile3DBatchTable","parseBatchIds","parsePointCloudTables","dracoBuffer","dracoFeatureTableProperties","dracoBatchTableProperties","batchTableDraco","featureTableDraco","dracoByteOffset","dracoByteLength","hasPositions","POSITION","hasColors","RGB","RGBA","hasNormals","hasBatchIds","BATCH_ID","dracoData","featureTableProperties","batchTableProperties","dequantizeInShader","dracoOptions","draco","extraAttributes","DracoLoader","decodedPositions","decodedColors","decodedNormals","decodedBatchIds","isQuantizedDraco","quantization","isOctEncodedDraco","range","minValues","quantizationBits","octEncodedRange","batchTableAttributes","attributeName","toLowerCase","loadDraco","parseDraco","parsePositions","constantRGBA","parseColors","normalize3DTileNormalAttribute","parseNormals","GLTF_FORMAT","parse3DTileGLTFViewSync","rotateYtoZ","gltfByteLength","gltfArrayBuffer","sliceArrayBuffer","gltfByteOffset","extractGLTF","gltfFormat","tile3DOptions","gltfUrlBytes","gltfUrl","extractGLTFBufferOrURL","loadGLTF","gltf","GLTFLoader","parseBatchedModel3DTile","parseBatchedModel","_tile$gltf","CESIUM_RTC","parseInstancedModel3DTile","eastNorthUp","_batchTable","collectionOptions","instancePosition","instanceNormalRight","instanceNormalUp","instanceNormalForward","instanceRotation","instanceQuaternion","instanceScale","instanceTranslationRotationScale","instanceTransform","scratch1","scratch2","MAX_UNSIGNED_SHORT","translation","normalUp","normalRight","hasCustomOrientation","octNormalUp","octNormalRight","getRotationMatrix3","setColumn","fromMatrix3","rotation","multiplyByScalar","nonUniformScale","rotationMatrix","fromQuaternion","extractInstancedAttributes","parseInstancedModel","parseComposite3DTile","parse3DTile","tilesLength","subtile","parseGltf3DTile","getExplicitBitstream","subtree","internalBinaryBuffer","bufferViewIndex","bufferView","bufferViews","buffers","uri","response","fetchFile","parseUint64Value","Tile3DSubtreeLoader","module","mimeTypes","tests","jsonByteLength","stringAttribute","string","binaryByteLength","tileAvailability","explicitBitstream","contentAvailability","childSubtreeAvailability","SUBDIVISION_COUNT_MAP","QUADTREE","OCTREE","parseImplicitTiles","parentData","mortonIndex","childIndex","globalData","subdivisionScheme","subtreeLevels","maximumLevel","contentUrlTemplate","subtreesUriTemplate","childrenPerTile","childX","childY","childZ","levelOffset","childTileMortonIndex","concatBits","tileAvailabilityIndex","childTileX","childTileY","childTileZ","isChildSubtreeAvailable","getAvailabilityResult","lev","childSubtreeUrl","replaceContentUrlTemplate","childTileLevel","pData","currentTile","formattedTile","formatTileData","availabilityData","availabilityIndex","availabilityBuffer","byteIndex","bitIndex","getBooleanValueFromBitstream","childCoordinates","getRefine","getTileType","rootLodMetricValue","rootBoundingVolume","minimumHeight","maximumHeight","boundingVolumesCount","sizeX","sizeY","sizeZ","childWest","childEast","childSouth","childNorth","childMinimumHeight","childMaximumHeight","calculateBoundingVolumeForChildTile","first","second","templateUrl","mapUrl","items","generateMapUrl","matched","fileExtension","resolveUri","test","URL","decodeURI","normalizeTileData","contentUri","transformMatrix","normalizeImplicitTileHeaders","implicitTilingExtension","subtrees","rootSubtreeUrl","rootSubtree","normalizeImplicitTileData","IMPLICIT_TILING_EXTENSION_NAME","Tiles3DLoader","loaderOptions","getBaseUri","extensionsRequired","_tilesetJson$extensio2","hasImplicitTilingExtension","normalizeTileHeaders","parseTileset","parseTile","SINGLE_DATA","getPointColor","pointSize","onTilesetLoad","tileset3d","_getMeshColor","Tile3DLayer","CompositeLayer","log","removed","layerMap","activeViewports","lastUpdatedViewports","shouldUpdateState","somethingChanged","_loadTileset","viewportChanged","_updateTileset","propsChanged","needsUpdate","activateViewport","internalState","lastViewport","setChangeFlags","setNeedsUpdate","sourceLayer","layerId","substr","tileId","filterSubLayer","layer","updateAutoHighlight","tilesetUrl","loaders","isArray","preload","preloadOptions","headers","assign","_onTileUnload","timeline","viewportsNumber","selectTiles","_getSubLayer","oldLayer","_makePointCloudLayer","_make3DModelLayer","_makeSimpleMeshLayer","getSubLayerClass","PointCloudLayer","getSubLayerProps","METER_OFFSETS","coordinateOrigin","_offset","ScenegraphLayer","_lighting","scenegraph","getTransformMatrix","instance","getPosition","getMeshGeometry","renderLayers","layerCache","contentAttributes","TerrainLoader","worker","terrain","tesselator","meshMaxError","elevationDecoder","rScaler","gScaler","bScaler","skirtHeight","DUMMY_DATA","TileLayer","elevationData","urlType","texture","workerUrl","wireframe","TerrainWorkerLoader","urlTemplateToUpdateTrigger","template","TerrainLayer","elevationDataChanged","isTiled","shouldReload","loadTerrain","signal","getLoadOptions","_loadOptions","propName","getTiledTerrainData","dataUrl","getURLFromTemplate","textureUrl","isGeospatial","bbox","projectFlat","left","bottom","top","surface","_","all","renderSubLayers","SubLayerClass","_instanced","onViewportLoad","zRange","ranges","arr","boundingBox","bound","minZ","maxZ","tileSize","maxZoom","minZoom","maxCacheSize","maxCacheByteSize","refinementStrategy","getTileData","updateTriggers","BASE32_CODES","BASE32_CODES_DICT","charAt","getGeohashPolygon","geohash","mid","isLon","maxLat","minLat","maxLon","minLon","hashValue","l","code","bits","getGeohashBounds","GeohashLayer","getGeohash","padToNBytes","padding","copyToArray","source","targetOffset","sourceArray","srcByteOffset","srcByteLength","getFirstCharacters","ERR_UNKNOWN_ORDER","ALMOST_ONE","RotationOrder","Euler","MathArray","ZYX","YXZ","XZY","ZXY","YZX","XYZ","RollPitchYaw","DefaultOrder","RotationOrders","ELEMENTS","arguments","fromVector3","ysqr","t0","t1","t2","t3","t4","roll","yaw","fromObject","check","validate","toArray4","toVector3","checkNumber","alpha","phi","theta","psi","checkOrder","fromRollPitchYaw","fromRotationMatrix","m","_fromRotationMatrix","getRotationMatrix","_getRotationMatrix","getQuaternion","rotateZ","m11","m12","m13","m21","m22","m23","m31","m32","m33","te","c","f","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","toQuaternion","cy","sy","cr","sr","cp","sp","Pose","orientation","getOrientation","pose","exactEquals","getTransformationMatrix","sw","cw","setRowMajor","getTransformationMatrixFromPose","getTransformationMatrixToPose","INDEX_OFFSETS","TruncatedConeGeometry","uid","bottomRadius","topRadius","nradial","nvertical","verticalAxis","topCap","bottomCap","extra","numVertices","slant","msin","mcos","mpi","cosSlant","sinSlant","start","end","vertsAroundEdge","indexOffset","i3","i2","ringRadius","tesselateTruncatedCone","ConeGeometry","cap","CylinderGeometry","ICO_POSITIONS","ICO_INDICES","IcoSphereGeometry","iterations","PI2","getMiddlePoint","pointMemo","i1","maxi","x1","y1","z1","xm","ym","zm","indices2","in1","in2","in3","iu1","iu2","iu3","v1","acos","u1","v2","u2","x3","y3","z3","v3","u3","vec1","vec2","newIndex","tesselateIcosaHedron","PlaneGeometry","flipCull","coords","c1len","c2len","subdivisions1","subdivisions2","numVertsAcross","unpackedAttributes","unpackedValue","unpackIndexedGeometry","tesselatePlane","SphereGeometry","nlat","nlong","startLat","latRange","startLong","longRange","n1","n2","n3","sinTheta","cosTheta","sinPhi","ux","uy","uz","r","numVertsAround","tesselateSphere","IDENTITY_MATRIX","DEFAULT_MODULE_OPTIONS","viewMatrix","projectionMatrix","cameraPositionWorld","common","viewProjectionMatrix","lightDirection","dirlight","dirlight_uLightDirection","dependencies","TARGET","custom","source_target","brushingEnabled","brushingRadius","brushingTarget","mousePosition","brushing_enabled","containsPixel","brushing_radius","brushing_target","brushing_mousePos","unproject","BrushingExtension","LayerExtension","shaderModule","extension","brushingTargets","getBrushingTarget","useConstantTargetPositions","divisor","instanceBrushingTargets","onMouseMove","getCurrentLayer","setNeedsRedraw","deck","eventManager","on","pointermove","pointerleave","off","filterRange","filterEnabled","filterTransformSize","filterTransformColor","filterSoftRange","filter_min","filter_softMin","filter_softMax","filter_max","filter_enabled","filter_useSoftMargin","filter_transformSize","filter_transformColor","shaderModule64","min64High","fround","filter_min64High","max64High","filter_max64High","blend","blendFunc","blendEquation","depthTest","DATA_TYPE_FROM_SIZE","DataFilterExtension","filterSize","countItems","DATAFILTER_TYPE","DATAFILTER_DOUBLE","filterValues","instanceFilterValues","useFloatTarget","aggregator","filterIndices","__source","filterPrevIndices","filterFBO","Framebuffer","attachments","Texture2D","format","isWebGL2","mipmaps","filterModel","shaderOptions","NON_INSTANCED_MODEL","FLOAT_TARGET","call","filterNeedsUpdate","onFilteredItemsChange","getNumInstances","clear","framebuffer","updateModuleSettings","setAttributes","getShaderAttributes","readPixelsToArray","getFilterValue","fp64ify","fp64ifyMatrix4","getMemoizedUniforms","memoize","glViewProjectionMatrixFP64","scaleFP64","project_uViewProjectionMatrixFP64","project64_uViewProjectionMatrix","project64_uScale","Fp64Extension","project64","dashShaders","offsetShaders","PathStyleExtension","dash","highPrecisionDash","isEnabled","mergeShaders","instanceDashArrays","instanceDashOffsets","getDashOffsets","instanceOffsets","dashAlignMode","dashJustified","dashGapPickable","positionSize","isNested","geometrySize","prevP","projectPosition","dist","getDashArray","getOffset","patternShaders","fillPatternTexture","fill_patternTexture","fill_patternTextureSize","fillPatternMask","fillPatternEnabled","project_uCoordinateOrigin","coordinateOriginCommon","coordinateOriginCommon64Low","fp64LowPart","fill_uvCoordinateOrigin","fill_uvCoordinateOrigin64Low","fill_patternMask","fill_patternEnabled","DEFAULT_TEXTURE_PARAMETERS","FillStyleExtension","pattern","fillPatternFrames","getPatternFrame","instanceFillPatternFrames","fillPatternScales","instanceFillPatternScales","fillPatternOffsets","instanceFillPatternOffsets","emptyTexture","fillPatternAtlas","loadPatternAtlas","fillPatternMapping","loadPatternMapping","patternTexture","setModuleParameters","patternMapping","def","getFillPattern","getFillPatternScale","getFillPatternOffset","mask_texture","maskMap","MaskExtension","maskByInstance","mask_maskByInstance","maskId","maskChannels","fromCoordinateOrigin","fromCoordinateSystem","mask_enabled","mask_channel","bl","tr","mask_bounds","parseJSON","position1","position2","DEFAULT_GUIDES","features","DEFAULT_TOOLTIPS","GeoJsonEditMode","selectedIndexes","feature","getSelectedFeature","selectedIndex","_clickSequence","mapCoords","getGuides","guideType","picks","pickedFeatures","getNonGuidePicks","pickedHandles","getPickedEditHandles","featureIndex","pickedIndexes","some","featureOrGeometry","featureOrGeometryAsAny","rewindFeature","rewindPolygon","updatedData","ImmutableFeatureCollection","addFeature","getObject","editType","editContext","featureIndexes","_step","featuresToAdd","initialIndex","updatedIndexes","geometryAsAny","_iterator","selectedFeature","modeConfig","booleanOperation","updatedGeometry","replaceGeometry","getAddFeatureAction","event","tentativeFeature","createTentativeFeature","onEdit","resetClickSequence","defaultColor","recursivelyTraverseNestedArrays","prefix","fn","p1","p2","lineString","coordinates","pt","ddistance","lineBearing","orthogonalBearing","p3","p4","line","inPoint","wmViewport","WebMercatorViewport","projectedCoords","_ref2$","_wmViewport$project2","minDistance","Infinity","minPointInfo","forEach","A","B","C","div","x0","y0","_projectedCoords2$","_projectedCoords$inde2","lineLength","distance2d","startToPointLength","z0","mix","lines","mercator","closestPoint","_lines$geometry","minDist","segmentIdx","pointCoords","lineCoordinates","pointCoordinate","lineCoordinate","slope","inverseSlope","rl2","ln2","lnm12","dist2","calcrl2","dx","dy","snapPoint","idx","pixelToLatLong","handles","handle","editHandleType","pick","isGuide","positionIndexes","getEditHandlesForCoordinates","editHandleIndex","points","p0","coord","positionIndexPrefix","editHandles","coordinates1","getCoord","coordinates2","dLat","degreesToRadians","dLon","lat1","lat2","radiansToLength","units","final","bear","calculateFinalBearing","lon1","lon2","radiansToDegrees","featureCollection","_classCallCheck","updatedPosition","isPolygonal","immutablyReplacePosition","immutablyRemovePosition","holeIndex","removeHoleIfNecessary","prunePolygonIfNecessary","lineStringIndex","pruneMultiLineStringIfNecessary","polygonIndex","pruneMultiPolygonIfNecessary","pruneGeometryIfNecessary","positionToAdd","immutablyAddPosition","updatedFeature","addFeatures","deleteFeatures","getUpdatedPosition","previousPosition","elevation","updated","destination","longitude1","latitude1","bearingRad","radians","lengthToRadians","latitude2","longitude2","lng","TwoClickPolygonMode","dragToDraw","addClickSequence","checkAndFinishPolygon","cancelPan","clickSequence","getClickSequence","getTentativeGuide","shape","editAction","getAddFeatureOrBooleanPolygonAction","lastPointerMoveEvent","guides","corner1","corner2","getTwoClickPolygon","coord1","coord2","onUpdateCursor","_get","lastCoords","centroid","geojson","xSum","ySum","coordEach","__WEBPACK_EXTERNAL_MODULE__485__","__WEBPACK_EXTERNAL_MODULE__332__","__WEBPACK_EXTERNAL_MODULE__38__","__WEBPACK_EXTERNAL_MODULE__156__","__WEBPACK_EXTERNAL_MODULE__756__","__WEBPACK_EXTERNAL_MODULE__347__","__WEBPACK_EXTERNAL_MODULE__116__","__WEBPACK_EXTERNAL_MODULE__946__","__WEBPACK_EXTERNAL_MODULE__487__","self","exports","require","runtime","Op","prototype","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","reject","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","return","TypeError","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","iter","reverse","skipTempReset","prev","stop","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","default","definition","o","g","window","prop","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","_slicedToArray","_i","_s","_e","_arr","_n","_d","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","apply","dealWithApiError","InvalidColumnError","column_name","stringify","hint","checkCredentials","credentials","apiBaseUrl","accessToken","makeCall","Authorization","abortController","otherOptions","ok","CLIENT","executeSQL","query","connection","queryParameters","createRequest","apiVersion","API_VERSIONS","rows","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","rawParams","O","client","access_token","api_key","apiKey","requestOpts","getUrl","generateApiUrl","encodeParameter","REQUEST_GET_MAX_URL_LENGTH","getRequest","postUrl","postRequest","serverUrlTemplate","username","endsWith","ldsGeocode","address","country","limit","searchParams","getTileJson","MAP_TYPES","fetchLayerData","FORMATS","clientId","getStats","column","tileJson","tileStatsAttributes","tilestats","layers","columnStats","buildUrl","isQuery","AVAILABLE_MODELS","executeModel","filters","filtersLogicalOperator","isGet","URLSearchParams","body","_toConsumableArray","throwError","useFeaturesCommons","dispatch","useDispatch","useState","isDataLoaded","setDataLoaded","debounceIdRef","useRef","useEffect","clearDebounce","useCallback","current","clearTimeout","stopAnyCompute","sourceId","setSourceFeaturesReady","ready","setFeaturesReady","document","isBrowser","process","browser","isMobile","matches","exec","parseFloat","Y","workerURLCache","getLoadableWorkerURLFromSource","workerSource","blob","Blob","createObjectURL","getTransferList","transfers","recursive","transfersSet","isTransferable","MessagePort","ImageBitmap","OffscreenCanvas","NOOP","WorkerThread","static","Worker","onMessage","onError","_createBrowserWorker","_createNodeWorker","terminate","terminated","isRunning","postMessage","transferList","_getErrorFromErrorEvent","lineno","colno","_loadableURL","workerURL","onmessage","onerror","onmessageerror","eval","WorkerJob","jobName","workerThread","_resolve","_reject","payload","WorkerPool","isSupported","idleQueue","maxConcurrency","maxMobileConcurrency","reuseWorkers","onDebug","job","startPromise","onStart","jobQueue","_startQueuedJob","_getAvailableWorker","queuedJob","shift","backlog","returnWorkerToQueue","_getMaxConcurrency","WorkerFarm","_workerFarm","workerPools","workerPool","_getWorkerPoolProps","getWorkerPool","parseWithWorker","parseOnMainThread","workerOptions","workerFile","_workerType","versionTag","getWorkerFarm","startJob","input","isLoaderObject","_loader","ue","_loader2","_loader3","parseTextSync","parseText","text","isFunction","isObject","isPureObject","pe","Response","he","ye","ReadableStream","tee","cancel","getReader","read","pipe","readable","fileAliases","DATA_URL_PATTERN","MIME_TYPE_PATTERN","parseMIMEType","mimeString","parseMIMETypeFromURL","QUERY_STRING_PATTERN","getResourceUrlAndType","resource","stripQueryString","xe","contentLength","initialDataUrl","blobSlice","reader","FileReader","onload","_event$target","readAsDataURL","base64","bytes","btoa","TextEncoder","encode","filename","alias","replacement","fetchOptions","Pe","mockUserAgent","versions","electron","realUserAgent","navigator","userAgent","isElectron","Se","__VERSION__","LocalStorage","defaultSettings","storage","setItem","removeItem","_loadConfiguration","getConfiguration","setConfiguration","configuration","updateConfiguration","serialized","serializedConfiguration","getItem","formatImage","maxWidth","imageUrl","src","style","COLOR","toUpperCase","WHITE","Ie","BLACK","RED","GREEN","YELLOW","BLUE","MAGENTA","CYAN","BRIGHT_BLACK","BRIGHT_RED","BRIGHT_GREEN","BRIGHT_YELLOW","BRIGHT_BLUE","BRIGHT_MAGENTA","BRIGHT_CYAN","BRIGHT_WHITE","Re","global","Ce","process_","getHiResTimestamp","timestamp","_window$performance","_window$performance$n","Me","_process$hrtime","timeParts","originalConsole","debug","DEFAULT_SETTINGS","enabled","noop","cache","ONCE","once","Log","_storage","timeStamp","predefined","proto","propNames","getOwnPropertyNames","newLevel","setLevel","getLevel","getTotal","_startTs","toPrecision","getDelta","_deltaTs","priority","newPriority","getPriority","enable","setting","settings","table","_getLogFunction","deprecated","oldUsage","newUsage","probe","logLevel","time","_len","_key","columns","tag","getTableHeader","_ref","_shouldLog","_ref3","img","Image","nodeName","toDataURL","_ref2","asciify","fit","round","timeEnd","group","collapsed","normalizeArguments","groupCollapsed","groupEnd","withGroup","trace","normalizeLogLevel","total","delta","padLength","repeat","ms","formatted","toFixed","background","resolvedLevel","unshift","messageType","title","probeLog","NullLog","Ye","ze","DEFAULT_LOADER_OPTIONS","mimeType","nothrow","CDN","_nodeWorkers","_limitMB","batchSize","batchDebounceMs","metadata","transforms","REMOVED_LOADER_OPTIONS","throws","dataType","mode","redirect","referrer","referrerPolicy","integrity","keepalive","Xe","_state","getGlobalLoaderOptions","globalOptions","normalizeOptions","validateOptionsObject","idOptions","deprecatedOptions","mergedOptions","baseUri","mergeNestedFields","getFetchFunction","defaultOptions","loaderName","isSubOptions","isBaseUriOption","isWorkerUrlOption","suggestion","findSimilarOption","optionKey","lowerCaseOptionKey","bestSuggestion","lowerCaseKey","it","isBuffer","toArrayBuffer","_toArrayBuffer","at","makeStreamIterator","stream","nextBatchPromise","currentBatchPromise","_streamReadAhead","releaseLock","chunk","ERR_DATA","getArrayBufferOrStringFromData","isArrayBuffer","contentType","statusText","chunkSize","textEncoder","chunkLength","chunkByteLength","arrayBuffers","sources","sourceArrays","source2","reduce","EXT_PATTERN","selectLoaderSync","validHTTPResponse","candidateLoaders","ignoreRegisteredLoaders","loaderRegistry","testUrl","reason","findLoaderByMIMEType","match","loaderExtension","testDataAgainstText","testDataAgainstBinary","fallbackMimeType","getNoValidLoaderMessage","slashIndex","firstCharacters","testText","arrayBuffer1","arrayBuffer2","array1","array2","contextLoaders","previousContext","resolvedContext","redirected","fromEntries","parseSync","customFetch","isDroppingFeatures","xt","dataFilterExtension","getFiltersByType","filtersWithoutTimeType","timeFilter","columnData","typeData","_FilterTypes","getFilterRange","getUpdateTriggers","jt","featureFilter","_buildFeatureFilter","getDataFilterExtensionProps","maskExtension","useCartoLayerProps","maskPolygon","layerConfig","uniqueIdProperty","viewportFeatures","viewporFeaturesDebounceTimeout","useSelector","carto","spatialFilter","selectSpatialFilter","debounceTimeout","isGeoJsonLoaded","setGeoJsonLoaded","computeFeatures","executeTask","Methods","debouncedComputeFeatures","debounce","onDataLoadForGeojson","isTilesetLoaded","setTilesetLoaded","tileFormat","setTileFormat","spatialIndex","setSpatialIndex","geoColumName","setGeoColumName","finally","cleanedTiles","acc","setIsDroppingFeatures","debouncedLoadTiles","scheme","tilesFormat","TILE_FORMATS","geoColum","SpatialIndex","onDataLoadForTile","onDataLoad","tilejson","Bt","dataFilterExtensionProps","maskExtensionProps","MASK_ID","visible","opacity","cloneFeature","cloned","cloneProperties","cloneGeometry","geom","geometries","deepSlice","cloneFeatureCollection","ext","rhumbDestination","wasNegativeDistance","distanceInMeters","convertLength","earthRadius","lambda1","phi1","DeltaPhi","phi2","DeltaPsi","tan","DeltaLambda","calculateRhumbDestination","__WEBPACK_EXTERNAL_MODULE__214__","__WEBPACK_EXTERNAL_MODULE__178__","__WEBPACK_EXTERNAL_MODULE__591__","__WEBPACK_EXTERNAL_MODULE__987__","__WEBPACK_EXTERNAL_MODULE__815__","__WEBPACK_EXTERNAL_MODULE__670__","__WEBPACK_EXTERNAL_MODULE__793__","__WEBPACK_EXTERNAL_MODULE__59__","__WEBPACK_EXTERNAL_MODULE__102__","__WEBPACK_EXTERNAL_MODULE__306__","__WEBPACK_EXTERNAL_MODULE__445__","exportName","VENDOR_PREFIXES","TEST_ELEMENT","createElement","setTimeoutContext","timeout","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","output","nextKey","extend","dest","merge","inherit","base","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","addEventListener","removeEventListeners","removeEventListener","parentNode","inStr","str","inArray","findByKey","uniqueArray","prefixed","camelProp","_uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","init","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","deltaTime","angle","getAngle","getDistance","offsetDelta","prevDelta","prevInput","deltaX","deltaY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","maxPointers","velocity","velocityX","velocityY","last","lastInterval","srcEvent","emit","recognize","clientX","clientY","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","touches","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","TouchAction","compute","actions","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","preventDefaults","prevented","preventDefault","hasNone","none","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","STATE_FAILED","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","force","stopped","curRecognizer","existing","events","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","bool","number","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","PropTypes","_extends","_objectWithoutProperties","_typeof","wrapModelCall","fromLocal","fromRemote","normalizeObjectKeys","el","sumColumns","operationColumns","AggregationTypes","getFormula","operation","joinOperation","S","_executeModel","res","getHistogram","ticks","F","tick","N","getCategories","operationColumn","geocodeStreetPoint","searchText","city","geocodeStreetPointLds","geocodeStreetPointSql","getScatter","xAxisColumn","xAxisJoinOperation","yAxisColumn","yAxisJoinOperation","getTimeSeries","stepSize","X","getTable","rowsPerPage","page","sortBy","sortDirection","sortByDirection","useWidgetFilterValues","dataSource","selectSourceById","useMemo","owner","columnAggregationOn","columnPropName","tar","dequal","foo","bar","tmp","RegExp","getInt8","DEFAULT_INVALID_COLUMN_ERR","useCustomCompareMemo","isEqual","ref","useWidgetSource","rawSource","applicableFilters","getApplicableFilters","deepEqual","useWidgetFetch","modelFn","effect","deps","depsEqual","setData","T","isLoading","setIsLoading","warning","setWarning","isSourceReady","selectAreFeaturesReadyForSource","defaultDroppingFeaturesAlertProps","WidgetWithAlert","droppingFeaturesAlertProps","showDroppingFeaturesAlert","noDataAlertProps","checkIfSourceIsDroppingFeature","EMPTY_ARRAY","CategoryWidget","formatter","labels","animation","filterable","searchable","wrapperProps","selectedCategories","FilterTypes","handleSelectedCategoriesChange","categories","addFilter","removeFilter","onSelectedCategoriesChange","propTypes","FormulaWidget","unitBefore","propValue","isValidString","isValidArray","validationError","we","setGeocoderResult","useGeocoderWidgetController","setSearchText","loading","handleChange","handleInput","updateMarker","handleKeyPress","keyCode","blur","handleBlur","handleSearch","handleGeocodeError","useStyles","makeStyles","theme","paperInput","spacing","paddingLeft","borderRadius","display","alignItems","icon","palette","secondary","fontSize","typography","body2","lineHeight","marginLeft","SearchIcon","GeocoderWidget","geocoderResult","addLayer","setViewState","transitionDuration","tabIndex","placeholder","inputProps","onChange","onInput","onKeyDown","onBlur","useStats","customStats","setStats","_getStats","HistogramWidget","_ticks","_min","_max","xAxisFormatter","bins","tooltip","tooltipFormatter","setMinMax","hasMinMax","MIN_SAFE_INTEGER","_warning","U","H","thresholdsFromFilters","selectedBars","handleSelectedBarsChange","thresholds","onSelectedBarsChange","yAxisFormatter","PieWidget","I","LegendWidget","customLayerOptions","customLegendTypes","initialCollapsed","layerOrder","layerA","layerB","legend","setCollapsed","onChangeVisibility","updateLayer","layerAttributes","onChangeOpacity","onChangeCollapsed","onChangeLegendRowCollapsed","ScatterPlotWidget","E","STEP_SIZE_RANGE_MAPPING","GroupDateTypes","TimeSeriesWidget","stepSizeOptions","chartType","showControls","isPlaying","onPlay","isPaused","onPause","onStop","onTimelineUpdate","timeWindow","onTimeWindowUpdate","selectedStepSize","setSelectedStepSize","handleTimeWindowUpdate","date","handleTimelineUpdate","timelinePosition","moment","handleStop","Z","anchorEl","setAnchorEl","handleCloseStepSizeMenu","StepSizeIcon","action","currentTarget","keepMounted","open","onClose","disabled","variant","onClick","capitalize","TIME_SERIES_CHART_TYPES","BarWidget","_data","sortedData","sortedByValue","aIndex","bIndex","_selectedBars","category","findIndex","selectedBarsIdxs","xAxisData","yAxisData","PolygonIcon","featureSelectionIcons","RectangleIcon","CircleIcon","LassoIcon","CursorIcon","FEATURE_SELECTION_MODES_MAP","FEATURE_SELECTION_MODES","label","et","EDIT_MODES_MAP","EDIT_MODES_KEYS","FeatureSelectionWidget","selectionModesKeys","selectionModes","editModesKeys","editModes","tooltipPlacement","selectedMode","featureSelectionMode","featureSelectionEnabled","handleEnabledChange","newEnabled","setFeatureSelectionEnabled","onSelectMode","newSelectedMode","setFeatureSelectionMode","onEnabledChange","onSelectGeometry","addSpatialFilter","rt","onDeleteGeometry","removeSpatialFilter","defaultSelectedMode","defaultEnabled","FeatureSelectionWidgetUI","TableWidget","initialPageSize","onPageSizeChange","dense","pageSize","setRowsPerPage","setPage","setSortBy","setSortDirection","L","R","totalCount","pagination","onSetPage","onSetRowsPerPage","newRowsPerPage","sorting","onSetSortBy","onSetSortDirection","field","headerName","align","getRange","gt","RangeWidget","selectedValues","handleSelectedRangeChange","limits","onSelectedRangeChange","useSourceFilters","Constructor","_defineProperties","descriptor","_getPrototypeOf","_superPropBase","wt","Reflect","receiver","desc","getOwnPropertyDescriptor","_setPrototypeOf","_possibleConstructorReturn","ReferenceError","EVENT_TYPES","EditableCartoGeoJsonLayer","subClass","superClass","_t","protoProps","_removeEventHandlers","_addEventHandlers","At","_getEventManager","eventHandler","_editableLayerState","EditableGeoJsonLayer","oldHandler","predict","Mt","qt","RECOGNIZERS","RECOGNIZER_COMPATIBLE_MAP","tripan","rotate","pinch","pan","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","INPUT_EVENT_TYPES","KEY_EVENTS","MOUSE_EVENTS","WHEEL_EVENTS","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panstart","panmove","panup","pandown","panleft","panright","panend","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","click","anyclick","dblclick","mouseover","mouseout","mouseleave","window_","passiveSupported","passive","firefox","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WheelInput","handleEvent","Jt","deltaMode","shiftKey","enableEventType","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","ENTER_EVENT_TYPE","LEAVE_EVENT_TYPE","MoveInput","handleOverEvent","handleOutEvent","handleEnterEvent","handleLeaveEvent","handleMoveEvent","enableMoveEvent","enableLeaveEvent","enableEnterEvent","enableOutEvent","enableOverEvent","_emit","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","targetElement","srcElement","tagName","enableDownEvent","enableUpEvent","outline","fr","ContextmenuInput","gr","whichButtons","buttons","leftButton","middleButton","rightButton","getOffsetPosition","rootElement","rect","getBoundingClientRect","scaleX","offsetWidth","scaleY","offsetHeight","clientLeft","clientTop","DEFAULT_OPTIONS","EventRegistrar","isEmpty","mjolnirEvent","_normalizeEvent","handled","handlersByElement","_active","insertPosition","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","getElement","Er","recognizerOptions","Nt","EventManager","_onBasicInput","_onOtherEvent","setElement","ManagerClass","otherName","recognizerName","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","watch","_removeEventHandler","fallbackRecognizers","eventName","isRecognizerUsed","eh","useEventManager","isEdit","isSelected","isGmaps","BASEMAPS","basemap","cartoGmap","customEventManager","getDiv","disableDragAndDrop","gestureHandling","MaskLayer","spatialFilterGeometry","maskData","SolidPolygonLayer","OPERATION","getFillColor","ViewMode","nebulaModes","TranslateMode","ModifyMode","EditMode","FeatureSelectionLayer","useTheme","selectedFeatureIndex","setSelectedFeatureIndex","selectFeatureSelectionMode","isEditMode","hasGeometry","primaryAsRgba","formatRGBA","hexToRgb","primary","main","secondaryAsRgba","mainColor","billboard","pickable","selectedFeatureIndexes","lastFeature","getLineColor","getTentativeFillColor","getTentativeLineColor","getEditHandlePointColor","getEditHandlePointOutlineColor","editHandlePointStrokeWidth","getEditHandlePointRadius","getLineWidth","EDIT_MODES","cssRgba","difference","polygon1","polygon2","geom1","getGeom","geom2","differenced","polygonClipping","rhumbDistance","calculateRhumbDistance","getEditHandlesForGeometry","featureAsPick","getPickedExistingEditHandle","lockRectangles","intermediatePoint","referencePoint","lineStringFeature","candidateIntermediatePoint","_this","getNearestPoint","nearestPointOnProjectedLine","nearestPointOnLine","pickedExistingHandle","pickedIntermediateHandle","getPickedIntermediateEditHandle","removePosition","ignored","addPosition","editHandle","getPickedEditHandle","pointerDownPicks","_dragEditHandle","editHandleProperties","editedFeature","updateRectanglePosition","replacePosition","cursor","getCursor","circle","steps","_isTranslatable","_geometryBeforeTranslate","getTranslateAction","pointerDownMapCoords","isSelectionPicked","updateCursor","getSelectedFeaturesAsFeatureCollection","startDragPoint","currentPoint","viewportDesc","screenSpace","_this2","pixels","distanceMoved","movedFeatures","movedFeature","DrawPolygonMode","clickedCoord","clickedEditHandle","overlappingLines","preventOverlappingLines","currentLine","otherLines","positionAdded","polygonToAdd","DEFAULT_LINE_COLOR","DEFAULT_FILL_COLOR","DEFAULT_SELECTED_LINE_COLOR","DEFAULT_SELECTED_FILL_COLOR","DEFAULT_TENTATIVE_LINE_COLOR","DEFAULT_TENTATIVE_FILL_COLOR","DEFAULT_EDITING_EXISTING_POINT_COLOR","DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR","DEFAULT_EDITING_SNAP_POINT_COLOR","DEFAULT_EDITING_POINT_OUTLINE_COLOR","DEFAULT_TOOLTIP_FONT_SIZE","PROJECTED_PIXEL_SIZE_MULTIPLIER","DEFAULT_EDIT_MODE","guideAccessor","guideMaybeWrapped","sourceFeature","unwrapGuide","getEditHandleColor","pickingRadius","pickingDepth","filled","stroked","lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","pickingLineWidthExtraPixels","lineWidthUnits","lineJointRounded","lineCapRounded","lineMiterLimit","pointRadiusScale","pointRadiusMinPixels","pointRadiusMaxPixels","getRadius","lineWidth","getTentativeLineWidth","editHandlePointRadiusScale","editHandlePointOutline","editHandlePointRadiusUnits","editHandlePointRadiusMinPixels","editHandlePointRadiusMaxPixels","editHandleIconAtlas","editHandleIconMapping","editHandleIconSizeScale","editHandleIconSizeUnits","getEditHandleIcon","getEditHandleIconSize","getEditHandleIconColor","getEditHandleIconAngle","modeNameMapping","modify","SnappableMode","TransformMode","ScaleMode","RotateMode","duplicate","DuplicateMode","SplitPolygonMode","extrude","ExtrudeMode","ElevationMode","drawPoint","DrawPointMode","drawLineString","DrawLineStringMode","drawPolygon","drawRectangle","DrawRectangleMode","drawSquare","DrawSquareMode","drawRectangleFromCenter","DrawRectangleFromCenterMode","drawSquareFromCenter","DrawSquareFromCenterMode","drawCircleFromCenter","DrawCircleFromCenterMode","drawCircleByBoundingBox","DrawCircleByDiameterMode","drawEllipseByBoundingBox","DrawEllipseByBoundingBoxMode","drawRectangleUsing3Points","DrawRectangleUsingThreePointsMode","drawEllipseUsing3Points","DrawEllipseUsingThreePointsMode","draw90DegreePolygon","Draw90DegreePolygonMode","drawPolygonByDragging","DrawPolygonByDraggingMode","subLayerProps","selectionAwareAccessor","getPointRadius","_subLayerProps","linestrings","EditablePathLayer","GeoJsonLayer","createGuidesLayers","createTooltipsLayers","selectedFeatures","stateChanged","propsOrDataChanged","ModeConstructor","elem","isFeatureSelected","getSubLayers","getActiveMode","getModeProps","autoHighlight","IconLayer","iconAtlas","iconMapping","sizeUnits","sizeScale","getIcon","getSize","ScatterplotLayer","radiusScale","radiusUnits","radiusMinPixels","radiusMaxPixels","pointType","tooltips","getTooltips","TextLayer","handleClick","handleKeyUp","handleStartDragging","handleDragging","handleStopDragging","handlePointerMove","isDragging","EditableLayer","meters","calcDistance","getPlanarDistance","pointToLineDistance","featureOf","segmentEach","segment","c1","c2","b2","Pb","distanceToSegment","closestPt","flattenEach","getCoords","stop_1","sectionLength","heightDistance","perpendicularPt1","perpendicularPt2","intersect","lineIntersects","intersectPt","selectedHandle","selectedHandleIndex","guidePointCount","_cornerGuidePoints","oppositeIndex","editedData","_selectedEditHandle","oppositeHandle","_getOppositeScaleHandle","scaleFactor","getScaleFactor","scaledFeatures","_geometryBeingScaled","_getUpdatedData","_cursor","cursorGeometry","positiveBearing","_isScaling","selectedEditHandle","scaleAction","getScaleAction","selectedGeometry","_isSinglePointGeometrySelected","cornerGuidePoints","coordIndex","cornerPoint","startDistance","calculateRhumbBearing","deltaLambda","deltaPsi","rhumbBearing","bear360","_isRotating","_geometryBeingRotated","previousCoord","topEdgeMidpointCoords","longestEdgeLength","edgeMidpoint","getIntermediatePosition","edgeDistance","rotateHandleCoords","lineFromEnvelopeToRotateHandle","rotateHandle","rotateAction","getRotateAction","bearing1","getRotationAngle","rotatedFeatures","pivot","transformRotate","mutate","finalAngle","newCoords","CompositeMode","modes","_modes","resultEval","_coalesce","allGuides","along","travelled","overshot","measureDistance","getTanDeg","deg","rad","ellipse","xSemiAxis","ySemiAxis","isNumber","centerCoords","angleRad","stepAngle","newx","newy","ThreeClickPolygonMode","hoveredCoord","getThreeClickPolygon","coord3","cachedResult","cachedArgs","pointerDownScreenCoords","_forwardEventToCurrentLayer","_step2","_iterator2","currentLayer","screenCoords","getScreenCoords","getMapCoords","getPicks","onLayerClick","sourceEvent","onLayerKeyUp","onStartDragging","onDragging","onStopDragging","onPointerMove","pickMultipleObjects","layerIds","pointerEvent","canvas","groundCoords","insertBefore","toInsert","low","high","unsigned","isLong","__isLong__","INT_CACHE","UINT_CACHE","fromInt","cachedObj","fromBits","fromNumber","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","radix","RangeError","radixToPower","power","mul","fromValue","TWO_PWR_16_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","isNegative","eq","radixLong","rem1","sub","rem","remDiv","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","isPositive","isOdd","isEven","other","notEquals","neq","comp","lt","lessThanOrEqual","lte","greaterThan","greaterThanOrEqual","gte","thisNeg","otherNeg","negate","not","addend","a48","a32","a16","a00","b48","b32","b16","c48","c32","c16","c00","subtrahend","multiplier","b00","divide","approx","toUnsigned","shru","shr","shl","LN2","approxRes","approxRem","modulo","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","toSigned","toBytes","le","toBytesLE","toBytesBE","hi","lo","RADIAN_PER_DEGREE","valueArray","calculateTransformMatrix","targetMatrix","scx","scy","scz","getExtendedMat3FromMat4","mat4","subarray","MATRIX_ATTRIBUTES","instanceModelMatrix__LOCATION_0","elementOffset","instanceModelMatrix__LOCATION_1","instanceModelMatrix__LOCATION_2","instanceTranslation","startRow","endRow","getTranslation","arrayMatrix","constantMatrix","constantScale","constantOrientation","constantTranslation","hasMatrix","instanceModelMatrixData","matrix","shouldComposeModelMatrix","injectShaderCode","_ref$code","PathOutlineLayer","outlineFramebuffer","dummyTexture","instanceZLevel","jointRounded","capRounded","miterLimit","jointType","capType","outlineEnabled","outlineRenderShadowmap","outlineShadowmap","MAX","getZLevel","Adder","temp","valueOf","adder","bv","av","epsilon","pi","halfPi","quarterPi","tau","atan","streamGeometry","streamGeometryType","streamObjectType","Feature","FeatureCollection","Sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","spherical","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","cartesianNormalizeInPlace","compose","rotationIdentity","rotateRadians","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","circleStream","cosRadius","sinRadius","step","circleRadius","rejoin","Intersection","segments","compareIntersection","startInside","interpolate","subject","clip","pointEqual","link","isSubject","NaN","ascendingBisect","ascending","bisector","arrays","merged","clipMax","clipMin","clipExtent","a1","corner","comparePoint","ca","cb","ring","x__","y__","v__","x_","y_","v_","clean","activeStream","bufferStream","clipBuffer","clipStream","linePoint","winding","a0","b0","b1","polygonInside","cleanInside","clipPolygon","ax","ay","clipLine","sum","point0","lambda0","phi0","sinPhi0","cosPhi0","sinPhi1","cosPhi1","point1","absDelta","antimeridian","arc","phiArc","areaStream","boundsStream","PathContext","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","PathString","_string","_circle","pointVisible","sink","rotatedStart","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointLine","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","smallRadius","notHemisphere","two","n2n2","n1n2","determinant","n1xn2","uu","polar","q1","c0","v0","v00","point2","transformer","methods","TransformStream","fitExtent","geoStream","fitSize","cosMinDistance","delta2","resampleLineTo","d2","lambda2","dx2","dy2","dz","lambda00","x00","y00","resampleStream","ringPoint","resample","resampleNone","transformRadians","projectionMutator","projectAt","projectRotate","cacheStream","preclip","clipAntimeridian","postclip","projectResample","projectTransform","recenter","clipAngle","clipCircle","precision","azimuthalRaw","cx","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","equirectangularRaw","gnomonicRaw","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","bufferFeature","geomEach","buffered","defineProjection","projected","projectCoords","GeoJSONReader","BufferOp","bufferOp","coordsIsNaN","GeoJSONWriter","write","unprojectCoords","proj","featureEach","multiBuffered","shapes","decoderType","WebAssembly","libraryPath","attributeNameEntry","Schema","fields","usedNames","checkNames","compareTo","select","nameMap","columnNames","selectedFields","selectAt","columnIndices","schemaOrFields","otherSchema","mergeMaps","fieldMap","mergedFields","m1","m2","Field","nullable","typeId","Type","DataType","Null","Int","Float","Binary","Utf8","Bool","Decimal","Time","Timestamp","Interval","List","Struct","Union","FixedSizeBinary","FixedSizeList","Dictionary","NONE","isSigned","bitWidth","Int8","Int16","Int32","Uint8","Uint16","Uint32","Precision","Float32","Float64","listSize","valueType","valueField","deduceMeshField","optionalMetadata","getArrowTypeFromTypedArray","byteStride","makeMeshAttributeMetadata","getArrowFieldFromAttribute","loaderData","makeMetadata","metadataMap","DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP","TEX_COORD","DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP","DracoParser","decoder","Decoder","metadataQuerier","MetadataQuerier","DecoderBuffer","Init","_disableAttributeTransforms","geometry_type","GetEncodedGeometryType","dracoGeometry","TRIANGULAR_MESH","Mesh","PointCloud","dracoStatus","DecodeBufferToMesh","DecodeBufferToPointCloud","ptr","error_msg","_getDracoLoaderData","_getMeshData","minX","minY","maxX","maxY","getMeshBoundingBox","schema","namedLoaderDataAttributes","dracoAttribute","transformAttributesLoaderData","indicesField","getDracoSchema","num_points","_getTopLevelMetadata","_getDracoAttributes","num_attributes","num_faces","dracoAttributes","attributeId","GetAttribute","_getAttributeMetadata","unique_id","attribute_type","data_type","num_components","byte_offset","byte_stride","attribute_index","_getQuantizationTransform","quantization_transform","octahedron","_getOctahedronTransform","octahedron_transform","_getMeshAttributes","topology","_getTriangleStripIndices","_getTriangleListIndices","loaderAttribute","_deduceAttributeName","_getAttributeValues","numIndices","_malloc","GetTrianglesUInt32Array","HEAPF32","_free","dracoArray","DracoInt32Array","GetTriangleStripsFromMesh","numValues","intArray","GetValue","getUint32Array","TypedArrayCtor","numComponents","attributeType","DT_FLOAT32","DT_INT8","DT_INT16","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","DT_INVALID","getDracoDataType","GetAttributeDataArrayForAllPoints","uniqueId","attributeUniqueId","thisAttributeType","dracoAttributeConstant","entryName","dracoMetadata","GetMetadata","_getDracoMetadata","GetAttributeMetadata","numEntries","NumEntries","entryIndex","GetEntryName","_getDracoMetadataField","GetIntEntryArray","getInt32Array","int","GetIntEntry","GetStringEntry","double","GetDoubleEntry","quantizedAttributes","octahedronAttributes","skipAttributes","dracoAttributeName","SkipAttributeTransform","AttributeQuantizationTransform","InitFromAttribute","quantization_bits","min_values","min_value","DRACO_VERSION","DRACO_JS_DECODER_URL","DRACO_WASM_WRAPPER_URL","DRACO_WASM_DECODER_URL","loadDecoderPromise","loadDracoDecoderModule","draco3d","createDecoderModule","DracoDecoderModule","wasmBinary","loadLibrary","onModuleLoaded","initializeDracoDecoder","loadDracoDecoder","DracoWorkerLoader","dracoParser","ScenegraphNode","_setScenegraphNodeProps","setPosition","setRotation","setScale","setMatrix","setMatrixComponents","updateMatrix","pos","rot","rotateXYZ","getCoordinateUniforms","worldMatrix","worldInverse","worldInverseTranspose","transpose","objectMatrix","worldInverseMatrix","worldInverseTransposeMatrix","GroupNode","every","removeAll","visitor","ATTRIBUTE_TYPE_TO_COMPONENTS","ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY","accessorToJsArray","_animation","components","slicedArray","helperMatrix","interpolation","animationTime","nextIndex","previousIndex","previousTime","nextTime","stepInterpolate","slerp","linearInterpolate","tDiff","outTangent0","inTangent1","m0","cubicsplineInterpolate","GLTFAnimation","startTime","playing","speed","channels","animate","timeMs","sampler","gltfNode","applyTranslationRotationScale","_node","GLTFAnimator","animations","samplers","_ref4","accessors","_ref5","nodes","setTime","getAnimations","ModelNode","onBeforeRender","AfterRender","_setModelNodeProps","managedResources","addVersionToShader","modelOptions","GLTFInstantiator","instantiate","scenes","scene","createScene","createAnimator","gltfScene","createNode","gltfMesh","_mesh","primitives","gltfPrimitive","createPrimitive","getVertexCount","generatedTextures","createGLTFModel","createAttributes","loadedAttributes","attrName","createAccessor","createBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","generated","lumaBuffers","Buffer","Accessor","stride","createSampler","gltfSampler","needsPOT","waitForGLTFAssets","gltfObjects","remaining","uniform","requestAnimationFrame","waitWhileCondition","DEFAULT_COLOR","getScene","getAnimator","animator","_animations","sizeMinPixels","sizeMaxPixels","_imageBasedLightingEnvironment","instancePositions","instanceModelMatrix","_updateScenegraph","_applyAnimationsProp","_deleteScenegraph","scenegraphData","instantiator","createGLTFObjects","_getModelOptions","_applyAllAttributes","attributesAvailable","allAttributes","getAttributes","_setModelAttributes","animationsProp","findResult","env","waitForFullLoad","transpileToGLSL100","updateAttributes","changedAttributes","numInstances","setInstanceCount","composeModelMatrix","sceneModelMatrix","getSourceColor","getTargetColor","getTilt","instanceSourceColors","instanceTargetColors","instanceHeights","instanceTilts","numSegments","DEFAULT_NORMAL","getNormal","radiusPixels","deprecatedFor","gouraudLighting","instanceNormals","normalizeData","validateGeometryAttributes","useMeshColors","getGeometry","_useMeshColors","hasFeature","FEATURES","GLSL_DERIVATIVES","DERIVATIVES_AVAILABLE","phongLighting","setTexture","setDrawMode","flatShading","hasTexture","union","poly1","poly2","unioned","ResizeCircleMode","_isResizing","numberOfSteps","_ref$steps","transformTranslate","zTranslation","isPoint","getType","turfBBox","defineOrigin","originalDistance","newDistance","newCoord","transformScale","originIsPoint","getAddManyFeaturesAction","ExtendLineStringMode","getSelectedGeometry","selectedLineString","getSingleSelectedLineString","drawAtFront","startPosition","lock90Degree","firstPoint","distanceFromOrigin","lastBearing","currentDistance","lastPoint","approximatePoint","_generatePointsParall2","generatePointsParallelToLinePoints","calculateMapCoords","isPointInPolygon","splitPolygon","gap","_modeConfig$units","updatedCoordinates","agg","root_","size_","array_","It","addAll","isInteger","trunc","interfaces_","getClass","equalsWithTolerance","doubleToLongBits","longBitsToDouble","isInfinite","defineProperties","NULL_ORDINATE","DimensionalComparator","serialVersionUID","setOrdinate","equals2D","getOrdinate","equals3D","equalInZ","distance3D","hashCode","setCoordinate","_dimensionsToTest","INTERIOR","BOUNDARY","EXTERIOR","toLocationSymbol","P","LOG_10","log10","average","D","append","setCharAt","M","intValue","isWhitespace","_hi","_lo","G","TWO_PI","PI_2","EPS","SPLIT","MAX_PRINT_DIGITS","TEN","SCI_NOT_EXPONENT_CHAR","SCI_NOT_ZERO","extractSignificantDigits","selfAdd","sqr","doubleValue","selfSubtract","getSpecialNumberString","selfDivide","dump","createNaN","ge","selfMultiply","reciprocal","rint","setValue","selfSqr","toStandardNotation","toSciNotation","stringOfChar","signum","isDigit","DP_SAFE_EPSILON","orientationIndex","orientationIndexFilter","signOfDet2x2","V","getCoordinate","getCoordinateCopy","getDimension","getX","expandEnvelope","getY","toCoordinateArray","arraycopy","_minx","_maxx","_miny","_maxy","getArea","isNull","getMaxX","getMaxY","getMinX","getMinY","intersects","covers","expandToInclude","minExtent","setToNull","maxExtent","expandBy","contains","centre","W","typeStr","emptyTypeStr","spaces","parenComma","doubleParenComma","trimParens","K","geometryFactory","search","Q","extractGeometry","getGeometryType","J","_coordinates","multipoint","_geometries","linestring","_points","linearring","multilinestring","_shell","_holes","multipolygon","geometrycollection","createPoint","createMultiPoint","createLineString","createLinearRing","createMultiLineString","createPolygon","createMultiPolygon","createGeometryCollection","parser","toLineString","$","tt","shouldNeverReachHere","isTrue","nt","_result","_inputLines","_intPt","_intLineIndex","_isProper","_pa","_pb","_precisionModel","DONT_INTERSECT","DO_INTERSECT","COLLINEAR","NO_INTERSECTION","POINT_INTERSECTION","COLLINEAR_INTERSECTION","getIndexAlongSegment","computeIntLineIndex","getTopologySummary","isEndPoint","isCollinear","computeIntersection","computeIntersect","getIntersectionNum","getEdgeDistance","isProper","hasIntersection","setPrecisionModel","isInteriorIntersection","getIntersection","computeEdgeDistance","getEndpoint","isIntersection","getIntersectionAlongSegment","nonRobustComputeEdgeDistance","isInSegmentEnvelopes","normalizeToMinimum","smallestInAbsValue","safeHCoordinateIntersection","nearestEndpoint","intersectionWithNormalization","makePrecise","checkDD","println","normalizeToEnvCentre","computeCollinearIntersection","distancePointLine","ot","_p","_crossingCount","_isPointOnSegment","countSegment","getLocation","isOnSegment","locatePointInRing","CLOCKWISE","RIGHT","COUNTERCLOCKWISE","LEFT","STRAIGHT","signedArea","distanceLineLine","isPointInRing","computeLength","isCCW","computeOrientation","distancePointLinePerpendicular","isOnLine","ct","_envelope","_factory","_SRID","_userData","getSRID","SORTINDEX_POINT","SORTINDEX_MULTIPOINT","SORTINDEX_LINESTRING","SORTINDEX_LINEARRING","SORTINDEX_MULTILINESTRING","SORTINDEX_POLYGON","SORTINDEX_MULTIPOLYGON","SORTINDEX_GEOMETRYCOLLECTION","geometryChangedFilter","isGeometryCollection","getSortIndex","getFactory","getGeometryN","isRectangle","equalsTopo","equalsExact","geometryChanged","geometryChangedAction","equalsNorm","norm","getLength","getNumGeometries","compareToSameClass","getUserData","getEnvelope","toGeometry","getEnvelopeInternal","checkNotGeometryCollection","equal","getPrecisionModel","computeEnvelopeInternal","setSRID","setUserData","hasNext","isGeometryCollectionOrDerived","hasNonEmptyElements","hasNullElements","ht","ft","dt","Mod2BoundaryNodeRule","EndPointBoundaryNodeRule","MultiValentEndPointBoundaryNodeRule","MonoValentEndPointBoundaryNodeRule","MOD2_BOUNDARY_RULE","ENDPOINT_BOUNDARY_RULE","MULTIVALENT_ENDPOINT_BOUNDARY_RULE","MONOVALENT_ENDPOINT_BOUNDARY_RULE","OGC_SFS_BOUNDARY_RULE","isInBoundary","yt","mt","Et","ensureCapacity","Ct","arrayList_","position_","St","coordArrayType","closeRing","Lt","bt","ForwardComparator","BidirectionalComparator","Ot","isRing","ptNotInList","scroll","hasRepeatedPoints","removeRepeatedPoints","removeNull","copyDeep","isEqualReversed","envelope","atLeastNCoordinatesOrNothing","increasingDirection","minCoordinate","extract","OLDcompare","Tt","put","entrySet","Rt","Pt","Dt","hashSet_","getValue","getKey","fixAfterInsertion","rotateLeft","rotateRight","getFirstEntry","successor","Ft","treeSet_","Gt","asList","FALSE","TRUE","DONTCARE","SYM_FALSE","SYM_TRUE","SYM_DONTCARE","SYM_P","SYM_L","SYM_A","toDimensionSymbol","toDimensionValue","Vt","Ut","isDone","isGeometryChanged","zt","getCoordinates","getNumPoints","isEquivalentClass","getBoundaryDimension","getBoundary","Xt","isClosed","Yt","_geom","_geomFact","_bnRule","_endpointMap","boundaryMultiLineString","getEmptyMultiPoint","computeBoundaryCoordinates","createMultiPointFromCoords","Kt","boundaryLineString","getStartPoint","getEndPoint","addEndpoint","getCoordinateN","kt","Ht","NEWLINE","SIMPLE_ORDINATE_FORMAT","chars","getStackTrace","printStackTrace","readLine","Wt","copyCoord","swap","ensureValidRing","createClosedRing","isSimple","getPointN","getCoordinateSequence","getCoordinateSequenceFactory","isCoordinate","Qt","Zt","$t","getNumInteriorRing","convexHull","getExteriorRing","getInteriorRingN","ee","validateConstruction","MINIMUM_VALID_SIZE","ne","ie","_isUserDataCopied","re","NoOpGeometryOperation","CoordinateOperation","CoordinateSequenceOperation","setCopyUserData","edit","editInternal","editGeometryCollection","editPolygon","getName","GeometryEditorOperation","oe","se","editCoordinates","_dimension","instanceObject","readResolve","map_","fe","_modelType","_scale","FLOATING","FIXED","maximumPreciseValue","getMaximumSignificantDigits","isFloating","FLOATING_SINGLE","mostPrecise","_name","nameToTypeMap","_coordinateSequenceFactory","getDefaultCoordinateSequenceFactory","me","buildGeometry","toGeometryArray","toPolygonArray","toLineStringArray","toPointArray","createGeometry","toMultiPolygonArray","toMultiLineStringArray","toMultiPointArray","toLinearRingArray","createPointFromInternalCoord","ve","Ee","Ne","precisionModel","reducePrecision","Le","ON","opposite","empty","_minIndex","_minCoord","_minDe","_orientedDe","getRightmostSide","getRightmostSideOfSegment","checkForRightmostCoordinate","findRightmostEdgeAtVertex","getEdge","findRightmostEdgeAtNode","getNode","getEdges","getRightmostEdge","isForward","getSym","findEdge","msgWithCoord","Oe","addLast","removeFirst","Te","_finder","_dirEdgeList","_nodes","_rightMostCoord","_env","clearVisitedEdges","setVisited","getRightmostCoordinate","computeNodeDepth","isVisited","computeDepths","copySymDepths","computeDepth","setEdgeDepths","addReachable","findResultEdges","getDepth","isInteriorAreaEdge","setInResult","setDepth","getNodes","getDirectedEdges","setAllLocations","setAllLocationsIfNull","isLine","getLocations","flip","setLocations","isArea","isAnyNull","setLocation","isEqualOnSide","allPositionsEqual","elt","getGeometryCount","toLine","toLineLabel","De","_startDe","_maxNodeDegree","_edges","_pts","_label","_ring","_isHole","_geometryFactory","computePoints","computeRing","isIsolated","getEdgeRing","getLabel","mergeLabel","addPoints","setEdgeRing","getNext","getLinearRing","computeMaxNodeDegree","getOutgoingDegree","isHole","containsPoint","addHole","isShell","getMaxNodeDegree","getShell","setShell","toPolygon","setMinEdgeRing","getNextMin","Ae","buildMinimalRings","getMinEdgeRing","linkDirectedEdgesForMinimalEdgeRings","linkMinimalDirectedEdges","Fe","_isInResult","_isCovered","_isCoveredSet","_isVisited","isCovered","isCoveredSet","setLabel","setCovered","updateIM","computeIM","isInResult","Ge","_coord","isIncidentEdgeInResult","print","computeMergedLocation","insert","setNode","setLabelBoundary","qe","nodeMap","nodeFact","addNode","getBoundaryNodes","Be","Ve","NE","NW","SW","SE","isNorthern","isOpposite","commonHalfPlane","isInHalfPlane","quadrant","Ue","_edge","_p0","_p1","_dx","_dy","_quadrant","compareDirection","getDy","getDirectedCoordinate","getDx","getQuadrant","computeLabel","_isForward","_sym","_nextMin","_edgeRing","_minEdgeRing","_depth","computeDirectedLabel","setNextMin","getDepthDelta","isLineEdge","printEdge","printReverse","setSym","setVisitedEdge","setNext","depthFactor","_edgeEndList","printEdges","eiList","getNodeIterator","linkResultDirectedEdges","debugPrintln","isBoundaryNode","linkAllDirectedEdges","matchInSameDirection","getEdgeEnds","debugPrint","getEdgeIterator","findEdgeInSameDirection","insertEdge","findEdgeEnd","addEdges","ke","_shellList","sortShellsAndHoles","computePolygons","placeFreeHoles","findEdgeRingContaining","buildMinimalEdgeRings","findShell","placePolygonHoles","buildMaximalEdgeRings","getPolygons","je","getBounds","He","_bounds","_item","We","_size","_items","poll","reorder","Ke","visitItem","Je","Qe","_childBoundables","_level","Ze","getChildBoundables","addChildBoundable","computeBounds","$e","reverseOrder","singletonList","tn","_boundable1","_boundable2","_distance","_itemDistance","expandToQueue","isComposite","area","expand","isLeaves","getBoundable","en","_root","_built","_itemBoundables","_nodeCapacity","DEFAULT_NODE_CAPACITY","nn","IntersectsOp","getNodeCapacity","lastNode","build","itemsTree","boundablesAtLevel","getIntersectsOp","createHigherLevels","getRoot","createParentBoundables","getComparator","compareDoubles","rn","sn","STRtreeNode","xComparator","yComparator","intersectsOp","createParentBoundablesFromVerticalSlices","createParentBoundablesFromVerticalSlice","an","verticalSlices","nearestNeighbour","POSITIVE_INFINITY","centreX","avg","centreY","un","relativeSign","compareValue","ln","_segString","segmentIndex","_segmentOctant","_isInterior","isInterior","cn","_nodeMap","getSplitCoordinates","addEndpoints","addEdgeCoordinates","addCollapsedNodes","findCollapsesFromInsertedNodes","findCollapsesFromExistingVertices","addSplitEdges","createSplitEdge","findCollapseIndex","gn","getData","getSegmentOctant","checkSplitEdgesCorrectness","pn","octant","hn","addIntersection","_nodeList","safeOctant","addIntersectionNode","getNodeList","addIntersections","getNodedSubstrings","dn","yn","isVertical","projectionFactor","distancePerpendicular","midPoint","closestPoints","lineIntersection","pointAlongOffset","setCoordinates","segmentFraction","isHorizontal","pointAlong","tempEnv1","tempEnv2","_overlapSeg1","_overlapSeg2","overlap","getLineSegment","mn","_start","_end","_id","computeSelect","computeOverlaps","computeOverlapsInternal","setId","getEndIndex","getStartIndex","getContext","getId","vn","getChainStartIndices","findChainEnd","toIntArray","getChains","In","computeNodes","En","_segInt","setSegmentIntersector","xn","_monoChains","_index","_idCounter","_nodedSegStrings","_nOverlaps","SegmentOverlapAction","getMonotoneChains","getIndex","intersectChains","Nn","_si","processIntersections","Cn","_quadrantSegments","DEFAULT_QUADRANT_SEGMENTS","_endCapStyle","CAP_ROUND","_joinStyle","JOIN_ROUND","_mitreLimit","DEFAULT_MITRE_LIMIT","_isSingleSided","_simplifyFactor","DEFAULT_SIMPLIFY_FACTOR","setQuadrantSegments","setEndCapStyle","setJoinStyle","setMitreLimit","Sn","CAP_FLAT","CAP_SQUARE","JOIN_MITRE","JOIN_BEVEL","getEndCapStyle","isSingleSided","getJoinStyle","setSimplifyFactor","getSimplifyFactor","getQuadrantSegments","getMitreLimit","setSingleSided","bufferDistanceError","Ln","_distanceTol","_isDeleted","_angleOrientation","_inputLine","bn","INIT","DELETE","KEEP","NUM_PTS_TO_CHECK","isDeletable","isConcave","isShallow","isShallowSampled","deleteShallowConcavities","findNextNonDeletedIndex","isShallowConcavity","simplify","collapseLine","wn","_ptList","_minimimVertexDistance","On","COORDINATE_ARRAY_TYPE","addPt","isRedundant","revere","addPts","setMinimumVertexDistance","Tn","Rn","PI_TIMES_2","PI_OVER_2","PI_OVER_4","isAcute","isObtuse","interiorAngle","normalizePositive","angleBetween","diff","getTurn","angleBetweenOriented","Pn","_maxCurveSegmentError","_filletAngleQuantum","_closingSegLengthFactor","_segList","_bufParams","_li","_s0","_s1","_s2","_seg0","_seg1","_offset0","_offset1","_side","_hasNarrowConcaveAngle","MAX_CLOSING_SEG_LEN_FACTOR","Dn","OFFSET_SEGMENT_SEPARATION_FACTOR","INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR","CURVE_VERTEX_SNAP_DISTANCE_FACTOR","addNextSegment","computeOffsetSegment","addCollinear","addOutsideTurn","addInsideTurn","addLineEndCap","addFilletArc","addMitreJoin","addLimitedMitreJoin","addFilletCorner","addBevelJoin","createSquare","addSegments","addFirstSegment","addLastSegment","initSideSegments","createCircle","hasNarrowConcaveAngle","Mn","getOffsetCurve","getSegGen","computePointCurve","computeOffsetCurve","computeSingleSidedBufferCurve","simplifyTolerance","computeRingBufferCurve","computeLineBufferCurve","getLineCurve","getBufferParameters","getRingCurve","copyCoordinates","An","_subgraphs","_seg","_cga","Fn","DepthSegment","findStabbedSegments","Gn","_leftDepth","_upwardSeg","compareX","qn","interpolateZ","longestSideLength","circumcentre","area3D","inCentre","det","perpendicularBisector","angleBisector","Bn","_inputGeom","_curveBuilder","_curveList","addPoint","addCurve","addPolygon","isErodedCompletely","addPolygonRing","isTriangleErodedCompletely","addLineString","getCurves","addCollection","Vn","locate","Un","_parent","_atStart","_subcollectionIterator","isAtomic","zn","containsPointInPolygon","Xn","_edgeMap","_edgeList","_ptInAreaLocation","getNextCW","propagateSideLabels","isAreaLabelsConsistent","computeEdgeEndLabels","getBoundaryNodeRule","checkAreaLabelsConsistent","computeLabelling","getDegree","insertEdgeEnd","Yn","_resultAreaEdgeList","_SCANNING_FOR_INCOMING","_LINKING_TO_OUTGOING","getResultAreaEdges","updateLabelling","mergeSymLabels","findCoveredLineEdges","kn","jn","_orientation","compareOriented","Hn","_ocaMap","findEdgeIndex","findEqualEdge","Wn","Kn","_hasIntersection","_hasProper","_hasProperInterior","_hasInterior","_properIntersectionPoint","_isSelfIntersection","numIntersections","numInteriorIntersections","numProperIntersections","numTests","isTrivialIntersection","isAdjacentSegments","getProperIntersectionPoint","hasProperInteriorIntersection","getLineIntersector","hasProperIntersection","hasInteriorIntersection","Jn","getSegmentIndex","Qn","edge","pts","ni","Zn","$n","startIndex","env1","env2","computeIntersectsForChain","getStartIndexes","computeIntersects","ti","NULL_VALUE","ei","depthAtLocation","_mce","_isIsolated","_depthDelta","getCollapsedEdge","setIsolated","setName","isCollapsed","getMaximumSegmentIndex","getMonotoneChainEdge","isPointwiseEqual","setDepthDelta","getEdgeIntersectionList","setAtLeastIfValid","ii","_workingPrecisionModel","_workingNoder","_graph","setWorkingPrecisionModel","insertUniqueEdge","depthDelta","buildSubgraphs","createSubgraphs","createEmptyResultGeometry","getNoder","computeNodedEdges","setNoder","convertSegStrings","ri","_noder","_scaleFactor","_offsetX","_offsetY","_isScaled","isIntegerPrecision","rescale","oi","_segStrings","si","fact","checkEndPtVertexIntersections","checkInteriorIntersections","checkValid","checkCollapses","checkCollapse","ai","_pt","_originalPt","_ptScaled","_p0Scaled","_p1Scaled","_corner","_safeEnv","initCorners","ui","SAFE_ENV_EXPANSION_FACTOR","intersectsScaled","intersectsToleranceSquare","copyScaled","getSafeEnvelope","intersectsPixelClosure","addSnappedNode","li","selectedSegment","ci","HotPixelSnapAction","snap","isNodeAdded","_hotPixel","_parentEdge","_hotPixelVertexIndex","_isNodeAdded","fi","_interiorIntersections","getInteriorIntersections","gi","_pm","_pointSnapper","checkCorrectness","snapRound","findInteriorIntersections","computeIntersectionSnaps","computeVertexSnaps","di","_argGeom","_resultGeometry","_saveException","yi","CAP_BUTT","MAX_PRECISION_DIGITS","bufferFixedPrecision","bufferReducedPrecision","precisionScaleFactor","computeGeometry","bufferOriginalPrecision","getResultGeometry","_isNull","setMinimum","initialize","setMaximum","mi","computeDistance","vi","_maxPtDist","Ii","MaxPointDistanceFilter","MaxMidpointDistanceFilter","computeMaxMidpointDistance","xi","getMaxPointDistance","computeMaxVertexDistance","Ei","findDistance","getDistancePoints","_minPtDist","Ni","_comps","Ci","_lines","_isForcedToLineString","setForceToLineString","getLines","Si","_boundaryRule","_isIn","_numBoundaries","locateInternal","locateInPolygonRing","updateLocationInfo","computeLocation","Li","_component","_segIndex","INSIDE_AREA","bi","isInsideArea","getGeometryComponent","wi","getPoints","Oi","_locations","Ti","_terminateDistance","_ptLocator","_minDistanceLocation","_minDistance","computeContainmentDistance","computeMinDistanceLinesPoints","computeMinDistance","computeFacetDistance","computeMinDistanceLines","updateMinDistance","computeMinDistancePoints","nearestLocations","nearestPoints","isWithinDistance","Ri","Pi","Di","_g0","_g1","_ptDist","_densifyFrac","Mi","MaxDensifiedByFractionDistanceFilter","setDensifyFraction","computeOrientedDistance","Ai","Fi","orientedDistance","_euclideanDist","_numSubSegs","Gi","_minValidDistance","_maxValidDistance","_minDistanceFound","_maxDistanceFound","_isValid","_errMsg","_errorLocation","_errorIndicator","_bufDistance","qi","VERBOSE","MAX_DISTANCE_DIFF_FRAC","checkMaximumDistance","checkPositiveValid","checkNegativeValid","getPolygonLines","checkMinimumDistance","getErrorIndicator","getErrorLocation","getErrorMessage","Bi","_errorMsg","Vi","MAX_ENV_DIFF_FRAC","checkPolygonal","checkExpectedEmpty","checkEnvelope","checkArea","checkDistance","report","isValidMsg","Ui","zi","_findAllIntersections","_isCheckEndSegmentsOnly","_interiorIntersection","_intSegments","_intersections","_intersectionCount","_keepIntersections","getInteriorIntersection","setCheckEndSegmentsOnly","getIntersectionSegments","getIntersections","setFindAllIntersections","setKeepIntersections","isEndSegment","createAllIntersectionsFinder","createAnyIntersectionFinder","createIntersectionCounter","Xi","execute","computeIntersections","Yi","_nv","toSegmentStrings","ki","_mapOp","ji","_op","_lineEdgesList","_resultLineList","collectLines","getGraph","collectLineEdge","collectBoundaryTouchEdge","labelIsolatedLine","getArgGeometry","buildLines","Lr","isResultOfOp","isCoveredByA","labelIsolatedLines","INTERSECTION","Hi","_resultPointList","filterCoveredNodeToPoint","isCoveredByLA","extractNonCoveredResultNodes","Wi","_pruneEmptyGeometry","_preserveGeometryCollectionType","_preserveCollections","_preserveType","transformPoint","transformCoordinates","transformPolygon","transformLinearRing","createCoordinateSequence","getInputGeometry","transformMultiLineString","transformLineString","transformMultiPoint","transformMultiPolygon","transformGeometryCollection","Ki","_snapTolerance","_srcPts","_allowSnappingToSourceVertices","_isClosed","snapVertices","findSnapForVertex","snapTo","snapSegments","findSegmentIndexToSnap","setAllowSnappingToSourceVertices","Ji","_srcGeom","Qi","SNAP_PRECISION_FACTOR","extractTargetCoordinates","Zi","snapToSelf","computeSnapTolerance","computeMinimumSegmentLength","computeOverlaySnapTolerance","computeSizeBasedSnapTolerance","_snapPts","_isSelfSnap","snapLine","$i","_isFirst","_commonMantissaBitsCount","_commonBits","_commonSignExp","getCommon","signExpBits","numCommonMostSigMantissaBits","zeroLowerBits","toBinaryString","getBit","_commonCoord","_ccFilter","nr","er","CommonCoordinateFilter","Translater","addCommonBits","ir","removeCommonBits","getCommonCoordinate","_commonBitsX","_commonBitsY","trans","rr","_cbr","selfSnap","prepareResult","overlayOp","UNION","symDifference","SYMDIFFERENCE","DIFFERENCE","mce","chainIndex","ar","_xValue","_eventType","_insertEvent","_deleteEventIndex","_obj","INSERT","ur","isDelete","setDeleteEventIndex","getInsertEvent","isInsert","isSameLabel","getDeleteEventIndex","lr","_includeProper","_recordIsolated","_numIntersections","_bdyNodes","_isDone","_isDoneWhenProperInt","setIsDoneIfProperInt","isBoundaryPointInternal","isBoundaryPoint","setBoundaryNodes","pr","nOverlaps","prepareEvents","processOverlaps","addEdge","hr","NEGATIVE_INFINITY","NodeComparator","getMin","getMax","dr","yr","_node1","_node2","buildExtent","_r","_leaves","buildTree","buildLevel","buildRoot","printNode","mr","getItems","vr","xr","Ir","SegmentVisitor","IntervalIndexedGeometry","_counter","addLine","Nr","_parentGeom","_lineEdgeMap","_boundaryNodeRule","_useBoundaryDeterminationRule","_argIndex","_boundaryNodes","_hasTooFewPoints","_invalidPoint","_areaPtLocator","insertBoundaryPoint","determineBoundary","computeSelfNodes","createEdgeSetIntersector","addSelfIntersectionNodes","computeSplitEdges","computeEdgeIntersections","hasTooFewPoints","insertPoint","getInvalidPoint","getBoundaryPoints","addSelfIntersectionNode","Cr","_resultPrecisionModel","_arg","setComputationPrecision","Sr","MapOp","_resultGeom","_resultPolyList","cancelDuplicateResultEdges","createEmptyResult","replaceCollapsedEdges","updateNodeLabelling","computeOverlay","insertUniqueEdges","copyPoints","computeLabelsFromDepths","labelIncompleteNodes","findResultAreaEdges","labelIncompleteNode","resultDimension","br","_g","_boundaryDistanceTolerance","_linework","extractLinework","isWithinToleranceOfBoundary","wr","getLinework","Or","_doLeft","_doRight","extractPoints","computeOffsetPoints","setSidesToGenerate","Tr","_locFinder","_location","_invalidLocation","TOLERANCE","_testCoords","computeBoundaryDistanceTolerance","Rr","reportResult","addTestPts","hasLocation","isValidResult","getInvalidLocation","Pr","_geomFactory","_skipEmpty","_inputGeoms","extractFactory","extractElements","createList","Dr","_inputPolys","Mr","STRTREE_NODE_CAPACITY","reduceToGeometries","unionTree","extractByEnvelope","unionOptimized","unionActual","unionUsingEnvelopeIntersection","binaryUnion","unionSafe","repeatedUnion","restrictToPolygons","bufferUnion","Ar","OverlayOp","UnionOp","coordinatesSize","isPointAdded","nextPositionIndexes","getPointForPositionIndexes","prevPositionIndexes","isOrthogonal","_generatePointsParall4","prevPoint","nextPoint","prevAngle","getBearing","nextAngle","defaultCalculateElevationChange","_ref2$minElevation","minElevation","_ref2$maxElevation","maxElevation","_ref2$calculateElevat","calculateElevationChange","makeElevatedEvent","updatedCursor","scaleMode","translateMode","filteredModes","isEditHandleSelected","compositeGuides","rotateMode","nonEnvelopeGuides","guide","guidesToFilterOut","getIsRotating","lineStringToAdd","rectangle","coord4","distance1","distance2","shortestDistance","square","centerCoordinates","polygonPoints","finalizedCoordinates","fakePointerMoveEvent","getIntermediatePoint","tc","angle1","angle2","angles","newAngle1","newAngle2","indexFirst","line1","indexSecond","line2","fc","throttleMs","handleDraggingThrottled","handleDraggingAux","FUNC_ERROR_TEXT","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","objectToString","nativeMax","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","flush","isObjectLike","isSymbol","isBinary","MeasureDistanceMode","positionA","positionB","turfOptions","measurementCallback","formatTooltip","_ref4$centerTooltipsO","centerTooltipsOnLine","_isMeasuringSessionFinished","_currentTooltips","_currentDistance","_calculateDistanceForTooltip","tooltipPosition","_formatTooltip","clickSequenceLength","_ref5$centerTooltipsO","midpoint","heading","MeasureAreaMode","propsWithoutEdit","tentativeGuide","RADIUS","geomReduce","polygonArea","calculateArea","ringArea","lowerIndex","middleIndex","upperIndex","coordsLength","num","MeasureAngleMode","_getTooltips","_handler","snapSource","snapTarget","getPickedSnapSourceEditHandle","snapSourceHandle","snapSourceFeature","additionalSnapTargets","_getSnapTargets","enableSnapping","_getPickedSnapSource","_getSnapTargetHandles","_getUpdatedSnapSourceHandle","_getPickedSnapTarget","_getSnappedMouseEvent","_getSnapAwareEvent","FORWARD","BACKWARD","BOTH","layerName","EMPTY_FEATURE_COLLECTION","hexIds","getEditedCluster","updatedHexagons","existingCluster","EditableH3ClusterLayer","tentativeHexagonIDs","polyfill","geoToH3","hexIDs","getDerivedHexagonIDs","hexID","getDerivedHexagonID","finalHexagonIDs","committedHexagonIDs","getSelectedHexIDs","cumulativeHexIDs","selectedCluster","KTX2_ID","KTX2SupercompressionScheme","KTX2DataFormatType","KTX2DataFormatModel","KTX2DataFormatPrimaries","KTX2DataFormatTransfer","KTX2DataFormatFlags","KTX2DataFormatChannelETC1S","KTX2DataFormatChannelUASTC","KTX2Container","vendorId","descriptorType","BASICFORMAT","versionNumber","descriptorBlockSize","colorModel","UNSPECIFIED","colorPrimaries","SRGB","transferFunction","flags","ALPHA_STRAIGHT","texelBlockDimension","bytesPlane","samples","BufferReader","littleEndian","_dataView","_littleEndian","_nextUint8","_nextUint16","getUint16","_nextUint32","_nextUint64","_skip","_scan","maxByteLength","term","decodeText","container","headerByteLength","headerReader","vkFormat","typeSize","pixelWidth","pixelHeight","pixelDepth","layerCount","faceCount","levelCount","supercompressionScheme","dfdByteOffset","dfdByteLength","kvdByteOffset","kvdByteLength","sgdByteOffset","sgdByteLength","levelReader","levels","levelData","uncompressedByteLength","dfdReader","dfd","numSamples","bitOffset","bitLength","channelID","samplePosition","sampleLower","sampleUpper","dataFormatDescriptor","kvdReader","keyValueByteLength","keyData","valueData","keyValue","sgdReader","endpointCount","selectorCount","endpointsByteLength","selectorsByteLength","tablesByteLength","extendedByteLength","imageDescs","imageFlags","rgbSliceByteOffset","rgbSliceByteLength","alphaSliceByteOffset","alphaSliceByteLength","endpointsByteOffset","selectorsByteOffset","tablesByteOffset","extendedByteOffset","endpointsData","selectorsData","tablesData","extendedData","MANUAL_SRGB","SRGB_FAST_APPROXIMATION","GLSL_TEXTURE_LOD","USE_TEX_LOD","u_MetallicRoughnessValues","u_DiffuseEnvSampler","getDiffuseEnvSampler","u_SpecularEnvSampler","getSpecularEnvSampler","u_brdfLUT","getBrdfTexture","u_ScaleIBLAmbient","u_ScaleDiffBaseMR","u_ScaleFGDSpec","defineIfPresent","TANGENT","parseTexture","gltfTexture","textureOptions","specialTextureParameters","compressed","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_NEAREST","LINEAR","pixelStore","UNPACK_FLIP_Y_WEBGL","parsePbrMetallicRoughness","u_BaseColorFactor","baseColorFactor","metallicRoughnessTexture","metallicFactor","roughnessFactor","pbr_uUnlit","normalTexture","u_NormalScale","occlusionTexture","strength","u_OcclusionStrength","emissiveTexture","u_EmissiveFactor","emissiveFactor","alphaMode","alphaCutoff","ALPHA_CUTOFF","u_AlphaCutoff","FUNC_ADD","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","SELECTION_TYPE","RECTANGLE","POLYGON","MODE_MAP","MODE_CONFIG_MAP","selectionType","onSelect","EMPTY_DATA","LAYER_ID_BLOCKER","PASS_THROUGH_PROPS","SelectionLayer","_this$context$viewpor2","_this$context$viewpor4","pickingInfos","pickObjects","bigPolygon","mousePoints","allX","mousePoint","allY","landPointsPoly","bigBuffer","pendingPolygonSelection","blockerId","inheritedProps","_selectRectangleObjects","_selectPolygonObjects","PolygonLayer","ElevatedEditHandleLayer","getStrokeWidth","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","COLOR_BUFFER_BIT","SRC_COLOR","ONE_MINUS_SRC_COLOR","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","CONSTANT_COLOR","ONE_MINUS_CONSTANT_COLOR","CONSTANT_ALPHA","ONE_MINUS_CONSTANT_ALPHA","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","BLEND_EQUATION","BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA","BLEND_DST_RGB","BLEND_SRC_RGB","BLEND_DST_ALPHA","BLEND_SRC_ALPHA","BLEND_COLOR","ARRAY_BUFFER_BINDING","ELEMENT_ARRAY_BUFFER_BINDING","LINE_WIDTH","ALIASED_POINT_SIZE_RANGE","ALIASED_LINE_WIDTH_RANGE","CULL_FACE_MODE","FRONT_FACE","DEPTH_RANGE","DEPTH_WRITEMASK","DEPTH_CLEAR_VALUE","DEPTH_FUNC","STENCIL_CLEAR_VALUE","STENCIL_FUNC","STENCIL_FAIL","STENCIL_PASS_DEPTH_FAIL","STENCIL_PASS_DEPTH_PASS","STENCIL_REF","STENCIL_VALUE_MASK","STENCIL_WRITEMASK","STENCIL_BACK_FUNC","STENCIL_BACK_FAIL","STENCIL_BACK_PASS_DEPTH_FAIL","STENCIL_BACK_PASS_DEPTH_PASS","STENCIL_BACK_REF","STENCIL_BACK_VALUE_MASK","STENCIL_BACK_WRITEMASK","VIEWPORT","SCISSOR_BOX","COLOR_CLEAR_VALUE","COLOR_WRITEMASK","UNPACK_ALIGNMENT","PACK_ALIGNMENT","MAX_TEXTURE_SIZE","MAX_VIEWPORT_DIMS","SUBPIXEL_BITS","RED_BITS","GREEN_BITS","BLUE_BITS","ALPHA_BITS","DEPTH_BITS","STENCIL_BITS","POLYGON_OFFSET_UNITS","POLYGON_OFFSET_FACTOR","TEXTURE_BINDING_2D","SAMPLE_BUFFERS","SAMPLES","SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT","COMPRESSED_TEXTURE_FORMATS","VENDOR","RENDERER","IMPLEMENTATION_COLOR_READ_TYPE","IMPLEMENTATION_COLOR_READ_FORMAT","BROWSER_DEFAULT_WEBGL","STATIC_DRAW","STREAM_DRAW","DYNAMIC_DRAW","BUFFER_SIZE","BUFFER_USAGE","CURRENT_VERTEX_ATTRIB","VERTEX_ATTRIB_ARRAY_ENABLED","VERTEX_ATTRIB_ARRAY_SIZE","VERTEX_ATTRIB_ARRAY_STRIDE","VERTEX_ATTRIB_ARRAY_TYPE","VERTEX_ATTRIB_ARRAY_NORMALIZED","VERTEX_ATTRIB_ARRAY_POINTER","VERTEX_ATTRIB_ARRAY_BUFFER_BINDING","CULL_FACE","FRONT","BACK","FRONT_AND_BACK","BLEND","DEPTH_TEST","DITHER","POLYGON_OFFSET_FILL","SAMPLE_ALPHA_TO_COVERAGE","SAMPLE_COVERAGE","SCISSOR_TEST","STENCIL_TEST","NO_ERROR","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","CW","CCW","DONT_CARE","FASTEST","NICEST","GENERATE_MIPMAP_HINT","DEPTH_COMPONENT","ALPHA","LUMINANCE","LUMINANCE_ALPHA","FRAGMENT_SHADER","VERTEX_SHADER","COMPILE_STATUS","DELETE_STATUS","LINK_STATUS","VALIDATE_STATUS","ATTACHED_SHADERS","ACTIVE_ATTRIBUTES","ACTIVE_UNIFORMS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VARYING_VECTORS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_IMAGE_UNITS","MAX_FRAGMENT_UNIFORM_VECTORS","SHADER_TYPE","SHADING_LANGUAGE_VERSION","CURRENT_PROGRAM","NEVER","ALWAYS","LESS","EQUAL","LEQUAL","GREATER","GEQUAL","NOTEQUAL","REPLACE","INCR","DECR","INVERT","INCR_WRAP","DECR_WRAP","NEAREST","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_2D","TEXTURE","TEXTURE_CUBE_MAP","TEXTURE_BINDING_CUBE_MAP","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","MAX_CUBE_MAP_TEXTURE_SIZE","TEXTURE0","ACTIVE_TEXTURE","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","TEXTURE_WIDTH","TEXTURE_HEIGHT","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT","FRAMEBUFFER","RENDERBUFFER","RGBA4","RGB5_A1","RGB565","DEPTH_COMPONENT16","STENCIL_INDEX","STENCIL_INDEX8","DEPTH_STENCIL","RENDERBUFFER_WIDTH","RENDERBUFFER_HEIGHT","RENDERBUFFER_INTERNAL_FORMAT","RENDERBUFFER_RED_SIZE","RENDERBUFFER_GREEN_SIZE","RENDERBUFFER_BLUE_SIZE","RENDERBUFFER_ALPHA_SIZE","RENDERBUFFER_DEPTH_SIZE","RENDERBUFFER_STENCIL_SIZE","FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE","FRAMEBUFFER_ATTACHMENT_OBJECT_NAME","FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL","FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE","COLOR_ATTACHMENT0","DEPTH_ATTACHMENT","STENCIL_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","FRAMEBUFFER_COMPLETE","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_UNSUPPORTED","FRAMEBUFFER_BINDING","RENDERBUFFER_BINDING","READ_FRAMEBUFFER","DRAW_FRAMEBUFFER","MAX_RENDERBUFFER_SIZE","INVALID_FRAMEBUFFER_OPERATION","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","READ_BUFFER","UNPACK_ROW_LENGTH","UNPACK_SKIP_ROWS","UNPACK_SKIP_PIXELS","PACK_ROW_LENGTH","PACK_SKIP_ROWS","PACK_SKIP_PIXELS","TEXTURE_BINDING_3D","UNPACK_SKIP_IMAGES","UNPACK_IMAGE_HEIGHT","MAX_3D_TEXTURE_SIZE","MAX_ELEMENTS_VERTICES","MAX_ELEMENTS_INDICES","MAX_TEXTURE_LOD_BIAS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_VERTEX_UNIFORM_COMPONENTS","MAX_ARRAY_TEXTURE_LAYERS","MIN_PROGRAM_TEXEL_OFFSET","MAX_PROGRAM_TEXEL_OFFSET","MAX_VARYING_COMPONENTS","FRAGMENT_SHADER_DERIVATIVE_HINT","RASTERIZER_DISCARD","VERTEX_ARRAY_BINDING","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_SERVER_WAIT_TIMEOUT","MAX_ELEMENT_INDEX","RGB8","RGBA8","RGB10_A2","TEXTURE_3D","TEXTURE_WRAP_R","TEXTURE_MIN_LOD","TEXTURE_MAX_LOD","TEXTURE_BASE_LEVEL","TEXTURE_MAX_LEVEL","TEXTURE_COMPARE_MODE","TEXTURE_COMPARE_FUNC","SRGB8","SRGB8_ALPHA8","COMPARE_REF_TO_TEXTURE","RGBA32F","RGB32F","RGBA16F","RGB16F","TEXTURE_2D_ARRAY","TEXTURE_BINDING_2D_ARRAY","R11F_G11F_B10F","RGB9_E5","RGBA32UI","RGB32UI","RGBA16UI","RGB16UI","RGBA8UI","RGB8UI","RGBA32I","RGB32I","RGBA16I","RGB16I","RGBA8I","RGB8I","RED_INTEGER","RGB_INTEGER","RGBA_INTEGER","R8","RG8","R16F","R32F","RG16F","RG32F","R8I","R8UI","R16I","R16UI","R32I","R32UI","RG8I","RG8UI","RG16I","RG16UI","RG32I","RG32UI","R8_SNORM","RG8_SNORM","RGB8_SNORM","RGBA8_SNORM","RGB10_A2UI","TEXTURE_IMMUTABLE_FORMAT","TEXTURE_IMMUTABLE_LEVELS","UNSIGNED_INT_2_10_10_10_REV","UNSIGNED_INT_10F_11F_11F_REV","UNSIGNED_INT_5_9_9_9_REV","FLOAT_32_UNSIGNED_INT_24_8_REV","UNSIGNED_INT_24_8","HALF_FLOAT","RG","RG_INTEGER","INT_2_10_10_10_REV","CURRENT_QUERY","QUERY_RESULT","QUERY_RESULT_AVAILABLE","ANY_SAMPLES_PASSED","ANY_SAMPLES_PASSED_CONSERVATIVE","MAX_DRAW_BUFFERS","DRAW_BUFFER0","DRAW_BUFFER1","DRAW_BUFFER2","DRAW_BUFFER3","DRAW_BUFFER4","DRAW_BUFFER5","DRAW_BUFFER6","DRAW_BUFFER7","DRAW_BUFFER8","DRAW_BUFFER9","DRAW_BUFFER10","DRAW_BUFFER11","DRAW_BUFFER12","DRAW_BUFFER13","DRAW_BUFFER14","DRAW_BUFFER15","MAX_COLOR_ATTACHMENTS","COLOR_ATTACHMENT1","COLOR_ATTACHMENT2","COLOR_ATTACHMENT3","COLOR_ATTACHMENT4","COLOR_ATTACHMENT5","COLOR_ATTACHMENT6","COLOR_ATTACHMENT7","COLOR_ATTACHMENT8","COLOR_ATTACHMENT9","COLOR_ATTACHMENT10","COLOR_ATTACHMENT11","COLOR_ATTACHMENT12","COLOR_ATTACHMENT13","COLOR_ATTACHMENT14","COLOR_ATTACHMENT15","SAMPLER_3D","SAMPLER_2D_SHADOW","SAMPLER_2D_ARRAY","SAMPLER_2D_ARRAY_SHADOW","SAMPLER_CUBE_SHADOW","INT_SAMPLER_2D","INT_SAMPLER_3D","INT_SAMPLER_CUBE","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_3D","UNSIGNED_INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_2D_ARRAY","MAX_SAMPLES","SAMPLER_BINDING","PIXEL_PACK_BUFFER","PIXEL_UNPACK_BUFFER","PIXEL_PACK_BUFFER_BINDING","PIXEL_UNPACK_BUFFER_BINDING","COPY_READ_BUFFER","COPY_WRITE_BUFFER","COPY_READ_BUFFER_BINDING","COPY_WRITE_BUFFER_BINDING","FLOAT_MAT2x3","FLOAT_MAT2x4","FLOAT_MAT3x2","FLOAT_MAT3x4","FLOAT_MAT4x2","FLOAT_MAT4x3","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","UNSIGNED_NORMALIZED","SIGNED_NORMALIZED","VERTEX_ATTRIB_ARRAY_INTEGER","VERTEX_ATTRIB_ARRAY_DIVISOR","TRANSFORM_FEEDBACK_BUFFER_MODE","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","TRANSFORM_FEEDBACK_VARYINGS","TRANSFORM_FEEDBACK_BUFFER_START","TRANSFORM_FEEDBACK_BUFFER_SIZE","TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","INTERLEAVED_ATTRIBS","SEPARATE_ATTRIBS","TRANSFORM_FEEDBACK_BUFFER","TRANSFORM_FEEDBACK_BUFFER_BINDING","TRANSFORM_FEEDBACK","TRANSFORM_FEEDBACK_PAUSED","TRANSFORM_FEEDBACK_ACTIVE","TRANSFORM_FEEDBACK_BINDING","FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING","FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE","FRAMEBUFFER_ATTACHMENT_RED_SIZE","FRAMEBUFFER_ATTACHMENT_GREEN_SIZE","FRAMEBUFFER_ATTACHMENT_BLUE_SIZE","FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE","FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE","FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE","FRAMEBUFFER_DEFAULT","DEPTH24_STENCIL8","DRAW_FRAMEBUFFER_BINDING","READ_FRAMEBUFFER_BINDING","RENDERBUFFER_SAMPLES","FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER","FRAMEBUFFER_INCOMPLETE_MULTISAMPLE","UNIFORM_BUFFER","UNIFORM_BUFFER_BINDING","UNIFORM_BUFFER_START","UNIFORM_BUFFER_SIZE","MAX_VERTEX_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_UNIFORM_BUFFER_BINDINGS","MAX_UNIFORM_BLOCK_SIZE","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","UNIFORM_BUFFER_OFFSET_ALIGNMENT","ACTIVE_UNIFORM_BLOCKS","UNIFORM_TYPE","UNIFORM_SIZE","UNIFORM_BLOCK_INDEX","UNIFORM_OFFSET","UNIFORM_ARRAY_STRIDE","UNIFORM_MATRIX_STRIDE","UNIFORM_IS_ROW_MAJOR","UNIFORM_BLOCK_BINDING","UNIFORM_BLOCK_DATA_SIZE","UNIFORM_BLOCK_ACTIVE_UNIFORMS","UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES","UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER","UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER","OBJECT_TYPE","SYNC_CONDITION","SYNC_STATUS","SYNC_FLAGS","SYNC_FENCE","SYNC_GPU_COMMANDS_COMPLETE","UNSIGNALED","SIGNALED","ALREADY_SIGNALED","TIMEOUT_EXPIRED","CONDITION_SATISFIED","WAIT_FAILED","SYNC_FLUSH_COMMANDS_BIT","DEPTH","STENCIL","MIN","DEPTH_COMPONENT24","STREAM_READ","STREAM_COPY","STATIC_READ","STATIC_COPY","DYNAMIC_READ","DYNAMIC_COPY","DEPTH_COMPONENT32F","DEPTH32F_STENCIL8","INVALID_INDEX","TIMEOUT_IGNORED","MAX_CLIENT_WAIT_TIMEOUT_WEBGL","VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","MAX_TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_MAX_ANISOTROPY_EXT","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_R11_EAC","COMPRESSED_SIGNED_R11_EAC","COMPRESSED_RG11_EAC","COMPRESSED_SIGNED_RG11_EAC","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB_ATC_WEBGL","COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL","COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL","UNSIGNED_INT_24_8_WEBGL","HALF_FLOAT_OES","RGBA32F_EXT","RGB32F_EXT","FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT","UNSIGNED_NORMALIZED_EXT","MIN_EXT","MAX_EXT","SRGB_EXT","SRGB_ALPHA_EXT","SRGB8_ALPHA8_EXT","FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT","FRAGMENT_SHADER_DERIVATIVE_HINT_OES","COLOR_ATTACHMENT0_WEBGL","COLOR_ATTACHMENT1_WEBGL","COLOR_ATTACHMENT2_WEBGL","COLOR_ATTACHMENT3_WEBGL","COLOR_ATTACHMENT4_WEBGL","COLOR_ATTACHMENT5_WEBGL","COLOR_ATTACHMENT6_WEBGL","COLOR_ATTACHMENT7_WEBGL","COLOR_ATTACHMENT8_WEBGL","COLOR_ATTACHMENT9_WEBGL","COLOR_ATTACHMENT10_WEBGL","COLOR_ATTACHMENT11_WEBGL","COLOR_ATTACHMENT12_WEBGL","COLOR_ATTACHMENT13_WEBGL","COLOR_ATTACHMENT14_WEBGL","COLOR_ATTACHMENT15_WEBGL","DRAW_BUFFER0_WEBGL","DRAW_BUFFER1_WEBGL","DRAW_BUFFER2_WEBGL","DRAW_BUFFER3_WEBGL","DRAW_BUFFER4_WEBGL","DRAW_BUFFER5_WEBGL","DRAW_BUFFER6_WEBGL","DRAW_BUFFER7_WEBGL","DRAW_BUFFER8_WEBGL","DRAW_BUFFER9_WEBGL","DRAW_BUFFER10_WEBGL","DRAW_BUFFER11_WEBGL","DRAW_BUFFER12_WEBGL","DRAW_BUFFER13_WEBGL","DRAW_BUFFER14_WEBGL","DRAW_BUFFER15_WEBGL","MAX_COLOR_ATTACHMENTS_WEBGL","MAX_DRAW_BUFFERS_WEBGL","VERTEX_ARRAY_BINDING_OES","QUERY_COUNTER_BITS_EXT","CURRENT_QUERY_EXT","QUERY_RESULT_EXT","QUERY_RESULT_AVAILABLE_EXT","TIME_ELAPSED_EXT","TIMESTAMP_EXT","GPU_DISJOINT_EXT","INITIAL_STATE","outline_uEnabled","outline_uRenderOutlines","outline_uShadowmap","DEFAULT_MARKER_LAYER","DEFAULT_MARKER_LAYER_PROPS","Arrow2DGeometry","headSize","tailWidth","MarkerLayer","markerLayerProps","highlightIndex","highlightPoint","getPath","getMarkerColor","getMarkerPercentages","PathMarkerLayer","markers","xyz","_viewport$metersToLng2","metersToLngLatDelta","LNGLAT_OFFSETS","_recalculateClosestPoint","getClosestPointOnPolyline","getArrowAttributes","_ref$headSize","_ref$tailWidth","_ref$tailStart","tailStart","_ref$getPath","_ref$getDirection","_ref$getColor","_ref$getMarkerPercent","DEFAULT_DIRECTION","vPoints","vPointsReverse","getLineLength","percentage","forward","createMarkerAlongPath","backward","distanceAlong","previousDistance","vCenter","verticalAngle","pClosest","distanceSquared","pClosestOnLine","getClosestPointOnLine","distanceToLineSquared","_ref$clampToLine","clampToLine","lineVector","pointVector","dotProduct","JunctionScatterplotLayer","getStrokeColor","getInnerRadius","booleanClockwise","cur","rewindLineString","lineCoords","rewind","loadLibraryPromises","libraryUrl","moduleName","getLibraryUrl","loadLibraryFromFile","library","isWorker","importScripts","scriptSource","script","appendChild","createTextNode","loadLibraryFromString","BASIS_CDN_ENCODER_WASM","BASIS_CDN_ENCODER_JS","loadBasisTranscoderPromise","loadBasisEncoderPromise","loadBasisTrascoderModule","basis","BASIS","BasisModule","BasisFile","initializeBasis","initializeBasisTrascoderModule","loadBasisTrascoder","loadBasisEncoderModule","basisEncoder","BASIS_ENCODER","BasisEncoderModule","KTX2File","BasisEncoder","initializeBasisEncoderModule","loadBasisEncoder","GL_EXTENSIONS_CONSTANTS","COMPRESSED_RGBA_ASTC_4X4_KHR","COMPRESSED_RGBA_ASTC_5X4_KHR","COMPRESSED_RGBA_ASTC_5X5_KHR","COMPRESSED_RGBA_ASTC_6X5_KHR","COMPRESSED_RGBA_ASTC_6X6_KHR","COMPRESSED_RGBA_ASTC_8X5_KHR","COMPRESSED_RGBA_ASTC_8X6_KHR","COMPRESSED_RGBA_ASTC_8X8_KHR","COMPRESSED_RGBA_ASTC_10X5_KHR","COMPRESSED_RGBA_ASTC_10X6_KHR","COMPRESSED_RGBA_ASTC_10X8_KHR","COMPRESSED_RGBA_ASTC_10X10_KHR","COMPRESSED_RGBA_ASTC_12X10_KHR","COMPRESSED_RGBA_ASTC_12X12_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR","COMPRESSED_RED_RGTC1_EXT","COMPRESSED_SIGNED_RED_RGTC1_EXT","COMPRESSED_RED_GREEN_RGTC2_EXT","COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","BROWSER_PREFIXES","WEBGL_EXTENSIONS","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_astc","EXT_texture_compression_rgtc","formats","getSupportedGPUTextureFormats","getWebGLContext","gpuTextureFormat","OutputFormat","etc1","basisFormat","etc2","bc1","bc3","bc4","bc5","rgba32","bgr565","rgba4444","parseBasisFile","basisFile","startTranscoding","imageCount","getNumImages","images","imageIndex","levelsCount","getNumLevels","levelIndex","transcodeImage","close","getImageWidth","getImageHeight","hasAlpha","getHasAlpha","getBasisOptions","decodedSize","getImageTranscodedSizeInBytes","decodedData","parseKTX2File","ktx2File","getLevels","transcodeKTX2Image","alphaFlag","getImageLevelInfo","selectSupportedBasisFormat","noAlpha","supportedFormats","BasisWorkerLoader","containerFormat","BasisLoader","isKTX","fileConstructors","resolveUrl","baseUrl","getTypedArrayForBufferView","binChunk","TYPES","ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT","ARRAY_TO_COMPONENT_TYPE","ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE","getAccessorTypeFromSize","getComponentTypeFromArray","getAccessorArrayTypeAndLength","bytesPerComponent","DEFAULT_GLTF_JSON","GLTFScenegraph","sourceBuffers","getApplicationData","getExtraData","isExtension","getUsedExtensions","getRequiredExtension","getRequiredExtensions","getObjectExtension","getSkin","getMesh","getMaterial","getAccessor","getTexture","getSampler","getImage","getBufferView","getBuffer","bufferIndex","getTypedArrayForAccessor","getTypedArrayForImageData","addApplicationData","addExtraData","addObjectExtension","registerUsedExtension","setObjectExtension","removeObjectExtension","addExtension","extensionData","addRequiredExtension","registerRequiredExtension","removeExtension","_removeStringFromArray","setDefaultScene","sceneIndex","addScene","nodeIndices","meshIndex","nodeData","addMesh","glTFMesh","_addAttributes","indicesAccessor","_addIndices","meshes","addPointCloud","addImage","imageData","mimeTypeOpt","getBinaryImageMetadata","glTFImage","addBufferView","glTFBufferView","addAccessor","glTFAccessor","addBinaryBuffer","sourceBuffer","minMax","_getAccessorMinMax","accessorDefaults","addTexture","glTFTexture","textures","addMaterial","pbrMaterialInfo","materials","createBinaryChunk","totalByteLength","targetArray","dstByteOffset","_this$json","_this$json$buffers","found","attributeKey","attributeData","_getGltfAttributeName","initValues","componentIndex","wasm_base","wasm_simd","detector","wasmpack","FILTERS","OCTAHEDRAL","QUATERNION","EXPONENTIAL","DECODERS","ATTRIBUTES","INDICES","wasmPromise","loadWasmInstance","wasm","ch","charCodeAt","__wasm_call_ctors","loadWasmModule","fun","sbrk","count4","tp","heap","memory","EXT_MESHOPT_COMPRESSION","gltfData","_options$gltf","decompressMeshes","promises","decodeMeshoptBufferView","meshoptExtension","meshoptDecodeGltfBuffer","NODE_FORMAT_SUPPORT","mimeTypeSupported","_isImageFormatSupported","checkWebPSupport","_parseImageNode","checkFormatSupport","EXT_TEXTURE_WEBP","preprocess","KHR_TEXTURE_BASISU","getGLTFAccessor","convertTypedArrays","toTypedArray","getAccessorData","KHR_DRACO_MESH_COMPRESSION","Scenegraph","primitive","makeMeshPrimitiveIterator","decompressPrimitive","compressMesh","dracoExtension","bufferCopy","decodedAttributes","getGLTFAccessors","decodedAttribute","accessorIndex","checkPrimitive","DracoWriter","compressedData","encodeSync","_context$parseSync","fauxAccessors","_addFauxAttributes","KHR_LIGHTS_PUNCTUAL","gltfScenegraph","nodeExtension","light","KHR_MATERIALS_UNLIT","KHR_materials_unlit","KHR_TECHNIQUES_WEBGL","techniques","techniquesExtension","programs","shader","program","fragmentShader","vertexShader","technique","resolveTechniques","materialExtension","resolveValues","EXTENSIONS","EXT_meshopt_compression","EXT_texture_webp","KHR_texture_basisu","KHR_draco_mesh_compression","KHR_lights_punctual","KHR_techniques_webgl","preprocessExtensions","useExtension","decodeExtensions","_extension$decode","excludes","excludeExtensions","KHR_BINARY_GLTF","GLTF_ARRAYS","skins","GLTF_KEYS","skin","GLTFV1Normalizer","_addAsset","_convertTopLevelObjectsToArrays","KHR_binary_glTF","_convertObjectIdsToArrayIndices","_updateObjects","_updateMaterial","arrayName","_convertTopLevelObjectToArray","mapName","objectMap","idToIndexMap","_convertIdsToIndices","_convertIdToIndex","_convertTextureIds","_convertMeshIds","_convertNodeIds","_convertSceneIds","topLevelArrayName","textureId","tex","_material$values2","texture2d_0","_material$values3","diffuseTex","textureIndex","normalizeGLTFV1","COMPONENTS","BYTES","GL_SAMPLER","SAMPLER_PARAMETER_GLTF_TO_GL","magFilter","minFilter","wrapS","wrapT","DEFAULT_SAMPLER","GLTFPostProcessor","postProcess","_resolveTree","bufView","_resolveBufferView","_resolveImage","_resolveSampler","_resolveTexture","_resolveAccessor","_resolveMaterial","_resolveMesh","_resolveNode","_resolveSkin","_resolveScene","getCamera","accum","inverseBindMatrices","occlustionTexture","emmisiveTexture","bytesPerElement","cutBuffer","_getValueFromInterleavedBuffer","glEnum","_enumSamplerParameter","preloadedImage","_resolveCamera","perspective","orthographic","postProcessGLTF","MAGIC_glTF","GLB_CHUNK_TYPE_JSON","GLB_CHUNK_TYPE_BIN","LE","isGLB","magic1","parseGLBV1","glb","GLB_FILE_HEADER_SIZE","contentFormat","parseJSONChunk","parseBINChunk","parseGLBV2","chunkFormat","strict","parseGLBChunksSync","jsonChunk","jsonText","hasBinChunk","binChunks","parseGLTF","arrayBufferOrString","parseGLTFContainerSync","loadBuffers","_options$gltf3","loadImages","promise","parseGLBSync","_glb","_context$fetch","_response$arrayBuffer","imageIndices","getReferencesImageIndices","loadImage","parsedImage","ImageLoader","fetchImages","createImages","decompress","hiPart","loPart","matrixFP64","CONST_UNIFORMS","LIGHTING_FRAGMENT"],"mappings":"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","file":"static/js/0.e7b066ed.chunk.js","sourcesContent":["import {lerp} from '@math.gl/core';\n\nconst DEFAULT_INDICES = new Uint16Array([0, 2, 1, 0, 3, 2]);\nconst DEFAULT_TEX_COORDS = new Float32Array([0, 1, 0, 0, 1, 0, 1, 1]);\n\n/*\n  1 ---- 2\n  |      |\n  |      |\n  0 ---- 3\n*/\n/* eslint-disable max-statements */\nexport default function createMesh(bounds, resolution) {\n  if (!resolution) {\n    return createQuad(bounds);\n  }\n  const maxXSpan = Math.max(\n    Math.abs(bounds[0][0] - bounds[3][0]),\n    Math.abs(bounds[1][0] - bounds[2][0])\n  );\n  const maxYSpan = Math.max(\n    Math.abs(bounds[1][1] - bounds[0][1]),\n    Math.abs(bounds[2][1] - bounds[3][1])\n  );\n  const uCount = Math.ceil(maxXSpan / resolution) + 1;\n  const vCount = Math.ceil(maxYSpan / resolution) + 1;\n\n  const vertexCount = (uCount - 1) * (vCount - 1) * 6;\n  const indices = new Uint32Array(vertexCount);\n  const texCoords = new Float32Array(uCount * vCount * 2);\n  const positions = new Float64Array(uCount * vCount * 3);\n\n  // Tesselate\n  let vertex = 0;\n  let index = 0;\n  for (let u = 0; u < uCount; u++) {\n    const ut = u / (uCount - 1);\n    for (let v = 0; v < vCount; v++) {\n      const vt = v / (vCount - 1);\n      const p = interpolateQuad(bounds, ut, vt);\n\n      positions[vertex * 3 + 0] = p[0];\n      positions[vertex * 3 + 1] = p[1];\n      positions[vertex * 3 + 2] = p[2] || 0;\n\n      texCoords[vertex * 2 + 0] = ut;\n      texCoords[vertex * 2 + 1] = 1 - vt;\n\n      if (u > 0 && v > 0) {\n        indices[index++] = vertex - vCount;\n        indices[index++] = vertex - vCount - 1;\n        indices[index++] = vertex - 1;\n        indices[index++] = vertex - vCount;\n        indices[index++] = vertex - 1;\n        indices[index++] = vertex;\n      }\n\n      vertex++;\n    }\n  }\n  return {\n    vertexCount,\n    positions,\n    indices,\n    texCoords\n  };\n}\n\nfunction createQuad(bounds) {\n  const positions = new Float64Array(12);\n  // [[minX, minY], [minX, maxY], [maxX, maxY], [maxX, minY]]\n  for (let i = 0; i < bounds.length; i++) {\n    positions[i * 3 + 0] = bounds[i][0];\n    positions[i * 3 + 1] = bounds[i][1];\n    positions[i * 3 + 2] = bounds[i][2] || 0;\n  }\n\n  return {\n    vertexCount: 6,\n    positions,\n    indices: DEFAULT_INDICES,\n    texCoords: DEFAULT_TEX_COORDS\n  };\n}\n\nfunction interpolateQuad(quad, ut, vt) {\n  return lerp(lerp(quad[0], quad[1], vt), lerp(quad[3], quad[2], vt), ut);\n}\n","/**\n * Pack the top 12 bits of two normalized floats into 3 8-bit (rgb) values\n * This enables addressing 4096x4096 individual pixels\n *\n * returns vec3 encoded RGB colors\n *  result.r - top 8 bits of u\n *  result.g - top 8 bits of v\n *  result.b - next 4 bits of u and v: (u + v * 16)\n */\nconst packUVsIntoRGB = `\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n`;\n\nexport default `\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  return mix(transparentColor, vec4(color, 1.0), alpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n${packUVsIntoRGB}\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n`;\n","// Copyright (c) 2015 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport GL from '@luma.gl/constants';\nimport {\n  Layer,\n  project32,\n  picking,\n  CoordinateSystem,\n  COORDINATE_SYSTEM,\n  LayerProps,\n  PickingInfo,\n  GetPickingInfoParams,\n  UpdateParameters,\n  Color,\n  Texture,\n  Position,\n  DefaultProps\n} from '@deck.gl/core';\nimport {Model, Geometry} from '@luma.gl/core';\nimport {lngLatToWorld} from '@math.gl/web-mercator';\n\nimport createMesh from './create-mesh';\n\nimport vs from './bitmap-layer-vertex';\nimport fs from './bitmap-layer-fragment';\n\nconst defaultProps: DefaultProps<BitmapLayerProps> = {\n  image: {type: 'image', value: null, async: true},\n  bounds: {type: 'array', value: [1, 0, 0, 1], compare: true},\n  _imageCoordinateSystem: COORDINATE_SYSTEM.DEFAULT,\n\n  desaturate: {type: 'number', min: 0, max: 1, value: 0},\n  // More context: because of the blending mode we're using for ground imagery,\n  // alpha is not effective when blending the bitmap layers with the base map.\n  // Instead we need to manually dim/blend rgb values with a background color.\n  transparentColor: {type: 'color', value: [0, 0, 0, 0]},\n  tintColor: {type: 'color', value: [255, 255, 255]}\n};\n\n/** All properties supported by BitmapLayer. */\nexport type BitmapLayerProps = _BitmapLayerProps & LayerProps;\nexport type BitmapBoundingBox =\n  | [left: number, bottom: number, right: number, top: number]\n  | [Position, Position, Position, Position];\n\n/** Properties added by BitmapLayer. */\ntype _BitmapLayerProps = {\n  /**\n   * The image to display.\n   *\n   * @default null\n   */\n  image?: string | Texture | null;\n\n  /**\n   * Supported formats:\n   *  - Coordinates of the bounding box of the bitmap `[left, bottom, right, top]`\n   *  - Coordinates of four corners of the bitmap, should follow the sequence of `[[left, bottom], [left, top], [right, top], [right, bottom]]`.\n   *   Each position could optionally contain a third component `z`.\n   * @default [1, 0, 0, 1]\n   */\n  bounds?: BitmapBoundingBox;\n\n  /**\n   * > Note: this prop is experimental.\n   *\n   * Specifies how image coordinates should be geographically interpreted.\n   * @default COORDINATE_SYSTEM.DEFAULT\n   */\n  _imageCoordinateSystem?: CoordinateSystem;\n\n  /**\n   * The desaturation of the bitmap. Between `[0, 1]`.\n   * @default 0\n   */\n  desaturate?: number;\n\n  /**\n   * The color to use for transparent pixels, in `[r, g, b, a]`.\n   * @default [0, 0, 0, 0]\n   */\n  transparentColor?: Color;\n\n  /**\n   * The color to tint the bitmap by, in `[r, g, b]`.\n   * @default [255, 255, 255]\n   */\n  tintColor?: Color;\n\n  /** Customize the [texture parameters](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter). */\n  textureParameters?: Record<number, number> | null;\n};\n\n/** Render a bitmap at specified boundaries. */\nexport default class BitmapLayer<ExtraPropsT = {}> extends Layer<\n  ExtraPropsT & Required<_BitmapLayerProps>\n> {\n  static layerName = 'BitmapLayer';\n  static defaultProps = defaultProps;\n\n  state!: Layer['state'] & {\n    disablePicking?: boolean;\n    model?: Model;\n    mesh?: any;\n    coordinateConversion?: number;\n    bounds?: number[];\n  };\n\n  getShaders() {\n    return super.getShaders({vs, fs, modules: [project32, picking]});\n  }\n\n  initializeState() {\n    const attributeManager = this.getAttributeManager()!;\n\n    attributeManager.remove(['instancePickingColors']);\n    const noAlloc = true;\n\n    attributeManager.add({\n      indices: {\n        size: 1,\n        isIndexed: true,\n        update: attribute => (attribute.value = this.state.mesh.indices),\n        noAlloc\n      },\n      positions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        update: attribute => (attribute.value = this.state.mesh.positions),\n        noAlloc\n      },\n      texCoords: {\n        size: 2,\n        update: attribute => (attribute.value = this.state.mesh.texCoords),\n        noAlloc\n      }\n    });\n  }\n\n  updateState({props, oldProps, changeFlags}: UpdateParameters<this>): void {\n    // setup model first\n    const attributeManager = this.getAttributeManager()!;\n\n    if (changeFlags.extensionsChanged) {\n      const {gl} = this.context;\n      this.state.model?.delete();\n      this.state.model = this._getModel(gl);\n      attributeManager.invalidateAll();\n    }\n\n    if (props.bounds !== oldProps.bounds) {\n      const oldMesh = this.state.mesh;\n      const mesh = this._createMesh();\n      this.state.model.setVertexCount(mesh.vertexCount);\n      for (const key in mesh) {\n        if (oldMesh && oldMesh[key] !== mesh[key]) {\n          attributeManager.invalidate(key);\n        }\n      }\n      this.setState({mesh, ...this._getCoordinateUniforms()});\n    } else if (props._imageCoordinateSystem !== oldProps._imageCoordinateSystem) {\n      this.setState(this._getCoordinateUniforms());\n    }\n  }\n\n  getPickingInfo(params: GetPickingInfoParams): PickingInfo {\n    const {image} = this.props;\n    const info: PickingInfo & {bitmap?: any} = params.info;\n\n    if (!info.color || !image) {\n      info.bitmap = null;\n      return info;\n    }\n\n    const {width, height} = image as Texture;\n\n    // Picking color doesn't represent object index in this layer\n    info.index = 0;\n\n    // Calculate uv and pixel in bitmap\n    const uv = unpackUVsFromRGB(info.color);\n\n    const pixel = [Math.floor(uv[0] * (width as number)), Math.floor(uv[1] * (height as number))];\n\n    info.bitmap = {\n      size: {width, height}, // Size of bitmap\n      uv, // Floating point precision in 0-1 range\n      pixel // Truncated to integer and scaled to pixel size\n    };\n\n    return info;\n  }\n\n  // Override base Layer multi-depth picking logic\n  disablePickingIndex() {\n    this.setState({disablePicking: true});\n  }\n\n  restorePickingColors() {\n    this.setState({disablePicking: false});\n  }\n\n  protected _updateAutoHighlight(info) {\n    super._updateAutoHighlight({\n      ...info,\n      color: this.encodePickingColor(0)\n    });\n  }\n\n  protected _createMesh() {\n    const {bounds} = this.props;\n\n    let normalizedBounds = bounds;\n    // bounds as [minX, minY, maxX, maxY]\n    if (isRectangularBounds(bounds)) {\n      /*\n        (minX0, maxY3) ---- (maxX2, maxY3)\n               |                  |\n               |                  |\n               |                  |\n        (minX0, minY1) ---- (maxX2, minY1)\n     */\n      normalizedBounds = [\n        [bounds[0], bounds[1]],\n        [bounds[0], bounds[3]],\n        [bounds[2], bounds[3]],\n        [bounds[2], bounds[1]]\n      ];\n    }\n\n    return createMesh(normalizedBounds, this.context.viewport.resolution);\n  }\n\n  protected _getModel(gl: WebGLRenderingContext): Model {\n    if (!gl) {\n      return null;\n    }\n\n    /*\n      0,0 --- 1,0\n       |       |\n      0,1 --- 1,1\n    */\n    return new Model(gl, {\n      ...this.getShaders(),\n      id: this.props.id,\n      geometry: new Geometry({\n        drawMode: GL.TRIANGLES,\n        vertexCount: 6\n      }),\n      isInstanced: false\n    });\n  }\n\n  draw(opts) {\n    const {uniforms, moduleParameters} = opts;\n    const {model, coordinateConversion, bounds, disablePicking} = this.state;\n    const {image, desaturate, transparentColor, tintColor} = this.props;\n\n    if (moduleParameters.pickingActive && disablePicking) {\n      return;\n    }\n\n    // // TODO fix zFighting\n    // Render the image\n    if (image && model) {\n      model\n        .setUniforms(uniforms)\n        .setUniforms({\n          bitmapTexture: image,\n          desaturate,\n          transparentColor: transparentColor.map(x => x / 255),\n          tintColor: tintColor.slice(0, 3).map(x => x / 255),\n          coordinateConversion,\n          bounds\n        })\n        .draw();\n    }\n  }\n\n  _getCoordinateUniforms() {\n    const {LNGLAT, CARTESIAN, DEFAULT} = COORDINATE_SYSTEM;\n    let {_imageCoordinateSystem: imageCoordinateSystem} = this.props;\n    if (imageCoordinateSystem !== DEFAULT) {\n      const {bounds} = this.props;\n      if (!isRectangularBounds(bounds)) {\n        throw new Error('_imageCoordinateSystem only supports rectangular bounds');\n      }\n\n      // The default behavior (linearly interpolated tex coords)\n      const defaultImageCoordinateSystem = this.context.viewport.resolution ? LNGLAT : CARTESIAN;\n      imageCoordinateSystem = imageCoordinateSystem === LNGLAT ? LNGLAT : CARTESIAN;\n\n      if (imageCoordinateSystem === LNGLAT && defaultImageCoordinateSystem === CARTESIAN) {\n        // LNGLAT in Mercator, e.g. display LNGLAT-encoded image in WebMercator projection\n        return {coordinateConversion: -1, bounds};\n      }\n      if (imageCoordinateSystem === CARTESIAN && defaultImageCoordinateSystem === LNGLAT) {\n        // Mercator in LNGLAT, e.g. display WebMercator encoded image in Globe projection\n        const bottomLeft = lngLatToWorld([bounds[0], bounds[1]]);\n        const topRight = lngLatToWorld([bounds[2], bounds[3]]);\n        return {\n          coordinateConversion: 1,\n          bounds: [bottomLeft[0], bottomLeft[1], topRight[0], topRight[1]]\n        };\n      }\n    }\n    return {\n      coordinateConversion: 0,\n      bounds: [0, 0, 0, 0]\n    };\n  }\n}\n\n/**\n * Decode uv floats from rgb bytes where b contains 4-bit fractions of uv\n * @param {number[]} color\n * @returns {number[]} uvs\n * https://stackoverflow.com/questions/30242013/glsl-compressing-packing-multiple-0-1-colours-var4-into-a-single-var4-variab\n */\nfunction unpackUVsFromRGB(color) {\n  const [u, v, fracUV] = color;\n  const vFrac = (fracUV & 0xf0) / 256;\n  const uFrac = (fracUV & 0x0f) / 16;\n  return [(u + uFrac) / 256, (v + vFrac) / 256];\n}\n\nfunction isRectangularBounds(\n  bounds: [number, number, number, number] | [Position, Position, Position, Position]\n): bounds is [number, number, number, number] {\n  return Number.isFinite(bounds[0]);\n}\n","export default `\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {\n  Layer,\n  project32,\n  picking,\n  UNIT,\n  LayerProps,\n  Unit,\n  Position,\n  Accessor,\n  Color,\n  UpdateParameters,\n  DefaultProps\n} from '@deck.gl/core';\nimport GL from '@luma.gl/constants';\nimport {Model, Geometry} from '@luma.gl/core';\n\nimport vs from './line-layer-vertex.glsl';\nimport fs from './line-layer-fragment.glsl';\n\nconst DEFAULT_COLOR: [number, number, number, number] = [0, 0, 0, 255];\n\nconst defaultProps: DefaultProps<LineLayerProps> = {\n  getSourcePosition: {type: 'accessor', value: x => x.sourcePosition},\n  getTargetPosition: {type: 'accessor', value: x => x.targetPosition},\n  getColor: {type: 'accessor', value: DEFAULT_COLOR},\n  getWidth: {type: 'accessor', value: 1},\n\n  widthUnits: 'pixels',\n  widthScale: {type: 'number', value: 1, min: 0},\n  widthMinPixels: {type: 'number', value: 0, min: 0},\n  widthMaxPixels: {type: 'number', value: Number.MAX_SAFE_INTEGER, min: 0}\n};\n\n/** All properties supported by LineLayer. */\nexport type LineLayerProps<DataT = any> = _LineLayerProps<DataT> & LayerProps<DataT>;\n\n/** Properties added by LineLayer. */\ntype _LineLayerProps<DataT> = {\n  /**\n   * The units of the line width, one of `'meters'`, `'common'`, and `'pixels'`.\n   * @default 'pixels'\n   */\n  widthUnits?: Unit;\n\n  /**\n   * The scaling multiplier for the width of each line.\n   * @default 1\n   */\n  widthScale?: number;\n\n  /**\n   * The minimum line width in pixels.\n   * @default 0\n   */\n  widthMinPixels?: number;\n\n  /**\n   * The maximum line width in pixels.\n   * @default Number.MAX_SAFE_INTEGER\n   */\n  widthMaxPixels?: number;\n\n  /**\n   * Source position of each object.\n   * @default object => object.sourcePosition\n   */\n  getSourcePosition?: Accessor<DataT, Position>;\n\n  /**\n   * Target position of each object.\n   * @default object => object.targetPosition\n   */\n  getTargetPosition?: Accessor<DataT, Position>;\n\n  /**\n   * The rgba color is in the format of `[r, g, b, [a]]`.\n   * @default [0, 0, 0, 255]\n   */\n  getColor?: Accessor<DataT, Color>;\n\n  /**\n   * Width of each object\n   * @default 1\n   */\n  getWidth?: Accessor<DataT, number>;\n};\n\n/**\n * A layer that renders straight lines joining pairs of source and target coordinates.\n */\nexport default class LineLayer<DataT = any, ExtraProps = {}> extends Layer<\n  ExtraProps & Required<_LineLayerProps<DataT>>\n> {\n  static layerName = 'LineLayer';\n  static defaultProps = defaultProps;\n\n  getShaders() {\n    return super.getShaders({vs, fs, modules: [project32, picking]});\n  }\n\n  // This layer has its own wrapLongitude logic\n  get wrapLongitude(): boolean {\n    return false;\n  }\n\n  initializeState() {\n    const attributeManager = this.getAttributeManager()!;\n\n    /* eslint-disable max-len */\n    attributeManager.addInstanced({\n      instanceSourcePositions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        transition: true,\n        accessor: 'getSourcePosition'\n      },\n      instanceTargetPositions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        transition: true,\n        accessor: 'getTargetPosition'\n      },\n      instanceColors: {\n        size: this.props.colorFormat.length,\n        type: GL.UNSIGNED_BYTE,\n        normalized: true,\n        transition: true,\n        accessor: 'getColor',\n        defaultValue: [0, 0, 0, 255]\n      },\n      instanceWidths: {\n        size: 1,\n        transition: true,\n        accessor: 'getWidth',\n        defaultValue: 1\n      }\n    });\n    /* eslint-enable max-len */\n  }\n\n  updateState(params: UpdateParameters<this>): void {\n    super.updateState(params);\n\n    if (params.changeFlags.extensionsChanged) {\n      const {gl} = this.context;\n      this.state.model?.delete();\n      this.state.model = this._getModel(gl);\n      this.getAttributeManager()!.invalidateAll();\n    }\n  }\n\n  draw({uniforms}): void {\n    const {widthUnits, widthScale, widthMinPixels, widthMaxPixels, wrapLongitude} = this.props;\n\n    this.state.model\n      .setUniforms(uniforms)\n      .setUniforms({\n        widthUnits: UNIT[widthUnits],\n        widthScale,\n        widthMinPixels,\n        widthMaxPixels,\n        useShortestPath: wrapLongitude ? 1 : 0\n      })\n      .draw();\n\n    if (wrapLongitude) {\n      // Render a second copy for the clipped lines at the 180th meridian\n      this.state.model\n        .setUniforms({\n          useShortestPath: -1\n        })\n        .draw();\n    }\n  }\n\n  protected _getModel(gl: WebGLRenderingContext): Model {\n    /*\n     *  (0, -1)-------------_(1, -1)\n     *       |          _,-\"  |\n     *       o      _,-\"      o\n     *       |  _,-\"          |\n     *   (0, 1)\"-------------(1, 1)\n     */\n    const positions = [0, -1, 0, 0, 1, 0, 1, -1, 0, 1, 1, 0];\n\n    return new Model(gl, {\n      ...this.getShaders(),\n      id: this.props.id,\n      geometry: new Geometry({\n        drawMode: GL.TRIANGLE_STRIP,\n        attributes: {\n          positions: new Float32Array(positions)\n        }\n      }),\n      isInstanced: true\n    });\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvec3 splitLine(vec3 a, vec3 b, float x) {\n  float t = (x - a.x) / (b.x - a.x);\n  return vec3(x, mix(a.yz, b.yz, t));\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;\n  vec3 source_world_64low = instanceSourcePositions64Low;\n  vec3 target_world_64low = instanceTargetPositions64Low;\n\n  if (useShortestPath > 0.5 || useShortestPath < -0.5) {\n    source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n    target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n    float deltaLng = target_world.x - source_world.x;\n\n    if (deltaLng * useShortestPath > 180.) {\n      source_world.x += 360. * useShortestPath;\n      source_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      source_world_64low = vec3(0.0);\n    } else if (deltaLng * useShortestPath < -180.) {\n      target_world.x += 360. * useShortestPath;\n      target_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      target_world_64low = vec3(0.0);\n    } else if (useShortestPath < 0.) {\n      // Line is not split, abort\n      gl_Position = vec4(0.);\n      return;\n    }\n  }\n\n  // Position\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\n  \n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  // Multiply out width and clamp to limits\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {DefaultProps} from '@deck.gl/core';\nimport {ArcLayer, ArcLayerProps} from '@deck.gl/layers';\n\nconst defaultProps: DefaultProps<ArcLayerProps> = {\n  getHeight: {type: 'accessor', value: 0},\n  greatCircle: true\n};\n\n/** All properties supported by GreatCircleLayer. */\nexport type GreatCircleLayerProps<DataT = any> = ArcLayerProps<DataT>;\n\n// This layer has been merged into the core ArcLayer\n// Keeping for backward-compatibility\n/** @deprecated Use ArcLayer with `greatCircle: true` instead */\nexport default class GreatCircleLayer<DataT = any, ExtraProps = {}> extends ArcLayer<\n  DataT,\n  ExtraProps\n> {\n  static layerName = 'GreatCircleLayer';\n  static defaultProps: any = defaultProps;\n}\n","/*\nAdapted from s2-geometry\n\nISC License (ISC)\n\nCopyright (c) 2012-2016, Jon Atkins <github@jonatkins.com>\nCopyright (c) 2016, AJ ONeal <aj@daplie.com>\n\nPermission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n*/\n\nimport Long from 'long';\n\n//\n// Functional Style\n//\nconst FACE_BITS = 3;\nconst MAX_LEVEL = 30;\nconst POS_BITS = 2 * MAX_LEVEL + 1; // 61 (60 bits of data, 1 bit lsb marker)\nconst RADIAN_TO_DEGREE = 180 / Math.PI;\n\nexport function IJToST(\n  ij: [number, number],\n  order: number,\n  offsets: [number, number]\n): [number, number] {\n  const maxSize = 1 << order;\n\n  return [(ij[0] + offsets[0]) / maxSize, (ij[1] + offsets[1]) / maxSize];\n}\n\nfunction singleSTtoUV(st: number): number {\n  if (st >= 0.5) {\n    return (1 / 3.0) * (4 * st * st - 1);\n  }\n  return (1 / 3.0) * (1 - 4 * (1 - st) * (1 - st));\n}\n\nexport function STToUV(st: [number, number]): [number, number] {\n  return [singleSTtoUV(st[0]), singleSTtoUV(st[1])];\n}\n\nexport function FaceUVToXYZ(face: number, [u, v]: [number, number]): [number, number, number] {\n  switch (face) {\n    case 0:\n      return [1, u, v];\n    case 1:\n      return [-u, 1, v];\n    case 2:\n      return [-u, -v, 1];\n    case 3:\n      return [-1, -v, -u];\n    case 4:\n      return [v, -1, -u];\n    case 5:\n      return [v, u, -1];\n    default:\n      throw new Error('Invalid face');\n  }\n}\n\nexport function XYZToLngLat([x, y, z]: [number, number, number]): [number, number] {\n  const lat = Math.atan2(z, Math.sqrt(x * x + y * y));\n  const lng = Math.atan2(y, x);\n\n  return [lng * RADIAN_TO_DEGREE, lat * RADIAN_TO_DEGREE];\n}\n\nexport function toHilbertQuadkey(idS: string): string {\n  let bin = Long.fromString(idS, true, 10).toString(2);\n\n  while (bin.length < FACE_BITS + POS_BITS) {\n    // eslint-disable-next-line prefer-template\n    bin = '0' + bin;\n  }\n\n  // MUST come AFTER binstr has been left-padded with '0's\n  const lsbIndex = bin.lastIndexOf('1');\n  // substr(start, len)\n  // substring(start, end) // includes start, does not include end\n  const faceB = bin.substring(0, 3);\n  // posB will always be a multiple of 2 (or it's invalid)\n  const posB = bin.substring(3, lsbIndex);\n  const levelN = posB.length / 2;\n\n  const faceS = Long.fromString(faceB, true, 2).toString(10);\n  let posS = Long.fromString(posB, true, 2).toString(4);\n\n  while (posS.length < levelN) {\n    // eslint-disable-next-line prefer-template\n    posS = '0' + posS;\n  }\n\n  return `${faceS}/${posS}`;\n}\n\nfunction rotateAndFlipQuadrant(n: number, point: [number, number], rx: number, ry: number): void {\n  if (ry === 0) {\n    if (rx === 1) {\n      point[0] = n - 1 - point[0];\n      point[1] = n - 1 - point[1];\n    }\n\n    const x = point[0];\n    point[0] = point[1];\n    point[1] = x;\n  }\n}\n\nexport function FromHilbertQuadKey(hilbertQuadkey: string): {\n  face: number;\n  ij: [number, number];\n  level: number;\n} {\n  const parts = hilbertQuadkey.split('/');\n  const face = parseInt(parts[0], 10);\n  const position = parts[1];\n  const maxLevel = position.length;\n  const point = [0, 0] as [number, number];\n  let level;\n\n  for (let i = maxLevel - 1; i >= 0; i--) {\n    level = maxLevel - i;\n    const bit = position[i];\n    let rx = 0;\n    let ry = 0;\n    if (bit === '1') {\n      ry = 1;\n    } else if (bit === '2') {\n      rx = 1;\n      ry = 1;\n    } else if (bit === '3') {\n      rx = 1;\n    }\n\n    const val = Math.pow(2, level - 1);\n    rotateAndFlipQuadrant(val, point, rx, ry);\n\n    point[0] += val * rx;\n    point[1] += val * ry;\n  }\n\n  if (face % 2 === 1) {\n    const t = point[0];\n    point[0] = point[1];\n    point[1] = t;\n  }\n\n  return {face, ij: point, level};\n}\n","// s2-geometry is a pure JavaScript port of Google/Niantic's S2 Geometry library\n// which is perfect since it works in the browser.\nimport {\n  toHilbertQuadkey,\n  FromHilbertQuadKey,\n  IJToST,\n  STToUV,\n  FaceUVToXYZ,\n  XYZToLngLat\n} from './s2-geometry';\nimport Long from 'long';\n\n/**\n * Given an S2 token this function convert the token to 64 bit id\n   https://github.com/google/s2-geometry-library-java/blob/c04b68bf3197a9c34082327eeb3aec7ab7c85da1/src/com/google/common/geometry/S2CellId.java#L439\n * */\nfunction getIdFromToken(token: string): number {\n  // pad token with zeros to make the length 16\n  const paddedToken = token.padEnd(16, '0');\n  return Long.fromString(paddedToken, 16);\n}\n\nconst MAX_RESOLUTION = 100;\n\n/* Adapted from s2-geometry's S2Cell.getCornerLatLngs */\n/* eslint-disable max-statements */\nfunction getGeoBounds({\n  face,\n  ij,\n  level\n}: {\n  face: number;\n  ij: [number, number];\n  level: number;\n}): Float64Array {\n  const offsets = [\n    [0, 0],\n    [0, 1],\n    [1, 1],\n    [1, 0],\n    [0, 0]\n  ];\n\n  // The S2 cell edge is curved: http://s2geometry.io/\n  // This is more prominent at lower levels\n  // resolution is the number of segments to generate per edge.\n  // We exponentially reduce resolution as level increases so it doesn't affect perf\n  // when there are a large number of cells\n  const resolution = Math.max(1, Math.ceil(MAX_RESOLUTION * Math.pow(2, -level)));\n  const result = new Float64Array(4 * resolution * 2 + 2);\n  let ptIndex = 0;\n  let prevLng = 0;\n\n  for (let i = 0; i < 4; i++) {\n    const offset = offsets[i].slice(0) as [number, number];\n    const nextOffset = offsets[i + 1];\n    const stepI = (nextOffset[0] - offset[0]) / resolution;\n    const stepJ = (nextOffset[1] - offset[1]) / resolution;\n\n    for (let j = 0; j < resolution; j++) {\n      offset[0] += stepI;\n      offset[1] += stepJ;\n      // Cell can be represented by coordinates IJ, ST, UV, XYZ\n      // http://s2geometry.io/devguide/s2cell_hierarchy#coordinate-systems\n      const st = IJToST(ij, level, offset);\n      const uv = STToUV(st);\n      const xyz = FaceUVToXYZ(face, uv);\n      const lngLat = XYZToLngLat(xyz);\n\n      // Adjust longitude for Web Mercator projection\n      if (Math.abs(lngLat[1]) > 89.999) {\n        lngLat[0] = prevLng;\n      }\n      const deltaLng = lngLat[0] - prevLng;\n      lngLat[0] += deltaLng > 180 ? -360 : deltaLng < -180 ? 360 : 0;\n\n      result[ptIndex++] = lngLat[0];\n      result[ptIndex++] = lngLat[1];\n      prevLng = lngLat[0];\n    }\n  }\n  // close the loop\n  result[ptIndex++] = result[0];\n  result[ptIndex++] = result[1];\n  return result;\n}\n/* eslint-enable max-statements */\n\nexport function getS2QuadKey(token: string | number): string {\n  if (typeof token === 'string') {\n    if (token.indexOf('/') > 0) {\n      // is Hilbert quad key\n      return token;\n    }\n    // is S2 token\n    token = getIdFromToken(token);\n  }\n  // is Long id\n  return toHilbertQuadkey(token.toString());\n}\n\n/**\n * Get a polygon with corner coordinates for an s2 cell\n * @param {*} cell - This can be an S2 key or token\n * @return {Float64Array} - a simple polygon in flat array format: [lng0, lat0, lng1, lat1, ...]\n *   - the polygon is closed, i.e. last coordinate is a copy of the first coordinate\n */\nexport function getS2Polygon(token: string | number): Float64Array {\n  const key = getS2QuadKey(token);\n  const s2cell = FromHilbertQuadKey(key);\n\n  return getGeoBounds(s2cell);\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {AccessorFunction, DefaultProps} from '@deck.gl/core';\nimport GeoCellLayer, {GeoCellLayerProps} from '../geo-cell-layer/GeoCellLayer';\nimport {getS2Polygon} from './s2-utils';\n\nconst defaultProps: DefaultProps<S2LayerProps> = {\n  getS2Token: {type: 'accessor', value: d => d.token}\n};\n\n/** All properties supported by S2Layer. */\nexport type S2LayerProps<DataT = any> = _S2LayerProps<DataT> & GeoCellLayerProps<DataT>;\n\n/** Properties added by S2Layer. */\ntype _S2LayerProps<DataT> = {\n  /**\n   * Called for each data object to retrieve the quadkey string identifier.\n   *\n   * By default, it reads `token` property of data object.\n   */\n  getS2Token?: AccessorFunction<DataT, string>;\n};\n\n/** Render filled and/or stroked polygons based on the [S2](http://s2geometry.io/) geospatial indexing system. */\nexport default class S2Layer<DataT = any, ExtraProps = {}> extends GeoCellLayer<\n  DataT,\n  Required<_S2LayerProps<DataT>> & ExtraProps\n> {\n  static layerName = 'S2Layer';\n  static defaultProps = defaultProps;\n\n  indexToBounds(): Partial<GeoCellLayer['props']> | null {\n    const {data, getS2Token} = this.props;\n\n    return {\n      data,\n      _normalize: false,\n      positionFormat: 'XY',\n      getPolygon: (x: DataT, objectInfo) => getS2Polygon(getS2Token(x, objectInfo))\n    };\n  }\n}\n","import {worldToLngLat} from '@math.gl/web-mercator';\n\nconst TILE_SIZE = 512;\n\nexport function quadkeyToWorldBounds(quadkey: string): [number[], number[]] {\n  let x = 0;\n  let y = 0;\n  let mask = 1 << quadkey.length;\n  const scale = mask / TILE_SIZE;\n\n  for (let i = 0; i < quadkey.length; i++) {\n    mask >>= 1;\n    const q = parseInt(quadkey[i]);\n    if (q % 2) x |= mask;\n    if (q > 1) y |= mask;\n  }\n  return [\n    [x / scale, TILE_SIZE - y / scale],\n    [(x + 0.99) / scale, TILE_SIZE - (y + 0.99) / scale]\n  ];\n}\n\nexport function getQuadkeyPolygon(quadkey: string): number[] {\n  const [topLeft, bottomRight] = quadkeyToWorldBounds(quadkey);\n  const [w, n] = worldToLngLat(topLeft);\n  const [e, s] = worldToLngLat(bottomRight);\n  return [e, n, e, s, w, s, w, n, e, n];\n}\n","import {AccessorFunction, DefaultProps} from '@deck.gl/core';\nimport GeoCellLayer, {GeoCellLayerProps} from '../geo-cell-layer/GeoCellLayer';\nimport {getQuadkeyPolygon} from './quadkey-utils';\n\nconst defaultProps: DefaultProps<QuadkeyLayerProps> = {\n  getQuadkey: {type: 'accessor', value: d => d.quadkey}\n};\n\n/** All properties supported by QuadkeyLayer. */\nexport type QuadkeyLayerProps<DataT = any> = _QuadkeyLayerProps<DataT> & GeoCellLayerProps<DataT>;\n\n/** Properties added by QuadkeyLayer. */\ntype _QuadkeyLayerProps<DataT> = {\n  /**\n   * Called for each data object to retrieve the quadkey string identifier.\n   *\n   * By default, it reads `quadkey` property of data object.\n   */\n  getQuadkey?: AccessorFunction<DataT, string>;\n};\n\n/** Render filled and/or stroked polygons based on the [Quadkey](https://towardsdatascience.com/geospatial-indexing-with-quadkeys-d933dff01496) geospatial indexing system. */\nexport default class QuadkeyLayer<DataT = any, ExtraProps = {}> extends GeoCellLayer<\n  DataT,\n  Required<_QuadkeyLayerProps<DataT>> & ExtraProps\n> {\n  static layerName = 'QuadkeyLayer';\n  static defaultProps = defaultProps;\n\n  indexToBounds(): Partial<GeoCellLayer['props']> | null {\n    const {data, getQuadkey} = this.props;\n\n    return {\n      data,\n      _normalize: false,\n      positionFormat: 'XY',\n\n      getPolygon: (x: DataT, objectInfo) => getQuadkeyPolygon(getQuadkey(x, objectInfo))\n    };\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport type {NumericArray} from '@math.gl/core';\nimport {AccessorFunction, DefaultProps} from '@deck.gl/core';\nimport {PathLayer, PathLayerProps} from '@deck.gl/layers';\n\nconst defaultProps: DefaultProps<TripsLayerProps> = {\n  fadeTrail: true,\n  trailLength: {type: 'number', value: 120, min: 0},\n  currentTime: {type: 'number', value: 0, min: 0},\n  getTimestamps: {type: 'accessor', value: d => d.timestamps}\n};\n\n/** All properties supported by TripsLayer. */\nexport type TripsLayerProps<DataT = any> = _TripsLayerProps<DataT> & PathLayerProps<DataT>;\n\n/** Properties added by TripsLayer. */\ntype _TripsLayerProps<DataT = any> = {\n  /**\n   * Whether or not the path fades out.\n   * @default true\n   */\n  fadeTrail?: boolean;\n  /**\n   * Trail length.\n   * @default 120\n   */\n  trailLength?: number;\n  /**\n   * The current time of the frame.\n   * @default 0\n   */\n  currentTime?: number;\n  /**\n   * Timestamp accessor.\n   */\n  getTimestamps?: AccessorFunction<DataT, NumericArray>;\n};\n\n/** Render animated paths that represent vehicle trips. */\nexport default class TripsLayer<DataT = any, ExtraProps = {}> extends PathLayer<\n  DataT,\n  Required<_TripsLayerProps> & ExtraProps\n> {\n  static layerName = 'TripsLayer';\n  static defaultProps = defaultProps;\n\n  getShaders() {\n    const shaders = super.getShaders();\n    shaders.inject = {\n      'vs:#decl': `\\\nuniform float trailLength;\nattribute float instanceTimestamps;\nattribute float instanceNextTimestamps;\nvarying float vTime;\n`,\n      // Timestamp of the vertex\n      'vs:#main-end': `\\\nvTime = instanceTimestamps + (instanceNextTimestamps - instanceTimestamps) * vPathPosition.y / vPathLength;\n`,\n      'fs:#decl': `\\\nuniform bool fadeTrail;\nuniform float trailLength;\nuniform float currentTime;\nvarying float vTime;\n`,\n      // Drop the segments outside of the time window\n      'fs:#main-start': `\\\nif(vTime > currentTime || (fadeTrail && (vTime < currentTime - trailLength))) {\n  discard;\n}\n`,\n      // Fade the color (currentTime - 100%, end of trail - 0%)\n      'fs:DECKGL_FILTER_COLOR': `\\\nif(fadeTrail) {\n  color.a *= 1.0 - (currentTime - vTime) / trailLength;\n}\n`\n    };\n    return shaders;\n  }\n\n  initializeState() {\n    super.initializeState();\n\n    const attributeManager = this.getAttributeManager();\n    attributeManager!.addInstanced({\n      timestamps: {\n        size: 1,\n        accessor: 'getTimestamps',\n        shaderAttributes: {\n          instanceTimestamps: {\n            vertexOffset: 0\n          },\n          instanceNextTimestamps: {\n            vertexOffset: 1\n          }\n        }\n      }\n    });\n  }\n\n  draw(params) {\n    const {fadeTrail, trailLength, currentTime} = this.props;\n\n    params.uniforms = {\n      ...params.uniforms,\n      fadeTrail,\n      trailLength,\n      currentTime\n    };\n\n    super.draw(params);\n  }\n}\n","import {h3SetToMultiPolygon, H3IndexInput} from 'h3-js';\n\nimport {AccessorFunction, createIterable, UpdateParameters, DefaultProps} from '@deck.gl/core';\nimport {H3HexagonLayer} from '@deck.gl/geo-layers';\nimport GeoCellLayer, {GeoCellLayerProps} from '../geo-cell-layer/GeoCellLayer';\n\nconst defaultProps: DefaultProps<H3ClusterLayerProps> = {\n  getHexagons: {type: 'accessor', value: d => d.hexagons}\n};\n\n/** All properties supported by H3ClusterLayer. */\nexport type H3ClusterLayerProps<DataT = any> = _H3ClusterLayerProps<DataT> &\n  GeoCellLayerProps<DataT>;\n\n/** Properties added by H3ClusterLayer. */\ntype _H3ClusterLayerProps<DataT> = {\n  /**\n   * Called for each data object to retrieve the hexagon identifiers.\n   *\n   * By default, it reads `hexagons` property of data object.\n   */\n  getHexagons?: AccessorFunction<DataT, H3IndexInput[]>;\n};\n\nexport default class H3ClusterLayer<DataT = any, ExtraProps = {}> extends GeoCellLayer<\n  DataT,\n  Required<_H3ClusterLayerProps<DataT>> & ExtraProps\n> {\n  static layerName = 'H3ClusterLayer';\n  static defaultProps = defaultProps;\n\n  initializeState(): void {\n    H3HexagonLayer._checkH3Lib();\n  }\n\n  updateState({props, changeFlags}: UpdateParameters<this>): void {\n    if (\n      changeFlags.dataChanged ||\n      (changeFlags.updateTriggersChanged && changeFlags.updateTriggersChanged.getHexagons)\n    ) {\n      const {data, getHexagons} = props;\n      const polygons: {polygon: number[][][]}[] = [];\n\n      const {iterable, objectInfo} = createIterable(data);\n      for (const object of iterable) {\n        objectInfo.index++;\n        const hexagons = getHexagons(object, objectInfo);\n        const multiPolygon = h3SetToMultiPolygon(hexagons, true);\n\n        for (const polygon of multiPolygon) {\n          polygons.push(this.getSubLayerRow({polygon}, object, objectInfo.index));\n        }\n      }\n\n      this.setState({polygons});\n    }\n  }\n\n  indexToBounds(): Partial<GeoCellLayer['props']> {\n    return {\n      data: this.state.polygons,\n      getPolygon: d => d.polygon\n    };\n  }\n}\n","import type {NumericArray} from '@math.gl/core';\nimport {GLTFMaterialParser} from '@luma.gl/experimental';\nimport {Model, pbr} from '@luma.gl/core';\nimport GL from '@luma.gl/constants';\nimport type {MeshAttribute, MeshAttributes} from '@loaders.gl/schema';\nimport type {UpdateParameters, DefaultProps, LayerContext} from '@deck.gl/core';\nimport {SimpleMeshLayer, SimpleMeshLayerProps} from '@deck.gl/mesh-layers';\n\nimport vs from './mesh-layer-vertex.glsl';\nimport fs from './mesh-layer-fragment.glsl';\n\nexport type Mesh = {\n  attributes: MeshAttributes;\n  indices?: MeshAttribute;\n};\n\nfunction validateGeometryAttributes(attributes) {\n  const hasColorAttribute = attributes.COLOR_0 || attributes.colors;\n  if (!hasColorAttribute) {\n    attributes.colors = {constant: true, value: new Float32Array([1, 1, 1])};\n  }\n}\n\nconst defaultProps: DefaultProps<MeshLayerProps> = {\n  pbrMaterial: {type: 'object', value: null},\n  featureIds: {type: 'array', value: null, optional: true}\n};\n\n/** All properties supported by MeshLayer. */\nexport type MeshLayerProps<DataT = any> = _MeshLayerProps<DataT> & SimpleMeshLayerProps<DataT>;\n\n/** Properties added by MeshLayer. */\ntype _MeshLayerProps<DataT> = {\n  /**\n   * PBR material object. _lighting must be pbr for this to work\n   */\n  pbrMaterial?: any; // TODO add type when converting Tile3DLayer\n\n  /**\n   * List of feature ids.\n   */\n  featureIds?: NumericArray | null;\n};\n\nexport default class MeshLayer<DataT = any, ExtraProps = {}> extends SimpleMeshLayer<\n  DataT,\n  Required<_MeshLayerProps<DataT>> & ExtraProps\n> {\n  static layerName = 'MeshLayer';\n  static defaultProps = defaultProps;\n\n  getShaders() {\n    const shaders = super.getShaders();\n    const modules = shaders.modules;\n    modules.push(pbr);\n    return {...shaders, vs, fs};\n  }\n\n  initializeState() {\n    const {featureIds} = this.props;\n    super.initializeState();\n\n    const attributeManager = this.getAttributeManager();\n    if (featureIds) {\n      // attributeManager is always defined in a primitive layer\n      attributeManager!.add({\n        featureIdsPickingColors: {\n          type: GL.UNSIGNED_BYTE,\n          size: 3,\n          noAlloc: true,\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          update: this.calculateFeatureIdsPickingColors\n        }\n      });\n    }\n  }\n\n  updateState(params: UpdateParameters<this>) {\n    super.updateState(params);\n\n    const {props, oldProps} = params;\n    if (props.pbrMaterial !== oldProps.pbrMaterial) {\n      this.updatePbrMaterialUniforms(props.pbrMaterial);\n    }\n  }\n\n  draw(opts) {\n    const {featureIds} = this.props;\n    if (!this.state.model) {\n      return;\n    }\n    this.state.model.setUniforms({\n      // Needed for PBR (TODO: find better way to get it)\n      // eslint-disable-next-line camelcase\n      u_Camera: this.state.model.getUniforms().project_uCameraPosition,\n      pickFeatureIds: Boolean(featureIds)\n    });\n\n    super.draw(opts);\n  }\n\n  protected getModel(mesh: Mesh): Model {\n    const {id, pbrMaterial} = this.props;\n    const materialParser = this.parseMaterial(pbrMaterial, mesh);\n    // Keep material parser to explicitly remove textures\n    this.setState({materialParser});\n    const shaders = this.getShaders();\n    validateGeometryAttributes(mesh.attributes);\n    const model = new Model(this.context.gl, {\n      ...this.getShaders(),\n      id,\n      geometry: mesh,\n      defines: {\n        ...shaders.defines,\n        ...materialParser?.defines,\n        HAS_UV_REGIONS: mesh.attributes.uvRegions\n      },\n      parameters: materialParser?.parameters,\n      isInstanced: true\n    });\n\n    return model;\n  }\n\n  updatePbrMaterialUniforms(pbrMaterial) {\n    const {model} = this.state;\n    if (model) {\n      const {mesh} = this.props;\n      const materialParser = this.parseMaterial(pbrMaterial, mesh);\n      // Keep material parser to explicitly remove textures\n      this.setState({materialParser});\n      model.setUniforms(materialParser.uniforms);\n    }\n  }\n\n  parseMaterial(pbrMaterial, mesh) {\n    const unlit = Boolean(\n      pbrMaterial.pbrMetallicRoughness && pbrMaterial.pbrMetallicRoughness.baseColorTexture\n    );\n\n    this.state.materialParser?.delete();\n\n    return new GLTFMaterialParser(this.context.gl, {\n      attributes: {NORMAL: mesh.attributes.normals, TEXCOORD_0: mesh.attributes.texCoords},\n      material: {unlit, ...pbrMaterial},\n      pbrDebug: false,\n      imageBasedLightingEnvironment: null,\n      lights: true,\n      useTangents: false\n    });\n  }\n\n  calculateFeatureIdsPickingColors(attribute) {\n    // This updater is only called if featureIds is not null\n    const featureIds = this.props.featureIds!;\n    const value = new Uint8ClampedArray(featureIds.length * attribute.size);\n\n    const pickingColor = [];\n    for (let index = 0; index < featureIds.length; index++) {\n      this.encodePickingColor(featureIds[index], pickingColor);\n\n      value[index * 3] = pickingColor[0];\n      value[index * 3 + 1] = pickingColor[1];\n      value[index * 3 + 2] = pickingColor[2];\n    }\n\n    attribute.value = value;\n  }\n\n  finalizeState(context: LayerContext) {\n    super.finalizeState(context);\n    this.state.materialParser?.delete();\n    this.setState({materialParser: null});\n  }\n}\n","export default `#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nuniform bool pickFeatureIds;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec4 uvRegions;\nin vec3 featureIdsPickingColors;\n\n// Instance attributes\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvec2 applyUVRegion(vec2 uv) {\n  #ifdef HAS_UV_REGIONS\n    // https://github.com/Esri/i3s-spec/blob/master/docs/1.7/geometryUVRegion.cmn.md\n    return fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;\n  #else\n    return uv;\n  #endif\n}\n\nvoid main(void) {\n  vec2 uv = applyUVRegion(texCoords);\n  geometry.uv = uv;\n\n  if (pickFeatureIds) {\n    geometry.pickingColor = featureIdsPickingColors;\n  } else {\n    geometry.pickingColor = instancePickingColors;\n  }\n\n  vTexCoord = uv;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale;\n  vec3 projectedPosition = project_position(positions);\n  position_commonspace = vec4(projectedPosition, 1.0);\n  gl_Position = project_common_position_to_clipspace(position_commonspace);\n\n  geometry.position = position_commonspace;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  geometry.normal = normals_commonspace;\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = uv;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n","export default `#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  \n#ifdef MODULE_PBR\n\n  fragColor = vColor * pbr_filterColor(vec4(0));\n  geometry.uv = pbr_vUV;\n  fragColor.a *= opacity;\n\n#else\n\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n#endif\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n`;\n","export const TILE_CONTENT_STATE = {\n  UNLOADED: 0, // Has never been requested\n  LOADING: 1, // Is waiting on a pending request\n  PROCESSING: 2, // Request received.  Contents are being processed for rendering.  Depending on the content, it might make its own requests for external data.\n  READY: 3, // Ready to render.\n  EXPIRED: 4, // Is expired and will be unloaded once new content is loaded.\n  FAILED: 5 // Request failed.\n};\n\nexport const TILE_REFINEMENT = {\n  ADD: 1, // Render tile and, if screen space error exceeded, also refine to its children.\n  REPLACE: 2 // Render tile or, if screen space error exceeded, refine to its descendants instead.\n};\n\nexport const TILE_TYPE = {\n  EMPTY: 'empty',\n  SCENEGRAPH: 'scenegraph',\n  POINTCLOUD: 'pointcloud',\n  MESH: 'mesh'\n};\n\nexport const TILESET_TYPE = {\n  I3S: 'I3S',\n  TILES3D: 'TILES3D'\n};\n\nexport const LOD_METRIC_TYPE = {\n  GEOMETRIC_ERROR: 'geometricError',\n  MAX_SCREEN_THRESHOLD: 'maxScreenThreshold'\n};\n\n// Cesium 3D Tiles Specific\nexport const TILE3D_OPTIMIZATION_HINT = {\n  NOT_COMPUTED: -1,\n  USE_OPTIMIZATION: 1,\n  SKIP_OPTIMIZATION: 0\n};\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport type {NumericArray} from '@math.gl/core';\nimport {Vector3, toRadians, toDegrees, config} from '@math.gl/core';\nimport {WGS84_CONSTANTS} from './constants';\n\ntype LngLatHeightObject = {\n  longitude: number;\n  latitude: number;\n  height: number;\n};\n\ntype XYZObject = {\n  x: number;\n  y: number;\n  z: number;\n};\n\ntype Cartographic = LngLatHeightObject | XYZObject | NumericArray;\n\nfunction identity(x: number): number {\n  return x;\n}\n\nconst scratchVector = new Vector3();\n\nexport function fromCartographic(cartographic: Cartographic): number[];\nexport function fromCartographic<NumArrayT>(\n  cartographic: Cartographic,\n  result: NumArrayT,\n  map?: (x: number) => number\n): NumArrayT;\nexport function fromCartographic(\n  cartographic: Cartographic,\n  result = [] as number[],\n  map = identity\n): number[] {\n  if ('longitude' in cartographic) {\n    result[0] = map(cartographic.longitude);\n    result[1] = map(cartographic.latitude);\n    result[2] = cartographic.height;\n  } else if ('x' in cartographic) {\n    result[0] = map(cartographic.x);\n    result[1] = map(cartographic.y);\n    result[2] = cartographic.z;\n  } else {\n    result[0] = map(cartographic[0]);\n    result[1] = map(cartographic[1]);\n    result[2] = cartographic[2];\n  }\n  return result;\n}\n\nexport function fromCartographicToRadians(cartographic: Cartographic, result?: number[]): number[];\nexport function fromCartographicToRadians<TArray>(\n  cartographic: Cartographic,\n  result: TArray\n): TArray;\nexport function fromCartographicToRadians(\n  cartographic: Cartographic,\n  vector = [] as number[]\n): number[] {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? identity : toRadians);\n}\n\nexport function fromCartographicToDegrees(cartographic: Cartographic, result?: number[]): number[];\nexport function fromCartographicToDegrees<TArray>(\n  cartographic: Cartographic,\n  result: TArray\n): TArray;\nexport function fromCartographicToDegrees(\n  cartographic: Cartographic,\n  vector = [] as number[]\n): number[] {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? toDegrees : identity);\n}\n\nexport function toCartographic<T extends Cartographic>(\n  vector: Readonly<NumericArray>,\n  cartographic: T,\n  map: (x: number) => number = identity\n): T {\n  if ('longitude' in cartographic) {\n    cartographic.longitude = map(vector[0]);\n    cartographic.latitude = map(vector[1]);\n    cartographic.height = vector[2];\n  } else if ('x' in cartographic) {\n    cartographic.x = map(vector[0]);\n    cartographic.y = map(vector[1]);\n    cartographic.z = vector[2];\n  } else {\n    cartographic[0] = map(vector[0]);\n    cartographic[1] = map(vector[1]);\n    cartographic[2] = vector[2];\n  }\n  return cartographic;\n}\n\nexport function toCartographicFromRadians<T extends Cartographic>(\n  vector: Readonly<NumericArray>,\n  cartographic: T\n): T {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? identity : toDegrees);\n}\n\nexport function toCartographicFromDegrees<T extends Cartographic>(\n  vector: Readonly<NumericArray>,\n  cartographic: T\n): T {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? toRadians : identity);\n}\n\n// Estimates if a vector is close to the surface of the WGS84 Ellipsoid\nexport function isWGS84(vector: Readonly<NumericArray>): boolean {\n  if (!vector) {\n    return false;\n  }\n  scratchVector.from(vector);\n  const {oneOverRadiiSquared, centerToleranceSquared} = WGS84_CONSTANTS;\n  const x2 = vector[0] * vector[0] * oneOverRadiiSquared[0];\n  const y2 = vector[1] * vector[1] * oneOverRadiiSquared[1];\n  const z2 = vector[2] * vector[2] * oneOverRadiiSquared[2];\n  return Math.abs(x2 + y2 + z2 - 1) < centerToleranceSquared;\n}\n\n/*\n\nexport function fromCartographic(cartographic: Cartographic, result?: number[]): number[];\nexport function fromCartographic(cartographic: Cartographic, result: TypedArray): TypedArray;\nexport function fromCartographicToRadians(cartographic: Cartographic, result?: number[]): number[];\nexport function fromCartographicToRadians(\n  cartographic: Cartographic,\n  result: TypedArray\n): TypedArray;\nexport function fromCartographicToDegrees(cartographic: Cartographic, result?: number[]): number[];\nexport function fromCartographicToDegrees(\n  cartographic: Cartographic,\n  result: TypedArray\n): TypedArray;\n\nexport function toCartographic(vector: number[] | TypedArray, result: Cartographic): number[];\nexport function toCartographicFromRadians(\n  vector: number[] | TypedArray,\n  result: Cartographic\n): number[];\nexport function toCartographicFromDegrees(\n  vector: number[] | TypedArray,\n  result: Cartographic\n): number[];\n\n// Estimates if a vector is close to the surface of the WGS84 Ellipsoid\nexport function isWGS84(vector: number[] | TypedArray): boolean;\n*/\n","/* eslint-disable */\nimport {Vector3, _MathUtils} from '@math.gl/core';\nimport type Ellipsoid from '../ellipsoid';\n\nconst scratchVector = new Vector3();\nconst scaleToGeodeticSurfaceIntersection = new Vector3();\nconst scaleToGeodeticSurfaceGradient = new Vector3();\n\n// Scales the provided Cartesian position along the geodetic surface normal\n// so that it is on the surface of this ellipsoid.  If the position is\n// at the center of the ellipsoid, this function returns undefined.\nexport default function scaleToGeodeticSurface(\n  cartesian: number[],\n  ellipsoid: Ellipsoid,\n  result: number[] = []\n): number[] {\n  const {oneOverRadii, oneOverRadiiSquared, centerToleranceSquared} = ellipsoid;\n\n  scratchVector.from(cartesian);\n\n  const positionX = scratchVector.x;\n  const positionY = scratchVector.y;\n  const positionZ = scratchVector.z;\n\n  const oneOverRadiiX = oneOverRadii.x;\n  const oneOverRadiiY = oneOverRadii.y;\n  const oneOverRadiiZ = oneOverRadii.z;\n\n  const x2 = positionX * positionX * oneOverRadiiX * oneOverRadiiX;\n  const y2 = positionY * positionY * oneOverRadiiY * oneOverRadiiY;\n  const z2 = positionZ * positionZ * oneOverRadiiZ * oneOverRadiiZ;\n\n  // Compute the squared ellipsoid norm.\n  const squaredNorm = x2 + y2 + z2;\n  const ratio = Math.sqrt(1.0 / squaredNorm);\n\n  // When very close to center or at center\n  if (!Number.isFinite(ratio)) {\n    return undefined;\n  }\n\n  // As an initial approximation, assume that the radial intersection is the projection point.\n  const intersection = scaleToGeodeticSurfaceIntersection;\n  intersection.copy(cartesian).scale(ratio);\n\n  // If the position is near the center, the iteration will not converge.\n  if (squaredNorm < centerToleranceSquared) {\n    return intersection.to(result);\n  }\n\n  const oneOverRadiiSquaredX = oneOverRadiiSquared.x;\n  const oneOverRadiiSquaredY = oneOverRadiiSquared.y;\n  const oneOverRadiiSquaredZ = oneOverRadiiSquared.z;\n\n  // Use the gradient at the intersection point in place of the true unit normal.\n  // The difference in magnitude will be absorbed in the multiplier.\n  const gradient = scaleToGeodeticSurfaceGradient;\n  gradient.set(\n    intersection.x * oneOverRadiiSquaredX * 2.0,\n    intersection.y * oneOverRadiiSquaredY * 2.0,\n    intersection.z * oneOverRadiiSquaredZ * 2.0\n  );\n\n  // Compute the initial guess at the normal vector multiplier, lambda.\n  let lambda = ((1.0 - ratio) * scratchVector.len()) / (0.5 * gradient.len());\n  let correction = 0.0;\n\n  let xMultiplier;\n  let yMultiplier;\n  let zMultiplier;\n  let func;\n\n  do {\n    lambda -= correction;\n\n    xMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredX);\n    yMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredY);\n    zMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredZ);\n\n    const xMultiplier2 = xMultiplier * xMultiplier;\n    const yMultiplier2 = yMultiplier * yMultiplier;\n    const zMultiplier2 = zMultiplier * zMultiplier;\n\n    const xMultiplier3 = xMultiplier2 * xMultiplier;\n    const yMultiplier3 = yMultiplier2 * yMultiplier;\n    const zMultiplier3 = zMultiplier2 * zMultiplier;\n\n    func = x2 * xMultiplier2 + y2 * yMultiplier2 + z2 * zMultiplier2 - 1.0;\n\n    // \"denominator\" here refers to the use of this expression in the velocity and acceleration\n    // computations in the sections to follow.\n    const denominator =\n      x2 * xMultiplier3 * oneOverRadiiSquaredX +\n      y2 * yMultiplier3 * oneOverRadiiSquaredY +\n      z2 * zMultiplier3 * oneOverRadiiSquaredZ;\n\n    const derivative = -2.0 * denominator;\n\n    correction = func / derivative;\n  } while (Math.abs(func) > _MathUtils.EPSILON12);\n\n  return scratchVector.scale([xMultiplier, yMultiplier, zMultiplier]).to(result);\n}\n","import {Vector3, assert, equals as equalsEpsilon} from '@math.gl/core';\n\nimport type Ellipsoid from '../ellipsoid';\n\nconst EPSILON14 = 1e-14;\n\nconst scratchOrigin = new Vector3();\n\n// Caclulate third axis from given two axii\nconst VECTOR_PRODUCT_LOCAL_FRAME = {\n  up: {\n    south: 'east',\n    north: 'west',\n    west: 'south',\n    east: 'north'\n  },\n  down: {\n    south: 'west',\n    north: 'east',\n    west: 'north',\n    east: 'south'\n  },\n  south: {\n    up: 'west',\n    down: 'east',\n    west: 'down',\n    east: 'up'\n  },\n  north: {\n    up: 'east',\n    down: 'west',\n    west: 'up',\n    east: 'down'\n  },\n  west: {\n    up: 'north',\n    down: 'south',\n    north: 'down',\n    south: 'up'\n  },\n  east: {\n    up: 'south',\n    down: 'north',\n    north: 'up',\n    south: 'down'\n  }\n} as const;\n\nconst degeneratePositionLocalFrame = {\n  north: [-1, 0, 0],\n  east: [0, 1, 0],\n  up: [0, 0, 1],\n  south: [1, 0, 0],\n  west: [0, -1, 0],\n  down: [0, 0, -1]\n} as const;\n\nconst scratchAxisVectors = {\n  east: new Vector3(),\n  north: new Vector3(),\n  up: new Vector3(),\n  west: new Vector3(),\n  south: new Vector3(),\n  down: new Vector3()\n};\n\nconst scratchVector1 = new Vector3();\nconst scratchVector2 = new Vector3();\nconst scratchVector3 = new Vector3();\n\ntype Axis = 'up' | 'down' | 'north' | 'east' | 'south' | 'west';\n\n// Computes a 4x4 transformation matrix from a reference frame\n// centered at the provided origin to the provided ellipsoid's fixed reference frame.\n// eslint-disable-next-line max-statements, max-params, complexity\nexport default function localFrameToFixedFrame(\n  ellipsoid: Ellipsoid,\n  firstAxis: Axis,\n  secondAxis: Axis,\n  thirdAxis: Axis,\n  cartesianOrigin: number[],\n  result: number[]\n): number[] {\n  const thirdAxisInferred =\n    VECTOR_PRODUCT_LOCAL_FRAME[firstAxis] &&\n    (VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis] as Axis);\n  // firstAxis and secondAxis must be east, north, up, west, south or down.');\n  assert(thirdAxisInferred && (!thirdAxis || thirdAxis === thirdAxisInferred));\n\n  let firstAxisVector: Vector3;\n  let secondAxisVector: Vector3;\n  let thirdAxisVector: Vector3;\n\n  const origin = scratchOrigin.copy(cartesianOrigin);\n\n  // If x and y are zero, assume origin is at a pole, which is a special case.\n  const atPole = equalsEpsilon(origin.x, 0.0, EPSILON14) && equalsEpsilon(origin.y, 0.0, EPSILON14);\n\n  if (atPole) {\n    // Look up axis value and adjust\n    const sign = Math.sign(origin.z);\n\n    firstAxisVector = scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]);\n    if (firstAxis !== 'east' && firstAxis !== 'west') {\n      firstAxisVector.scale(sign);\n    }\n\n    secondAxisVector = scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]);\n    if (secondAxis !== 'east' && secondAxis !== 'west') {\n      secondAxisVector.scale(sign);\n    }\n\n    thirdAxisVector = scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]);\n    if (thirdAxis !== 'east' && thirdAxis !== 'west') {\n      thirdAxisVector.scale(sign);\n    }\n  } else {\n    // Calculate all axis\n    const {up, east, north} = scratchAxisVectors;\n\n    east.set(-origin.y, origin.x, 0.0).normalize();\n    ellipsoid.geodeticSurfaceNormal(origin, up);\n    north.copy(up).cross(east);\n\n    const {down, west, south} = scratchAxisVectors;\n\n    down.copy(up).scale(-1);\n    west.copy(east).scale(-1);\n    south.copy(north).scale(-1);\n\n    // Pick three axis based on desired orientation\n    firstAxisVector = scratchAxisVectors[firstAxis];\n    secondAxisVector = scratchAxisVectors[secondAxis];\n    thirdAxisVector = scratchAxisVectors[thirdAxis];\n  }\n\n  // TODO - assuming the result is column-major\n  result[0] = firstAxisVector.x;\n  result[1] = firstAxisVector.y;\n  result[2] = firstAxisVector.z;\n  result[3] = 0.0;\n  result[4] = secondAxisVector.x;\n  result[5] = secondAxisVector.y;\n  result[6] = secondAxisVector.z;\n  result[7] = 0.0;\n  result[8] = thirdAxisVector.x;\n  result[9] = thirdAxisVector.y;\n  result[10] = thirdAxisVector.z;\n  result[11] = 0.0;\n  result[12] = origin.x;\n  result[13] = origin.y;\n  result[14] = origin.z;\n  result[15] = 1.0;\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {\n  Vector3,\n  Matrix4,\n  toRadians,\n  toDegrees,\n  assert,\n  equals,\n  _MathUtils,\n  NumericArray\n} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nimport {WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z} from '../constants';\nimport {fromCartographicToRadians, toCartographicFromRadians} from '../type-utils';\n\nimport scaleToGeodeticSurface from './helpers/scale-to-geodetic-surface';\nimport localFrameToFixedFrame from './helpers/ellipsoid-transform';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\nconst scratchK = new Vector3();\nconst scratchPosition = new Vector3();\nconst scratchHeight = new Vector3();\nconst scratchCartesian = new Vector3();\n\nlet wgs84;\n\n/**\n * A quadratic surface defined in Cartesian coordinates by the equation\n * `(x / a)^2 + (y / b)^2 + (z / c)^2 = 1`.  Primarily used\n * to represent the shape of planetary bodies.\n */\nexport default class Ellipsoid {\n  /** An Ellipsoid instance initialized to the WGS84 standard. */\n  static readonly WGS84: Ellipsoid = new Ellipsoid(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z);\n\n  readonly radii: Vector3;\n  readonly radiiSquared: Vector3;\n  readonly radiiToTheFourth: Vector3;\n  readonly oneOverRadii: Vector3;\n  readonly oneOverRadiiSquared: Vector3;\n  readonly minimumRadius: number;\n  readonly maximumRadius: number;\n  readonly centerToleranceSquared: number = _MathUtils.EPSILON1;\n  readonly squaredXOverSquaredZ: number;\n\n  /** Creates an Ellipsoid from a Cartesian specifying the radii in x, y, and z directions. */\n  constructor(x: number, y: number, z: number);\n  constructor();\n\n  constructor(x = 0.0, y = 0.0, z = 0.0) {\n    assert(x >= 0.0);\n    assert(y >= 0.0);\n    assert(z >= 0.0);\n\n    this.radii = new Vector3(x, y, z);\n\n    this.radiiSquared = new Vector3(x * x, y * y, z * z);\n\n    this.radiiToTheFourth = new Vector3(x * x * x * x, y * y * y * y, z * z * z * z);\n\n    this.oneOverRadii = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / x,\n      y === 0.0 ? 0.0 : 1.0 / y,\n      z === 0.0 ? 0.0 : 1.0 / z\n    );\n\n    this.oneOverRadiiSquared = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / (x * x),\n      y === 0.0 ? 0.0 : 1.0 / (y * y),\n      z === 0.0 ? 0.0 : 1.0 / (z * z)\n    );\n\n    this.minimumRadius = Math.min(x, y, z);\n\n    this.maximumRadius = Math.max(x, y, z);\n\n    if (this.radiiSquared.z !== 0) {\n      this.squaredXOverSquaredZ = this.radiiSquared.x / this.radiiSquared.z;\n    }\n\n    Object.freeze(this);\n  }\n\n  /** Compares this Ellipsoid against the provided Ellipsoid componentwise */\n  equals(right: Ellipsoid): boolean {\n    return this === right || Boolean(right && this.radii.equals(right.radii));\n  }\n\n  /** Creates a string representing this Ellipsoid in the format '(radii.x, radii.y, radii.z)'. */\n  toString(): string {\n    return this.radii.toString();\n  }\n\n  /** Converts the provided cartographic to Cartesian representation. */\n  cartographicToCartesian(cartographic: number[], result: Vector3): Vector3;\n  cartographicToCartesian(cartographic: number[], result?: number[]): number[];\n\n  cartographicToCartesian(cartographic, result = [0, 0, 0]) {\n    const normal = scratchNormal;\n    const k = scratchK;\n\n    const [, , height] = cartographic;\n    this.geodeticSurfaceNormalCartographic(cartographic, normal);\n    k.copy(this.radiiSquared).scale(normal);\n\n    const gamma = Math.sqrt(normal.dot(k));\n    k.scale(1 / gamma);\n\n    normal.scale(height);\n\n    k.add(normal);\n\n    return k.to(result);\n  }\n\n  /** Converts the provided cartesian to cartographic (lng/lat/z) representation.\n   * The cartesian is undefined at the center of the ellipsoid. */\n  cartesianToCartographic(cartesian: number[], result: Vector3): Vector3;\n  cartesianToCartographic(cartesian: number[], result?: number[]): number[];\n\n  cartesianToCartographic(cartesian, result = [0, 0, 0]) {\n    scratchCartesian.from(cartesian);\n    const point = this.scaleToGeodeticSurface(scratchCartesian, scratchPosition);\n\n    if (!point) {\n      return undefined;\n    }\n\n    const normal = this.geodeticSurfaceNormal(point, scratchNormal);\n\n    const h = scratchHeight;\n    h.copy(scratchCartesian).subtract(point);\n\n    const longitude = Math.atan2(normal.y, normal.x);\n    const latitude = Math.asin(normal.z);\n    const height = Math.sign(vec3.dot(h, scratchCartesian)) * vec3.length(h);\n\n    return toCartographicFromRadians([longitude, latitude, height], result);\n  }\n\n  /** Computes a 4x4 transformation matrix from a reference frame with an east-north-up axes\n   * centered at the provided origin to the provided ellipsoid's fixed reference frame. */\n  eastNorthUpToFixedFrame(origin: number[], result?: Matrix4): Matrix4;\n  eastNorthUpToFixedFrame(origin: number[], result: number[]): number[];\n\n  eastNorthUpToFixedFrame(origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, 'east', 'north', 'up', origin, result);\n  }\n\n  /** Computes a 4x4 transformation matrix from a reference frame centered at\n   * the provided origin to the ellipsoid's fixed reference frame.\n   */\n  localFrameToFixedFrame(\n    firstAxis: string,\n    secondAxis: string,\n    thirdAxis: string,\n    origin: Readonly<NumericArray>,\n    result?: Matrix4\n  ): Matrix4;\n  localFrameToFixedFrame<Matrix4T>(\n    firstAxis: string,\n    secondAxis: string,\n    thirdAxis: string,\n    origin: Readonly<NumericArray>,\n    result: number[]\n  ): number[];\n\n  // Computes a 4x4 transformation matrix from a reference frame centered at\n  // the provided origin to the ellipsoid's fixed reference frame.\n  localFrameToFixedFrame(firstAxis, secondAxis, thirdAxis, origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, firstAxis, secondAxis, thirdAxis, origin, result);\n  }\n\n  /** Computes the unit vector directed from the center of this ellipsoid toward\n   * the provided Cartesian position. */\n  geocentricSurfaceNormal(cartesian: number[], result?: number[]): number[];\n  geocentricSurfaceNormal<NumArray>(cartesian: number[], result: NumArray): NumArray;\n  geocentricSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector.from(cartesian).normalize().to(result);\n  }\n\n  /** Computes the normal of the plane tangent to the surface of the ellipsoid at provided position. */\n  geodeticSurfaceNormalCartographic<NumArray>(cartographic: number[], result: NumArray): NumArray;\n  geodeticSurfaceNormalCartographic(cartographic: number[]): number[];\n  geodeticSurfaceNormalCartographic(cartographic, result = [0, 0, 0]) {\n    const cartographicVectorRadians = fromCartographicToRadians(cartographic);\n\n    const longitude = cartographicVectorRadians[0];\n    const latitude = cartographicVectorRadians[1];\n\n    const cosLatitude = Math.cos(latitude);\n\n    scratchVector\n      .set(cosLatitude * Math.cos(longitude), cosLatitude * Math.sin(longitude), Math.sin(latitude))\n      .normalize();\n\n    return scratchVector.to(result);\n  }\n\n  /** Computes the normal of the plane tangent to the surface of the ellipsoid at the provided position. */\n  geodeticSurfaceNormal<NumArrayT>(cartesian: number[], result: NumArrayT): NumArrayT;\n  geodeticSurfaceNormal(cartesian: number[]): number[];\n  geodeticSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector.from(cartesian).scale(this.oneOverRadiiSquared).normalize().to(result);\n  }\n\n  /** Scales the provided Cartesian position along the geodetic surface normal\n   * so that it is on the surface of this ellipsoid.  If the position is\n   * at the center of the ellipsoid, this function returns undefined. */\n  scaleToGeodeticSurface(cartesian: number[], result?: number[]): number[] {\n    return scaleToGeodeticSurface(cartesian, this, result);\n  }\n\n  /** Scales the provided Cartesian position along the geocentric surface normal\n   * so that it is on the surface of this ellipsoid. */\n  scaleToGeocentricSurface(cartesian: number[], result: number[] = [0, 0, 0]): number[] {\n    scratchPosition.from(cartesian);\n\n    const positionX = scratchPosition.x;\n    const positionY = scratchPosition.y;\n    const positionZ = scratchPosition.z;\n    const oneOverRadiiSquared = this.oneOverRadiiSquared;\n\n    const beta =\n      1.0 /\n      Math.sqrt(\n        positionX * positionX * oneOverRadiiSquared.x +\n          positionY * positionY * oneOverRadiiSquared.y +\n          positionZ * positionZ * oneOverRadiiSquared.z\n      );\n\n    return scratchPosition.multiplyScalar(beta).to(result);\n  }\n\n  /** Transforms a Cartesian X, Y, Z position to the ellipsoid-scaled space by multiplying\n   * its components by the result of `Ellipsoid#oneOverRadii` */\n  transformPositionToScaledSpace(position: number[], result: number[] = [0, 0, 0]): number[] {\n    return scratchPosition.from(position).scale(this.oneOverRadii).to(result);\n  }\n\n  /** Transforms a Cartesian X, Y, Z position from the ellipsoid-scaled space by multiplying\n   * its components by the result of `Ellipsoid#radii`. */\n  transformPositionFromScaledSpace(position: number[], result: number[] = [0, 0, 0]): number[] {\n    return scratchPosition.from(position).scale(this.radii).to(result);\n  }\n\n  /** Computes a point which is the intersection of the surface normal with the z-axis. */\n  getSurfaceNormalIntersectionWithZAxis(\n    position: number[],\n    buffer: number = 0,\n    result: number[] = [0, 0, 0]\n  ): number[] {\n    // Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)\n    assert(equals(this.radii.x, this.radii.y, _MathUtils.EPSILON15));\n    assert(this.radii.z > 0);\n\n    scratchPosition.from(position);\n    const z = scratchPosition.z * (1 - this.squaredXOverSquaredZ);\n\n    if (Math.abs(z) >= this.radii.z - buffer) {\n      return undefined;\n    }\n\n    return scratchPosition.set(0.0, 0.0, z).to(result);\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/**\n * Doubly linked list node\n *\n * @private\n */\nexport default class DoublyLinkedListNode {\n  item;\n  previous;\n  next;\n\n  constructor(item, previous, next) {\n    this.item = item;\n    this.previous = previous;\n    this.next = next;\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport DoublyLinkedListNode from '../utils/doubly-linked-list-node';\n\n/**\n * Doubly linked list\n *\n * @private\n */\nexport default class DoublyLinkedList {\n  head: DoublyLinkedListNode | null = null;\n  tail: DoublyLinkedListNode | null = null;\n  _length = 0;\n\n  get length() {\n    return this._length;\n  }\n\n  /**\n   * Adds the item to the end of the list\n   * @param {*} [item]\n   * @return {DoublyLinkedListNode}\n   */\n  add(item) {\n    const node = new DoublyLinkedListNode(item, this.tail, null);\n\n    if (this.tail) {\n      this.tail.next = node;\n      this.tail = node;\n    } else {\n      this.head = node;\n      this.tail = node;\n    }\n\n    ++this._length;\n\n    return node;\n  }\n\n  /**\n   * Removes the given node from the list\n   * @param {DoublyLinkedListNode} node\n   */\n  remove(node) {\n    if (!node) {\n      return;\n    }\n\n    if (node.previous && node.next) {\n      node.previous.next = node.next;\n      node.next.previous = node.previous;\n    } else if (node.previous) {\n      // Remove last node\n      node.previous.next = null;\n      this.tail = node.previous;\n    } else if (node.next) {\n      // Remove first node\n      node.next.previous = null;\n      this.head = node.next;\n    } else {\n      // Remove last node in the linked list\n      this.head = null;\n      this.tail = null;\n    }\n\n    node.next = null;\n    node.previous = null;\n\n    --this._length;\n  }\n\n  /**\n   * Moves nextNode after node\n   * @param {DoublyLinkedListNode} node\n   * @param {DoublyLinkedListNode} nextNode\n   */\n  splice(node, nextNode) {\n    if (node === nextNode) {\n      return;\n    }\n\n    // Remove nextNode, then insert after node\n    this.remove(nextNode);\n    this._insert(node, nextNode);\n  }\n\n  _insert(node, nextNode) {\n    const oldNodeNext = node.next;\n    node.next = nextNode;\n\n    // nextNode is the new tail\n    if (this.tail === node) {\n      this.tail = nextNode;\n    } else {\n      oldNodeNext.previous = nextNode;\n    }\n\n    nextNode.next = oldNodeNext;\n    nextNode.previous = node;\n\n    ++this._length;\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport DoublyLinkedList from '../utils/doubly-linked-list';\n\nfunction defined(x) {\n  return x !== undefined && x !== null;\n}\n\n/**\n * Stores tiles with content loaded.\n *\n * @private\n */\nexport default class TilesetCache {\n  private _list: DoublyLinkedList;\n  private _sentinel: any;\n  private _trimTiles: boolean;\n\n  constructor() {\n    // [head, sentinel) -> tiles that weren't selected this frame and may be removed from the cache\n    // (sentinel, tail] -> tiles that were selected this frame\n    this._list = new DoublyLinkedList();\n    this._sentinel = this._list.add('sentinel');\n    this._trimTiles = false;\n  }\n\n  reset() {\n    // Move sentinel node to the tail so, at the start of the frame, all tiles\n    // may be potentially replaced.  Tiles are moved to the right of the sentinel\n    // when they are selected so they will not be replaced.\n    this._list.splice(this._list.tail, this._sentinel);\n  }\n\n  touch(tile) {\n    const node = tile._cacheNode;\n    if (defined(node)) {\n      this._list.splice(this._sentinel, node);\n    }\n  }\n\n  add(tileset, tile, addCallback) {\n    if (!defined(tile._cacheNode)) {\n      tile._cacheNode = this._list.add(tile);\n\n      if (addCallback) {\n        addCallback(tileset, tile);\n      }\n    }\n  }\n\n  unloadTile(tileset, tile, unloadCallback?) {\n    const node = tile._cacheNode;\n    if (!defined(node)) {\n      return;\n    }\n\n    this._list.remove(node);\n    tile._cacheNode = undefined;\n    if (unloadCallback) {\n      unloadCallback(tileset, tile);\n    }\n  }\n\n  unloadTiles(tileset, unloadCallback) {\n    const trimTiles = this._trimTiles;\n    this._trimTiles = false;\n\n    const list = this._list;\n\n    const maximumMemoryUsageInBytes = tileset.maximumMemoryUsage * 1024 * 1024;\n\n    // Traverse the list only to the sentinel since tiles/nodes to the\n    // right of the sentinel were used this frame.\n    // The sub-list to the left of the sentinel is ordered from LRU to MRU.\n    const sentinel = this._sentinel;\n    let node = list.head;\n\n    while (\n      node !== sentinel &&\n      (tileset.gpuMemoryUsageInBytes > maximumMemoryUsageInBytes || trimTiles)\n    ) {\n      // @ts-expect-error\n      const tile = node.item;\n      // @ts-expect-error\n      node = node.next;\n      this.unloadTile(tileset, tile, unloadCallback);\n    }\n  }\n\n  trim() {\n    this._trimTiles = true;\n  }\n}\n","import {Tile3D} from '@loaders.gl/tiles';\nimport {Vector3} from '@math.gl/core';\nimport {CullingVolume, Plane} from '@math.gl/culling';\nimport {Ellipsoid} from '@math.gl/geospatial';\nimport {GeospatialViewport, Viewport} from '../../types';\n\nexport type FrameState = {\n  camera: {\n    position: number[];\n    direction: number[];\n    up: number[];\n  };\n  viewport: GeospatialViewport;\n  topDownViewport: GeospatialViewport; // Use it to calculate projected radius for a tile\n  height: number;\n  cullingVolume: CullingVolume;\n  frameNumber: number; // TODO: This can be the same between updates, what number is unique for between updates?\n  sseDenominator: number; // Assumes fovy = 60 degrees\n};\n\nconst scratchVector = new Vector3();\nconst scratchPosition = new Vector3();\nconst cullingVolume = new CullingVolume([\n  new Plane(),\n  new Plane(),\n  new Plane(),\n  new Plane(),\n  new Plane(),\n  new Plane()\n]);\n\n// Extracts a frame state appropriate for tile culling from a deck.gl viewport\n// TODO - this could likely be generalized and merged back into deck.gl for other culling scenarios\nexport function getFrameState(viewport: GeospatialViewport, frameNumber: number): FrameState {\n  // Traverse and and request. Update _selectedTiles so that we know what to render.\n  // Traverse and and request. Update _selectedTiles so that we know what to render.\n  const {cameraDirection, cameraUp, height} = viewport;\n  const {metersPerUnit} = viewport.distanceScales;\n\n  // TODO - Ellipsoid.eastNorthUpToFixedFrame() breaks on raw array, create a Vector.\n  // TODO - Ellipsoid.eastNorthUpToFixedFrame() takes a cartesian, is that intuitive?\n  const viewportCenterCartesian = worldToCartesian(viewport, viewport.center);\n  const enuToFixedTransform = Ellipsoid.WGS84.eastNorthUpToFixedFrame(viewportCenterCartesian);\n\n  const cameraPositionCartographic = viewport.unprojectPosition(viewport.cameraPosition);\n  const cameraPositionCartesian = Ellipsoid.WGS84.cartographicToCartesian(\n    cameraPositionCartographic,\n    new Vector3()\n  );\n\n  // These should still be normalized as the transform has scale 1 (goes from meters to meters)\n  const cameraDirectionCartesian = new Vector3(\n    // @ts-ignore\n    enuToFixedTransform.transformAsVector(new Vector3(cameraDirection).scale(metersPerUnit))\n  ).normalize();\n  const cameraUpCartesian = new Vector3(\n    // @ts-ignore\n    enuToFixedTransform.transformAsVector(new Vector3(cameraUp).scale(metersPerUnit))\n  ).normalize();\n\n  commonSpacePlanesToWGS84(viewport);\n\n  const ViewportClass = viewport.constructor;\n  const {longitude, latitude, width, bearing, zoom} = viewport;\n  // @ts-ignore\n  const topDownViewport = new ViewportClass({\n    longitude,\n    latitude,\n    height,\n    width,\n    bearing,\n    zoom,\n    pitch: 0\n  });\n\n  // TODO: make a file/class for frameState and document what needs to be attached to this so that traversal can function\n  return {\n    camera: {\n      position: cameraPositionCartesian,\n      direction: cameraDirectionCartesian,\n      up: cameraUpCartesian\n    },\n    viewport,\n    topDownViewport,\n    height,\n    cullingVolume,\n    frameNumber, // TODO: This can be the same between updates, what number is unique for between updates?\n    sseDenominator: 1.15 // Assumes fovy = 60 degrees\n  };\n}\n\n/**\n * Limit `tiles` array length with `maximumTilesSelected` number.\n * The criteria for this filtering is distance of a tile center\n * to the `frameState.viewport`'s longitude and latitude\n * @param tiles - tiles array to filter\n * @param frameState - frameState to calculate distances\n * @param maximumTilesSelected - maximal amount of tiles in the output array\n * @returns new tiles array\n */\nexport function limitSelectedTiles(\n  tiles: Tile3D[],\n  frameState: FrameState,\n  maximumTilesSelected: number\n): [Tile3D[], Tile3D[]] {\n  if (maximumTilesSelected === 0 || tiles.length <= maximumTilesSelected) {\n    return [tiles, []];\n  }\n  // Accumulate distances in couples array: [tileIndex: number, distanceToViewport: number]\n  const tuples: [number, number][] = [];\n  const {longitude: viewportLongitude, latitude: viewportLatitude} = frameState.viewport;\n  for (const [index, tile] of tiles.entries()) {\n    const [longitude, latitude] = tile.header.mbs;\n    const deltaLon = Math.abs(viewportLongitude - longitude);\n    const deltaLat = Math.abs(viewportLatitude - latitude);\n    const distance = Math.sqrt(deltaLat * deltaLat + deltaLon * deltaLon);\n    tuples.push([index, distance]);\n  }\n  const tuplesSorted = tuples.sort((a, b) => a[1] - b[1]);\n  const selectedTiles: Tile3D[] = [];\n  for (let i = 0; i < maximumTilesSelected; i++) {\n    selectedTiles.push(tiles[tuplesSorted[i][0]]);\n  }\n  const unselectedTiles: Tile3D[] = [];\n  for (let i = maximumTilesSelected; i < tuplesSorted.length; i++) {\n    unselectedTiles.push(tiles[tuplesSorted[i][0]]);\n  }\n\n  return [selectedTiles, unselectedTiles];\n}\n\nfunction commonSpacePlanesToWGS84(viewport) {\n  // Extract frustum planes based on current view.\n  const frustumPlanes = viewport.getFrustumPlanes();\n\n  // Get the near/far plane centers\n  const nearCenterCommon = closestPointOnPlane(frustumPlanes.near, viewport.cameraPosition);\n  const nearCenterCartesian = worldToCartesian(viewport, nearCenterCommon);\n  const cameraCartesian = worldToCartesian(viewport, viewport.cameraPosition, scratchPosition);\n\n  let i = 0;\n  cullingVolume.planes[i++].fromPointNormal(\n    nearCenterCartesian,\n    scratchVector.copy(nearCenterCartesian).subtract(cameraCartesian)\n  );\n\n  for (const dir in frustumPlanes) {\n    if (dir === 'near') {\n      continue;\n    }\n    const plane = frustumPlanes[dir];\n    const posCommon = closestPointOnPlane(plane, nearCenterCommon, scratchPosition);\n    const cartesianPos = worldToCartesian(viewport, posCommon, scratchPosition);\n\n    cullingVolume.planes[i++].fromPointNormal(\n      cartesianPos,\n      // Want the normal to point into the frustum since that's what culling expects\n      scratchVector.copy(nearCenterCartesian).subtract(cartesianPos)\n    );\n  }\n}\n\nfunction closestPointOnPlane(\n  plane: {distance: number; normal: Vector3},\n  refPoint: [number, number, number] | Vector3,\n  out: Vector3 = new Vector3()\n): Vector3 {\n  const distanceToRef = plane.normal.dot(refPoint);\n  out\n    .copy(plane.normal)\n    .scale(plane.distance - distanceToRef)\n    .add(refPoint);\n  return out;\n}\n\nfunction worldToCartesian(\n  viewport: Viewport,\n  point: number[] | Vector3,\n  out: Vector3 = new Vector3()\n): Vector3 {\n  const cartographicPos = viewport.unprojectPosition(point);\n  return Ellipsoid.WGS84.cartographicToCartesian(cartographicPos, out);\n}\n","import {Vector3} from '@math.gl/core';\nimport {BoundingSphere, OrientedBoundingBox} from '@math.gl/culling';\nimport {Ellipsoid} from '@math.gl/geospatial';\nimport {BoundingRectangle} from '../../types';\n\nconst WGS84_RADIUS_X = 6378137.0;\nconst WGS84_RADIUS_Y = 6378137.0;\nconst WGS84_RADIUS_Z = 6356752.3142451793;\n\nconst scratchVector = new Vector3();\n\n/**\n * Calculate appropriate zoom value for a particular boundingVolume\n * @param boundingVolume - the instance of bounding volume\n * @param cartorgraphicCenter - cartographic center of the bounding volume\n * @returns {number} - zoom value\n */\nexport function getZoomFromBoundingVolume(\n  boundingVolume: BoundingSphere | OrientedBoundingBox | BoundingRectangle,\n  cartorgraphicCenter: Vector3\n) {\n  if (boundingVolume instanceof OrientedBoundingBox) {\n    // OrientedBoundingBox\n    const {halfAxes} = boundingVolume;\n    const obbSize = getObbSize(halfAxes);\n    // Use WGS84_RADIUS_Z to allign with BoundingSphere algorithm\n    // Add the tile elevation value for correct zooming to elevated tiles\n    return Math.log2(WGS84_RADIUS_Z / (obbSize + cartorgraphicCenter[2]));\n  } else if (boundingVolume instanceof BoundingSphere) {\n    // BoundingSphere\n    const {radius} = boundingVolume;\n    // Add the tile elevation value for correct zooming to elevated tiles\n    return Math.log2(WGS84_RADIUS_Z / (radius + cartorgraphicCenter[2]));\n  } else if (boundingVolume.width && boundingVolume.height) {\n    // BoundingRectangle\n    const {width, height} = boundingVolume;\n    const zoomX = Math.log2(WGS84_RADIUS_X / width);\n    const zoomY = Math.log2(WGS84_RADIUS_Y / height);\n\n    return (zoomX + zoomY) / 2;\n  }\n\n  return 1;\n}\n\n/**\n * Calculate initial zoom for the tileset from 3D `fullExtent` defined in\n * the tileset metadata\n * @param fullExtent - 3D extent of the tileset\n * @param fullExtent.xmin - minimal longitude in decimal degrees\n * @param fullExtent.xmax - maximal longitude in decimal degrees\n * @param fullExtent.ymin - minimal latitude in decimal degrees\n * @param fullExtent.ymax - maximal latitude in decimal degrees\n * @param fullExtent.zmin - minimal elevation in meters\n * @param fullExtent.zmax - maximal elevation in meters\n * @param cartorgraphicCenter - tileset center in cartographic coordinate system\n * @param cartesianCenter - tileset center in cartesian coordinate system\n * @returns - initial zoom for the tileset\n */\nexport function getZoomFromFullExtent(\n  fullExtent: {\n    xmin: number;\n    xmax: number;\n    ymin: number;\n    ymax: number;\n    zmin: number;\n    zmax: number;\n  },\n  cartorgraphicCenter: Vector3,\n  cartesianCenter: Vector3\n) {\n  const extentVertex = Ellipsoid.WGS84.cartographicToCartesian(\n    [fullExtent.xmax, fullExtent.ymax, fullExtent.zmax],\n    new Vector3()\n  );\n  const extentSize = Math.sqrt(\n    Math.pow(extentVertex[0] - cartesianCenter[0], 2) +\n      Math.pow(extentVertex[1] - cartesianCenter[1], 2) +\n      Math.pow(extentVertex[2] - cartesianCenter[2], 2)\n  );\n  return Math.log2(WGS84_RADIUS_Z / (extentSize + cartorgraphicCenter[2]));\n}\n\n/**\n * Calculate initial zoom for the tileset from 2D `extent` defined in\n * the tileset metadata\n * @param extent - 2D extent of the tileset. It is array of 4 elements [xmin, ymin, xmax, ymax]\n * @param extent[0] - minimal longitude in decimal degrees\n * @param extent[1] - minimal latitude in decimal degrees\n * @param extent[2] - maximal longitude in decimal degrees\n * @param extent[3] - maximal latitude in decimal degrees\n * @param cartorgraphicCenter - tileset center in cartographic coordinate system\n * @param cartesianCenter - tileset center in cartesian coordinate system\n * @returns - initial zoom for the tileset\n */\nexport function getZoomFromExtent(\n  extent: [number, number, number, number],\n  cartorgraphicCenter: Vector3,\n  cartesianCenter: Vector3\n) {\n  const [xmin, ymin, xmax, ymax] = extent;\n  return getZoomFromFullExtent(\n    {xmin, xmax, ymin, ymax, zmin: 0, zmax: 0},\n    cartorgraphicCenter,\n    cartesianCenter\n  );\n}\n\nfunction getObbSize(halfAxes) {\n  halfAxes.getColumn(0, scratchVector);\n  const axeY = halfAxes.getColumn(1);\n  const axeZ = halfAxes.getColumn(2);\n  const farthestVertex = scratchVector.add(axeY).add(axeZ);\n  const size = farthestVertex.len();\n  return size;\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Quaternion, Vector3, Matrix3, Matrix4, degrees} from '@math.gl/core';\nimport {BoundingSphere, OrientedBoundingBox} from '@math.gl/culling';\nimport {Ellipsoid} from '@math.gl/geospatial';\nimport {assert} from '@loaders.gl/loader-utils';\n\n// const scratchProjectedBoundingSphere = new BoundingSphere();\n\nfunction defined(x) {\n  return x !== undefined && x !== null;\n}\n\n// const scratchMatrix = new Matrix3();\nconst scratchScale = new Vector3();\nconst scratchNorthWest = new Vector3();\nconst scratchSouthEast = new Vector3();\n// const scratchRectangle = new Rectangle();\n// const scratchOrientedBoundingBox = new OrientedBoundingBox();\n// const scratchTransform = new Matrix4();\n\n/**\n * Create a bounding volume from the tile's bounding volume header.\n * @param {Object} boundingVolumeHeader The tile's bounding volume header.\n * @param {Matrix4} transform The transform to apply to the bounding volume.\n * @param [result] The object onto which to store the result.\n * @returns The modified result parameter or a new TileBoundingVolume instance if none was provided.\n */\nexport function createBoundingVolume(boundingVolumeHeader, transform, result) {\n  assert(boundingVolumeHeader, '3D Tile: boundingVolume must be defined');\n\n  // boundingVolume schema:\n  // https://github.com/AnalyticalGraphicsInc/3d-tiles/blob/master/specification/schema/boundingVolume.schema.json\n  if (boundingVolumeHeader.box) {\n    return createBox(boundingVolumeHeader.box, transform, result);\n  }\n  if (boundingVolumeHeader.region) {\n    // [west, south, east, north, minimum height, maximum height]\n    // Latitudes and longitudes are in the WGS 84 datum as defined in EPSG 4979 and are in radians.\n    // Heights are in meters above (or below) the WGS 84 ellipsoid.\n    const [west, south, east, north, minHeight, maxHeight] = boundingVolumeHeader.region;\n\n    const northWest = Ellipsoid.WGS84.cartographicToCartesian(\n      [degrees(west), degrees(north), minHeight],\n      scratchNorthWest\n    );\n    const southEast = Ellipsoid.WGS84.cartographicToCartesian(\n      [degrees(east), degrees(south), maxHeight],\n      scratchSouthEast\n    );\n    const centerInCartesian = new Vector3().addVectors(northWest, southEast).multiplyScalar(0.5);\n    const radius = new Vector3().subVectors(northWest, southEast).len() / 2.0;\n\n    // TODO improve region boundingVolume\n    // for now, create a sphere as the boundingVolume instead of box\n    return createSphere(\n      [centerInCartesian[0], centerInCartesian[1], centerInCartesian[2], radius],\n      new Matrix4()\n    );\n  }\n\n  if (boundingVolumeHeader.sphere) {\n    return createSphere(boundingVolumeHeader.sphere, transform, result);\n  }\n\n  throw new Error('3D Tile: boundingVolume must contain a sphere, region, or box');\n}\n\nfunction createBox(box, transform, result) {\n  // https://math.gl/modules/culling/docs/api-reference/oriented-bounding-box\n  // 1. A half-axes based representation.\n  // box: An array of 12 numbers that define an oriented bounding box.\n  // The first three elements define the x, y, and z values for the center of the box.\n  // The next three elements (with indices 3, 4, and 5) define the x axis direction and half-length.\n  // The next three elements (indices 6, 7, and 8) define the y axis direction and half-length.\n  // The last three elements (indices 9, 10, and 11) define the z axis direction and half-length.\n  // 2. A half-size-quaternion based representation.\n  // box: An array of 10 numbers that define an oriented bounding box.\n  // The first three elements define the x, y, and z values for the center of the box in a right-handed 3-axis (x, y, z) Cartesian coordinate system where the z-axis is up.\n  // The next three elements (with indices 3, 4, and 5) define the halfSize.\n  // The last four elements (indices 6, 7, 8 and 10) define the quaternion.\n  const center = new Vector3(box[0], box[1], box[2]);\n  transform.transform(center, center);\n  let origin: number[] = [];\n  if (box.length === 10) {\n    const halfSize = box.slice(3, 6);\n    const quaternion = new Quaternion();\n    quaternion.fromArray(box, 6);\n    const x = new Vector3([1, 0, 0]);\n    const y = new Vector3([0, 1, 0]);\n    const z = new Vector3([0, 0, 1]);\n    x.transformByQuaternion(quaternion);\n    x.scale(halfSize[0]);\n    y.transformByQuaternion(quaternion);\n    y.scale(halfSize[1]);\n    z.transformByQuaternion(quaternion);\n    z.scale(halfSize[2]);\n    origin = [...x.toArray(), ...y.toArray(), ...z.toArray()];\n  } else {\n    origin = [...box.slice(3, 6), ...box.slice(6, 9), ...box.slice(9, 12)];\n  }\n  const xAxis = transform.transformAsVector(origin.slice(0, 3));\n  const yAxis = transform.transformAsVector(origin.slice(3, 6));\n  const zAxis = transform.transformAsVector(origin.slice(6, 9));\n  const halfAxes = new Matrix3([\n    xAxis[0],\n    xAxis[1],\n    xAxis[2],\n    yAxis[0],\n    yAxis[1],\n    yAxis[2],\n    zAxis[0],\n    zAxis[1],\n    zAxis[2]\n  ]);\n\n  if (defined(result)) {\n    result.center = center;\n    result.halfAxes = halfAxes;\n    return result;\n  }\n\n  return new OrientedBoundingBox(center, halfAxes);\n}\n\n/*\nfunction createBoxFromTransformedRegion(region, transform, initialTransform, result) {\n  const rectangle = Rectangle.unpack(region, 0, scratchRectangle);\n  const minimumHeight = region[4];\n  const maximumHeight = region[5];\n\n  const orientedBoundingBox = OrientedBoundingBox.fromRectangle(\n    rectangle,\n    minimumHeight,\n    maximumHeight,\n    Ellipsoid.WGS84,\n    scratchOrientedBoundingBox\n  );\n  const center = orientedBoundingBox.center;\n  const halfAxes = orientedBoundingBox.halfAxes;\n\n  // A region bounding volume is not transformed by the transform in the tileset JSON,\n  // but may be transformed by additional transforms applied in Cesium.\n  // This is why the transform is calculated as the difference between the initial transform and the current transform.\n  transform = Matrix4.multiplyTransformation(\n    transform,\n    Matrix4.inverseTransformation(initialTransform, scratchTransform),\n    scratchTransform\n  );\n  center = Matrix4.multiplyByPoint(transform, center, center);\n  const rotationScale = Matrix4.getRotation(transform, scratchMatrix);\n  halfAxes = Matrix3.multiply(rotationScale, halfAxes, halfAxes);\n\n  if (defined(result) && result instanceof TileOrientedBoundingBox) {\n    result.update(center, halfAxes);\n    return result;\n  }\n\n  return new TileOrientedBoundingBox(center, halfAxes);\n}\n\nfunction createRegion(region, transform, initialTransform, result) {\n  if (!Matrix4.equalsEpsilon(transform, initialTransform, CesiumMath.EPSILON8)) {\n    return createBoxFromTransformedRegion(region, transform, initialTransform, result);\n  }\n\n  if (defined(result)) {\n    return result;\n  }\n\n  const rectangleRegion = Rectangle.unpack(region, 0, scratchRectangle);\n\n  return new TileBoundingRegion({\n    rectangle: rectangleRegion,\n    minimumHeight: region[4],\n    maximumHeight: region[5]\n  });\n}\n*/\n\nfunction createSphere(sphere, transform, result?) {\n  // Find the transformed center\n  const center = new Vector3(sphere[0], sphere[1], sphere[2]);\n  transform.transform(center, center);\n  const scale = transform.getScale(scratchScale);\n\n  const uniformScale = Math.max(Math.max(scale[0], scale[1]), scale[2]);\n  const radius = sphere[3] * uniformScale;\n\n  if (defined(result)) {\n    result.center = center;\n    result.radius = radius;\n    return result;\n  }\n\n  return new BoundingSphere(center, radius);\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// TODO - Dynamic screen space error provides an optimization when looking at\n// tilesets from above\n\n/* eslint-disable */\n// @ts-nocheck\nimport {Matrix4, Vector3, clamp} from '@math.gl/core';\n\nconst scratchPositionNormal = new Vector3();\nconst scratchCartographic = new Vector3();\nconst scratchMatrix = new Matrix4();\nconst scratchCenter = new Vector3();\nconst scratchPosition = new Vector3();\nconst scratchDirection = new Vector3();\n\n// eslint-disable-next-line max-statements, complexity\nexport function calculateDynamicScreenSpaceError(root, {camera, mapProjection}, options = {}) {\n  const {dynamicScreenSpaceErrorHeightFalloff = 0.25, dynamicScreenSpaceErrorDensity = 0.00278} =\n    options;\n\n  let up;\n  let direction;\n  let height;\n  let minimumHeight;\n  let maximumHeight;\n\n  const tileBoundingVolume = root.contentBoundingVolume;\n\n  if (tileBoundingVolume instanceof TileBoundingRegion) {\n    up = Cartesian3.normalize(camera.positionWC, scratchPositionNormal);\n    direction = camera.directionWC;\n    height = camera.positionCartographic.height;\n    minimumHeight = tileBoundingVolume.minimumHeight;\n    maximumHeight = tileBoundingVolume.maximumHeight;\n  } else {\n    // Transform camera position and direction into the local coordinate system of the tileset\n    const transformLocal = Matrix4.inverseTransformation(root.computedTransform, scratchMatrix);\n    const ellipsoid = mapProjection.ellipsoid;\n    const boundingVolume = tileBoundingVolume.boundingVolume;\n    const centerLocal = Matrix4.multiplyByPoint(\n      transformLocal,\n      boundingVolume.center,\n      scratchCenter\n    );\n    if (Cartesian3.magnitude(centerLocal) > ellipsoid.minimumRadius) {\n      // The tileset is defined in WGS84. Approximate the minimum and maximum height.\n      const centerCartographic = Cartographic.fromCartesian(\n        centerLocal,\n        ellipsoid,\n        scratchCartographic\n      );\n      up = Cartesian3.normalize(camera.positionWC, scratchPositionNormal);\n      direction = camera.directionWC;\n      height = camera.positionCartographic.height;\n      minimumHeight = 0.0;\n      maximumHeight = centerCartographic.height * 2.0;\n    } else {\n      // The tileset is defined in local coordinates (z-up)\n      const positionLocal = Matrix4.multiplyByPoint(\n        transformLocal,\n        camera.positionWC,\n        scratchPosition\n      );\n      up = Cartesian3.UNIT_Z;\n      direction = Matrix4.multiplyByPointAsVector(\n        transformLocal,\n        camera.directionWC,\n        scratchDirection\n      );\n      direction = Cartesian3.normalize(direction, direction);\n      height = positionLocal.z;\n      if (tileBoundingVolume instanceof TileOrientedBoundingBox) {\n        // Assuming z-up, the last component stores the half-height of the box\n        const boxHeight = root._header.boundingVolume.box[11];\n        minimumHeight = centerLocal.z - boxHeight;\n        maximumHeight = centerLocal.z + boxHeight;\n      } else if (tileBoundingVolume instanceof TileBoundingSphere) {\n        const radius = boundingVolume.radius;\n        minimumHeight = centerLocal.z - radius;\n        maximumHeight = centerLocal.z + radius;\n      }\n    }\n  }\n\n  // The range where the density starts to lessen. Start at the quarter height of the tileset.\n  const heightFalloff = dynamicScreenSpaceErrorHeightFalloff;\n  const heightClose = minimumHeight + (maximumHeight - minimumHeight) * heightFalloff;\n  const heightFar = maximumHeight;\n\n  const t = clamp((height - heightClose) / (heightFar - heightClose), 0.0, 1.0);\n\n  // Increase density as the camera tilts towards the horizon\n  const dot = Math.abs(Cartesian3.dot(direction, up));\n\n  let horizonFactor = 1.0 - dot;\n\n  // Weaken the horizon factor as the camera height increases, implying the camera is further away from the tileset.\n  // The goal is to increase density for the \"street view\", not when viewing the tileset from a distance.\n  horizonFactor = horizonFactor * (1.0 - t);\n\n  return dynamicScreenSpaceErrorDensity * horizonFactor;\n}\n\nexport function fog(distanceToCamera, density) {\n  const scalar = distanceToCamera * density;\n  return 1.0 - Math.exp(-(scalar * scalar));\n}\n\nexport function getDynamicScreenSpaceError(tileset, distanceToCamera) {\n  if (tileset.dynamicScreenSpaceError && tileset.dynamicScreenSpaceErrorComputedDensity) {\n    const density = tileset.dynamicScreenSpaceErrorComputedDensity;\n    const factor = tileset.dynamicScreenSpaceErrorFactor;\n    // TODO: Refined screen space error that minimizes tiles in non-first-person\n    const dynamicError = fog(distanceToCamera, density) * factor;\n    return dynamicError;\n  }\n\n  return 0;\n}\n\nexport function getTiles3DScreenSpaceError(tile, frameState, useParentLodMetric) {\n  const tileset = tile.tileset;\n  const parentLodMetricValue = (tile.parent && tile.parent.lodMetricValue) || tile.lodMetricValue;\n  const lodMetricValue = useParentLodMetric ? parentLodMetricValue : tile.lodMetricValue;\n\n  // Leaf tiles do not have any error so save the computation\n  if (lodMetricValue === 0.0) {\n    return 0.0;\n  }\n\n  // TODO: Orthographic Frustum needs special treatment?\n  // this._getOrthograhicScreenSpaceError();\n\n  // Avoid divide by zero when viewer is inside the tile\n  const distance = Math.max(tile._distanceToCamera, 1e-7);\n  const {height, sseDenominator} = frameState;\n  const {viewDistanceScale} = tileset.options;\n  let error = (lodMetricValue * height * (viewDistanceScale || 1.0)) / (distance * sseDenominator);\n\n  error -= getDynamicScreenSpaceError(tileset, distance);\n\n  return error;\n}\n","import {Matrix4, Vector3} from '@math.gl/core';\nimport {Ellipsoid} from '@math.gl/geospatial';\nimport Tile3D from '../tile-3d';\nimport {FrameState} from './frame-state';\n\nconst cameraPositionCartesian = new Vector3();\nconst toEye = new Vector3();\nconst cameraPositionEnu = new Vector3();\nconst extraVertexEnu = new Vector3();\nconst projectedOriginVector = new Vector3();\nconst enuToCartesianMatrix = new Matrix4();\nconst cartesianToEnuMatrix = new Matrix4();\n\n/**\n * For the maxScreenThreshold error metric, maxError means that you should replace the node with it's children\n   as soon as the nodes bounding sphere has a screen radius larger than maxError pixels.\n   In this sense a value of 0 means you should always load it's children,\n   or if it's a leaf node, you should always display it.\n * @param tile \n * @param frameState \n * @returns \n */\nexport function getLodStatus(tile: Tile3D, frameState: FrameState): 'DIG' | 'OUT' | 'DRAW' {\n  if (tile.lodMetricValue === 0 || isNaN(tile.lodMetricValue)) {\n    return 'DIG';\n  }\n  const screenSize = 2 * getProjectedRadius(tile, frameState);\n  if (screenSize < 2) {\n    return 'OUT';\n  }\n  if (!tile.header.children || screenSize <= tile.lodMetricValue) {\n    return 'DRAW';\n  } else if (tile.header.children) {\n    return 'DIG';\n  }\n  return 'OUT';\n}\n\n/**\n * Calculate size of MBS radius projected on the screen plane\n * @param tile\n * @param frameState\n * @returns\n */\n// eslint-disable-next-line max-statements\nexport function getProjectedRadius(tile: Tile3D, frameState: FrameState): number {\n  const {topDownViewport: viewport} = frameState;\n  const mbsLat = tile.header.mbs[1];\n  const mbsLon = tile.header.mbs[0];\n  const mbsZ = tile.header.mbs[2];\n  const mbsR = tile.header.mbs[3];\n  const mbsCenterCartesian = [...tile.boundingVolume.center];\n  const cameraPositionCartographic = viewport.unprojectPosition(viewport.cameraPosition);\n  Ellipsoid.WGS84.cartographicToCartesian(cameraPositionCartographic, cameraPositionCartesian);\n\n  // ---------------------------\n  // Calculate mbs border vertex\n  // ---------------------------\n  toEye.copy(cameraPositionCartesian).subtract(mbsCenterCartesian).normalize();\n  // Add extra vector to form plane\n  Ellipsoid.WGS84.eastNorthUpToFixedFrame(mbsCenterCartesian, enuToCartesianMatrix);\n  cartesianToEnuMatrix.copy(enuToCartesianMatrix).invert();\n  cameraPositionEnu.copy(cameraPositionCartesian).transform(cartesianToEnuMatrix);\n  // Mean Proportionals in Right Triangles - Altitude rule\n  // https://mathbitsnotebook.com/Geometry/RightTriangles/RTmeanRight.html\n  const projection = Math.sqrt(\n    cameraPositionEnu[0] * cameraPositionEnu[0] + cameraPositionEnu[1] * cameraPositionEnu[1]\n  );\n  const extraZ = (projection * projection) / cameraPositionEnu[2];\n  extraVertexEnu.copy([cameraPositionEnu[0], cameraPositionEnu[1], extraZ]);\n  const extraVertexCartesian = extraVertexEnu.transform(enuToCartesianMatrix);\n  const extraVectorCartesian = extraVertexCartesian.subtract(mbsCenterCartesian).normalize();\n  // We need radius vector orthogonal to toEye vector\n  const radiusVector = toEye.cross(extraVectorCartesian).normalize().scale(mbsR);\n  const sphereMbsBorderVertexCartesian = radiusVector.add(mbsCenterCartesian);\n  const sphereMbsBorderVertexCartographic = Ellipsoid.WGS84.cartesianToCartographic(\n    sphereMbsBorderVertexCartesian\n  );\n  // ---------------------------\n\n  // Project center vertex and border vertex and calculate projected radius of MBS\n  const projectedOrigin = viewport.project([mbsLon, mbsLat, mbsZ]);\n  const projectedMbsBorderVertex = viewport.project(\n    sphereMbsBorderVertexCartographic as [number, number, number]\n  );\n  const projectedRadius = projectedOriginVector\n    .copy(projectedOrigin)\n    .subtract(projectedMbsBorderVertex)\n    .magnitude();\n  return projectedRadius;\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {assert} from '@loaders.gl/loader-utils';\n\n/**\n * A wrapper around arrays so that the internal length of the array can be manually managed.\n *\n * @alias ManagedArray\n * @constructor\n * @private\n *\n * @param {Number} [length=0] The initial length of the array.\n */\nexport default class ManagedArray {\n  _map = new Map();\n  _array: any[];\n  _length: number;\n\n  constructor(length = 0) {\n    this._array = new Array(length);\n    this._length = length;\n  }\n\n  /**\n   * Gets or sets the length of the array.\n   * If the set length is greater than the length of the internal array, the internal array is resized.\n   *\n   * @memberof ManagedArray.prototype\n   * @type Number\n   */\n  get length() {\n    return this._length;\n  }\n\n  set length(length) {\n    this._length = length;\n    if (length > this._array.length) {\n      this._array.length = length;\n    }\n  }\n\n  /**\n   * Gets the internal array.\n   *\n   * @memberof ManagedArray.prototype\n   * @type Array\n   * @readonly\n   */\n  get values() {\n    return this._array;\n  }\n\n  /**\n   * Gets the element at an index.\n   *\n   * @param {Number} index The index to get.\n   */\n  get(index) {\n    assert(index < this._array.length);\n    return this._array[index];\n  }\n\n  /**\n   * Sets the element at an index. Resizes the array if index is greater than the length of the array.\n   *\n   * @param {Number} index The index to set.\n   * @param {*} element The element to set at index.\n   */\n  set(index, element) {\n    assert(index >= 0);\n\n    if (index >= this.length) {\n      this.length = index + 1;\n    }\n\n    if (this._map.has(this._array[index])) {\n      this._map.delete(this._array[index]);\n    }\n\n    this._array[index] = element;\n    this._map.set(element, index);\n  }\n\n  delete(element) {\n    const index = this._map.get(element);\n    if (index >= 0) {\n      this._array.splice(index, 1);\n      this._map.delete(element);\n      this.length--;\n    }\n  }\n\n  /**\n   * Returns the last element in the array without modifying the array.\n   *\n   * @returns {*} The last element in the array.\n   */\n  peek() {\n    return this._array[this._length - 1];\n  }\n\n  /**\n   * Push an element into the array.\n   *\n   * @param {*} element The element to push.\n   */\n  push(element) {\n    if (!this._map.has(element)) {\n      const index = this.length++;\n      this._array[index] = element;\n      this._map.set(element, index);\n    }\n  }\n\n  /**\n   * Pop an element from the array.\n   *\n   * @returns {*} The last element in the array.\n   */\n  pop() {\n    const element = this._array[--this.length];\n    this._map.delete(element);\n    return element;\n  }\n\n  /**\n   * Resize the internal array if length > _array.length.\n   *\n   * @param {Number} length The length.\n   */\n  reserve(length) {\n    assert(length >= 0);\n\n    if (length > this._array.length) {\n      this._array.length = length;\n    }\n  }\n\n  /**\n   * Resize the array.\n   *\n   * @param {Number} length The length.\n   */\n  resize(length) {\n    assert(length >= 0);\n\n    this.length = length;\n  }\n\n  /**\n   * Trim the internal array to the specified length. Defaults to the current length.\n   *\n   * @param {Number} [length] The length.\n   */\n  trim(length) {\n    if (length === null || length === undefined) {\n      length = this.length;\n    }\n    this._array.length = length;\n  }\n\n  reset() {\n    this._array = [];\n    this._map = new Map();\n    this._length = 0;\n  }\n\n  find(target) {\n    return this._map.has(target);\n  }\n}\n","import ManagedArray from '../../utils/managed-array';\nimport {TILE_REFINEMENT} from '../../constants';\nimport {FrameState} from '../helpers/frame-state';\n\nexport type TilesetTraverserProps = {\n  loadSiblings?: boolean;\n  skipLevelOfDetail?: boolean;\n  maximumScreenSpaceError?: number;\n  onTraversalEnd?: (frameState) => any;\n  viewportTraversersMap?: {[key: string]: any};\n  basePath?: string;\n};\n\nexport type Props = {\n  loadSiblings: boolean;\n  skipLevelOfDetail: boolean;\n  updateTransforms: boolean;\n  maximumScreenSpaceError: number;\n  onTraversalEnd: (frameState) => any;\n  viewportTraversersMap: {[key: string]: any};\n  basePath: string;\n};\n\nexport const DEFAULT_PROPS: Props = {\n  loadSiblings: false,\n  skipLevelOfDetail: false,\n  maximumScreenSpaceError: 2,\n  updateTransforms: true,\n  onTraversalEnd: () => {},\n  viewportTraversersMap: {},\n  basePath: ''\n};\n\nexport default class TilesetTraverser {\n  options: Props;\n\n  root: any;\n  requestedTiles: object;\n  selectedTiles: object;\n  emptyTiles: object;\n\n  protected lastUpdate: number = new Date().getTime();\n  protected readonly updateDebounceTime = 1000;\n  protected _traversalStack: ManagedArray;\n  protected _emptyTraversalStack: ManagedArray;\n  protected _frameNumber: number | null;\n\n  protected traversalFinished(frameState: FrameState): boolean {\n    return true;\n  }\n\n  // TODO nested props\n  constructor(options: TilesetTraverserProps) {\n    this.options = {...DEFAULT_PROPS, ...options};\n    // TRAVERSAL\n    // temporary storage to hold the traversed tiles during a traversal\n    this._traversalStack = new ManagedArray();\n    this._emptyTraversalStack = new ManagedArray();\n\n    // set in every traverse cycle\n    this._frameNumber = null;\n\n    // fulfill in traverse call\n    this.root = null;\n\n    // RESULT\n    // tiles should be rendered\n    this.selectedTiles = {};\n    // tiles should be loaded from server\n    this.requestedTiles = {};\n    // tiles does not have render content\n    this.emptyTiles = {};\n  }\n\n  // tiles should be visible\n  traverse(root, frameState, options) {\n    this.root = root; // for root screen space error\n    this.options = {...this.options, ...options};\n\n    // reset result\n    this.reset();\n\n    // update tile (visibility and expiration)\n    this.updateTile(root, frameState);\n\n    this._frameNumber = frameState.frameNumber;\n    this.executeTraversal(root, frameState);\n  }\n\n  reset() {\n    this.requestedTiles = {};\n    this.selectedTiles = {};\n    this.emptyTiles = {};\n    this._traversalStack.reset();\n    this._emptyTraversalStack.reset();\n  }\n\n  // execute traverse\n  // Depth-first traversal that traverses all visible tiles and marks tiles for selection.\n  // If skipLevelOfDetail is off then a tile does not refine until all children are loaded.\n  // This is the traditional replacement refinement approach and is called the base traversal.\n  // Tiles that have a greater screen space error than the base screen space error are part of the base traversal,\n  // all other tiles are part of the skip traversal. The skip traversal allows for skipping levels of the tree\n  // and rendering children and parent tiles simultaneously.\n  /* eslint-disable-next-line complexity, max-statements */\n  executeTraversal(root, frameState: FrameState) {\n    // stack to store traversed tiles, only visible tiles should be added to stack\n    // visible: visible in the current view frustum\n    const stack = this._traversalStack;\n    root._selectionDepth = 1;\n\n    stack.push(root);\n    while (stack.length > 0) {\n      // 1. pop tile\n      const tile = stack.pop();\n\n      // 2. check if tile needs to be refine, needs refine if a tile's LoD is not sufficient and tile has available children (available content)\n      let shouldRefine = false;\n      if (this.canTraverse(tile, frameState)) {\n        this.updateChildTiles(tile, frameState);\n        shouldRefine = this.updateAndPushChildren(\n          tile,\n          frameState,\n          stack,\n          tile.hasRenderContent ? tile._selectionDepth + 1 : tile._selectionDepth\n        );\n      }\n\n      // 3. decide if should render (select) this tile\n      //   - tile does not have render content\n      //   - tile has render content and tile is `add` type (pointcloud)\n      //   - tile has render content and tile is `replace` type (photogrammetry) and can't refine any further\n      const parent = tile.parent;\n      const parentRefines = Boolean(!parent || parent._shouldRefine);\n      const stoppedRefining = !shouldRefine;\n\n      if (!tile.hasRenderContent) {\n        this.emptyTiles[tile.id] = tile;\n        this.loadTile(tile, frameState);\n        if (stoppedRefining) {\n          this.selectTile(tile, frameState);\n        }\n        // additive tiles\n      } else if (tile.refine === TILE_REFINEMENT.ADD) {\n        // Additive tiles are always loaded and selected\n        this.loadTile(tile, frameState);\n        this.selectTile(tile, frameState);\n\n        // replace tiles\n      } else if (tile.refine === TILE_REFINEMENT.REPLACE) {\n        // Always load tiles in the base traversal\n        // Select tiles that can't refine further\n        this.loadTile(tile, frameState);\n        if (stoppedRefining) {\n          this.selectTile(tile, frameState);\n        }\n      }\n\n      // 3. update cache, most recent touched tiles have higher priority to be fetched from server\n      this.touchTile(tile, frameState);\n\n      // 4. update tile refine prop and parent refinement status to trickle down to the descendants\n      tile._shouldRefine = shouldRefine && parentRefines;\n    }\n\n    const newTime = new Date().getTime();\n    if (this.traversalFinished(frameState) || newTime - this.lastUpdate > this.updateDebounceTime) {\n      this.lastUpdate = newTime;\n      this.options.onTraversalEnd(frameState);\n    }\n  }\n\n  updateChildTiles(tile, frameState) {\n    const children = tile.children;\n    for (const child of children) {\n      this.updateTile(child, frameState);\n    }\n    return true;\n  }\n\n  /* eslint-disable complexity, max-statements */\n  updateAndPushChildren(tile, frameState, stack, depth) {\n    const {loadSiblings, skipLevelOfDetail} = this.options;\n\n    const children = tile.children;\n\n    // sort children tiles\n    children.sort(this.compareDistanceToCamera.bind(this));\n\n    // For traditional replacement refinement only refine if all children are loaded.\n    // Empty tiles are exempt since it looks better if children stream in as they are loaded to fill the empty space.\n    const checkRefines =\n      tile.refine === TILE_REFINEMENT.REPLACE && tile.hasRenderContent && !skipLevelOfDetail;\n\n    let hasVisibleChild = false;\n    let refines = true;\n\n    for (const child of children) {\n      child._selectionDepth = depth;\n      if (child.isVisibleAndInRequestVolume) {\n        if (stack.find(child)) {\n          stack.delete(child);\n        }\n        stack.push(child);\n        hasVisibleChild = true;\n      } else if (checkRefines || loadSiblings) {\n        // Keep non-visible children loaded since they are still needed before the parent can refine.\n        // Or loadSiblings is true so always load tiles regardless of visibility.\n        this.loadTile(child, frameState);\n        this.touchTile(child, frameState);\n      }\n\n      if (checkRefines) {\n        let childRefines;\n        if (!child._inRequestVolume) {\n          childRefines = false;\n        } else if (!child.hasRenderContent) {\n          childRefines = this.executeEmptyTraversal(child, frameState);\n        } else {\n          childRefines = child.contentAvailable;\n        }\n        refines = refines && childRefines;\n\n        if (!refines) {\n          return false;\n        }\n      }\n    }\n\n    if (!hasVisibleChild) {\n      refines = false;\n    }\n    return refines;\n  }\n  /* eslint-enable complexity, max-statements */\n\n  updateTile(tile, frameState) {\n    this.updateTileVisibility(tile, frameState);\n  }\n\n  // tile to render in the browser\n  selectTile(tile, frameState) {\n    if (this.shouldSelectTile(tile)) {\n      // The tile can be selected right away and does not require traverseAndSelect\n      tile._selectedFrame = frameState.frameNumber;\n      this.selectedTiles[tile.id] = tile;\n    }\n  }\n\n  // tile to load from server\n  loadTile(tile, frameState) {\n    if (this.shouldLoadTile(tile)) {\n      tile._requestedFrame = frameState.frameNumber;\n      tile._priority = tile._getPriority();\n      this.requestedTiles[tile.id] = tile;\n    }\n  }\n\n  // cache tile\n  touchTile(tile, frameState) {\n    tile.tileset._cache.touch(tile);\n    tile._touchedFrame = frameState.frameNumber;\n  }\n\n  // tile should be visible\n  // tile should have children\n  // tile LoD (level of detail) is not sufficient under current viewport\n  canTraverse(tile, frameState, useParentMetric = false, ignoreVisibility = false) {\n    if (!tile.hasChildren) {\n      return false;\n    }\n\n    // cesium specific\n    if (tile.hasTilesetContent) {\n      // Traverse external this to visit its root tile\n      // Don't traverse if the subtree is expired because it will be destroyed\n      return !tile.contentExpired;\n    }\n\n    if (!ignoreVisibility && !tile.isVisibleAndInRequestVolume) {\n      return false;\n    }\n\n    return this.shouldRefine(tile, frameState, useParentMetric);\n  }\n\n  shouldLoadTile(tile) {\n    // if request tile is in current frame\n    // and has unexpired render content\n    return tile.hasUnloadedContent || tile.contentExpired;\n  }\n\n  shouldSelectTile(tile) {\n    // if select tile is in current frame\n    // and content available\n    return tile.contentAvailable && !this.options.skipLevelOfDetail;\n  }\n\n  // Decide if tile LoD (level of detail) is not sufficient under current viewport\n  shouldRefine(tile, frameState, useParentMetric) {\n    let screenSpaceError = tile._screenSpaceError;\n    if (useParentMetric) {\n      screenSpaceError = tile.getScreenSpaceError(frameState, true);\n    }\n\n    return screenSpaceError > this.options.maximumScreenSpaceError;\n  }\n\n  updateTileVisibility(tile, frameState) {\n    const viewportIds: string[] = [];\n    if (this.options.viewportTraversersMap) {\n      for (const key in this.options.viewportTraversersMap) {\n        const value = this.options.viewportTraversersMap[key];\n        if (value === frameState.viewport.id) {\n          viewportIds.push(key);\n        }\n      }\n    } else {\n      viewportIds.push(frameState.viewport.id);\n    }\n    tile.updateVisibility(frameState, viewportIds);\n  }\n\n  // UTILITIES\n\n  compareDistanceToCamera(b, a) {\n    return b._distanceToCamera - a._distanceToCamera;\n  }\n\n  anyChildrenVisible(tile, frameState) {\n    let anyVisible = false;\n    for (const child of tile.children) {\n      child.updateVisibility(frameState);\n      anyVisible = anyVisible || child.isVisibleAndInRequestVolume;\n    }\n    return anyVisible;\n  }\n\n  // Depth-first traversal that checks if all nearest descendants with content are loaded.\n  // Ignores visibility.\n  executeEmptyTraversal(root, frameState) {\n    let allDescendantsLoaded = true;\n    const stack = this._emptyTraversalStack;\n\n    stack.push(root);\n\n    while (stack.length > 0 && allDescendantsLoaded) {\n      const tile = stack.pop();\n\n      this.updateTile(tile, frameState);\n\n      if (!tile.isVisibleAndInRequestVolume) {\n        // Load tiles that aren't visible since they are still needed for the parent to refine\n        this.loadTile(tile, frameState);\n      }\n\n      this.touchTile(tile, frameState);\n\n      // Only traverse if the tile is empty - traversal stop at descendants with content\n      const traverse = !tile.hasRenderContent && this.canTraverse(tile, frameState, false, true);\n\n      if (traverse) {\n        const children = tile.children;\n        for (const child of children) {\n          // eslint-disable-next-line max-depth\n          if (stack.find(child)) {\n            stack.delete(child);\n          }\n          stack.push(child);\n        }\n      } else if (!tile.contentAvailable) {\n        allDescendantsLoaded = false;\n      }\n    }\n\n    return allDescendantsLoaded;\n  }\n}\n\n// TODO\n// enable expiration\n// enable optimization hint\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\nimport {Vector3, Matrix4} from '@math.gl/core';\nimport {CullingVolume} from '@math.gl/culling';\n\nimport {load} from '@loaders.gl/core';\nimport {TILE_REFINEMENT, TILE_CONTENT_STATE, TILESET_TYPE} from '../constants';\n\nimport {FrameState} from './helpers/frame-state';\nimport {createBoundingVolume} from './helpers/bounding-volume';\nimport {getTiles3DScreenSpaceError} from './helpers/tiles-3d-lod';\nimport {getProjectedRadius} from './helpers/i3s-lod';\nimport {get3dTilesOptions} from './helpers/3d-tiles-options';\nimport TilesetTraverser from './traversers/tileset-traverser';\n\n// Note: circular dependency\nimport type Tileset3D from './tileset-3d';\n\nconst scratchVector = new Vector3();\n\nfunction defined(x) {\n  return x !== undefined && x !== null;\n}\n\n/**\n * @param tileset - Tileset3D instance\n * @param header - tile header - JSON loaded from a dataset\n * @param parentHeader - parent TileHeader instance\n * @param extendedId - optional ID to separate copies of a tile for different viewports.\n *                              const extendedId = `${tile.id}-${frameState.viewport.id}`;\n */\nexport type TileHeaderProps = {\n  tileset: Tileset3D;\n  header: Object;\n  parentHeader: TileHeader;\n  extendedId: string;\n};\n\n/**\n * A Tile3DHeader represents a tile as Tileset3D. When a tile is first created, its content is not loaded;\n * the content is loaded on-demand when needed based on the view.\n * Do not construct this directly, instead access tiles through {@link Tileset3D#tileVisible}.\n */\nexport default class TileHeader {\n  tileset: Tileset3D;\n  header: any;\n  id: string;\n  url: string;\n  parent: TileHeader;\n  refine: number;\n  type: string;\n  contentUrl: string;\n  lodMetricType: string;\n  lodMetricValue: number;\n  boundingVolume: any;\n  content: any;\n  contentState: any;\n  gpuMemoryUsageInBytes: number;\n  children: TileHeader[];\n  depth: number;\n  viewportIds: any[];\n  transform: Matrix4;\n  extensions: any;\n\n  // Container to store application specific data\n  userData: {[key: string]: any};\n  computedTransform: any;\n  hasEmptyContent: boolean;\n  hasTilesetContent: boolean;\n\n  traverser: object;\n\n  // @ts-ignore\n  private _cacheNode: any;\n  private _frameNumber: any;\n  // TODO i3s specific, needs to remove\n  // @ts-ignore\n  private _lodJudge: any;\n  // TODO Cesium 3d tiles specific\n  private _expireDate: any;\n  private _expiredContent: any;\n  // @ts-ignore\n  private _shouldRefine: boolean;\n\n  // Members this are updated every frame for tree traversal and rendering optimizations:\n  // @ts-ignore\n  private _distanceToCamera: number;\n  // @ts-ignore\n  private _centerZDepth: number;\n  private _screenSpaceError: number;\n  private _visibilityPlaneMask: any;\n  private _visible?: boolean;\n  private _inRequestVolume: boolean;\n\n  // @ts-ignore\n  private _stackLength: number;\n  // @ts-ignore\n  private _selectionDepth: number;\n\n  // @ts-ignore\n  private _touchedFrame: number;\n  // @ts-ignore\n  private _visitedFrame: number;\n  private _selectedFrame: number;\n  // @ts-ignore\n  private _requestedFrame: number;\n\n  // @ts-ignore\n  private _priority: number;\n\n  private _contentBoundingVolume: any;\n  private _viewerRequestVolume: any;\n\n  _initialTransform: Matrix4;\n\n  /**\n   * @constructs\n   * Create a TileHeader instance\n   * @param tileset - Tileset3D instance\n   * @param header - tile header - JSON loaded from a dataset\n   * @param parentHeader - parent TileHeader instance\n   * @param extendedId - optional ID to separate copies of a tile for different viewports.\n   *    const extendedId = `${tile.id}-${frameState.viewport.id}`;\n   */\n  // eslint-disable-next-line max-statements\n  constructor(\n    tileset: Tileset3D,\n    header: {[key: string]: any},\n    parentHeader?: TileHeader,\n    extendedId = ''\n  ) {\n    // PUBLIC MEMBERS\n    // original tile data\n    this.header = header;\n\n    // The tileset containing this tile.\n    this.tileset = tileset;\n    this.id = extendedId || header.id;\n    this.url = header.url;\n\n    // This tile's parent or `undefined` if this tile is the root.\n    // @ts-ignore\n    this.parent = parentHeader;\n    this.refine = this._getRefine(header.refine);\n    this.type = header.type;\n    this.contentUrl = header.contentUrl;\n\n    // The error, in meters, introduced if this tile is rendered and its children are not.\n    this.lodMetricType = 'geometricError';\n    this.lodMetricValue = 0;\n\n    // Specifies the type of refine that is used when traversing this tile for rendering.\n    this.boundingVolume = null;\n\n    // The tile's content.  This represents the actual tile's payload,\n    // not the content's metadata in the tileset JSON file.\n    this.content = null;\n    this.contentState = TILE_CONTENT_STATE.UNLOADED;\n    this.gpuMemoryUsageInBytes = 0;\n\n    // The tile's children - an array of Tile3D objects.\n    this.children = [];\n\n    this.hasEmptyContent = false;\n    this.hasTilesetContent = false;\n\n    this.depth = 0;\n    this.viewportIds = [];\n\n    // Container to store application specific data\n    this.userData = {};\n    this.extensions = null;\n\n    // PRIVATE MEMBERS\n    this._priority = 0;\n    this._touchedFrame = 0;\n    this._visitedFrame = 0;\n    this._selectedFrame = 0;\n    this._requestedFrame = 0;\n    this._screenSpaceError = 0;\n\n    this._cacheNode = null;\n    this._frameNumber = null;\n    this._cacheNode = null;\n\n    this.traverser = new TilesetTraverser({});\n    this._shouldRefine = false;\n    this._distanceToCamera = 0;\n    this._centerZDepth = 0;\n    this._visible = undefined;\n    this._inRequestVolume = false;\n    this._stackLength = 0;\n    this._selectionDepth = 0;\n    this._initialTransform = new Matrix4();\n    this.transform = new Matrix4();\n\n    this._initializeLodMetric(header);\n    this._initializeTransforms(header);\n    this._initializeBoundingVolumes(header);\n    this._initializeContent(header);\n    this._initializeRenderingState(header);\n\n    // TODO i3s specific, needs to remove\n    this._lodJudge = null;\n\n    // TODO Cesium 3d tiles specific\n    this._expireDate = null;\n    this._expiredContent = null;\n\n    Object.seal(this);\n  }\n\n  destroy() {\n    this.header = null;\n  }\n\n  isDestroyed() {\n    return this.header === null;\n  }\n\n  get selected() {\n    return this._selectedFrame === this.tileset._frameNumber;\n  }\n\n  get isVisible() {\n    return this._visible;\n  }\n\n  get isVisibleAndInRequestVolume() {\n    return this._visible && this._inRequestVolume;\n  }\n\n  /** Returns true if tile is not an empty tile and not an external tileset */\n  get hasRenderContent() {\n    return !this.hasEmptyContent && !this.hasTilesetContent;\n  }\n\n  /** Returns true if tile has children */\n  get hasChildren() {\n    return this.children.length > 0 || (this.header.children && this.header.children.length > 0);\n  }\n\n  /**\n   * Determines if the tile's content is ready. This is automatically `true` for\n   * tiles with empty content.\n   */\n  get contentReady() {\n    return this.contentState === TILE_CONTENT_STATE.READY || this.hasEmptyContent;\n  }\n\n  /**\n   * Determines if the tile has available content to render.  `true` if the tile's\n   * content is ready or if it has expired content this renders while new content loads; otherwise,\n   */\n  get contentAvailable() {\n    return Boolean(\n      (this.contentReady && this.hasRenderContent) || (this._expiredContent && !this.contentFailed)\n    );\n  }\n\n  /** Returns true if tile has renderable content but it's unloaded */\n  get hasUnloadedContent() {\n    return this.hasRenderContent && this.contentUnloaded;\n  }\n\n  /**\n   * Determines if the tile's content has not be requested. `true` if tile's\n   * content has not be requested; otherwise, `false`.\n   */\n  get contentUnloaded() {\n    return this.contentState === TILE_CONTENT_STATE.UNLOADED;\n  }\n\n  /**\n   * Determines if the tile's content is expired. `true` if tile's\n   * content is expired; otherwise, `false`.\n   */\n  get contentExpired() {\n    return this.contentState === TILE_CONTENT_STATE.EXPIRED;\n  }\n\n  // Determines if the tile's content failed to load.  `true` if the tile's\n  // content failed to load; otherwise, `false`.\n  get contentFailed() {\n    return this.contentState === TILE_CONTENT_STATE.FAILED;\n  }\n\n  /** Get the tile's screen space error. */\n  getScreenSpaceError(frameState, useParentLodMetric) {\n    switch (this.tileset.type) {\n      case TILESET_TYPE.I3S:\n        return getProjectedRadius(this, frameState);\n      case TILESET_TYPE.TILES3D:\n        return getTiles3DScreenSpaceError(this, frameState, useParentLodMetric);\n      default:\n        // eslint-disable-next-line\n        throw new Error('Unsupported tileset type');\n    }\n  }\n\n  /**\n   * Make tile unselected than means it won't be shown\n   * but it can be still loaded in memory\n   */\n  unselect(): void {\n    this._selectedFrame = 0;\n  }\n\n  /*\n   * If skipLevelOfDetail is off try to load child tiles as soon as possible so that their parent can refine sooner.\n   * Tiles are prioritized by screen space error.\n   */\n  // eslint-disable-next-line complexity\n  _getPriority() {\n    const traverser = this.tileset._traverser;\n    const {skipLevelOfDetail} = traverser.options;\n\n    /*\n     * Tiles that are outside of the camera's frustum could be skipped if we are in 'ADD' mode\n     * or if we are using 'Skip Traversal' in 'REPLACE' mode.\n     * Otherewise, all 'touched' child tiles have to be loaded and displayed,\n     * this may include tiles that are outide of the camera frustum (so that we can hide the parent tile).\n     */\n    const maySkipTile = this.refine === TILE_REFINEMENT.ADD || skipLevelOfDetail;\n\n    // Check if any reason to abort\n    if (maySkipTile && !this.isVisible && this._visible !== undefined) {\n      return -1;\n    }\n    // Condition used in `cancelOutOfViewRequests` function in CesiumJS/Cesium3DTileset.js\n    if (this.tileset._frameNumber - this._touchedFrame >= 1) {\n      return -1;\n    }\n    if (this.contentState === TILE_CONTENT_STATE.UNLOADED) {\n      return -1;\n    }\n\n    // Based on the priority function `getPriorityReverseScreenSpaceError` in CesiumJS. Scheduling priority is based on the parent's screen space error when possible.\n    const parent = this.parent;\n    const useParentScreenSpaceError =\n      parent && (!maySkipTile || this._screenSpaceError === 0.0 || parent.hasTilesetContent);\n    const screenSpaceError = useParentScreenSpaceError\n      ? parent._screenSpaceError\n      : this._screenSpaceError;\n\n    const rootScreenSpaceError = traverser.root ? traverser.root._screenSpaceError : 0.0;\n\n    // Map higher SSE to lower values (e.g. root tile is highest priority)\n    return Math.max(rootScreenSpaceError - screenSpaceError, 0);\n  }\n\n  /**\n   *  Requests the tile's content.\n   * The request may not be made if the Request Scheduler can't prioritize it.\n   */\n  // eslint-disable-next-line max-statements, complexity\n  async loadContent(): Promise<boolean> {\n    if (this.hasEmptyContent) {\n      return false;\n    }\n\n    if (this.content) {\n      return true;\n    }\n\n    const expired = this.contentExpired;\n\n    if (expired) {\n      this._expireDate = null;\n    }\n\n    this.contentState = TILE_CONTENT_STATE.LOADING;\n\n    const requestToken = await this.tileset._requestScheduler.scheduleRequest(\n      this.id,\n      this._getPriority.bind(this)\n    );\n\n    if (!requestToken) {\n      // cancelled\n      this.contentState = TILE_CONTENT_STATE.UNLOADED;\n      return false;\n    }\n\n    try {\n      const contentUrl = this.tileset.getTileUrl(this.contentUrl);\n      // The content can be a binary tile ot a JSON tileset\n      const loader = this.tileset.loader;\n      const options = {\n        ...this.tileset.loadOptions,\n        [loader.id]: {\n          ...this.tileset.loadOptions[loader.id],\n          isTileset: this.type === 'json',\n          ...this._getLoaderSpecificOptions(loader.id)\n        }\n      };\n\n      this.content = await load(contentUrl, loader, options);\n\n      if (this.tileset.options.contentLoader) {\n        await this.tileset.options.contentLoader(this);\n      }\n\n      if (this._isTileset()) {\n        // Add tile headers for the nested tilset's subtree\n        // Async update of the tree should be fine since there would never be edits to the same node\n        // TODO - we need to capture the child tileset's URL\n        this.tileset._initializeTileHeaders(this.content, this);\n      }\n\n      this.contentState = TILE_CONTENT_STATE.READY;\n      this._onContentLoaded();\n      return true;\n    } catch (error) {\n      // Tile is unloaded before the content finishes loading\n      this.contentState = TILE_CONTENT_STATE.FAILED;\n      throw error;\n    } finally {\n      requestToken.done();\n    }\n  }\n\n  // Unloads the tile's content.\n  unloadContent() {\n    if (this.content && this.content.destroy) {\n      this.content.destroy();\n    }\n    this.content = null;\n    if (this.header.content && this.header.content.destroy) {\n      this.header.content.destroy();\n    }\n    this.header.content = null;\n    this.contentState = TILE_CONTENT_STATE.UNLOADED;\n    return true;\n  }\n\n  /**\n   * Update the tile's visibility\n   * @param {Object} frameState - frame state for tile culling\n   * @param {string[]} viewportIds - a list of viewport ids that show this tile\n   * @return {void}\n   */\n  updateVisibility(frameState, viewportIds) {\n    if (this._frameNumber === frameState.frameNumber) {\n      // Return early if visibility has already been checked during the traversal.\n      // The visibility may have already been checked if the cullWithChildrenBounds optimization is used.\n      return;\n    }\n\n    const parent = this.parent;\n    const parentVisibilityPlaneMask = parent\n      ? parent._visibilityPlaneMask\n      : CullingVolume.MASK_INDETERMINATE;\n\n    if (this.tileset._traverser.options.updateTransforms) {\n      const parentTransform = parent ? parent.computedTransform : this.tileset.modelMatrix;\n      this._updateTransform(parentTransform);\n    }\n\n    this._distanceToCamera = this.distanceToTile(frameState);\n    this._screenSpaceError = this.getScreenSpaceError(frameState, false);\n    this._visibilityPlaneMask = this.visibility(frameState, parentVisibilityPlaneMask); // Use parent's plane mask to speed up visibility test\n    this._visible = this._visibilityPlaneMask !== CullingVolume.MASK_OUTSIDE;\n    this._inRequestVolume = this.insideViewerRequestVolume(frameState);\n\n    this._frameNumber = frameState.frameNumber;\n    this.viewportIds = viewportIds;\n  }\n\n  // Determines whether the tile's bounding volume intersects the culling volume.\n  // @param {FrameState} frameState The frame state.\n  // @param {Number} parentVisibilityPlaneMask The parent's plane mask to speed up the visibility check.\n  // @returns {Number} A plane mask as described above in {@link CullingVolume#computeVisibilityWithPlaneMask}.\n  visibility(frameState, parentVisibilityPlaneMask) {\n    const {cullingVolume} = frameState;\n    const {boundingVolume} = this;\n\n    // TODO Cesium specific - restore clippingPlanes\n    // const {clippingPlanes, clippingPlanesOriginMatrix} = tileset;\n    // if (clippingPlanes && clippingPlanes.enabled) {\n    //   const intersection = clippingPlanes.computeIntersectionWithBoundingVolume(\n    //     boundingVolume,\n    //     clippingPlanesOriginMatrix\n    //   );\n    //   this._isClipped = intersection !== Intersect.INSIDE;\n    //   if (intersection === Intersect.OUTSIDE) {\n    //     return CullingVolume.MASK_OUTSIDE;\n    //   }\n    // }\n\n    // return cullingVolume.computeVisibilityWithPlaneMask(boundingVolume, parentVisibilityPlaneMask);\n    return cullingVolume.computeVisibilityWithPlaneMask(boundingVolume, parentVisibilityPlaneMask);\n  }\n\n  // Assuming the tile's bounding volume intersects the culling volume, determines\n  // whether the tile's content's bounding volume intersects the culling volume.\n  // @param {FrameState} frameState The frame state.\n  // @returns {Intersect} The result of the intersection: the tile's content is completely outside, completely inside, or intersecting the culling volume.\n  contentVisibility() {\n    return true;\n\n    // TODO restore\n    /*\n    // Assumes the tile's bounding volume intersects the culling volume already, so\n    // just return Intersect.INSIDE if there is no content bounding volume.\n    if (!defined(this.contentBoundingVolume)) {\n      return Intersect.INSIDE;\n    }\n\n    if (this._visibilityPlaneMask === CullingVolume.MASK_INSIDE) {\n      // The tile's bounding volume is completely inside the culling volume so\n      // the content bounding volume must also be inside.\n      return Intersect.INSIDE;\n    }\n\n    // PERFORMANCE_IDEA: is it possible to burn less CPU on this test since we know the\n    // tile's (not the content's) bounding volume intersects the culling volume?\n    const cullingVolume = frameState.cullingVolume;\n    const boundingVolume = tile.contentBoundingVolume;\n\n    const tileset = this.tileset;\n    const clippingPlanes = tileset.clippingPlanes;\n    if (defined(clippingPlanes) && clippingPlanes.enabled) {\n      const intersection = clippingPlanes.computeIntersectionWithBoundingVolume(\n        boundingVolume,\n        tileset.clippingPlanesOriginMatrix\n      );\n      this._isClipped = intersection !== Intersect.INSIDE;\n      if (intersection === Intersect.OUTSIDE) {\n        return Intersect.OUTSIDE;\n      }\n    }\n\n    return cullingVolume.computeVisibility(boundingVolume);\n    */\n  }\n\n  /**\n   * Computes the (potentially approximate) distance from the closest point of the tile's bounding volume to the camera.\n   * @param frameState The frame state.\n   * @returns {Number} The distance, in meters, or zero if the camera is inside the bounding volume.\n   */\n  distanceToTile(frameState: FrameState): number {\n    const boundingVolume = this.boundingVolume;\n    return Math.sqrt(Math.max(boundingVolume.distanceSquaredTo(frameState.camera.position), 0));\n  }\n\n  /**\n   * Computes the tile's camera-space z-depth.\n   * @param frameState The frame state.\n   * @returns The distance, in meters.\n   */\n  cameraSpaceZDepth({camera}): number {\n    const boundingVolume = this.boundingVolume; // Gets the underlying OrientedBoundingBox or BoundingSphere\n    scratchVector.subVectors(boundingVolume.center, camera.position);\n    return camera.direction.dot(scratchVector);\n  }\n\n  /**\n   * Checks if the camera is inside the viewer request volume.\n   * @param {FrameState} frameState The frame state.\n   * @returns {Boolean} Whether the camera is inside the volume.\n   */\n  insideViewerRequestVolume(frameState: FrameState) {\n    const viewerRequestVolume = this._viewerRequestVolume;\n    return (\n      !viewerRequestVolume || viewerRequestVolume.distanceSquaredTo(frameState.camera.position) <= 0\n    );\n  }\n\n  // TODO Cesium specific\n\n  // Update whether the tile has expired.\n  updateExpiration() {\n    if (defined(this._expireDate) && this.contentReady && !this.hasEmptyContent) {\n      const now = Date.now();\n      // @ts-ignore Date.lessThan - replace with ms compare?\n      if (Date.lessThan(this._expireDate, now)) {\n        this.contentState = TILE_CONTENT_STATE.EXPIRED;\n        this._expiredContent = this.content;\n      }\n    }\n  }\n\n  get extras() {\n    return this.header.extras;\n  }\n\n  // INTERNAL METHODS\n\n  _initializeLodMetric(header) {\n    if ('lodMetricType' in header) {\n      this.lodMetricType = header.lodMetricType;\n    } else {\n      this.lodMetricType = (this.parent && this.parent.lodMetricType) || this.tileset.lodMetricType;\n      // eslint-disable-next-line\n      console.warn(`3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType`);\n    }\n\n    // This is used to compute screen space error, i.e., the error measured in pixels.\n    if ('lodMetricValue' in header) {\n      this.lodMetricValue = header.lodMetricValue;\n    } else {\n      this.lodMetricValue =\n        (this.parent && this.parent.lodMetricValue) || this.tileset.lodMetricValue;\n      // eslint-disable-next-line\n      console.warn(\n        '3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue'\n      );\n    }\n  }\n\n  _initializeTransforms(tileHeader) {\n    // The local transform of this tile.\n    this.transform = tileHeader.transform ? new Matrix4(tileHeader.transform) : new Matrix4();\n\n    const parent = this.parent;\n    const tileset = this.tileset;\n\n    const parentTransform =\n      parent && parent.computedTransform\n        ? parent.computedTransform.clone()\n        : tileset.modelMatrix.clone();\n    this.computedTransform = new Matrix4(parentTransform).multiplyRight(this.transform);\n\n    const parentInitialTransform =\n      parent && parent._initialTransform ? parent._initialTransform.clone() : new Matrix4();\n    this._initialTransform = new Matrix4(parentInitialTransform).multiplyRight(this.transform);\n  }\n\n  _initializeBoundingVolumes(tileHeader) {\n    this._contentBoundingVolume = null;\n    this._viewerRequestVolume = null;\n\n    this._updateBoundingVolume(tileHeader);\n  }\n\n  _initializeContent(tileHeader) {\n    // Empty tile by default\n    this.content = {_tileset: this.tileset, _tile: this};\n    this.hasEmptyContent = true;\n    this.contentState = TILE_CONTENT_STATE.UNLOADED;\n\n    // When `true`, the tile's content points to an external tileset.\n    // This is `false` until the tile's content is loaded.\n    this.hasTilesetContent = false;\n\n    if (tileHeader.contentUrl) {\n      this.content = null;\n      this.hasEmptyContent = false;\n    }\n  }\n\n  // TODO - remove anything not related to basic visibility detection\n  _initializeRenderingState(header) {\n    this.depth = header.level || (this.parent ? this.parent.depth + 1 : 0);\n    this._shouldRefine = false;\n\n    // Members this are updated every frame for tree traversal and rendering optimizations:\n    this._distanceToCamera = 0;\n    this._centerZDepth = 0;\n    this._screenSpaceError = 0;\n    this._visibilityPlaneMask = CullingVolume.MASK_INDETERMINATE;\n    this._visible = undefined;\n    this._inRequestVolume = false;\n\n    this._stackLength = 0;\n    this._selectionDepth = 0;\n\n    this._frameNumber = 0;\n    this._touchedFrame = 0;\n    this._visitedFrame = 0;\n    this._selectedFrame = 0;\n    this._requestedFrame = 0;\n\n    this._priority = 0.0;\n  }\n\n  _getRefine(refine) {\n    // Inherit from parent tile if omitted.\n    return refine || (this.parent && this.parent.refine) || TILE_REFINEMENT.REPLACE;\n  }\n\n  _isTileset() {\n    return this.contentUrl.indexOf('.json') !== -1;\n  }\n\n  _onContentLoaded() {\n    // Vector and Geometry tile rendering do not support the skip LOD optimization.\n    switch (this.content && this.content.type) {\n      case 'vctr':\n      case 'geom':\n        // @ts-ignore\n        this.tileset._traverser.disableSkipLevelOfDetail = true;\n        break;\n      default:\n    }\n\n    // The content may be tileset json\n    if (this._isTileset()) {\n      this.hasTilesetContent = true;\n    }\n  }\n\n  _updateBoundingVolume(header) {\n    // Update the bounding volumes\n    this.boundingVolume = createBoundingVolume(\n      header.boundingVolume,\n      this.computedTransform,\n      this.boundingVolume\n    );\n\n    const content = header.content;\n    if (!content) {\n      return;\n    }\n\n    // TODO Cesium specific\n    // Non-leaf tiles may have a content bounding-volume, which is a tight-fit bounding volume\n    // around only the features in the tile. This box is useful for culling for rendering,\n    // but not for culling for traversing the tree since it does not guarantee spatial coherence, i.e.,\n    // since it only bounds features in the tile, not the entire tile, children may be\n    // outside of this box.\n    if (content.boundingVolume) {\n      this._contentBoundingVolume = createBoundingVolume(\n        content.boundingVolume,\n        this.computedTransform,\n        this._contentBoundingVolume\n      );\n    }\n    if (header.viewerRequestVolume) {\n      this._viewerRequestVolume = createBoundingVolume(\n        header.viewerRequestVolume,\n        this.computedTransform,\n        this._viewerRequestVolume\n      );\n    }\n  }\n\n  // Update the tile's transform. The transform is applied to the tile's bounding volumes.\n  _updateTransform(parentTransform = new Matrix4()) {\n    const computedTransform = parentTransform.clone().multiplyRight(this.transform);\n    const didTransformChange = !computedTransform.equals(this.computedTransform);\n\n    if (!didTransformChange) {\n      return;\n    }\n\n    this.computedTransform = computedTransform;\n\n    this._updateBoundingVolume(this.header);\n  }\n\n  // Get options which are applicable only for the particular loader\n  _getLoaderSpecificOptions(loaderId) {\n    switch (loaderId) {\n      case 'i3s':\n        return {\n          ...this.tileset.options.i3s,\n          tile: this.header,\n          tileset: this.tileset.tileset,\n          isTileHeader: false\n        };\n      case '3d-tiles':\n      case 'cesium-ion':\n      default:\n        return get3dTilesOptions(this.tileset.tileset);\n    }\n  }\n}\n","export function get3dTilesOptions(tileset) {\n  return {\n    assetGltfUpAxis: (tileset.asset && tileset.asset.gltfUpAxis) || 'Y'\n  };\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {TILE3D_OPTIMIZATION_HINT, TILE_REFINEMENT} from '../../constants';\nimport TilesetTraverser from './tileset-traverser';\n\nexport default class Tileset3DTraverser extends TilesetTraverser {\n  compareDistanceToCamera(a, b) {\n    // Sort by farthest child first since this is going on a stack\n    return b._distanceToCamera === 0 && a._distanceToCamera === 0\n      ? b._centerZDepth - a._centerZDepth\n      : b._distanceToCamera - a._distanceToCamera;\n  }\n\n  updateTileVisibility(tile, frameState) {\n    super.updateTileVisibility(tile, frameState);\n\n    //  Optimization - if none of the tile's children are visible then this tile isn't visible\n    if (!tile.isVisibleAndInRequestVolume) {\n      return;\n    }\n\n    const hasChildren = tile.children.length > 0;\n    if (tile.hasTilesetContent && hasChildren) {\n      // Use the root tile's visibility instead of this tile's visibility.\n      // The root tile may be culled by the children bounds optimization in which\n      // case this tile should also be culled.\n      const firstChild = tile.children[0];\n      this.updateTileVisibility(firstChild, frameState);\n      tile._visible = firstChild._visible;\n      return;\n    }\n\n    if (this.meetsScreenSpaceErrorEarly(tile, frameState)) {\n      tile._visible = false;\n      return;\n    }\n\n    const replace = tile.refine === TILE_REFINEMENT.REPLACE;\n    const useOptimization =\n      tile._optimChildrenWithinParent === TILE3D_OPTIMIZATION_HINT.USE_OPTIMIZATION;\n    if (replace && useOptimization && hasChildren) {\n      if (!this.anyChildrenVisible(tile, frameState)) {\n        tile._visible = false;\n        return;\n      }\n    }\n  }\n\n  meetsScreenSpaceErrorEarly(tile, frameState) {\n    const {parent} = tile;\n    if (!parent || parent.hasTilesetContent || parent.refine !== TILE_REFINEMENT.ADD) {\n      return false;\n    }\n\n    // Use parent's geometric error with child's box to see if the tile already meet the SSE\n    return !this.shouldRefine(tile, frameState, true);\n  }\n}\n","/**\n * Counter to register pending tile headers for the particular frameNumber\n * Until all tiles are loaded we won't call `onTraversalEnd` callback\n */\nexport default class I3SPendingTilesRegister {\n  private frameNumberMap: Map<string, Map<number, number>> = new Map();\n\n  /**\n   * Register a new pending tile header for the particular frameNumber\n   * @param viewportId\n   * @param frameNumber\n   */\n  register(viewportId: string, frameNumber: number) {\n    const viewportMap = this.frameNumberMap.get(viewportId) || new Map();\n    const oldCount = viewportMap.get(frameNumber) || 0;\n    viewportMap.set(frameNumber, oldCount + 1);\n    this.frameNumberMap.set(viewportId, viewportMap);\n  }\n\n  /**\n   * Deregister a pending tile header for the particular frameNumber\n   * @param viewportId\n   * @param frameNumber\n   */\n  deregister(viewportId: string, frameNumber: number) {\n    const viewportMap = this.frameNumberMap.get(viewportId);\n    if (!viewportMap) {\n      return;\n    }\n    const oldCount = viewportMap.get(frameNumber) || 1;\n    viewportMap.set(frameNumber, oldCount - 1);\n  }\n\n  /**\n   * Check is there are no pending tile headers registered for the particular frameNumber\n   * @param viewportId\n   * @param frameNumber\n   * @returns\n   */\n  isZero(viewportId: string, frameNumber: number) {\n    const count = this.frameNumberMap.get(viewportId)?.get(frameNumber) || 0;\n    return count === 0;\n  }\n}\n","import {FrameState} from '../helpers/frame-state';\nimport I3SPendingTilesRegister from './i3s-pending-tiles-register';\n\nconst STATUS = {\n  REQUESTED: 'REQUESTED',\n  COMPLETED: 'COMPLETED',\n  ERROR: 'ERROR'\n};\n\n// A helper class to manage tile metadata fetching\nexport default class I3STileManager {\n  private _statusMap: object;\n  private pendingTilesRegister = new I3SPendingTilesRegister();\n\n  constructor() {\n    this._statusMap = {};\n  }\n\n  /**\n   * Add request to map\n   * @param request - node metadata request\n   * @param key - unique key\n   * @param callback - callback after request completed\n   * @param frameState - frameState data\n   */\n  add(request, key, callback, frameState: FrameState) {\n    if (!this._statusMap[key]) {\n      const {\n        frameNumber,\n        viewport: {id}\n      } = frameState;\n      this._statusMap[key] = {request, callback, key, frameState, status: STATUS.REQUESTED};\n      // Register pending request for the frameNumber\n      this.pendingTilesRegister.register(id, frameNumber);\n      request()\n        .then((data) => {\n          this._statusMap[key].status = STATUS.COMPLETED;\n          const {\n            frameNumber: actualFrameNumber,\n            viewport: {id}\n          } = this._statusMap[key].frameState;\n          // Deregister pending request for the frameNumber\n          this.pendingTilesRegister.deregister(id, actualFrameNumber);\n          this._statusMap[key].callback(data, frameState);\n        })\n        .catch((error) => {\n          this._statusMap[key].status = STATUS.ERROR;\n          const {\n            frameNumber: actualFrameNumber,\n            viewport: {id}\n          } = this._statusMap[key].frameState;\n          // Deregister pending request for the frameNumber\n          this.pendingTilesRegister.deregister(id, actualFrameNumber);\n          callback(error);\n        });\n    }\n  }\n\n  /**\n   * Update request if it is still actual for the new frameState\n   * @param key - unique key\n   * @param frameState - frameState data\n   */\n  update(key, frameState: FrameState) {\n    if (this._statusMap[key]) {\n      // Deregister pending request for the old frameNumber\n      const {\n        frameNumber,\n        viewport: {id}\n      } = this._statusMap[key].frameState;\n      this.pendingTilesRegister.deregister(id, frameNumber);\n\n      // Register pending request for the new frameNumber\n      const {\n        frameNumber: newFrameNumber,\n        viewport: {id: newViewportId}\n      } = frameState;\n      this.pendingTilesRegister.register(newViewportId, newFrameNumber);\n      this._statusMap[key].frameState = frameState;\n    }\n  }\n\n  /**\n   * Find request in the map\n   * @param key - unique key\n   * @returns\n   */\n  find(key) {\n    return this._statusMap[key];\n  }\n\n  /**\n   * Check it there are pending tile headers for the particular frameNumber\n   * @param viewportId\n   * @param frameNumber\n   * @returns\n   */\n  hasPendingTiles(viewportId: string, frameNumber: number): boolean {\n    return !this.pendingTilesRegister.isZero(viewportId, frameNumber);\n  }\n}\n","import {load} from '@loaders.gl/core';\nimport TilesetTraverser from './tileset-traverser';\n\nimport {getLodStatus} from '../helpers/i3s-lod';\nimport TileHeader from '../tile-3d';\nimport I3STileManager from './i3s-tile-manager';\nimport {FrameState} from '../helpers/frame-state';\n\nexport default class I3STilesetTraverser extends TilesetTraverser {\n  private _tileManager: I3STileManager;\n\n  /**\n   * Check if there are no penging tile header requests,\n   * that means the traversal is finished and we can call\n   * following-up callbacks.\n   */\n  protected traversalFinished(frameState: FrameState): boolean {\n    return !this._tileManager.hasPendingTiles(frameState.viewport.id, this._frameNumber || 0);\n  }\n\n  constructor(options) {\n    super(options);\n    this._tileManager = new I3STileManager();\n  }\n\n  shouldRefine(tile, frameState: FrameState) {\n    tile._lodJudge = getLodStatus(tile, frameState);\n    return tile._lodJudge === 'DIG';\n  }\n\n  updateChildTiles(tile, frameState: FrameState): boolean {\n    const children = tile.header.children || [];\n    // children which are already fetched and constructed as Tile3D instances\n    const childTiles = tile.children;\n    const tileset = tile.tileset;\n\n    for (const child of children) {\n      const extendedId = `${child.id}-${frameState.viewport.id}`;\n      // if child tile is not fetched\n      const childTile = childTiles && childTiles.find((t) => t.id === extendedId);\n      if (!childTile) {\n        let request = () => this._loadTile(child.id, tileset);\n        const cachedRequest = this._tileManager.find(extendedId);\n        if (!cachedRequest) {\n          // eslint-disable-next-line max-depth\n          if (tileset.tileset.nodePages) {\n            request = () => tileset.tileset.nodePagesTile.formTileFromNodePages(child.id);\n          }\n          this._tileManager.add(\n            request,\n            extendedId,\n            (header) => this._onTileLoad(header, tile, extendedId),\n            frameState\n          );\n        } else {\n          // update frameNumber since it is still needed in current frame\n          this._tileManager.update(extendedId, frameState);\n        }\n      } else if (childTile) {\n        // if child tile is fetched and available\n        this.updateTile(childTile, frameState);\n      }\n    }\n    return false;\n  }\n\n  async _loadTile(nodeId, tileset) {\n    const {loader} = tileset;\n    const nodeUrl = tileset.getTileUrl(`${tileset.url}/nodes/${nodeId}`);\n    // load metadata\n    const options = {\n      ...tileset.loadOptions,\n      i3s: {\n        ...tileset.loadOptions.i3s,\n        isTileHeader: true,\n        loadContent: false\n      }\n    };\n\n    return await load(nodeUrl, loader, options);\n  }\n\n  /**\n   * The callback to init TileHeader instance after loading the tile JSON\n   * @param {Object} header - the tile JSON from a dataset\n   * @param {TileHeader} tile - the parent TileHeader instance\n   * @param {string} extendedId - optional ID to separate copies of a tile for different viewports.\n   *                              const extendedId = `${tile.id}-${frameState.viewport.id}`;\n   * @return {void}\n   */\n  _onTileLoad(header, tile, extendedId) {\n    // after child tile is fetched\n    const childTile = new TileHeader(tile.tileset, header, tile, extendedId);\n    tile.children.push(childTile);\n    const frameState = this._tileManager.find(childTile.id).frameState;\n    this.updateTile(childTile, frameState);\n\n    // after tile fetched, resume traversal if still in current update/traversal frame\n    if (\n      this._frameNumber === frameState.frameNumber &&\n      (this.traversalFinished(frameState) ||\n        new Date().getTime() - this.lastUpdate > this.updateDebounceTime)\n    ) {\n      this.executeTraversal(childTile, frameState);\n    }\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/*\n\n  The Tileset loading and rendering flow is as below,\n  A rendered (i.e. deck.gl `Tile3DLayer`) triggers `tileset.update()` after a `tileset` is loaded\n  `tileset` starts traversing the tile tree and update `requestTiles` (tiles of which content need\n  to be fetched) and `selectedTiles` (tiles ready for rendering under the current viewport).\n  `Tile3DLayer` will update rendering based on `selectedTiles`.\n  `Tile3DLayer` also listens to `onTileLoad` callback and trigger another round of `update and then traversal`\n  when new tiles are loaded.\n\n  As I3S tileset have stored `tileHeader` file (metadata) and tile content files (geometry, texture, ...) separately.\n  During each traversal, it issues `tilHeader` requests if that `tileHeader` is not yet fetched,\n  after the tile header is fulfilled, it will resume the traversal starting from the tile just fetched (not root).\n\n  Tile3DLayer\n       |\n   await load(tileset)\n       |\n   tileset.update()\n       |                async load tileHeader\n   tileset.traverse() -------------------------- Queued\n       |        resume traversal after fetched  |\n       |----------------------------------------|\n       |\n       |                     async load tile content\n  tilset.requestedTiles  ----------------------------- RequestScheduler\n                                                              |\n  tilset.selectedTiles (ready for rendering)                  |\n       |         Listen to                                    |\n    Tile3DLayer ----------- onTileLoad  ----------------------|\n       |                         |   notify new tile is available\n    updateLayers                 |\n                        tileset.update // trigger another round of update\n*/\n\nimport {Matrix4, Vector3} from '@math.gl/core';\nimport {Ellipsoid} from '@math.gl/geospatial';\nimport {Stats} from '@probe.gl/stats';\nimport {\n  RequestScheduler,\n  assert,\n  path,\n  LoaderWithParser,\n  LoaderOptions\n} from '@loaders.gl/loader-utils';\nimport TilesetCache from './tileset-cache';\nimport {calculateTransformProps} from './helpers/transform-utils';\nimport {FrameState, getFrameState, limitSelectedTiles} from './helpers/frame-state';\nimport {getZoomFromBoundingVolume, getZoomFromExtent, getZoomFromFullExtent} from './helpers/zoom';\nimport Tile3D from './tile-3d';\nimport Tileset3DTraverser from './traversers/tileset-3d-traverser';\nimport TilesetTraverser from './traversers/tileset-traverser';\nimport I3SetTraverser from './traversers/i3s-tileset-traverser';\nimport {TILESET_TYPE} from '../constants';\nimport {GeospatialViewport, Viewport} from '../types';\n\nexport type Tileset3DProps = {\n  // loading\n  throttleRequests?: boolean;\n  maxRequests?: number;\n  loadOptions?: LoaderOptions;\n  loadTiles?: boolean;\n  basePath?: string;\n  maximumMemoryUsage?: number;\n  maximumTilesSelected?: number;\n  debounceTime?: number;\n\n  // Metadata\n  description?: string;\n  attributions?: string[];\n\n  // Transforms\n  ellipsoid?: object;\n  modelMatrix?: Matrix4;\n\n  // Traversal\n  maximumScreenSpaceError?: number;\n  viewportTraversersMap?: any;\n  updateTransforms?: boolean;\n  viewDistanceScale?: number;\n\n  // Callbacks\n  onTileLoad?: (tile: Tile3D) => any;\n  onTileUnload?: (tile: Tile3D) => any;\n  onTileError?: (tile: Tile3D, message: string, url: string) => any;\n  contentLoader?: (tile: Tile3D) => Promise<void>;\n  onTraversalComplete?: (selectedTiles: Tile3D[]) => Tile3D[];\n};\n\ntype Props = {\n  description: string;\n  ellipsoid: object;\n  modelMatrix: Matrix4;\n  throttleRequests: boolean;\n  maximumMemoryUsage: number;\n  maximumTilesSelected: number;\n  debounceTime: number;\n  onTileLoad: (tile: Tile3D) => any;\n  onTileUnload: (tile: Tile3D) => any;\n  onTileError: (tile: Tile3D, message: string, url: string) => any;\n  onTraversalComplete: (selectedTiles: Tile3D[]) => Tile3D[];\n  maximumScreenSpaceError: number;\n  viewportTraversersMap: any;\n  attributions: string[];\n  maxRequests: number;\n  loadTiles: boolean;\n  loadOptions: LoaderOptions;\n  updateTransforms: boolean;\n  viewDistanceScale: number;\n  basePath: string;\n  contentLoader?: (tile: Tile3D) => Promise<void>;\n  i3s: {[key: string]: any};\n};\n\nconst DEFAULT_PROPS: Props = {\n  description: '',\n\n  ellipsoid: Ellipsoid.WGS84,\n  // A 4x4 transformation matrix this transforms the entire tileset.\n  modelMatrix: new Matrix4(),\n\n  // Set to false to disable network request throttling\n  throttleRequests: true,\n\n  // Number of simultaneous requsts, if throttleRequests is true\n  maxRequests: 64,\n\n  maximumMemoryUsage: 32,\n  /** Maximum number limit of tiles selected for show. 0 means no limit */\n  maximumTilesSelected: 0,\n  /** Delay time before the tileset traversal. It prevents traversal requests spam.*/\n  debounceTime: 0,\n\n  /**\n   * Callback. Indicates this a tile's content was loaded\n   * @param tile {TileHeader}\n   */\n  onTileLoad: () => {},\n  /**\n   * Callback. Indicates this a tile's content was unloaded\n   * @param tile {TileHeader}\n   */\n  onTileUnload: () => {},\n  onTileError: () => {},\n  /**\n   * Callback. Allows post-process selectedTiles right after traversal.\n   * @param selectedTiles {TileHeader[]}\n   * @returns TileHeader[] - output array of tiles to return to deck.gl\n   */\n  onTraversalComplete: (selectedTiles: Tile3D[]) => selectedTiles,\n\n  // Optional async tile content loader\n  contentLoader: undefined,\n\n  // View distance scale modifier\n  viewDistanceScale: 1.0,\n\n  // The maximum screen space error used to drive level of detail refinement.\n  maximumScreenSpaceError: 8,\n\n  loadTiles: true,\n  updateTransforms: true,\n  viewportTraversersMap: null,\n\n  loadOptions: {fetch: {}},\n\n  attributions: [],\n  basePath: '',\n\n  i3s: {}\n};\n\n// Tracked Stats\nconst TILES_TOTAL = 'Tiles In Tileset(s)';\nconst TILES_IN_MEMORY = 'Tiles In Memory';\nconst TILES_IN_VIEW = 'Tiles In View';\nconst TILES_RENDERABLE = 'Tiles To Render';\nconst TILES_LOADED = 'Tiles Loaded';\nconst TILES_LOADING = 'Tiles Loading';\nconst TILES_UNLOADED = 'Tiles Unloaded';\nconst TILES_LOAD_FAILED = 'Failed Tile Loads';\nconst POINTS_COUNT = 'Points/Vertices';\nconst TILES_GPU_MEMORY = 'Tile Memory Use';\n\nexport default class Tileset3D {\n  // props: Tileset3DProps;\n  options: Props;\n  loadOptions: {[key: string]: any};\n\n  type: string;\n  tileset: {[key: string]: any};\n  loader: LoaderWithParser;\n  url: string;\n  basePath: string;\n  modelMatrix: Matrix4;\n  ellipsoid: any;\n  lodMetricType: string;\n  lodMetricValue: number;\n  refine: string;\n  root: Tile3D | null;\n  roots: {[key: string]: Tile3D};\n  asset: {[key: string]: any};\n\n  description: string;\n  properties: any;\n  extras: any;\n  attributions: any;\n  credits: any;\n\n  stats: Stats;\n\n  traverseCounter: number;\n  geometricError: number;\n  selectedTiles: Tile3D[];\n  private updatePromise: Promise<number> | null = null;\n  tilesetInitializationPromise: Promise<void>;\n\n  cartographicCenter: Vector3 | null;\n  cartesianCenter: Vector3 | null;\n  zoom: number;\n  boundingVolume: any;\n\n  // METRICS\n  // The maximum amount of GPU memory (in MB) that may be used to cache tiles.\n  // Tiles not in view are unloaded to enforce private\n  // The total amount of GPU memory in bytes used by the tileset.\n  gpuMemoryUsageInBytes: any;\n  dynamicScreenSpaceErrorComputedDensity: any;\n\n  // TRAVERSAL\n  _traverser: TilesetTraverser;\n  private _cache: TilesetCache;\n  _requestScheduler: RequestScheduler;\n\n  _frameNumber: number;\n  private _queryParamsString: string;\n  private _queryParams: any;\n  private _extensionsUsed: any;\n  private _tiles: {[id: string]: Tile3D};\n\n  // counter for tracking tiles requests\n  private _pendingCount: any;\n\n  // HOLD TRAVERSAL RESULTS\n  private lastUpdatedVieports: Viewport[] | Viewport | null;\n  private _requestedTiles: any;\n  private _emptyTiles: any;\n  private frameStateData: any;\n\n  maximumMemoryUsage: number;\n\n  /**\n   * Create a new Tileset3D\n   * @param json\n   * @param props\n   */\n  // eslint-disable-next-line max-statements\n  constructor(json: any, options?: Tileset3DProps) {\n    assert(json);\n\n    // PUBLIC MEMBERS\n    this.options = {...DEFAULT_PROPS, ...options};\n    // raw data\n    this.tileset = json;\n    this.loader = json.loader;\n    // could be  3d tiles, i3s\n    this.type = json.type;\n    // The url to a tileset JSON file.\n    this.url = json.url;\n    this.basePath = json.basePath || path.dirname(this.url);\n    this.modelMatrix = this.options.modelMatrix;\n    this.ellipsoid = this.options.ellipsoid;\n\n    // Geometric error when the tree is not rendered at all\n    this.lodMetricType = json.lodMetricType;\n    this.lodMetricValue = json.lodMetricValue;\n    this.refine = json.root.refine;\n\n    this.loadOptions = this.options.loadOptions || {};\n\n    this.root = null;\n    this.roots = {};\n    // view props\n    this.cartographicCenter = null;\n    this.cartesianCenter = null;\n    this.zoom = 1;\n    this.boundingVolume = null;\n\n    // TRAVERSAL\n    this.traverseCounter = 0;\n    this.geometricError = 0;\n    this._traverser = this._initializeTraverser();\n    this._cache = new TilesetCache();\n    this._requestScheduler = new RequestScheduler({\n      throttleRequests: this.options.throttleRequests,\n      maxRequests: this.options.maxRequests\n    });\n    // update tracker\n    // increase in each update cycle\n    this._frameNumber = 0;\n\n    // counter for tracking tiles requests\n    this._pendingCount = 0;\n\n    // HOLD TRAVERSAL RESULTS\n    this._tiles = {};\n    this.selectedTiles = [];\n    this._emptyTiles = [];\n    this._requestedTiles = [];\n    this.frameStateData = {};\n    this.lastUpdatedVieports = null;\n\n    this._queryParams = {};\n    this._queryParamsString = '';\n\n    // METRICS\n    // The maximum amount of GPU memory (in MB) that may be used to cache tiles.\n    // Tiles not in view are unloaded to enforce this.\n    this.maximumMemoryUsage = this.options.maximumMemoryUsage || 32;\n    // The total amount of GPU memory in bytes used by the tileset.\n    this.gpuMemoryUsageInBytes = 0;\n    this.stats = new Stats({id: this.url});\n    this._initializeStats();\n\n    // EXTRACTED FROM TILESET\n    this._extensionsUsed = undefined;\n    this.dynamicScreenSpaceErrorComputedDensity = 0.0; // Updated based on the camera position and direction\n    // Metadata for the entire tileset\n    this.extras = null;\n    this.asset = {};\n    this.credits = {};\n    this.description = this.options.description || '';\n\n    this.tilesetInitializationPromise = this._initializeTileSet(json);\n  }\n\n  /** Release resources */\n  destroy(): void {\n    this._destroy();\n  }\n\n  /** Is the tileset loaded (update needs to have been called at least once) */\n  isLoaded(): boolean {\n    // Check that `_frameNumber !== 0` which means that update was called at least once\n    return this._pendingCount === 0 && this._frameNumber !== 0 && this._requestedTiles.length === 0;\n  }\n\n  get tiles(): object[] {\n    return Object.values(this._tiles);\n  }\n\n  get frameNumber(): number {\n    return this._frameNumber;\n  }\n\n  get queryParams(): string {\n    if (!this._queryParamsString) {\n      this._queryParamsString = getQueryParamString(this._queryParams);\n    }\n    return this._queryParamsString;\n  }\n\n  setProps(props: Tileset3DProps): void {\n    this.options = {...this.options, ...props};\n  }\n\n  /** @deprecated */\n  setOptions(options: Tileset3DProps): void {\n    this.options = {...this.options, ...options};\n  }\n\n  /**\n   * Return a loadable tile url for a specific tile subpath\n   * @param tilePath a tile subpath\n   */\n  getTileUrl(tilePath: string): string {\n    const isDataUrl = tilePath.startsWith('data:');\n    if (isDataUrl) {\n      return tilePath;\n    }\n    return `${tilePath}${this.queryParams}`;\n  }\n\n  // TODO CESIUM specific\n  hasExtension(extensionName: string): boolean {\n    return Boolean(this._extensionsUsed && this._extensionsUsed.indexOf(extensionName) > -1);\n  }\n\n  /**\n   * Update visible tiles relying on a list of viewports\n   * @param viewports - list of viewports\n   * @deprecated\n   */\n  update(viewports: Viewport[] | Viewport | null = null) {\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.tilesetInitializationPromise.then(() => {\n      if (!viewports && this.lastUpdatedVieports) {\n        viewports = this.lastUpdatedVieports;\n      } else {\n        this.lastUpdatedVieports = viewports;\n      }\n      if (viewports) {\n        this.doUpdate(viewports);\n      }\n    });\n  }\n\n  /**\n   * Update visible tiles relying on a list of viewports.\n   * Do it with debounce delay to prevent update spam\n   * @param viewports viewports\n   * @returns Promise of new frameNumber\n   */\n  async selectTiles(viewports: Viewport[] | Viewport | null = null): Promise<number> {\n    await this.tilesetInitializationPromise;\n    if (viewports) {\n      this.lastUpdatedVieports = viewports;\n    }\n    if (!this.updatePromise) {\n      this.updatePromise = new Promise<number>((resolve) => {\n        setTimeout(() => {\n          if (this.lastUpdatedVieports) {\n            this.doUpdate(this.lastUpdatedVieports);\n          }\n          resolve(this._frameNumber);\n          this.updatePromise = null;\n        }, this.options.debounceTime);\n      });\n    }\n    return this.updatePromise;\n  }\n\n  /**\n   * Update visible tiles relying on a list of viewports\n   * @param viewports viewports\n   */\n  // eslint-disable-next-line max-statements, complexity\n  private doUpdate(viewports: Viewport[] | Viewport): void {\n    if ('loadTiles' in this.options && !this.options.loadTiles) {\n      return;\n    }\n    if (this.traverseCounter > 0) {\n      return;\n    }\n    const preparedViewports = viewports instanceof Array ? viewports : [viewports];\n\n    this._cache.reset();\n    this._frameNumber++;\n    this.traverseCounter = preparedViewports.length;\n    const viewportsToTraverse: string[] = [];\n    // First loop to decrement traverseCounter\n    for (const viewport of preparedViewports) {\n      const id = viewport.id;\n      if (this._needTraverse(id)) {\n        viewportsToTraverse.push(id);\n      } else {\n        this.traverseCounter--;\n      }\n    }\n\n    // Second loop to traverse\n    for (const viewport of preparedViewports) {\n      const id = viewport.id;\n      if (!this.roots[id]) {\n        this.roots[id] = this._initializeTileHeaders(this.tileset, null);\n      }\n\n      if (!viewportsToTraverse.includes(id)) {\n        continue; // eslint-disable-line no-continue\n      }\n      const frameState = getFrameState(viewport as GeospatialViewport, this._frameNumber);\n      this._traverser.traverse(this.roots[id], frameState, this.options);\n    }\n  }\n\n  /**\n   * Check if traversal is needed for particular viewport\n   * @param {string} viewportId - id of a viewport\n   * @return {boolean}\n   */\n  _needTraverse(viewportId: string): boolean {\n    let traverserId = viewportId;\n    if (this.options.viewportTraversersMap) {\n      traverserId = this.options.viewportTraversersMap[viewportId];\n    }\n    if (traverserId !== viewportId) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * The callback to post-process tiles after traversal procedure\n   * @param frameState - frame state for tile culling\n   */\n  _onTraversalEnd(frameState: FrameState): void {\n    const id = frameState.viewport.id;\n    if (!this.frameStateData[id]) {\n      this.frameStateData[id] = {selectedTiles: [], _requestedTiles: [], _emptyTiles: []};\n    }\n    const currentFrameStateData = this.frameStateData[id];\n    const selectedTiles = Object.values(this._traverser.selectedTiles);\n    const [filteredSelectedTiles, unselectedTiles] = limitSelectedTiles(\n      selectedTiles,\n      frameState,\n      this.options.maximumTilesSelected\n    );\n    currentFrameStateData.selectedTiles = filteredSelectedTiles;\n    for (const tile of unselectedTiles) {\n      tile.unselect();\n    }\n\n    currentFrameStateData._requestedTiles = Object.values(this._traverser.requestedTiles);\n    currentFrameStateData._emptyTiles = Object.values(this._traverser.emptyTiles);\n\n    this.traverseCounter--;\n    if (this.traverseCounter > 0) {\n      return;\n    }\n\n    this._updateTiles();\n  }\n\n  /**\n   * Update tiles relying on data from all traversers\n   */\n  _updateTiles(): void {\n    this.selectedTiles = [];\n    this._requestedTiles = [];\n    this._emptyTiles = [];\n\n    for (const frameStateKey in this.frameStateData) {\n      const frameStateDataValue = this.frameStateData[frameStateKey];\n      this.selectedTiles = this.selectedTiles.concat(frameStateDataValue.selectedTiles);\n      this._requestedTiles = this._requestedTiles.concat(frameStateDataValue._requestedTiles);\n      this._emptyTiles = this._emptyTiles.concat(frameStateDataValue._emptyTiles);\n    }\n\n    this.selectedTiles = this.options.onTraversalComplete(this.selectedTiles);\n\n    for (const tile of this.selectedTiles) {\n      this._tiles[tile.id] = tile;\n    }\n\n    this._loadTiles();\n    this._unloadTiles();\n    this._updateStats();\n  }\n\n  _tilesChanged(oldSelectedTiles, selectedTiles) {\n    if (oldSelectedTiles.length !== selectedTiles.length) {\n      return true;\n    }\n    const set1 = new Set(oldSelectedTiles.map((t) => t.id));\n    const set2 = new Set(selectedTiles.map((t) => t.id));\n    let changed = oldSelectedTiles.filter((x) => !set2.has(x.id)).length > 0;\n    changed = changed || selectedTiles.filter((x) => !set1.has(x.id)).length > 0;\n    return changed;\n  }\n\n  _loadTiles() {\n    // Sort requests by priority before making any requests.\n    // This makes it less likely this requests will be cancelled after being issued.\n    // requestedTiles.sort((a, b) => a._priority - b._priority);\n    for (const tile of this._requestedTiles) {\n      if (tile.contentUnloaded) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this._loadTile(tile);\n      }\n    }\n  }\n\n  _unloadTiles() {\n    // unload tiles from cache when hit maximumMemoryUsage\n    this._cache.unloadTiles(this, (tileset, tile) => tileset._unloadTile(tile));\n  }\n\n  _updateStats() {\n    let tilesRenderable = 0;\n    let pointsRenderable = 0;\n    for (const tile of this.selectedTiles) {\n      if (tile.contentAvailable && tile.content) {\n        tilesRenderable++;\n        if (tile.content.pointCount) {\n          pointsRenderable += tile.content.pointCount;\n        } else {\n          // Calculate vertices for non point cloud tiles.\n          pointsRenderable += tile.content.vertexCount;\n        }\n      }\n    }\n\n    this.stats.get(TILES_IN_VIEW).count = this.selectedTiles.length;\n    this.stats.get(TILES_RENDERABLE).count = tilesRenderable;\n    this.stats.get(POINTS_COUNT).count = pointsRenderable;\n  }\n\n  async _initializeTileSet(tilesetJson) {\n    if (this.type === TILESET_TYPE.I3S) {\n      this.calculateViewPropsI3S();\n      tilesetJson.root = await tilesetJson.root;\n    }\n    this.root = this._initializeTileHeaders(tilesetJson, null);\n\n    if (this.type === TILESET_TYPE.TILES3D) {\n      this._initializeTiles3DTileset(tilesetJson);\n      this.calculateViewPropsTiles3D();\n    }\n\n    if (this.type === TILESET_TYPE.I3S) {\n      this._initializeI3STileset();\n    }\n  }\n\n  /**\n   * Called during initialize Tileset to initialize the tileset's cartographic center (longitude, latitude) and zoom.\n   * These metrics help apps center view on tileset\n   * For I3S there is extent (<1.8 version) or fullExtent (>=1.8 version) to calculate view props\n   * @returns\n   */\n  private calculateViewPropsI3S() {\n    // for I3S 1.8 try to calculate with fullExtent\n    const fullExtent = this.tileset.fullExtent;\n    if (fullExtent) {\n      const {xmin, xmax, ymin, ymax, zmin, zmax} = fullExtent;\n      this.cartographicCenter = new Vector3(\n        xmin + (xmax - xmin) / 2,\n        ymin + (ymax - ymin) / 2,\n        zmin + (zmax - zmin) / 2\n      );\n      this.cartesianCenter = Ellipsoid.WGS84.cartographicToCartesian(\n        this.cartographicCenter,\n        new Vector3()\n      );\n      this.zoom = getZoomFromFullExtent(fullExtent, this.cartographicCenter, this.cartesianCenter);\n      return;\n    }\n    // for I3S 1.6-1.7 try to calculate with extent\n    const extent = this.tileset.store?.extent;\n    if (extent) {\n      const [xmin, ymin, xmax, ymax] = extent;\n      this.cartographicCenter = new Vector3(xmin + (xmax - xmin) / 2, ymin + (ymax - ymin) / 2, 0);\n      this.cartesianCenter = Ellipsoid.WGS84.cartographicToCartesian(\n        this.cartographicCenter,\n        new Vector3()\n      );\n      this.zoom = getZoomFromExtent(extent, this.cartographicCenter, this.cartesianCenter);\n      return;\n    }\n    // eslint-disable-next-line no-console\n    console.warn('Extent is not defined in the tileset header');\n    this.cartographicCenter = new Vector3();\n    this.zoom = 1;\n    return;\n  }\n\n  /**\n   * Called during initialize Tileset to initialize the tileset's cartographic center (longitude, latitude) and zoom.\n   * These metrics help apps center view on tileset.\n   * For 3DTiles the root tile data is used to calculate view props.\n   * @returns\n   */\n  private calculateViewPropsTiles3D() {\n    const root = this.root as Tile3D;\n    assert(root);\n    const {center} = root.boundingVolume;\n    // TODO - handle all cases\n    if (!center) {\n      // eslint-disable-next-line no-console\n      console.warn('center was not pre-calculated for the root tile');\n      this.cartographicCenter = new Vector3();\n      this.zoom = 1;\n      return;\n    }\n\n    // cartographic coordinates are undefined at the center of the ellipsoid\n    if (center[0] !== 0 || center[1] !== 0 || center[2] !== 0) {\n      this.cartographicCenter = Ellipsoid.WGS84.cartesianToCartographic(center, new Vector3());\n    } else {\n      this.cartographicCenter = new Vector3(0, 0, -Ellipsoid.WGS84.radii[0]);\n    }\n    this.cartesianCenter = center;\n    this.zoom = getZoomFromBoundingVolume(root.boundingVolume, this.cartographicCenter);\n  }\n\n  _initializeStats() {\n    this.stats.get(TILES_TOTAL);\n    this.stats.get(TILES_LOADING);\n    this.stats.get(TILES_IN_MEMORY);\n    this.stats.get(TILES_IN_VIEW);\n    this.stats.get(TILES_RENDERABLE);\n    this.stats.get(TILES_LOADED);\n    this.stats.get(TILES_UNLOADED);\n    this.stats.get(TILES_LOAD_FAILED);\n    this.stats.get(POINTS_COUNT, 'memory');\n    this.stats.get(TILES_GPU_MEMORY, 'memory');\n  }\n\n  // Installs the main tileset JSON file or a tileset JSON file referenced from a tile.\n  // eslint-disable-next-line max-statements\n  _initializeTileHeaders(tilesetJson, parentTileHeader) {\n    // A tileset JSON file referenced from a tile may exist in a different directory than the root tileset.\n    // Get the basePath relative to the external tileset.\n    const rootTile = new Tile3D(this, tilesetJson.root, parentTileHeader); // resource\n\n    // If there is a parentTileHeader, add the root of the currently loading tileset\n    // to parentTileHeader's children, and update its depth.\n    if (parentTileHeader) {\n      parentTileHeader.children.push(rootTile);\n      rootTile.depth = parentTileHeader.depth + 1;\n    }\n\n    // 3DTiles knows the hierarchy beforehand\n    if (this.type === TILESET_TYPE.TILES3D) {\n      const stack: Tile3D[] = [];\n      stack.push(rootTile);\n\n      while (stack.length > 0) {\n        const tile = stack.pop() as Tile3D;\n        this.stats.get(TILES_TOTAL).incrementCount();\n        const children = tile.header.children || [];\n        for (const childHeader of children) {\n          const childTile = new Tile3D(this, childHeader, tile);\n          tile.children.push(childTile);\n          childTile.depth = tile.depth + 1;\n          stack.push(childTile);\n        }\n      }\n    }\n\n    return rootTile;\n  }\n\n  _initializeTraverser() {\n    let TraverserClass;\n    const type = this.type;\n    switch (type) {\n      case TILESET_TYPE.TILES3D:\n        TraverserClass = Tileset3DTraverser;\n        break;\n      case TILESET_TYPE.I3S:\n        TraverserClass = I3SetTraverser;\n        break;\n      default:\n        TraverserClass = TilesetTraverser;\n    }\n\n    return new TraverserClass({\n      basePath: this.basePath,\n      onTraversalEnd: this._onTraversalEnd.bind(this)\n    });\n  }\n\n  _destroyTileHeaders(parentTile) {\n    this._destroySubtree(parentTile);\n  }\n\n  async _loadTile(tile) {\n    let loaded;\n    try {\n      this._onStartTileLoading();\n      loaded = await tile.loadContent();\n    } catch (error) {\n      this._onTileLoadError(tile, error);\n    } finally {\n      this._onEndTileLoading();\n      this._onTileLoad(tile, loaded);\n    }\n  }\n\n  _onTileLoadError(tile, error) {\n    this.stats.get(TILES_LOAD_FAILED).incrementCount();\n\n    const message = error.message || error.toString();\n    const url = tile.url;\n    // TODO - Allow for probe log to be injected instead of console?\n    console.error(`A 3D tile failed to load: ${tile.url} ${message}`); // eslint-disable-line\n    this.options.onTileError(tile, message, url);\n  }\n\n  _onTileLoad(tile, loaded) {\n    if (!loaded) {\n      return;\n    }\n\n    if (this.type === TILESET_TYPE.I3S) {\n      // We can't calculate tiles total in I3S in advance so we calculate it dynamically.\n      const nodesInNodePages = this.tileset?.nodePagesTile?.nodesInNodePages || 0;\n      this.stats.get(TILES_TOTAL).reset();\n      this.stats.get(TILES_TOTAL).addCount(nodesInNodePages);\n    }\n\n    // add coordinateOrigin and modelMatrix to tile\n    if (tile && tile.content) {\n      calculateTransformProps(tile, tile.content);\n    }\n\n    this._addTileToCache(tile);\n    this.options.onTileLoad(tile);\n  }\n\n  _onStartTileLoading() {\n    this._pendingCount++;\n    this.stats.get(TILES_LOADING).incrementCount();\n  }\n\n  _onEndTileLoading() {\n    this._pendingCount--;\n    this.stats.get(TILES_LOADING).decrementCount();\n  }\n\n  _addTileToCache(tile) {\n    this._cache.add(this, tile, (tileset) => tileset._updateCacheStats(tile));\n  }\n\n  _updateCacheStats(tile) {\n    this.stats.get(TILES_LOADED).incrementCount();\n    this.stats.get(TILES_IN_MEMORY).incrementCount();\n\n    // Good enough? Just use the raw binary ArrayBuffer's byte length.\n    this.gpuMemoryUsageInBytes += tile.content.byteLength || 0;\n    this.stats.get(TILES_GPU_MEMORY).count = this.gpuMemoryUsageInBytes;\n  }\n\n  _unloadTile(tile) {\n    this.gpuMemoryUsageInBytes -= (tile.content && tile.content.byteLength) || 0;\n\n    this.stats.get(TILES_IN_MEMORY).decrementCount();\n    this.stats.get(TILES_UNLOADED).incrementCount();\n    this.stats.get(TILES_GPU_MEMORY).count = this.gpuMemoryUsageInBytes;\n\n    this.options.onTileUnload(tile);\n    tile.unloadContent();\n  }\n\n  // Traverse the tree and destroy all tiles\n  _destroy() {\n    const stack: Tile3D[] = [];\n\n    if (this.root) {\n      stack.push(this.root);\n    }\n\n    while (stack.length > 0) {\n      const tile: Tile3D = stack.pop() as Tile3D;\n\n      for (const child of tile.children) {\n        stack.push(child);\n      }\n\n      this._destroyTile(tile);\n    }\n    this.root = null;\n  }\n\n  // Traverse the tree and destroy all sub tiles\n  _destroySubtree(tile) {\n    const root = tile;\n    const stack: Tile3D[] = [];\n    stack.push(root);\n    while (stack.length > 0) {\n      tile = stack.pop();\n      for (const child of tile.children) {\n        stack.push(child);\n      }\n      if (tile !== root) {\n        this._destroyTile(tile);\n      }\n    }\n    root.children = [];\n  }\n\n  _destroyTile(tile) {\n    this._cache.unloadTile(this, tile);\n    this._unloadTile(tile);\n    tile.destroy();\n  }\n\n  _initializeTiles3DTileset(tilesetJson) {\n    this.asset = tilesetJson.asset;\n    if (!this.asset) {\n      throw new Error('Tileset must have an asset property.');\n    }\n    if (this.asset.version !== '0.0' && this.asset.version !== '1.0') {\n      throw new Error('The tileset must be 3D Tiles version 0.0 or 1.0.');\n    }\n\n    // Note: `asset.tilesetVersion` is version of the tileset itself (not the version of the 3D TILES standard)\n    // We add this version as a `v=1.0` query param to fetch the right version and not get an older cached version\n    if ('tilesetVersion' in this.asset) {\n      this._queryParams.v = this.asset.tilesetVersion;\n    }\n\n    // TODO - ion resources have a credits property we can use for additional attribution.\n    this.credits = {\n      attributions: this.options.attributions || []\n    };\n    this.description = this.options.description || '';\n\n    // Gets the tileset's properties dictionary object, which contains metadata about per-feature properties.\n    this.properties = tilesetJson.properties;\n    this.geometricError = tilesetJson.geometricError;\n    this._extensionsUsed = tilesetJson.extensionsUsed;\n    // Returns the extras property at the top of the tileset JSON (application specific metadata).\n    this.extras = tilesetJson.extras;\n  }\n\n  _initializeI3STileset() {\n    if (this.loadOptions.i3s && 'token' in this.loadOptions.i3s) {\n      this._queryParams.token = this.loadOptions.i3s.token;\n    }\n  }\n}\n\nfunction getQueryParamString(queryParams): string {\n  const queryParamStrings: string[] = [];\n  for (const key of Object.keys(queryParams)) {\n    queryParamStrings.push(`${key}=${queryParams[key]}`);\n  }\n  switch (queryParamStrings.length) {\n    case 0:\n      return '';\n    case 1:\n      return `?${queryParamStrings[0]}`;\n    default:\n      return `?${queryParamStrings.join('&')}`;\n  }\n}\n","import {Ellipsoid} from '@math.gl/geospatial';\nimport {Matrix4, Vector3} from '@math.gl/core';\nimport {assert} from '@loaders.gl/loader-utils';\n\nexport function calculateTransformProps(tileHeader, tile) {\n  assert(tileHeader);\n  assert(tile);\n\n  const {rtcCenter, gltfUpAxis} = tile;\n  const {\n    computedTransform,\n    boundingVolume: {center}\n  } = tileHeader;\n\n  let modelMatrix = new Matrix4(computedTransform);\n\n  // Translate if appropriate\n  if (rtcCenter) {\n    modelMatrix.translate(rtcCenter);\n  }\n\n  // glTF models need to be rotated from Y to Z up\n  // https://github.com/AnalyticalGraphicsInc/3d-tiles/tree/master/specification#y-up-to-z-up\n  switch (gltfUpAxis) {\n    case 'Z':\n      break;\n    case 'Y':\n      const rotationY = new Matrix4().rotateX(Math.PI / 2);\n      modelMatrix = modelMatrix.multiplyRight(rotationY);\n      break;\n    case 'X':\n      const rotationX = new Matrix4().rotateY(-Math.PI / 2);\n      modelMatrix = modelMatrix.multiplyRight(rotationX);\n      break;\n    default:\n      break;\n  }\n\n  // Scale/offset positions if normalized integers\n  if (tile.isQuantized) {\n    modelMatrix.translate(tile.quantizedVolumeOffset).scale(tile.quantizedVolumeScale);\n  }\n\n  // Option 1: Cartesian matrix and origin\n  const cartesianOrigin = new Vector3(center);\n\n  tile.cartesianModelMatrix = modelMatrix;\n  tile.cartesianOrigin = cartesianOrigin;\n\n  // Option 2: Cartographic matrix and origin\n  const cartographicOrigin = Ellipsoid.WGS84.cartesianToCartographic(\n    cartesianOrigin,\n    new Vector3()\n  );\n  const fromFixedFrameMatrix = Ellipsoid.WGS84.eastNorthUpToFixedFrame(cartesianOrigin);\n  const toFixedFrameMatrix = fromFixedFrameMatrix.invert();\n\n  tile.cartographicModelMatrix = toFixedFrameMatrix.multiplyRight(modelMatrix);\n  tile.cartographicOrigin = cartographicOrigin;\n\n  // Deprecated, drop\n  if (!tile.coordinateSystem) {\n    tile.modelMatrix = tile.cartographicModelMatrix;\n  }\n}\n","// Version constant cannot be imported, it needs to correspond to the build version of **this** module.\n// __VERSION__ is injected by babel-plugin-version-inline\n// TODO: use 'latest' instead of 'beta' when 3.0.0 version is released as 'latest'\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nexport const VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'latest';\n","// TILE TYPES\n\nexport const TILE3D_TYPE = {\n  COMPOSITE: 'cmpt',\n  POINT_CLOUD: 'pnts',\n  BATCHED_3D_MODEL: 'b3dm',\n  INSTANCED_3D_MODEL: 'i3dm',\n  GEOMETRY: 'geom',\n  VECTOR: 'vect',\n  GLTF: 'glTF'\n};\n\nexport const TILE3D_TYPES = Object.keys(TILE3D_TYPE);\n\nexport const MAGIC_ARRAY = {\n  BATCHED_MODEL: [98, 51, 100, 109],\n  INSTANCED_MODEL: [105, 51, 100, 109],\n  POINT_CLOUD: [112, 110, 116, 115],\n  COMPOSITE: [99, 109, 112, 116]\n};\n\n// TILE CONSTANTS\nexport const TILE3D_OPTIMIZATION_HINT = {\n  NOT_COMPUTED: -1,\n  USE_OPTIMIZATION: 1,\n  SKIP_OPTIMIZATION: 0\n};\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {assert} from '@loaders.gl/loader-utils';\n\n// Decode the JSON binary array into clear text\nexport function getStringFromArrayBuffer(arrayBuffer, byteOffset, byteLength) {\n  assert(arrayBuffer instanceof ArrayBuffer);\n  const textDecoder = new TextDecoder('utf8');\n  const typedArray = new Uint8Array(arrayBuffer, byteOffset, byteLength);\n  const string = textDecoder.decode(typedArray);\n  return string;\n}\n\n// Decode the JSON binary array into clear text\nexport function getStringFromTypedArray(typedArray) {\n  assert(ArrayBuffer.isView(typedArray));\n  const textDecoder = new TextDecoder('utf8');\n  const string = textDecoder.decode(typedArray);\n  return string;\n}\n\nexport function getMagicString(arrayBuffer, byteOffset = 0) {\n  const dataView = new DataView(arrayBuffer);\n  return `\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 0))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 1))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 2))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 3))}`;\n}\n","// Subset of WebGL constants\n\nexport const GL_PRIMITIVE = {\n  POINTS: 0x0000, // Points. single points.\n  LINES: 0x0001, // Lines. Each vertex connects to the one after it.\n  TRIANGLES: 0x0004 // Triangles. Each set of three vertices creates a separate triangle.\n};\n\n// Primitive modes\nexport const GL_PRIMITIVE_MODE = {\n  POINTS: 0x0000, // Points. single points.\n  LINES: 0x0001, // Lines. Each vertex connects to the one after it.\n  LINE_LOOP: 0x0002, // Lines. Each set of two vertices is treated as a separate line segment.\n  LINE_STRIP: 0x0003, // Lines/ a connected group of line segments from the first vertex to the last\n  TRIANGLES: 0x0004, // Triangles. Each set of three vertices creates a separate triangle.\n  TRIANGLE_STRIP: 0x0005, // Triangles. A connected group of triangles.\n  TRIANGLE_FAN: 0x0006 // Triangles. A connected group of triangles.\n  // Each vertex connects to the previous and the first vertex in the fan.\n};\n\ntype glType = {\n  BYTE: number;\n  UNSIGNED_BYTE: number;\n  SHORT: number;\n  UNSIGNED_SHORT: number;\n  INT: number;\n  UNSIGNED_INT: number;\n  FLOAT: number;\n  DOUBLE: number;\n};\n\nexport const GL_TYPE: glType = {\n  BYTE: 5120,\n  UNSIGNED_BYTE: 5121,\n  SHORT: 5122,\n  UNSIGNED_SHORT: 5123,\n  INT: 5124,\n  UNSIGNED_INT: 5125,\n  FLOAT: 5126,\n  DOUBLE: 5130\n};\n\nexport const GL = {\n  ...GL_PRIMITIVE_MODE,\n  ...GL_TYPE\n};\n","import type {TypedArray} from '@math.gl/core';\nimport {GL_TYPE as GL} from '../constants';\n\nconst GL_TYPE_TO_ARRAY_TYPE = {\n  [GL.DOUBLE]: Float64Array,\n  [GL.FLOAT]: Float32Array,\n  [GL.UNSIGNED_SHORT]: Uint16Array,\n  [GL.UNSIGNED_INT]: Uint32Array,\n  [GL.UNSIGNED_BYTE]: Uint8Array,\n  [GL.BYTE]: Int8Array,\n  [GL.SHORT]: Int16Array,\n  [GL.INT]: Int32Array\n};\ntype GlTypeMap = {\n  [index: string]: number;\n};\nconst NAME_TO_GL_TYPE: GlTypeMap = {\n  DOUBLE: GL.DOUBLE,\n  FLOAT: GL.FLOAT,\n  UNSIGNED_SHORT: GL.UNSIGNED_SHORT,\n  UNSIGNED_INT: GL.UNSIGNED_INT,\n  UNSIGNED_BYTE: GL.UNSIGNED_BYTE,\n  BYTE: GL.BYTE,\n  SHORT: GL.SHORT,\n  INT: GL.INT\n};\nconst ERR_TYPE_CONVERSION = 'Failed to convert GL type';\n// Converts TYPED ARRAYS to corresponding GL constant\n// Used to auto deduce gl parameter types\nexport default class GLType {\n  // Signature: fromTypedArray(new Uint8Array())\n  // Signature: fromTypedArray(Uint8Array)\n  /**\n   * Returns the size, in bytes, of the corresponding datatype\n   * @param arrayOrType\n   * @returns glType a a string\n   */\n  static fromTypedArray(arrayOrType: TypedArray | Function): string {\n    // If typed array, look up constructor\n    arrayOrType = ArrayBuffer.isView(arrayOrType) ? arrayOrType.constructor : arrayOrType;\n    for (const glType in GL_TYPE_TO_ARRAY_TYPE) {\n      const ArrayType = GL_TYPE_TO_ARRAY_TYPE[glType];\n      if (ArrayType === arrayOrType) {\n        return glType;\n      }\n    }\n    throw new Error(ERR_TYPE_CONVERSION);\n  }\n  /**\n   * Extracts name for glType from array NAME_TO_GL_TYPE\n   * @param name\n   * @returns glType as a number\n   */\n  static fromName(name: string): number {\n    const glType = NAME_TO_GL_TYPE[name];\n    if (!glType) {\n      throw new Error(ERR_TYPE_CONVERSION);\n    }\n    return glType;\n  }\n  // Converts GL constant to corresponding typed array type\n  // eslint-disable-next-line complexity\n  static getArrayType(glType: number) {\n    switch (glType) {\n      /*eslint-disable*/\n      // @ts-ignore\n      case GL.UNSIGNED_SHORT_5_6_5:\n      // @ts-ignore\n      case GL.UNSIGNED_SHORT_4_4_4_4:\n      // @ts-ignore\n      case GL.UNSIGNED_SHORT_5_5_5_1:\n        /* eslint-enable*/\n        return Uint16Array;\n      default:\n        const ArrayType = GL_TYPE_TO_ARRAY_TYPE[glType];\n        if (!ArrayType) {\n          throw new Error(ERR_TYPE_CONVERSION);\n        }\n        return ArrayType;\n    }\n  }\n  /**\n   * Returns the size in bytes of one element of the provided WebGL type\n   * @param glType\n   * @returns size of glType\n   */\n  static getByteSize(glType: number): number {\n    const ArrayType = GLType.getArrayType(glType);\n    return ArrayType.BYTES_PER_ELEMENT;\n  }\n  /**\n   * Returns `true` if `glType` is a valid WebGL data type.\n   * @param glType\n   * @returns boolean\n   */\n  static validate(glType: number): boolean {\n    return Boolean(GLType.getArrayType(glType));\n  }\n  /**\n   * Creates a typed view of an array of bytes\n   * @param glType The type of typed array (ArrayBuffer view) to create\n   * @param buffer The buffer storage to use for the view.\n   * @param byteOffset The offset, in bytes, to the first element in the view\n   * @param length The number of elements in the view. Defaults to buffer length\n   * @returns A typed array view of the buffer\n   */\n  static createTypedArray(\n    glType: number,\n    buffer: TypedArray,\n    byteOffset: number = 0,\n    length?: number\n  ): TypedArray {\n    if (length === undefined) {\n      length = (buffer.byteLength - byteOffset) / GLType.getByteSize(glType);\n    }\n    const ArrayType = GLType.getArrayType(glType);\n    return new ArrayType(buffer, byteOffset, length);\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {GL, GLType} from '@loaders.gl/math';\n\n// Reference:\n// https://github.com/AnalyticalGraphicsInc/cesium/blob/1de96d087f0b17575eb1a3f736407b348c765d59/Source/Scene/Cesium3DTileFeatureTable.js\nexport default class Tile3DFeatureTable {\n  json;\n  buffer;\n  featuresLength = 0;\n  _cachedTypedArrays = {};\n\n  constructor(featureTableJson, featureTableBinary) {\n    this.json = featureTableJson;\n    this.buffer = featureTableBinary;\n  }\n\n  getExtension(extensionName) {\n    return this.json.extensions && this.json.extensions[extensionName];\n  }\n\n  hasProperty(propertyName) {\n    return Boolean(this.json[propertyName]);\n  }\n\n  getGlobalProperty(propertyName, componentType = GL.UNSIGNED_INT, componentLength = 1) {\n    const jsonValue = this.json[propertyName];\n\n    if (jsonValue && Number.isFinite(jsonValue.byteOffset)) {\n      return this._getTypedArrayFromBinary(\n        propertyName,\n        componentType,\n        componentLength,\n        1,\n        jsonValue.byteOffset\n      );\n    }\n\n    return jsonValue;\n  }\n\n  getPropertyArray(propertyName, componentType, componentLength) {\n    const jsonValue = this.json[propertyName];\n\n    if (jsonValue && Number.isFinite(jsonValue.byteOffset)) {\n      if ('componentType' in jsonValue) {\n        componentType = GLType.fromName(jsonValue.componentType);\n      }\n      return this._getTypedArrayFromBinary(\n        propertyName,\n        componentType,\n        componentLength,\n        this.featuresLength,\n        jsonValue.byteOffset\n      );\n    }\n\n    return this._getTypedArrayFromArray(propertyName, componentType, jsonValue);\n  }\n\n  getProperty(propertyName, componentType, componentLength, featureId, result) {\n    const jsonValue = this.json[propertyName];\n    if (!jsonValue) {\n      return jsonValue;\n    }\n\n    const typedArray = this.getPropertyArray(propertyName, componentType, componentLength);\n\n    if (componentLength === 1) {\n      return typedArray[featureId];\n    }\n\n    for (let i = 0; i < componentLength; ++i) {\n      result[i] = typedArray[componentLength * featureId + i];\n    }\n\n    return result;\n  }\n\n  // HELPERS\n\n  _getTypedArrayFromBinary(propertyName, componentType, componentLength, count, byteOffset) {\n    const cachedTypedArrays = this._cachedTypedArrays;\n    let typedArray = cachedTypedArrays[propertyName];\n    if (!typedArray) {\n      typedArray = GLType.createTypedArray(\n        componentType,\n        this.buffer.buffer,\n        this.buffer.byteOffset + byteOffset,\n        count * componentLength\n      );\n      cachedTypedArrays[propertyName] = typedArray;\n    }\n    return typedArray;\n  }\n\n  _getTypedArrayFromArray(propertyName, componentType, array) {\n    const cachedTypedArrays = this._cachedTypedArrays;\n    let typedArray = cachedTypedArrays[propertyName];\n    if (!typedArray) {\n      typedArray = GLType.createTypedArray(componentType, array);\n      cachedTypedArrays[propertyName] = typedArray;\n    }\n    return typedArray;\n  }\n}\n","import {GLType} from '@loaders.gl/math'; // '@math.gl/geometry';\nimport {assert} from '@loaders.gl/loader-utils';\n\nconst COMPONENTS_PER_ATTRIBUTE = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\n// TODO - could just return typed array views...\n// prettier-ignore\nconst UNPACKER = {\n  SCALAR: (values, i) => values[i],\n  VEC2: (values, i) => [values[2 * i + 0], values[2 * i + 1]],\n  VEC3: (values, i) => [values[3 * i + 0], values[3 * i + 1], values[3 * i + 2]],\n  VEC4: (values, i) => [values[4 * i + 0], values[4 * i + 1], values[4 * i + 2], values[4 * i + 3]],\n  // TODO: check column major\n  MAT2: (values, i) => [\n    values[4 * i + 0], values[4 * i + 1],\n    values[4 * i + 2], values[4 * i + 3]\n  ],\n  MAT3: (values, i) => [\n    values[9 * i + 0], values[9 * i + 1], values[9 * i + 2],\n    values[9 * i + 3], values[9 * i + 4], values[9 * i + 5],\n    values[9 * i + 6], values[9 * i + 7], values[9 * i + 8]\n  ],\n  MAT4: (values, i) => [\n    values[16 * i + 0], values[16 * i + 1], values[16 * i + 2], values[16 * i + 3],\n    values[16 * i + 4], values[16 * i + 5], values[16 * i + 6], values[16 * i + 7],\n    values[16 * i + 8], values[16 * i + 9], values[16 * i + 10], values[16 * i + 11],\n    values[16 * i + 12], values[16 * i + 13], values[16 * i + 14], values[16 * i + 15]\n  ]\n};\n\nconst PACKER = {\n  SCALAR: (x, values, i) => {\n    values[i] = x;\n  },\n  VEC2: (x, values, i) => {\n    values[2 * i + 0] = x[0];\n    values[2 * i + 1] = x[1];\n  },\n  VEC3: (x, values, i) => {\n    values[3 * i + 0] = x[0];\n    values[3 * i + 1] = x[1];\n    values[3 * i + 2] = x[2];\n  },\n  VEC4: (x, values, i) => {\n    values[4 * i + 0] = x[0];\n    values[4 * i + 1] = x[1];\n    values[4 * i + 2] = x[2];\n    values[4 * i + 3] = x[3];\n  },\n  // TODO: check column major correctness\n  MAT2: (x, values, i) => {\n    values[4 * i + 0] = x[0];\n    values[4 * i + 1] = x[1];\n    values[4 * i + 2] = x[2];\n    values[4 * i + 3] = x[3];\n  },\n  MAT3: (x, values, i) => {\n    values[9 * i + 0] = x[0];\n    values[9 * i + 1] = x[1];\n    values[9 * i + 2] = x[2];\n    values[9 * i + 3] = x[3];\n    values[9 * i + 4] = x[4];\n    values[9 * i + 5] = x[5];\n    values[9 * i + 6] = x[6];\n    values[9 * i + 7] = x[7];\n    values[9 * i + 8] = x[8];\n    values[9 * i + 9] = x[9];\n  },\n  MAT4: (x, values, i) => {\n    values[16 * i + 0] = x[0];\n    values[16 * i + 1] = x[1];\n    values[16 * i + 2] = x[2];\n    values[16 * i + 3] = x[3];\n    values[16 * i + 4] = x[4];\n    values[16 * i + 5] = x[5];\n    values[16 * i + 6] = x[6];\n    values[16 * i + 7] = x[7];\n    values[16 * i + 8] = x[8];\n    values[16 * i + 9] = x[9];\n    values[16 * i + 10] = x[10];\n    values[16 * i + 11] = x[11];\n    values[16 * i + 12] = x[12];\n    values[16 * i + 13] = x[13];\n    values[16 * i + 14] = x[14];\n    values[16 * i + 15] = x[15];\n  }\n};\n\nexport function createTypedArrayFromAccessor(tile3DAccessor, buffer, byteOffset, length) {\n  const {componentType} = tile3DAccessor;\n  assert(tile3DAccessor.componentType);\n  const type = typeof componentType === 'string' ? GLType.fromName(componentType) : componentType;\n  const size = COMPONENTS_PER_ATTRIBUTE[tile3DAccessor.type];\n  const unpacker = UNPACKER[tile3DAccessor.type];\n  const packer = PACKER[tile3DAccessor.type];\n\n  byteOffset += tile3DAccessor.byteOffset;\n  const values = GLType.createTypedArray(type, buffer, byteOffset, size * length);\n\n  return {\n    values,\n    type,\n    size,\n    unpacker,\n    packer\n  };\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// TODO - Finish hierarchy suypport: this file is only half ported\n/* eslint-disable */\n// @ts-nocheck\nconst defined = (x) => x !== undefined;\n\nexport function initializeHierarchy(batchTable, jsonHeader, binaryBody) {\n  if (!jsonHeader) {\n    return null;\n  }\n\n  let hierarchy = batchTable.getExtension('3DTILES_batch_table_hierarchy');\n\n  const legacyHierarchy = jsonHeader.HIERARCHY;\n  if (legacyHierarchy) {\n    // eslint-disable-next-line\n    console.warn('3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy.');\n    jsonHeader.extensions = jsonHeader.extensions || {};\n    jsonHeader.extensions['3DTILES_batch_table_hierarchy'] = legacyHierarchy;\n    hierarchy = legacyHierarchy;\n  }\n\n  if (!hierarchy) {\n    return null;\n  }\n\n  return initializeHierarchyValues(hierarchy, binaryBody);\n}\n\n// eslint-disable-next-line max-statements\nfunction initializeHierarchyValues(hierarchyJson, binaryBody) {\n  let i;\n  let classId;\n  let binaryAccessor;\n\n  const instancesLength = hierarchyJson.instancesLength;\n  const classes = hierarchyJson.classes;\n  let classIds = hierarchyJson.classIds;\n  let parentCounts = hierarchyJson.parentCounts;\n  let parentIds = hierarchyJson.parentIds;\n  let parentIdsLength = instancesLength;\n\n  if (defined(classIds.byteOffset)) {\n    classIds.componentType = defaultValue(classIds.componentType, GL.UNSIGNED_SHORT);\n    classIds.type = AttributeType.SCALAR;\n    binaryAccessor = getBinaryAccessor(classIds);\n    classIds = binaryAccessor.createArrayBufferView(\n      binaryBody.buffer,\n      binaryBody.byteOffset + classIds.byteOffset,\n      instancesLength\n    );\n  }\n\n  let parentIndexes;\n  if (defined(parentCounts)) {\n    if (defined(parentCounts.byteOffset)) {\n      parentCounts.componentType = defaultValue(parentCounts.componentType, GL.UNSIGNED_SHORT);\n      parentCounts.type = AttributeType.SCALAR;\n      binaryAccessor = getBinaryAccessor(parentCounts);\n      parentCounts = binaryAccessor.createArrayBufferView(\n        binaryBody.buffer,\n        binaryBody.byteOffset + parentCounts.byteOffset,\n        instancesLength\n      );\n    }\n    parentIndexes = new Uint16Array(instancesLength);\n    parentIdsLength = 0;\n    for (i = 0; i < instancesLength; ++i) {\n      parentIndexes[i] = parentIdsLength;\n      parentIdsLength += parentCounts[i];\n    }\n  }\n\n  if (defined(parentIds) && defined(parentIds.byteOffset)) {\n    parentIds.componentType = defaultValue(parentIds.componentType, GL.UNSIGNED_SHORT);\n    parentIds.type = AttributeType.SCALAR;\n    binaryAccessor = getBinaryAccessor(parentIds);\n    parentIds = binaryAccessor.createArrayBufferView(\n      binaryBody.buffer,\n      binaryBody.byteOffset + parentIds.byteOffset,\n      parentIdsLength\n    );\n  }\n\n  const classesLength = classes.length;\n  for (i = 0; i < classesLength; ++i) {\n    const classInstancesLength = classes[i].length;\n    const properties = classes[i].instances;\n    const binaryProperties = getBinaryProperties(classInstancesLength, properties, binaryBody);\n    classes[i].instances = combine(binaryProperties, properties);\n  }\n\n  const classCounts = new Array(classesLength).fill(0);\n  const classIndexes = new Uint16Array(instancesLength);\n  for (i = 0; i < instancesLength; ++i) {\n    classId = classIds[i];\n    classIndexes[i] = classCounts[classId];\n    ++classCounts[classId];\n  }\n\n  const hierarchy = {\n    classes,\n    classIds,\n    classIndexes,\n    parentCounts,\n    parentIndexes,\n    parentIds\n  };\n\n  validateHierarchy(hierarchy);\n\n  return hierarchy;\n}\n\n// HELPER CODE\n\n// Traverse over the hierarchy and process each instance with the endConditionCallback.\n// When the endConditionCallback returns a value, the traversal stops and that value is returned.\nexport function traverseHierarchy(hierarchy, instanceIndex, endConditionCallback) {\n  if (!hierarchy) {\n    return;\n  }\n\n  const parentCounts = hierarchy.parentCounts;\n  const parentIds = hierarchy.parentIds;\n  if (parentIds) {\n    return endConditionCallback(hierarchy, instanceIndex);\n  }\n  if (parentCounts > 0) {\n    return traverseHierarchyMultipleParents(hierarchy, instanceIndex, endConditionCallback);\n  }\n  return traverseHierarchySingleParent(hierarchy, instanceIndex, endConditionCallback);\n}\n\n// eslint-disable-next-line max-statements\nfunction traverseHierarchyMultipleParents(hierarchy, instanceIndex, endConditionCallback) {\n  const classIds = hierarchy.classIds;\n  const parentCounts = hierarchy.parentCounts;\n  const parentIds = hierarchy.parentIds;\n  const parentIndexes = hierarchy.parentIndexes;\n  const instancesLength = classIds.length;\n\n  // Ignore instances that have already been visited. This occurs in diamond inheritance situations.\n  // Use a marker value to indicate that an instance has been visited, which increments with each run.\n  // This is more efficient than clearing the visited array every time.\n  const visited = scratchVisited;\n  visited.length = Math.max(visited.length, instancesLength);\n  const visitedMarker = ++marker;\n\n  const stack = scratchStack;\n  stack.length = 0;\n  stack.push(instanceIndex);\n\n  while (stack.length > 0) {\n    instanceIndex = stack.pop();\n    if (visited[instanceIndex] === visitedMarker) {\n      // This instance has already been visited, stop traversal\n      continue;\n    }\n    visited[instanceIndex] = visitedMarker;\n    const result = endConditionCallback(hierarchy, instanceIndex);\n    if (defined(result)) {\n      // The end condition was met, stop the traversal and return the result\n      return result;\n    }\n    const parentCount = parentCounts[instanceIndex];\n    const parentIndex = parentIndexes[instanceIndex];\n    for (let i = 0; i < parentCount; ++i) {\n      const parentId = parentIds[parentIndex + i];\n      // Stop the traversal when the instance has no parent (its parentId equals itself)\n      // else add the parent to the stack to continue the traversal.\n      if (parentId !== instanceIndex) {\n        stack.push(parentId);\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction traverseHierarchySingleParent(hierarchy, instanceIndex, endConditionCallback) {\n  let hasParent = true;\n  while (hasParent) {\n    const result = endConditionCallback(hierarchy, instanceIndex);\n    if (defined(result)) {\n      // The end condition was met, stop the traversal and return the result\n      return result;\n    }\n    const parentId = hierarchy.parentIds[instanceIndex];\n    hasParent = parentId !== instanceIndex;\n    instanceIndex = parentId;\n  }\n  throw new Error('traverseHierarchySingleParent');\n}\n\n// DEBUG CODE\n\nfunction validateHierarchy(hierarchy) {\n  const scratchValidateStack = [];\n\n  const classIds = hierarchy.classIds;\n  const instancesLength = classIds.length;\n\n  for (let i = 0; i < instancesLength; ++i) {\n    validateInstance(hierarchy, i, stack);\n  }\n}\n\nfunction validateInstance(hierarchy, instanceIndex, stack) {\n  const parentCounts = hierarchy.parentCounts;\n  const parentIds = hierarchy.parentIds;\n  const parentIndexes = hierarchy.parentIndexes;\n  const classIds = hierarchy.classIds;\n  const instancesLength = classIds.length;\n\n  if (!defined(parentIds)) {\n    // No need to validate if there are no parents\n    return;\n  }\n\n  assert(\n    instanceIndex < instancesLength,\n    `Parent index ${instanceIndex} exceeds the total number of instances: ${instancesLength}`\n  );\n  assert(\n    stack.indexOf(instanceIndex) === -1,\n    'Circular dependency detected in the batch table hierarchy.'\n  );\n\n  stack.push(instanceIndex);\n  const parentCount = defined(parentCounts) ? parentCounts[instanceIndex] : 1;\n  const parentIndex = defined(parentCounts) ? parentIndexes[instanceIndex] : instanceIndex;\n  for (let i = 0; i < parentCount; ++i) {\n    const parentId = parentIds[parentIndex + i];\n    // Stop the traversal when the instance has no parent (its parentId equals itself), else continue the traversal.\n    if (parentId !== instanceIndex) {\n      validateInstance(hierarchy, parentId, stack);\n    }\n  }\n  stack.pop(instanceIndex);\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {assert} from '@loaders.gl/loader-utils';\n\nimport {createTypedArrayFromAccessor} from './helpers/tile-3d-accessor-utils';\nimport {initializeHierarchy, traverseHierarchy} from './tile-3d-batch-table-hierarchy';\n\nfunction defined(x) {\n  return x !== undefined && x !== null;\n}\n\nconst clone = (x, y) => x;\n\n// These top level fields in the batch table json are not properties\nconst IGNORED_PROPERTY_FIELDS = {\n  HIERARCHY: true, // Deprecated HIERARCHY property\n  extensions: true,\n  extras: true\n};\n\n// The size of this array equals the maximum instance count among all loaded tiles, which has the potential to be large.\nexport default class Tile3DBatchTableParser {\n  json;\n  binary;\n  featureCount;\n  _extensions;\n  // Copy all top-level property fields from the json object, ignoring special fields\n  _properties;\n  _binaryProperties;\n  // TODO: hierarchy support is only partially implemented and not tested\n  _hierarchy;\n\n  constructor(json, binary, featureCount, options = {}) {\n    assert(featureCount >= 0);\n    this.json = json || {};\n    this.binary = binary;\n    this.featureCount = featureCount;\n\n    this._extensions = this.json?.extensions || {};\n\n    // Copy all top-level property fields from the json object, ignoring special fields\n    this._properties = {};\n    for (const propertyName in this.json) {\n      if (!IGNORED_PROPERTY_FIELDS[propertyName]) {\n        this._properties[propertyName] = this.json[propertyName];\n      }\n    }\n\n    this._binaryProperties = this._initializeBinaryProperties();\n\n    // TODO: hierarchy support is only partially implemented and not tested\n    if (options['3DTILES_batch_table_hierarchy']) {\n      this._hierarchy = initializeHierarchy(this, this.json, this.binary);\n    }\n  }\n\n  getExtension(extensionName) {\n    return this.json && this.json.extensions && this.json.extensions[extensionName];\n  }\n\n  memorySizeInBytes(): number {\n    return 0;\n  }\n\n  isClass(batchId, className: string): boolean {\n    this._checkBatchId(batchId);\n    assert(typeof className === 'string', className);\n\n    // extension: 3DTILES_batch_table_hierarchy\n    if (this._hierarchy) {\n      // PERFORMANCE_IDEA : cache results in the ancestor classes\n      //   to speed up this check if this area becomes a hotspot\n      // PERFORMANCE_IDEA : treat class names as integers for faster comparisons\n      const result = traverseHierarchy(this._hierarchy, batchId, (hierarchy, instanceIndex) => {\n        const classId = hierarchy.classIds[instanceIndex];\n        const instanceClass = hierarchy.classes[classId];\n        return instanceClass.name === className;\n      });\n      return defined(result);\n    }\n\n    return false;\n  }\n\n  isExactClass(batchId, className) {\n    assert(typeof className === 'string', className);\n\n    return this.getExactClassName(batchId) === className;\n  }\n\n  getExactClassName(batchId) {\n    this._checkBatchId(batchId);\n\n    // extension: 3DTILES_batch_table_hierarchy\n    if (this._hierarchy) {\n      const classId = this._hierarchy.classIds[batchId];\n      const instanceClass = this._hierarchy.classes[classId];\n      return instanceClass.name;\n    }\n\n    return undefined;\n  }\n\n  hasProperty(batchId, name) {\n    this._checkBatchId(batchId);\n    assert(typeof name === 'string', name);\n\n    return defined(this._properties[name]) || this._hasPropertyInHierarchy(batchId, name);\n  }\n\n  getPropertyNames(batchId, results) {\n    this._checkBatchId(batchId);\n\n    results = defined(results) ? results : [];\n    results.length = 0;\n\n    const propertyNames = Object.keys(this._properties);\n    results.push(...propertyNames);\n\n    if (this._hierarchy) {\n      this._getPropertyNamesInHierarchy(batchId, results);\n    }\n\n    return results;\n  }\n\n  getProperty(batchId, name) {\n    this._checkBatchId(batchId);\n    assert(typeof name === 'string', name);\n\n    if (this._binaryProperties) {\n      const binaryProperty = this._binaryProperties[name];\n      if (defined(binaryProperty)) {\n        return this._getBinaryProperty(binaryProperty, batchId);\n      }\n    }\n\n    const propertyValues = this._properties[name];\n    if (defined(propertyValues)) {\n      return clone(propertyValues[batchId], true);\n    }\n\n    // EXTENSION: 3DTILES_batch_table_hierarchy\n    if (this._hierarchy) {\n      const hierarchyProperty = this._getHierarchyProperty(batchId, name);\n      if (defined(hierarchyProperty)) {\n        return hierarchyProperty;\n      }\n    }\n\n    return undefined;\n  }\n\n  setProperty(batchId, name, value) {\n    const featureCount = this.featureCount;\n\n    this._checkBatchId(batchId);\n    assert(typeof name === 'string', name);\n\n    if (this._binaryProperties) {\n      const binaryProperty = this._binaryProperties[name];\n      if (binaryProperty) {\n        this._setBinaryProperty(binaryProperty, batchId, value);\n        return;\n      }\n    }\n\n    // EXTENSION: 3DTILES_batch_table_hierarchy\n    if (this._hierarchy) {\n      if (this._setHierarchyProperty(this, batchId, name, value)) {\n        return;\n      }\n    }\n\n    let propertyValues = this._properties[name];\n    if (!defined(propertyValues)) {\n      // Property does not exist. Create it.\n      this._properties[name] = new Array(featureCount);\n      propertyValues = this._properties[name];\n    }\n\n    propertyValues[batchId] = clone(value, true);\n  }\n\n  // PRIVATE METHODS\n\n  _checkBatchId(batchId) {\n    const valid = batchId >= 0 && batchId < this.featureCount;\n    if (!valid) {\n      throw new Error('batchId not in range [0, featureCount - 1].');\n    }\n  }\n\n  _getBinaryProperty(binaryProperty, index) {\n    return binaryProperty.unpack(binaryProperty.typedArray, index);\n  }\n\n  _setBinaryProperty(binaryProperty, index, value) {\n    binaryProperty.pack(value, binaryProperty.typedArray, index);\n  }\n\n  _initializeBinaryProperties() {\n    let binaryProperties: Record<string, any> | null = null;\n    for (const name in this._properties) {\n      const property = this._properties[name];\n      const binaryProperty = this._initializeBinaryProperty(name, property);\n      // Store any information needed to access the binary data, including the typed array,\n      // componentCount (e.g. a VEC4 would be 4), and the type used to pack and unpack (e.g. Cartesian4).\n      if (binaryProperty) {\n        binaryProperties = binaryProperties || {};\n        binaryProperties[name] = binaryProperty;\n      }\n    }\n    return binaryProperties;\n  }\n\n  _initializeBinaryProperty(name, property) {\n    if ('byteOffset' in property) {\n      // This is a binary property\n      const tile3DAccessor = property;\n\n      assert(this.binary, `Property ${name} requires a batch table binary.`);\n      assert(tile3DAccessor.type, `Property ${name} requires a type.`);\n\n      const accessor = createTypedArrayFromAccessor(\n        tile3DAccessor,\n        this.binary.buffer,\n        this.binary.byteOffset | 0,\n        this.featureCount\n      );\n\n      // Store any information needed to access the binary data, including the typed array,\n      // componentCount (e.g. a VEC4 would be 4), and the type used to pack and unpack (e.g. Cartesian4).\n      return {\n        typedArray: accessor.values,\n        componentCount: accessor.size,\n        unpack: accessor.unpacker,\n        pack: accessor.packer\n      };\n    }\n\n    return null;\n  }\n\n  //  EXTENSION SUPPORT: 3DTILES_batch_table_hierarchy\n\n  _hasPropertyInHierarchy(batchId, name) {\n    if (!this._hierarchy) {\n      return false;\n    }\n\n    const result = traverseHierarchy(this._hierarchy, batchId, (hierarchy, instanceIndex) => {\n      const classId = hierarchy.classIds[instanceIndex];\n      const instances = hierarchy.classes[classId].instances;\n      return defined(instances[name]);\n    });\n\n    return defined(result);\n  }\n\n  _getPropertyNamesInHierarchy(batchId, results) {\n    traverseHierarchy(this._hierarchy, batchId, (hierarchy, instanceIndex) => {\n      const classId = hierarchy.classIds[instanceIndex];\n      const instances = hierarchy.classes[classId].instances;\n      for (const name in instances) {\n        if (instances.hasOwnProperty(name)) {\n          if (results.indexOf(name) === -1) {\n            results.push(name);\n          }\n        }\n      }\n    });\n  }\n\n  _getHierarchyProperty(batchId, name) {\n    return traverseHierarchy(this._hierarchy, batchId, (hierarchy, instanceIndex) => {\n      const classId = hierarchy.classIds[instanceIndex];\n      const instanceClass = hierarchy.classes[classId];\n      const indexInClass = hierarchy.classIndexes[instanceIndex];\n      const propertyValues = instanceClass.instances[name];\n      if (defined(propertyValues)) {\n        if (defined(propertyValues.typedArray)) {\n          return this._getBinaryProperty(propertyValues, indexInClass);\n        }\n        return clone(propertyValues[indexInClass], true);\n      }\n      return null;\n    });\n  }\n\n  _setHierarchyProperty(batchTable, batchId, name, value) {\n    const result = traverseHierarchy(this._hierarchy, batchId, (hierarchy, instanceIndex) => {\n      const classId = hierarchy.classIds[instanceIndex];\n      const instanceClass = hierarchy.classes[classId];\n      const indexInClass = hierarchy.classIndexes[instanceIndex];\n      const propertyValues = instanceClass.instances[name];\n      if (defined(propertyValues)) {\n        assert(instanceIndex === batchId, `Inherited property \"${name}\" is read-only.`);\n        if (defined(propertyValues.typedArray)) {\n          this._setBinaryProperty(propertyValues, indexInClass, value);\n        } else {\n          propertyValues[indexInClass] = clone(value, true);\n        }\n        return true;\n      }\n      return false;\n    });\n    return defined(result);\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nconst SIZEOF_UINT32 = 4;\n\n/* PARSE FIXED HEADER:\nPopulates\n  magic, // identifies type of tile\n  type, // String version of magic\n  version,\n  byteLength\n */\nexport function parse3DTileHeaderSync(tile, arrayBuffer, byteOffset = 0) {\n  const view = new DataView(arrayBuffer);\n\n  tile.magic = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  tile.version = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  tile.byteLength = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  // TODO - move version check into each tile parser?\n  if (tile.version !== 1) {\n    throw new Error(`3D Tile Version ${tile.version} not supported`);\n  }\n\n  return byteOffset; // Indicates where the parsing ended\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {getStringFromArrayBuffer} from './parse-utils';\n\nconst SIZEOF_UINT32 = 4;\nconst DEPRECATION_WARNING = 'b3dm tile in legacy format.';\n\n// eslint-disable-next-line max-statements\nexport function parse3DTileTablesHeaderSync(tile, arrayBuffer, byteOffset) {\n  const view = new DataView(arrayBuffer);\n  let batchLength;\n\n  tile.header = tile.header || {};\n\n  let featureTableJsonByteLength = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  let featureTableBinaryByteLength = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  let batchTableJsonByteLength = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  let batchTableBinaryByteLength = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  // First legacy header format - [batchLength] [batchTableByteLength] ('batchTableJsonByteLength': JSON starts with a quotation mark or the glTF magic)\n  // Second legacy format - [batchTableJsonByteLength] [batchTableBinaryByteLength] [batchLength] (Second legacy format is similar as first but here we check 'batchTableBinaryByteLength' instead)\n  // Current header format - [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength]\n  // First byte will be 0x22 or 0x67. The minimum uint32 expected is 0x22000000 = 570425344 = 570MB.\n  if (batchTableJsonByteLength >= 570425344) {\n    byteOffset -= SIZEOF_UINT32 * 2;\n    batchLength = featureTableJsonByteLength;\n    batchTableJsonByteLength = featureTableBinaryByteLength;\n    batchTableBinaryByteLength = 0;\n    featureTableJsonByteLength = 0;\n    featureTableBinaryByteLength = 0;\n\n    console.warn(DEPRECATION_WARNING); // eslint-disable-line\n  } else if (batchTableBinaryByteLength >= 570425344) {\n    byteOffset -= SIZEOF_UINT32;\n    batchLength = batchTableJsonByteLength;\n    batchTableJsonByteLength = featureTableJsonByteLength;\n    batchTableBinaryByteLength = featureTableBinaryByteLength;\n    featureTableJsonByteLength = 0;\n    featureTableBinaryByteLength = 0;\n\n    console.warn(DEPRECATION_WARNING); // eslint-disable-line\n  }\n\n  tile.header.featureTableJsonByteLength = featureTableJsonByteLength;\n  tile.header.featureTableBinaryByteLength = featureTableBinaryByteLength;\n  tile.header.batchTableJsonByteLength = batchTableJsonByteLength;\n  tile.header.batchTableBinaryByteLength = batchTableBinaryByteLength;\n  tile.header.batchLength = batchLength;\n\n  return byteOffset;\n}\n\nexport function parse3DTileTablesSync(tile, arrayBuffer, byteOffset, options) {\n  byteOffset = parse3DTileFeatureTable(tile, arrayBuffer, byteOffset, options);\n  byteOffset = parse3DTileBatchTable(tile, arrayBuffer, byteOffset, options);\n  return byteOffset;\n}\n\nfunction parse3DTileFeatureTable(tile, arrayBuffer, byteOffset, options) {\n  const {featureTableJsonByteLength, featureTableBinaryByteLength, batchLength} = tile.header;\n\n  tile.featureTableJson = {\n    BATCH_LENGTH: batchLength || 0\n  };\n\n  if (featureTableJsonByteLength > 0) {\n    const featureTableString = getStringFromArrayBuffer(\n      arrayBuffer,\n      byteOffset,\n      featureTableJsonByteLength\n    );\n    tile.featureTableJson = JSON.parse(featureTableString);\n  }\n  byteOffset += featureTableJsonByteLength;\n\n  tile.featureTableBinary = new Uint8Array(arrayBuffer, byteOffset, featureTableBinaryByteLength);\n  byteOffset += featureTableBinaryByteLength;\n\n  /*\n  const featureTable = parseFeatureTable(featureTableJson, featureTableBinary);\n\n  const batchLength = featureTable.getGlobalProperty('BATCH_LENGTH');\n  featureTable.featuresLength = batchLength;\n  */\n\n  return byteOffset;\n}\n\nfunction parse3DTileBatchTable(tile, arrayBuffer, byteOffset, options) {\n  const {batchTableJsonByteLength, batchTableBinaryByteLength} = tile.header;\n\n  if (batchTableJsonByteLength > 0) {\n    const batchTableString = getStringFromArrayBuffer(\n      arrayBuffer,\n      byteOffset,\n      batchTableJsonByteLength\n    );\n    tile.batchTableJson = JSON.parse(batchTableString);\n    byteOffset += batchTableJsonByteLength;\n\n    if (batchTableBinaryByteLength > 0) {\n      // Has a batch table binary\n      tile.batchTableBinary = new Uint8Array(arrayBuffer, byteOffset, batchTableBinaryByteLength);\n      // Copy the batchTableBinary section and let the underlying ArrayBuffer be freed\n      tile.batchTableBinary = new Uint8Array(tile.batchTableBinary);\n\n      byteOffset += batchTableBinaryByteLength;\n    }\n  }\n\n  return byteOffset;\n}\n","/**\n * Decode color values\n * @param rgb565\n * @param target\n * @returns target\n */\nexport function decodeRGB565(rgb565: number, target: number[] = [0, 0, 0]): number[] {\n  const r5 = (rgb565 >> 11) & 31;\n  const g6 = (rgb565 >> 5) & 63;\n  const b5 = rgb565 & 31;\n\n  target[0] = r5 << 3;\n  target[1] = g6 << 2;\n  target[2] = b5 << 3;\n\n  return target;\n}\n\n/**\n * Encode color values\n * @param rgb\n * @returns color\n */\nexport function encodeRGB565(rgb: number[]): number {\n  const r5 = Math.floor(rgb[0] / 8) + 4;\n  const g6 = Math.floor(rgb[1] / 4) + 2;\n  const b5 = Math.floor(rgb[2] / 8) + 4;\n  return r5 + (g6 << 5) + (b5 << 11);\n}\n","import {decodeRGB565, GL} from '@loaders.gl/math';\n\n/* eslint-disable complexity*/\nexport function normalize3DTileColorAttribute(tile, colors, batchTable?) {\n  // no colors defined\n  if (!colors && (!tile || !tile.batchIds || !batchTable)) {\n    return null;\n  }\n\n  const {batchIds, isRGB565, pointCount} = tile;\n  // Batch table, look up colors in table\n  if (batchIds && batchTable) {\n    const colorArray = new Uint8ClampedArray(pointCount * 3);\n    for (let i = 0; i < pointCount; i++) {\n      const batchId = batchIds[i];\n      // TODO figure out what is `dimensions` used for\n      const dimensions = batchTable.getProperty(batchId, 'dimensions');\n      const color = dimensions.map((d) => d * 255);\n      colorArray[i * 3] = color[0];\n      colorArray[i * 3 + 1] = color[1];\n      colorArray[i * 3 + 2] = color[2];\n    }\n    return {\n      type: GL.UNSIGNED_BYTE,\n      value: colorArray,\n      size: 3,\n      normalized: true\n    };\n  }\n\n  // RGB565 case, convert to RGB\n  if (isRGB565) {\n    const colorArray = new Uint8ClampedArray(pointCount * 3);\n    for (let i = 0; i < pointCount; i++) {\n      const color = decodeRGB565(colors[i]);\n      colorArray[i * 3] = color[0];\n      colorArray[i * 3 + 1] = color[1];\n      colorArray[i * 3 + 2] = color[2];\n    }\n    return {\n      type: GL.UNSIGNED_BYTE,\n      value: colorArray,\n      size: 3,\n      normalized: true\n    };\n  }\n\n  // RGB case (tile.isTranslucent)\n  if (colors && colors.length === pointCount * 3) {\n    return {\n      type: GL.UNSIGNED_BYTE,\n      value: colors,\n      size: 3,\n      normalized: true\n    };\n  }\n\n  // DEFAULT: RGBA case\n  return {\n    type: GL.UNSIGNED_BYTE,\n    value: colors,\n    size: 4,\n    normalized: true\n  };\n}\n/* eslint-enable complexity*/\n","/**\n * Throws error message\n * @param condition checks if an attribute equal to condition\n * @param message error message\n */\nexport function assert(condition: any, message?: any): void {\n  if (!condition) {\n    throw new Error(`math.gl assertion failed. ${message}`);\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// Attribute compression and decompression functions.\n\nimport {Vector2, Vector3, clamp, _MathUtils} from '@math.gl/core';\nimport {assert} from '../utils/assert';\n\ntype Vector4 = {\n  x: number;\n  y: number;\n  z: number;\n  w: number;\n};\n\nconst RIGHT_SHIFT = 1.0 / 256.0;\nconst LEFT_SHIFT = 256.0;\n\nconst scratchVector2 = new Vector2();\nconst scratchVector3 = new Vector3();\nconst scratchEncodeVector2 = new Vector2();\nconst octEncodeScratch = new Vector2();\n\nconst uint8ForceArray = new Uint8Array(1);\n\n/**\n * Force a value to Uint8\n *\n * @param value\n * @returns\n */\nfunction forceUint8(value: number): number {\n  uint8ForceArray[0] = value;\n  return uint8ForceArray[0];\n}\n\n/**\n * Converts a SNORM value in the range [0, rangeMaximum] to a scalar in the range [-1.0, 1.0].\n *\n * @param value SNORM value in the range [0, rangeMaximum]\n * @param [rangeMaximum=255] The maximum value in the SNORM range, 255 by default.\n * @returns Scalar in the range [-1.0, 1.0].\n *\n * @see CesiumMath.toSNorm\n */\nfunction fromSNorm(value: number, rangeMaximum = 255): number {\n  return (clamp(value, 0.0, rangeMaximum) / rangeMaximum) * 2.0 - 1.0;\n}\n\n/**\n * Converts a scalar value in the range [-1.0, 1.0] to a SNORM in the range [0, rangeMaximum].\n *\n * @param value The scalar value in the range [-1.0, 1.0]\n * @param [rangeMaximum=255] The maximum value in the mapped range, 255 by default.\n * @returns A SNORM value, where 0 maps to -1.0 and rangeMaximum maps to 1.0.\n *\n * @see CesiumMath.fromSNorm\n */\nfunction toSNorm(value: number, rangeMaximum = 255): number {\n  return Math.round((clamp(value, -1.0, 1.0) * 0.5 + 0.5) * rangeMaximum);\n}\n\n/**\n * Returns 1.0 if the given value is positive or zero, and -1.0 if it is negative.\n * This is similar to `Math.sign` except that returns 1.0 instead of\n * 0.0 when the input value is 0.0.\n *\n * @param value The value to return the sign of.\n * @returns The sign of value.\n */\nfunction signNotZero(value: number): number {\n  return value < 0.0 ? -1.0 : 1.0;\n}\n\n/**\n * Encodes a normalized vector into 2 SNORM values in the range of [0-rangeMax] following the 'oct' encoding.\n *\n * Oct encoding is a compact representation of unit length vectors.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: {@link http://jcgt.org/published/0003/02/01/}\n *\n * @param vector The normalized vector to be compressed into 2 component 'oct' encoding.\n * @param result The 2 component oct-encoded unit length vector.\n * @param rangeMax The maximum value of the SNORM range. The encoded vector is stored in log2(rangeMax+1) bits.\n * @returns The 2 component oct-encoded unit length vector.\n *\n * @exception vector must be normalized.\n *\n * @see octDecodeInRange\n */\nexport function octEncodeInRange(vector: Vector3, rangeMax: number, result: Vector2): Vector2 {\n  assert(vector);\n  assert(result);\n\n  const vector3 = scratchVector3.from(vector);\n\n  assert(Math.abs(vector3.magnitudeSquared() - 1.0) <= _MathUtils.EPSILON6);\n\n  result.x = vector.x / (Math.abs(vector.x) + Math.abs(vector.y) + Math.abs(vector.z));\n  result.y = vector.y / (Math.abs(vector.x) + Math.abs(vector.y) + Math.abs(vector.z));\n\n  if (vector.z < 0) {\n    const x = result.x;\n    const y = result.y;\n    result.x = (1.0 - Math.abs(y)) * signNotZero(x);\n    result.y = (1.0 - Math.abs(x)) * signNotZero(y);\n  }\n\n  result.x = toSNorm(result.x, rangeMax);\n  result.y = toSNorm(result.y, rangeMax);\n\n  return result;\n}\n\n/**\n * Encodes a normalized vector into 2 SNORM values in the range of [0-255] following the 'oct' encoding.\n *\n * @param vector The normalized vector to be compressed into 2 byte 'oct' encoding.\n * @param result The 2 byte oct-encoded unit length vector.\n * @returns he 2 byte oct-encoded unit length vector.\n *\n * @exception vector must be normalized.\n *\n * @see octEncodeInRange\n * @see octDecode\n */\nexport function octEncode(vector: Vector3, result: Vector2): Vector2 {\n  return octEncodeInRange(vector, 255, result);\n}\n\n/**\n * Encodes a normalized vector into 4-byte vector\n * @param vector The normalized vector to be compressed into 4 byte 'oct' encoding.\n * @param result The 4 byte oct-encoded unit length vector.\n * @returns The 4 byte oct-encoded unit length vector.\n *\n * @exception vector must be normalized.\n *\n * @see octEncodeInRange\n * @see octDecodeFromVector4\n */\nexport function octEncodeToVector4(vector: Vector3, result: Vector4): Vector4 {\n  octEncodeInRange(vector, 65535, octEncodeScratch);\n  result.x = forceUint8(octEncodeScratch.x * RIGHT_SHIFT);\n  result.y = forceUint8(octEncodeScratch.x);\n  result.z = forceUint8(octEncodeScratch.y * RIGHT_SHIFT);\n  result.w = forceUint8(octEncodeScratch.y);\n  return result;\n}\n\n/**\n * Decodes a unit-length vector in 'oct' encoding to a normalized 3-component vector.\n *\n * @param x The x component of the oct-encoded unit length vector.\n * @param y The y component of the oct-encoded unit length vector.\n * @param rangeMax The maximum value of the SNORM range. The encoded vector is stored in log2(rangeMax+1) bits.\n * @param result The decoded and normalized vector\n * @returns The decoded and normalized vector.\n *\n * @exception x and y must be unsigned normalized integers between 0 and rangeMax.\n *\n * @see octEncodeInRange\n */\nexport function octDecodeInRange(x: number, y: number, rangeMax: number, result: Vector3): Vector3 {\n  assert(result);\n  if (x < 0 || x > rangeMax || y < 0 || y > rangeMax) {\n    throw new Error(`x and y must be unsigned normalized integers between 0 and ${rangeMax}`);\n  }\n\n  result.x = fromSNorm(x, rangeMax);\n  result.y = fromSNorm(y, rangeMax);\n  result.z = 1.0 - (Math.abs(result.x) + Math.abs(result.y));\n\n  if (result.z < 0.0) {\n    const oldVX = result.x;\n    result.x = (1.0 - Math.abs(result.y)) * signNotZero(oldVX);\n    result.y = (1.0 - Math.abs(oldVX)) * signNotZero(result.y);\n  }\n\n  return result.normalize();\n}\n\n/**\n * Decodes a unit-length vector in 2 byte 'oct' encoding to a normalized 3-component vector.\n *\n * @param x The x component of the oct-encoded unit length vector.\n * @param y The y component of the oct-encoded unit length vector.\n * @param result The decoded and normalized vector.\n * @returns he decoded and normalized vector.\n *\n * @exception x and y must be an unsigned normalized integer between 0 and 255.\n *\n * @see octDecodeInRange\n */\nexport function octDecode(x: number, y: number, result: Vector3): Vector3 {\n  return octDecodeInRange(x, y, 255, result);\n}\n\n/**\n * Decodes a unit-length vector in 4 byte 'oct' encoding to a normalized 3-component vector.\n *\n * @param encoded The oct-encoded unit length vector.\n * @param esult The decoded and normalized vector.\n * @returns The decoded and normalized vector.\n *\n * @exception x, y, z, and w must be unsigned normalized integers between 0 and 255.\n *\n * @see octDecodeInRange\n * @see octEncodeToVector4\n */\nexport function octDecodeFromVector4(encoded: Vector4, result: Vector3): Vector3 {\n  assert(encoded);\n  assert(result);\n  const x = encoded.x;\n  const y = encoded.y;\n  const z = encoded.z;\n  const w = encoded.w;\n\n  if (x < 0 || x > 255 || y < 0 || y > 255 || z < 0 || z > 255 || w < 0 || w > 255) {\n    throw new Error('x, y, z, and w must be unsigned normalized integers between 0 and 255');\n  }\n\n  const xOct16 = x * LEFT_SHIFT + y;\n  const yOct16 = z * LEFT_SHIFT + w;\n  return octDecodeInRange(xOct16, yOct16, 65535, result);\n}\n\n/**\n * Packs an oct encoded vector into a single floating-point number.\n *\n * @param encoded The oct encoded vector.\n * @returns The oct encoded vector packed into a single float.\n *\n */\nexport function octPackFloat(encoded: Vector2): number {\n  const vector2 = scratchVector2.from(encoded);\n  return 256.0 * vector2.x + vector2.y;\n}\n\n/**\n * Encodes a normalized vector into 2 SNORM values in the range of [0-255] following the 'oct' encoding and\n * stores those values in a single float-point number.\n *\n * @param vector The normalized vector to be compressed into 2 byte 'oct' encoding.\n * @returns The 2 byte oct-encoded unit length vector.\n *\n * @exception vector must be normalized.\n */\nexport function octEncodeFloat(vector: Vector3): number {\n  octEncode(vector, scratchEncodeVector2);\n  return octPackFloat(scratchEncodeVector2);\n}\n\n/**\n * Decodes a unit-length vector in 'oct' encoding packed in a floating-point number to a normalized 3-component vector.\n *\n * @param value The oct-encoded unit length vector stored as a single floating-point number.\n * @param result The decoded and normalized vector\n * @returns The decoded and normalized vector.\n *\n */\nexport function octDecodeFloat(value: number, result: Vector3): Vector3 {\n  assert(Number.isFinite(value));\n\n  const temp = value / 256.0;\n  const x = Math.floor(temp);\n  const y = (temp - x) * 256.0;\n\n  return octDecode(x, y, result);\n}\n\n/**\n * Encodes three normalized vectors into 6 SNORM values in the range of [0-255] following the 'oct' encoding and\n * packs those into two floating-point numbers.\n *\n * @param v1 A normalized vector to be compressed.\n * @param v2 A normalized vector to be compressed.\n * @param v3 A normalized vector to be compressed.\n * @param result The 'oct' encoded vectors packed into two floating-point numbers.\n * @returns The 'oct' encoded vectors packed into two floating-point numbers.\n *\n */\nexport function octPack(v1: Vector3, v2: Vector3, v3: Vector3, result: Vector2): Vector2 {\n  assert(v1);\n  assert(v2);\n  assert(v3);\n  assert(result);\n\n  const encoded1 = octEncodeFloat(v1);\n  const encoded2 = octEncodeFloat(v2);\n\n  const encoded3 = octEncode(v3, scratchEncodeVector2);\n  result.x = 65536.0 * encoded3.x + encoded1;\n  result.y = 65536.0 * encoded3.y + encoded2;\n  return result;\n}\n\n/**\n * Decodes three unit-length vectors in 'oct' encoding packed into a floating-point number to a normalized 3-component vector.\n *\n * @param packed The three oct-encoded unit length vectors stored as two floating-point number.\n * @param v1 One decoded and normalized vector.\n * @param v2 One decoded and normalized vector.\n * @param v3 One decoded and normalized vector.\n */\nexport function octUnpack(packed: Vector2, v1: Vector3, v2: Vector3, v3: Vector3): void {\n  let temp = packed.x / 65536.0;\n  const x = Math.floor(temp);\n  const encodedFloat1 = (temp - x) * 65536.0;\n\n  temp = packed.y / 65536.0;\n  const y = Math.floor(temp);\n  const encodedFloat2 = (temp - y) * 65536.0;\n\n  octDecodeFloat(encodedFloat1, v1);\n  octDecodeFloat(encodedFloat2, v2);\n  octDecode(x, y, v3);\n}\n\n/**\n * Pack texture coordinates into a single float. The texture coordinates will only preserve 12 bits of precision.\n *\n * @param textureCoordinates The texture coordinates to compress.  Both coordinates must be in the range 0.0-1.0.\n * @returns The packed texture coordinates.\n *\n */\nexport function compressTextureCoordinates(textureCoordinates: Vector2): number {\n  // Move x and y to the range 0-4095;\n  const x = (textureCoordinates.x * 4095.0) | 0;\n  const y = (textureCoordinates.y * 4095.0) | 0;\n  return 4096.0 * x + y;\n}\n\n/**\n * Decompresses texture coordinates that were packed into a single float.\n *\n * @param compressed The compressed texture coordinates.\n * @param result The decompressed texture coordinates.\n * @returns The modified result parameter.\n *\n */\nexport function decompressTextureCoordinates(compressed: number, result: Vector2): Vector2 {\n  const temp = compressed / 4096.0;\n  const xZeroTo4095 = Math.floor(temp);\n  result.x = xZeroTo4095 / 4095.0;\n  result.y = (compressed - xZeroTo4095 * 4096) / 4095;\n  return result;\n}\n\n/**\n * Decodes delta and ZigZag encoded vertices. This modifies the buffers in place.\n *\n * @param uBuffer The buffer view of u values.\n * @param vBuffer The buffer view of v values.\n * @param [heightBuffer] The buffer view of height values.\n *\n * @link https://github.com/AnalyticalGraphicsInc/quantized-mesh|quantized-mesh-1.0 terrain format\n */\nexport function zigZagDeltaDecode(\n  uBuffer: Uint16Array,\n  vBuffer: Uint16Array,\n  heightBuffer?: Uint16Array | number[]\n) {\n  assert(uBuffer);\n  assert(vBuffer);\n  assert(uBuffer.length === vBuffer.length);\n  if (heightBuffer) {\n    assert(uBuffer.length === heightBuffer.length);\n  }\n\n  function zigZagDecode(value: number) {\n    return (value >> 1) ^ -(value & 1);\n  }\n\n  let u = 0;\n  let v = 0;\n  let height = 0;\n\n  for (let i = 0; i < uBuffer.length; ++i) {\n    u += zigZagDecode(uBuffer[i]);\n    v += zigZagDecode(vBuffer[i]);\n\n    uBuffer[i] = u;\n    vBuffer[i] = v;\n\n    if (heightBuffer) {\n      height += zigZagDecode(heightBuffer[i]);\n      heightBuffer[i] = height;\n    }\n  }\n}\n","import {Vector3} from '@math.gl/core';\nimport {GL, octDecode} from '@loaders.gl/math';\n\nconst scratchNormal = new Vector3();\n\nexport function normalize3DTileNormalAttribute(tile, normals) {\n  if (!normals) {\n    return null;\n  }\n\n  if (tile.isOctEncoded16P) {\n    const decodedArray = new Float32Array(tile.pointsLength * 3);\n    for (let i = 0; i < tile.pointsLength; i++) {\n      octDecode(normals[i * 2], normals[i * 2 + 1], scratchNormal);\n      // @ts-ignore\n      scratchNormal.toArray(decodedArray, i * 3);\n    }\n\n    return {\n      type: GL.FLOAT,\n      size: 2,\n      value: decodedArray\n    };\n  }\n\n  return {\n    type: GL.FLOAT,\n    size: 2,\n    value: normals\n  };\n}\n","import {Vector3} from '@math.gl/core';\nimport {GL} from '@loaders.gl/math';\n\n// Prepare attribute for positions\nexport function normalize3DTilePositionAttribute(tile, positions, options) {\n  if (!tile.isQuantized) {\n    return positions;\n  }\n\n  // For quantized posititions, either expand to Float32Array or return custom accessor\n  // https://github.com/AnalyticalGraphicsInc/3d-tiles/blob/master/specification/TileFormats/Instanced3DModel/README.md#quantized-positions\n\n  // Optionally decodes quantized positions on GPU, for simpler renderers that don't accept normalized attributes\n  if (options['3d-tiles'] && options['3d-tiles'].decodeQuantizedPositions) {\n    tile.isQuantized = false;\n    return decodeQuantizedPositions(tile, positions);\n  }\n\n  // Default: Use normalized shorts directly, no copying/processing.\n  // NOTE: The \"missing\" offset/scaling operations are automatically added to modelMatrix if `tile.isQuantized === true`\n  return {\n    type: GL.UNSIGNED_SHORT,\n    value: positions,\n    size: 3,\n    normalized: true\n  };\n}\n\n// Pre-scale quantized positions on CPU\nfunction decodeQuantizedPositions(tile, positions) {\n  const scratchPosition = new Vector3();\n  const decodedArray = new Float32Array(tile.pointCount * 3);\n\n  for (let i = 0; i < tile.pointCount; i++) {\n    // POSITION = POSITION_QUANTIZED / 65535.0 * QUANTIZED_VOLUME_SCALE + QUANTIZED_VOLUME_OFFSET\n    scratchPosition\n      .set(positions[i * 3], positions[i * 3 + 1], positions[i * 3 + 2])\n      .scale(1 / tile.quantizedRange)\n      .multiply(tile.quantizedVolumeScale)\n      .add(tile.quantizedVolumeOffset)\n      .toArray(decodedArray, i * 3);\n  }\n\n  return decodedArray;\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {DracoLoader} from '@loaders.gl/draco';\nimport {GL} from '@loaders.gl/math';\nimport {Vector3} from '@math.gl/core';\n\nimport Tile3DFeatureTable from '../classes/tile-3d-feature-table';\nimport Tile3DBatchTable from '../classes/tile-3d-batch-table';\nimport {parse3DTileHeaderSync} from './helpers/parse-3d-tile-header';\nimport {parse3DTileTablesHeaderSync, parse3DTileTablesSync} from './helpers/parse-3d-tile-tables';\nimport {normalize3DTileColorAttribute} from './helpers/normalize-3d-tile-colors';\nimport {normalize3DTileNormalAttribute} from './helpers/normalize-3d-tile-normals';\nimport {normalize3DTilePositionAttribute} from './helpers/normalize-3d-tile-positions';\n\nexport async function parsePointCloud3DTile(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parse3DTileHeaderSync(tile, arrayBuffer, byteOffset);\n  byteOffset = parse3DTileTablesHeaderSync(tile, arrayBuffer, byteOffset);\n  byteOffset = parse3DTileTablesSync(tile, arrayBuffer, byteOffset, options);\n  initializeTile(tile);\n\n  const {featureTable, batchTable} = parsePointCloudTables(tile);\n\n  await parseDraco(tile, featureTable, batchTable, options, context);\n\n  parsePositions(tile, featureTable, options);\n  parseColors(tile, featureTable, batchTable);\n  parseNormals(tile, featureTable);\n\n  return byteOffset;\n}\n\nfunction initializeTile(tile) {\n  // Initialize point cloud tile defaults\n  tile.attributes = {\n    positions: null,\n    colors: null,\n    normals: null,\n    batchIds: null\n  };\n  tile.isQuantized = false;\n  tile.isTranslucent = false;\n  tile.isRGB565 = false;\n  tile.isOctEncoded16P = false;\n}\n\nfunction parsePointCloudTables(tile) {\n  const featureTable = new Tile3DFeatureTable(tile.featureTableJson, tile.featureTableBinary);\n\n  const pointsLength = featureTable.getGlobalProperty('POINTS_LENGTH');\n  if (!Number.isFinite(pointsLength)) {\n    throw new Error('POINTS_LENGTH must be defined');\n  }\n  featureTable.featuresLength = pointsLength;\n\n  tile.featuresLength = pointsLength;\n  tile.pointsLength = pointsLength;\n  tile.pointCount = pointsLength;\n\n  tile.rtcCenter = featureTable.getGlobalProperty('RTC_CENTER', GL.FLOAT, 3);\n\n  const batchTable = parseBatchIds(tile, featureTable);\n\n  return {featureTable, batchTable};\n}\n\nfunction parsePositions(tile, featureTable, options) {\n  if (!tile.attributes.positions) {\n    if (featureTable.hasProperty('POSITION')) {\n      tile.attributes.positions = featureTable.getPropertyArray('POSITION', GL.FLOAT, 3);\n    } else if (featureTable.hasProperty('POSITION_QUANTIZED')) {\n      const positions = featureTable.getPropertyArray('POSITION_QUANTIZED', GL.UNSIGNED_SHORT, 3);\n\n      tile.isQuantized = true;\n      tile.quantizedRange = (1 << 16) - 1;\n\n      tile.quantizedVolumeScale = featureTable.getGlobalProperty(\n        'QUANTIZED_VOLUME_SCALE',\n        GL.FLOAT,\n        3\n      );\n      if (!tile.quantizedVolumeScale) {\n        throw new Error('QUANTIZED_VOLUME_SCALE must be defined for quantized positions.');\n      }\n\n      tile.quantizedVolumeOffset = featureTable.getGlobalProperty(\n        'QUANTIZED_VOLUME_OFFSET',\n        GL.FLOAT,\n        3\n      );\n      if (!tile.quantizedVolumeOffset) {\n        throw new Error('QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.');\n      }\n\n      tile.attributes.positions = normalize3DTilePositionAttribute(tile, positions, options);\n    }\n  }\n\n  if (!tile.attributes.positions) {\n    throw new Error('Either POSITION or POSITION_QUANTIZED must be defined.');\n  }\n}\n\nfunction parseColors(tile, featureTable, batchTable) {\n  if (!tile.attributes.colors) {\n    let colors = null;\n    if (featureTable.hasProperty('RGBA')) {\n      colors = featureTable.getPropertyArray('RGBA', GL.UNSIGNED_BYTE, 4);\n      tile.isTranslucent = true;\n    } else if (featureTable.hasProperty('RGB')) {\n      colors = featureTable.getPropertyArray('RGB', GL.UNSIGNED_BYTE, 3);\n    } else if (featureTable.hasProperty('RGB565')) {\n      colors = featureTable.getPropertyArray('RGB565', GL.UNSIGNED_SHORT, 1);\n      tile.isRGB565 = true;\n    }\n\n    tile.attributes.colors = normalize3DTileColorAttribute(tile, colors, batchTable);\n  }\n\n  if (featureTable.hasProperty('CONSTANT_RGBA')) {\n    tile.constantRGBA = featureTable.getGlobalProperty('CONSTANT_RGBA', GL.UNSIGNED_BYTE, 4);\n  }\n}\n\nfunction parseNormals(tile, featureTable) {\n  if (!tile.attributes.normals) {\n    let normals = null;\n    if (featureTable.hasProperty('NORMAL')) {\n      normals = featureTable.getPropertyArray('NORMAL', GL.FLOAT, 3);\n    } else if (featureTable.hasProperty('NORMAL_OCT16P')) {\n      normals = featureTable.getPropertyArray('NORMAL_OCT16P', GL.UNSIGNED_BYTE, 2);\n      tile.isOctEncoded16P = true;\n    }\n\n    tile.attributes.normals = normalize3DTileNormalAttribute(tile, normals);\n  }\n}\n\nfunction parseBatchIds(tile, featureTable) {\n  let batchTable: Tile3DBatchTable | null = null;\n  if (!tile.batchIds && featureTable.hasProperty('BATCH_ID')) {\n    tile.batchIds = featureTable.getPropertyArray('BATCH_ID', GL.UNSIGNED_SHORT, 1);\n\n    if (tile.batchIds) {\n      const batchFeatureLength = featureTable.getGlobalProperty('BATCH_LENGTH');\n      if (!batchFeatureLength) {\n        throw new Error('Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.');\n      }\n      const {batchTableJson, batchTableBinary} = tile;\n      batchTable = new Tile3DBatchTable(batchTableJson, batchTableBinary, batchFeatureLength);\n    }\n  }\n  return batchTable;\n}\n\n// eslint-disable-next-line complexity\nasync function parseDraco(tile, featureTable, batchTable, options, context) {\n  let dracoBuffer;\n  let dracoFeatureTableProperties;\n  let dracoBatchTableProperties;\n  const batchTableDraco =\n    tile.batchTableJson &&\n    tile.batchTableJson.extensions &&\n    tile.batchTableJson.extensions['3DTILES_draco_point_compression'];\n  if (batchTableDraco) {\n    dracoBatchTableProperties = batchTableDraco.properties;\n  }\n\n  const featureTableDraco = featureTable.getExtension('3DTILES_draco_point_compression');\n  if (featureTableDraco) {\n    dracoFeatureTableProperties = featureTableDraco.properties;\n    const dracoByteOffset = featureTableDraco.byteOffset;\n    const dracoByteLength = featureTableDraco.byteLength;\n    if (!dracoFeatureTableProperties || !Number.isFinite(dracoByteOffset) || !dracoByteLength) {\n      throw new Error('Draco properties, byteOffset, and byteLength must be defined');\n    }\n\n    dracoBuffer = tile.featureTableBinary.slice(dracoByteOffset, dracoByteOffset + dracoByteLength);\n\n    tile.hasPositions = Number.isFinite(dracoFeatureTableProperties.POSITION);\n    tile.hasColors =\n      Number.isFinite(dracoFeatureTableProperties.RGB) ||\n      Number.isFinite(dracoFeatureTableProperties.RGBA);\n    tile.hasNormals = Number.isFinite(dracoFeatureTableProperties.NORMAL);\n    tile.hasBatchIds = Number.isFinite(dracoFeatureTableProperties.BATCH_ID);\n    tile.isTranslucent = Number.isFinite(dracoFeatureTableProperties.RGBA);\n  }\n\n  if (!dracoBuffer) {\n    return true;\n  }\n\n  const dracoData = {\n    buffer: dracoBuffer,\n    properties: {...dracoFeatureTableProperties, ...dracoBatchTableProperties},\n    featureTableProperties: dracoFeatureTableProperties,\n    batchTableProperties: dracoBatchTableProperties,\n    dequantizeInShader: false\n  };\n\n  return await loadDraco(tile, dracoData, options, context);\n}\n\n// eslint-disable-next-line complexity, max-statements\nexport async function loadDraco(tile, dracoData, options, context) {\n  const {parse} = context;\n  const dracoOptions = {\n    ...options,\n    draco: {\n      ...options.draco,\n      extraAttributes: dracoData.batchTableProperties || {}\n    }\n  };\n\n  // The entire tileset might be included, too expensive to serialize\n  delete dracoOptions['3d-tiles'];\n\n  const data = await parse(dracoData.buffer, DracoLoader, dracoOptions);\n\n  const decodedPositions = data.attributes.POSITION && data.attributes.POSITION.value;\n  const decodedColors = data.attributes.COLOR_0 && data.attributes.COLOR_0.value;\n  const decodedNormals = data.attributes.NORMAL && data.attributes.NORMAL.value;\n  const decodedBatchIds = data.attributes.BATCH_ID && data.attributes.BATCH_ID.value;\n  const isQuantizedDraco = decodedPositions && data.attributes.POSITION.value.quantization;\n  const isOctEncodedDraco = decodedNormals && data.attributes.NORMAL.value.quantization;\n  if (isQuantizedDraco) {\n    // Draco quantization range == quantized volume scale - size in meters of the quantized volume\n    // Internal quantized range is the range of values of the quantized data, e.g. 255 for 8-bit, 1023 for 10-bit, etc\n    const quantization = data.POSITION.data.quantization;\n    const range = quantization.range;\n    tile.quantizedVolumeScale = new Vector3(range, range, range);\n    tile.quantizedVolumeOffset = new Vector3(quantization.minValues);\n    tile.quantizedRange = (1 << quantization.quantizationBits) - 1.0;\n    tile.isQuantizedDraco = true;\n  }\n  if (isOctEncodedDraco) {\n    tile.octEncodedRange = (1 << data.NORMAL.data.quantization.quantizationBits) - 1.0;\n    tile.isOctEncodedDraco = true;\n  }\n\n  // Extra batch table attributes\n  const batchTableAttributes = {};\n  if (dracoData.batchTableProperties) {\n    for (const attributeName of Object.keys(dracoData.batchTableProperties)) {\n      if (data.attributes[attributeName] && data.attributes[attributeName].value) {\n        batchTableAttributes[attributeName.toLowerCase()] = data.attributes[attributeName].value;\n      }\n    }\n  }\n\n  tile.attributes = {\n    positions: decodedPositions,\n    colors: normalize3DTileColorAttribute(tile, decodedColors, undefined),\n    normals: decodedNormals,\n    batchIds: decodedBatchIds,\n    ...batchTableAttributes\n  };\n}\n\n// TODO - this is the remaining code from Cesium's parser\n/*\n  const batchTable = new Tile3DBatchTable(tile);\n\n  // parseDracoBuffer(tile, featureTable, batchTable);\n\n  if (!tile.attributes.positions) {\n    throw new Error('Either POSITION or POSITION_QUANTIZED must be defined.');\n  }\n}\n/*\n\n  if (!tile.attributes.positions) {\n    if (featureTable.hasProperty('POSITION')) {\n      tile.attributes.positions = featureTable.getPropertyArray('POSITION', GL.FLOAT, 3);\n    } else if (featureTable.hasProperty('POSITION_QUANTIZED')) {\n      tile.attributes.positions = featureTable.getPropertyArray('POSITION_QUANTIZED', GL.UNSIGNED_SHORT, 3);\n\n\n  if (!tile.colors) {\n    if (featureTable.hasProperty('RGBA')) {\n      tile.colors = featureTable.getPropertyArray('RGBA', GL.UNSIGNED_BYTE, 4);\n      tile.isTranslucent = true;\n    } else if (featureTable.hasProperty('RGB')) {\n      tile.colors = featureTable.getPropertyArray('RGB', GL.UNSIGNED_BYTE, 3);\n    } else if (featureTable.hasPropertry('RGB565')) {\n      tile.colors = featureTable.getPropertyArray('RGB565', GL.UNSIGNED_SHORT, 1);\n      tile.isRGB565 = true;\n    }\n  }\n\n  if (!tile.attributes.normals) {\n    if (featureTable.getPropertry('NORMAL')) {\n      tile.attributes.normals = featureTable.getPropertyArray('NORMAL', GL.FLOAT, 3);\n    } else if (featureTable.getProperty('NORMAL_OCT16P')) {\n      tile.attributes.normals = featureTable.getPropertyArray('NORMAL_OCT16P', GL.UNSIGNED_BYTE, 2);\n      tile.isOctEncoded16P = true;\n    }\n  }\n\n  if (!tile.batchIds) {\n    if (featureTable.hasProperty('BATCH_ID')) {\n      tile.batchIds = featureTable.getPropertyArray('BATCH_ID', GL.UNSIGNED_SHORT, 1);\n    }\n  }\n\n  if (!tile.attributes.positions) {\n    throw new Error('Either POSITION or POSITION_QUANTIZED must be defined.');\n  }\n\n  if (featureTable.getPropertry('CONSTANT_RGBA')) {\n    tile.constantRGBA = featureTable.getGlobalProperty('CONSTANT_RGBA', GL.UNSIGNED_BYTE, 4);\n  }\n\n  if (tile.batchIds) {\n    const batchLength = featureTable.getGlobalProperty('BATCH_LENGTH');\n    if (!defined(batchLength)) {\n      throw new Error('Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.');\n    }\n\n    if (defined(batchTableBinary)) {\n      // Copy the batchTableBinary section and let the underlying ArrayBuffer be freed\n      batchTableBinary = new Uint8Array(batchTableBinary);\n    }\n\n    if (defined(pointCloud._batchTableLoaded)) {\n      pointCloud._batchTableLoaded(batchLength, batchTableJson, batchTableBinary);\n    }\n  }\n\n  // If points are not batched and there are per-point properties, use these properties for styling purposes\n  var styleableProperties;\n  if (!hasBatchIds && defined(batchTableBinary)) {\n    tile.styleableProperties = Cesium3DTileBatchTable.getBinaryProperties(\n      pointsLength,\n      batchTableJson,\n      batchTableBinary\n    );\n  }\n\n  tile.draco = draco;\n}\n\n// Separate parsing and decoding of Draco\nexport function parseDracoBuffer(tile, featureTable, batchTable) {\n  let dracoBuffer;\n  let dracoFeatureTableProperties;\n  let dracoBatchTableProperties;\n\n  const batchTableDraco = batchTable.getExtension('3DTILES_draco_point_compression');\n  if (batchTableDraco) {\n    dracoBatchTableProperties = batchTableDraco.properties;\n  }\n\n  const featureTableDraco = featureTable.getExtension('3DTILES_draco_point_compression');\n  if (featureTableDraco) {\n    dracoFeatureTableProperties = featureTableDraco.properties;\n    const dracoByteOffset = featureTableDraco.byteOffset;\n    const dracoByteLength = featureTableDraco.byteLength;\n    if (!dracoFeatureTableProperties || !dracoByteOffset || !dracoByteLength) {\n      throw new Error('Draco properties, byteOffset, and byteLength must be defined');\n    }\n\n    dracoBuffer = arraySlice(\n      featureTableBinary,\n      dracoByteOffset,\n      dracoByteOffset + dracoByteLength\n    );\n    tile.hasPositions = dracoFeatureTableProperties.POSITION;\n    tile.hasColors = dracoFeatureTableProperties.RGB || dracoFeatureTableProperties.RGBA;\n    tile.hasNormals = dracoFeatureTableProperties.NORMAL;\n    tile.hasBatchIds = dracoFeatureTableProperties.BATCH_ID;\n    tile.isTranslucent = dracoFeatureTableProperties.RGBA;\n  }\n\n  if (dracoBuffer) {\n    tile.draco = {\n      buffer: dracoBuffer,\n      properties: {...dracoFeatureTableProperties, ...dracoBatchTableProperties},\n      featureTableProperties: dracoFeatureTableProperties,\n      batchTableProperties: dracoBatchTableProperties,\n      dequantizeInShader: false\n    };\n\n    tile.decodingState = DECODING_STATE.NEEDS_DECODE;\n  }\n}\n\n/*\nfunction decodeDraco(tile, context) {\n  if (tile.decodingState === DECODING_STATE.READY) {\n    return false;\n  }\n  if (tile.decodingState === DECODING_STATE.NEEDS_DECODE) {\n    var parsedContent = tile._parsedContent;\n    var draco = parsedContent.draco;\n    var decodePromise = DracoLoader.decodePointCloud(draco, context);\n    if (defined(decodePromise)) {\n      tile.decodingState = DECODING_STATE.DECODING;\n      decodePromise.then(function(result) {\n        tile.decodingState = DECODING_STATE.READY;\n        var decodedPositions = defined(result.POSITION) ? result.POSITION.array : undefined;\n        var decodedRgb = defined(result.RGB) ? result.RGB.array : undefined;\n        var decodedRgba = defined(result.RGBA) ? result.RGBA.array : undefined;\n        var decodedNormals = defined(result.NORMAL) ? result.NORMAL.array : undefined;\n        var decodedBatchIds = defined(result.BATCH_ID) ? result.BATCH_ID.array : undefined;\n        var isQuantizedDraco = defined(decodedPositions) && defined(result.POSITION.data.quantization);\n        var isOctEncodedDraco = defined(decodedNormals) && defined(result.NORMAL.data.quantization);\n        if (isQuantizedDraco) {\n          // Draco quantization range == quantized volume scale - size in meters of the quantized volume\n          // Internal quantized range is the range of values of the quantized data, e.g. 255 for 8-bit, 1023 for 10-bit, etc\n          var quantization = result.POSITION.data.quantization;\n          var range = quantization.range;\n          tile._quantizedVolumeScale = Cartesian3.fromElements(range, range, range);\n          tile._quantizedVolumeOffset = Cartesian3.unpack(quantization.minValues);\n          tile._quantizedRange = (1 << quantization.quantizationBits) - 1.0;\n          tile._isQuantizedDraco = true;\n        }\n        if (isOctEncodedDraco) {\n          tile._octEncodedRange = (1 << result.NORMAL.data.quantization.quantizationBits) - 1.0;\n          tile._isOctEncodedDraco = true;\n        }\n        var styleableProperties = parsedContent.styleableProperties;\n        var batchTableProperties = draco.batchTableProperties;\n        for (var name in batchTableProperties) {\n          if (batchTableProperties.hasOwnProperty(name)) {\n            var property = result[name];\n            if (!defined(styleableProperties)) {\n              styleableProperties = {};\n            }\n            styleableProperties[name] = {\n              typedArray : property.array,\n              componentCount : property.data.componentsPerAttribute\n            };\n          }\n        }\n        parsedContent.positions = defaultValue(decodedPositions, parsedContent.positions);\n        parsedContent.colors = defaultValue(defaultValue(decodedRgba, decodedRgb), parsedContent.colors);\n        parsedContent.normals = defaultValue(decodedNormals, parsedContent.normals);\n        parsedContent.batchIds = defaultValue(decodedBatchIds, parsedContent.batchIds);\n        parsedContent.styleableProperties = styleableProperties;\n      }).otherwise(function(error) {\n        tile.decodingState = DECODING_STATE.FAILED;\n        tile._readyPromise.reject(error);\n      });\n    }\n  }\n  return true;\n}\n*/\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// TODO - should we automatically parse the embedded glTF or leave it to the app?\n// - I.e. some apps might work directly on a GLB, in that case no need for us to decode...\n// - And if we decode, do we still keep the GLB in case it is needed?\n// - Do we add an option to control this?\n// - Also, should we have hard dependency on gltf module or use injection or auto-discovery for gltf parser?\n\nimport {GLTFLoader} from '@loaders.gl/gltf';\nimport {sliceArrayBuffer} from '@loaders.gl/loader-utils';\n\nexport const GLTF_FORMAT = {\n  URI: 0,\n  EMBEDDED: 1\n};\n\nexport function parse3DTileGLTFViewSync(tile, arrayBuffer, byteOffset, options) {\n  // Set flags\n  // glTF models need to be rotated from Y to Z up\n  // https://github.com/AnalyticalGraphicsInc/3d-tiles/tree/master/specification#y-up-to-z-up\n  tile.rotateYtoZ = true;\n\n  // Assume glTF consumes rest of tile\n  const gltfByteLength = tile.byteOffset + tile.byteLength - byteOffset;\n  if (gltfByteLength === 0) {\n    throw new Error('glTF byte length must be greater than 0.');\n  }\n\n  // Save gltf up axis\n  tile.gltfUpAxis =\n    options['3d-tiles'] && options['3d-tiles'].assetGltfUpAxis\n      ? options['3d-tiles'].assetGltfUpAxis\n      : 'Y';\n\n  // TODO - We can avoid copy if already 4-byte aligned...\n  // However the rest of the code may not be able to accept byteOffsets, so copy anyway\n  tile.gltfArrayBuffer = sliceArrayBuffer(arrayBuffer, byteOffset, gltfByteLength);\n  tile.gltfByteOffset = 0;\n  tile.gltfByteLength = gltfByteLength;\n\n  if (byteOffset % 4 === 0) {\n    // tile.gltfArrayBuffer = arrayBuffer;\n    // tile.gltfByteOffset = byteOffset;\n    // tile.gltfByteLength = gltfByteLength;\n  } else {\n    // Create a copy of the glb so that it is 4-byte aligned\n    // eslint-disable-next-line\n    console.warn(`${tile.type}: embedded glb is not aligned to a 4-byte boundary.`);\n  }\n\n  // Entire tile is consumed\n  return tile.byteOffset + tile.byteLength;\n}\n\nexport async function extractGLTF(tile, gltfFormat, options, context) {\n  const tile3DOptions = options['3d-tiles'] || {};\n\n  extractGLTFBufferOrURL(tile, gltfFormat, options);\n\n  if (tile3DOptions.loadGLTF) {\n    const {parse, fetch} = context;\n    if (tile.gltfUrl) {\n      tile.gltfArrayBuffer = await fetch(tile.gltfUrl, options);\n      tile.gltfByteOffset = 0;\n    }\n    if (tile.gltfArrayBuffer) {\n      // TODO - Should handle byteOffset... However, not used now...\n      tile.gltf = await parse(tile.gltfArrayBuffer, GLTFLoader, options, context);\n      delete tile.gltfArrayBuffer;\n      delete tile.gltfByteOffset;\n      delete tile.gltfByteLength;\n    }\n  }\n}\n\nfunction extractGLTFBufferOrURL(tile, gltfFormat, options) {\n  switch (gltfFormat) {\n    case GLTF_FORMAT.URI:\n      // We need to remove padding from the end of the model URL in case this tile was part of a composite tile.\n      // This removes all white space and null characters from the end of the string.\n      const gltfUrlBytes = new Uint8Array(tile.gltfArrayBuffer, tile.gltfByteOffset);\n      const textDecoder = new TextDecoder();\n      const gltfUrl = textDecoder.decode(gltfUrlBytes);\n      tile.gltfUrl = gltfUrl.replace(/[\\s\\0]+$/, '');\n      delete tile.gltfArrayBuffer;\n      delete tile.gltfByteOffset;\n      delete tile.gltfByteLength;\n      break;\n    case GLTF_FORMAT.EMBEDDED:\n      break;\n    default:\n      throw new Error('b3dm: Illegal glTF format field');\n  }\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {GL} from '@loaders.gl/math'; // math.gl/geometry;\nimport Tile3DFeatureTable from '../classes/tile-3d-feature-table';\n// import Tile3DBatchTable from '../classes/tile-3d-batch-table';\n\nimport {parse3DTileHeaderSync} from './helpers/parse-3d-tile-header';\nimport {parse3DTileTablesHeaderSync, parse3DTileTablesSync} from './helpers/parse-3d-tile-tables';\nimport {parse3DTileGLTFViewSync, extractGLTF, GLTF_FORMAT} from './helpers/parse-3d-tile-gltf-view';\n\nexport async function parseBatchedModel3DTile(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parseBatchedModel(tile, arrayBuffer, byteOffset, options, context);\n  await extractGLTF(tile, GLTF_FORMAT.EMBEDDED, options, context);\n\n  const extensions = tile?.gltf?.extensions;\n  if (extensions && extensions.CESIUM_RTC) {\n    tile.rtcCenter = extensions.CESIUM_RTC.center;\n  }\n\n  return byteOffset;\n}\n\nfunction parseBatchedModel(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parse3DTileHeaderSync(tile, arrayBuffer, byteOffset);\n\n  byteOffset = parse3DTileTablesHeaderSync(tile, arrayBuffer, byteOffset);\n  byteOffset = parse3DTileTablesSync(tile, arrayBuffer, byteOffset, options);\n\n  byteOffset = parse3DTileGLTFViewSync(tile, arrayBuffer, byteOffset, options);\n\n  const featureTable = new Tile3DFeatureTable(tile.featureTableJson, tile.featureTableBinary);\n  tile.rtcCenter = featureTable.getGlobalProperty('RTC_CENTER', GL.FLOAT, 3);\n\n  return byteOffset;\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3, Matrix4, Quaternion} from '@math.gl/core';\nimport {Ellipsoid} from '@math.gl/geospatial';\nimport {GL} from '@loaders.gl/math'; // 'math.gl/geometry';\nimport Tile3DFeatureTable from '../classes/tile-3d-feature-table';\nimport Tile3DBatchTable from '../classes/tile-3d-batch-table';\n\nimport {parse3DTileHeaderSync} from './helpers/parse-3d-tile-header';\nimport {parse3DTileTablesHeaderSync, parse3DTileTablesSync} from './helpers/parse-3d-tile-tables';\nimport {parse3DTileGLTFViewSync, extractGLTF} from './helpers/parse-3d-tile-gltf-view';\n\nexport async function parseInstancedModel3DTile(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parseInstancedModel(tile, arrayBuffer, byteOffset, options, context);\n  await extractGLTF(tile, tile.gltfFormat, options, context);\n  return byteOffset;\n}\n\nfunction parseInstancedModel(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parse3DTileHeaderSync(tile, arrayBuffer, byteOffset);\n  if (tile.version !== 1) {\n    throw new Error(`Instanced 3D Model version ${tile.version} is not supported`);\n  }\n\n  byteOffset = parse3DTileTablesHeaderSync(tile, arrayBuffer, byteOffset);\n\n  const view = new DataView(arrayBuffer);\n\n  tile.gltfFormat = view.getUint32(byteOffset, true);\n  byteOffset += 4;\n\n  // PARSE FEATURE TABLE\n  byteOffset = parse3DTileTablesSync(tile, arrayBuffer, byteOffset, options);\n\n  byteOffset = parse3DTileGLTFViewSync(tile, arrayBuffer, byteOffset, options);\n\n  // TODO - Is the feature table sometimes optional or can check be moved into table header parser?\n  if (tile.featureTableJsonByteLength === 0) {\n    throw new Error('i3dm parser: featureTableJsonByteLength is zero.');\n  }\n\n  const featureTable = new Tile3DFeatureTable(tile.featureTableJson, tile.featureTableBinary);\n\n  const instancesLength = featureTable.getGlobalProperty('INSTANCES_LENGTH');\n  featureTable.featuresLength = instancesLength;\n\n  if (!Number.isFinite(instancesLength)) {\n    throw new Error('i3dm parser: INSTANCES_LENGTH must be defined');\n  }\n\n  tile.eastNorthUp = featureTable.getGlobalProperty('EAST_NORTH_UP');\n  tile.rtcCenter = featureTable.getGlobalProperty('RTC_CENTER', GL.FLOAT, 3);\n\n  const batchTable = new Tile3DBatchTable(\n    tile.batchTableJson,\n    tile.batchTableBinary,\n    instancesLength\n  );\n\n  extractInstancedAttributes(tile, featureTable, batchTable, instancesLength);\n\n  return byteOffset;\n}\n\n// eslint-disable-next-line max-statements, complexity\nfunction extractInstancedAttributes(tile, featureTable, batchTable, instancesLength) {\n  // Create model instance collection\n  const collectionOptions = {\n    instances: new Array(instancesLength),\n    batchTable: tile._batchTable,\n    cull: false, // Already culled by 3D Tiles\n    url: undefined,\n    // requestType: RequestType.TILES3D,\n    gltf: undefined,\n    basePath: undefined,\n    incrementallyLoadTextures: false,\n    // TODO - tileset is not available at this stage, tile is parsed independently\n    // upAxis: (tileset && tileset._gltfUpAxis) || [0, 1, 0],\n    forwardAxis: [1, 0, 0]\n  };\n\n  const instances = collectionOptions.instances;\n  const instancePosition = new Vector3();\n  const instanceNormalRight = new Vector3();\n  const instanceNormalUp = new Vector3();\n  const instanceNormalForward = new Vector3();\n  const instanceRotation = new Matrix3();\n  const instanceQuaternion = new Quaternion();\n  const instanceScale = new Vector3();\n  const instanceTranslationRotationScale = {};\n  const instanceTransform = new Matrix4();\n  const scratch1 = [];\n  const scratch2 = [];\n  const scratchVector1 = new Vector3();\n  const scratchVector2 = new Vector3();\n\n  for (let i = 0; i < instancesLength; i++) {\n    let position;\n\n    // Get the instance position\n    if (featureTable.hasProperty('POSITION')) {\n      position = featureTable.getProperty('POSITION', GL.FLOAT, 3, i, instancePosition);\n    } else if (featureTable.hasProperty('POSITION_QUANTIZED')) {\n      position = featureTable.getProperty(\n        'POSITION_QUANTIZED',\n        GL.UNSIGNED_SHORT,\n        3,\n        i,\n        instancePosition\n      );\n\n      const quantizedVolumeOffset = featureTable.getGlobalProperty(\n        'QUANTIZED_VOLUME_OFFSET',\n        GL.FLOAT,\n        3,\n        scratchVector1\n      );\n      if (!quantizedVolumeOffset) {\n        throw new Error(\n          'i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.'\n        );\n      }\n\n      const quantizedVolumeScale = featureTable.getGlobalProperty(\n        'QUANTIZED_VOLUME_SCALE',\n        GL.FLOAT,\n        3,\n        scratchVector2\n      );\n      if (!quantizedVolumeScale) {\n        throw new Error(\n          'i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.'\n        );\n      }\n\n      const MAX_UNSIGNED_SHORT = 65535.0;\n      for (let j = 0; j < 3; j++) {\n        position[j] =\n          (position[j] / MAX_UNSIGNED_SHORT) * quantizedVolumeScale[j] + quantizedVolumeOffset[j];\n      }\n    }\n\n    if (!position) {\n      throw new Error('i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.');\n    }\n\n    instancePosition.copy(position);\n    // @ts-expect-error\n    instanceTranslationRotationScale.translation = instancePosition;\n\n    // Get the instance rotation\n    tile.normalUp = featureTable.getProperty('NORMAL_UP', GL.FLOAT, 3, i, scratch1);\n    tile.normalRight = featureTable.getProperty('NORMAL_RIGHT', GL.FLOAT, 3, i, scratch2);\n\n    const hasCustomOrientation = false;\n    if (tile.normalUp) {\n      if (!tile.normalRight) {\n        throw new Error('i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.');\n      }\n      // Vector3.unpack(normalUp, 0, instanceNormalUp);\n      // Vector3.unpack(normalRight, 0, instanceNormalRight);\n      tile.hasCustomOrientation = true;\n    } else {\n      tile.octNormalUp = featureTable.getProperty(\n        'NORMAL_UP_OCT32P',\n        GL.UNSIGNED_SHORT,\n        2,\n        scratch1\n      );\n      tile.octNormalRight = featureTable.getProperty(\n        'NORMAL_RIGHT_OCT32P',\n        GL.UNSIGNED_SHORT,\n        2,\n        scratch2\n      );\n\n      if (tile.octNormalUp) {\n        if (!tile.octNormalRight) {\n          throw new Error(\n            'i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P'\n          );\n        }\n\n        throw new Error('i3dm: oct-encoded orientation not implemented');\n        /*\n        AttributeCompression.octDecodeInRange(octNormalUp[0], octNormalUp[1], 65535, instanceNormalUp);\n        AttributeCompression.octDecodeInRange(octNormalRight[0], octNormalRight[1], 65535, instanceNormalRight);\n        hasCustomOrientation = true;\n        */\n      } else if (tile.eastNorthUp) {\n        Ellipsoid.WGS84.eastNorthUpToFixedFrame(instancePosition, instanceTransform);\n        instanceTransform.getRotationMatrix3(instanceRotation);\n      } else {\n        instanceRotation.identity();\n      }\n    }\n\n    if (hasCustomOrientation) {\n      instanceNormalForward.copy(instanceNormalRight).cross(instanceNormalUp).normalize();\n      instanceRotation.setColumn(0, instanceNormalRight);\n      instanceRotation.setColumn(1, instanceNormalUp);\n      instanceRotation.setColumn(2, instanceNormalForward);\n    }\n\n    instanceQuaternion.fromMatrix3(instanceRotation);\n    // @ts-expect-error\n    instanceTranslationRotationScale.rotation = instanceQuaternion;\n\n    // Get the instance scale\n    instanceScale.set(1.0, 1.0, 1.0);\n    const scale = featureTable.getProperty('SCALE', GL.FLOAT, 1, i);\n    if (Number.isFinite(scale)) {\n      instanceScale.multiplyByScalar(scale);\n    }\n    const nonUniformScale = featureTable.getProperty('SCALE_NON_UNIFORM', GL.FLOAT, 3, i, scratch1);\n    if (nonUniformScale) {\n      instanceScale.scale(nonUniformScale);\n    }\n\n    // @ts-expect-error\n    instanceTranslationRotationScale.scale = instanceScale;\n\n    // Get the batchId\n    let batchId = featureTable.getProperty('BATCH_ID', GL.UNSIGNED_SHORT, 1, i);\n    if (batchId === undefined) {\n      // If BATCH_ID semantic is undefined, batchId is just the instance number\n      batchId = i;\n    }\n\n    // @ts-expect-error\n    const rotationMatrix = new Matrix4().fromQuaternion(instanceTranslationRotationScale.rotation);\n\n    // Create the model matrix and the instance\n    instanceTransform.identity();\n    // @ts-expect-error\n    instanceTransform.translate(instanceTranslationRotationScale.translation);\n    instanceTransform.multiplyRight(rotationMatrix);\n    // @ts-expect-error\n    instanceTransform.scale(instanceTranslationRotationScale.scale);\n\n    const modelMatrix = instanceTransform.clone();\n    instances[i] = {\n      modelMatrix,\n      batchId\n    };\n  }\n\n  tile.instances = instances;\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// Reference code:\n// https://github.com/AnalyticalGraphicsInc/cesium/blob/master/Source/Scene/Composite3DTileContent.js#L182\n\nimport {parse3DTileHeaderSync} from './helpers/parse-3d-tile-header';\n\n// eslint-disable-next-line max-params\nexport async function parseComposite3DTile(\n  tile,\n  arrayBuffer,\n  byteOffset,\n  options,\n  context,\n  parse3DTile\n) {\n  byteOffset = parse3DTileHeaderSync(tile, arrayBuffer, byteOffset);\n\n  const view = new DataView(arrayBuffer);\n\n  // Extract number of tiles\n  tile.tilesLength = view.getUint32(byteOffset, true);\n  byteOffset += 4;\n\n  // extract each tile from the byte stream\n  tile.tiles = [];\n  while (tile.tiles.length < tile.tilesLength && tile.byteLength - byteOffset > 12) {\n    const subtile = {};\n    tile.tiles.push(subtile);\n    byteOffset = await parse3DTile(arrayBuffer, byteOffset, options, context, subtile);\n    // TODO - do we need to add any padding in between tiles?\n  }\n\n  return byteOffset;\n}\n","import {GLTFLoader} from '@loaders.gl/gltf';\n\nexport async function parseGltf3DTile(tile, arrayBuffer, options, context) {\n  // Set flags\n  // glTF models need to be rotated from Y to Z up\n  // https://github.com/AnalyticalGraphicsInc/3d-tiles/tree/master/specification#y-up-to-z-up\n  tile.rotateYtoZ = true;\n  // Save gltf up axis\n  tile.gltfUpAxis =\n    options['3d-tiles'] && options['3d-tiles'].assetGltfUpAxis\n      ? options['3d-tiles'].assetGltfUpAxis\n      : 'Y';\n\n  const {parse} = context;\n  tile.gltf = await parse(arrayBuffer, GLTFLoader, options, context);\n}\n","// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {TILE3D_TYPE} from '../constants';\nimport {getMagicString} from './helpers/parse-utils';\n\nimport {parsePointCloud3DTile} from './parse-3d-tile-point-cloud';\nimport {parseBatchedModel3DTile} from './parse-3d-tile-batched-model';\nimport {parseInstancedModel3DTile} from './parse-3d-tile-instanced-model';\nimport {parseComposite3DTile} from './parse-3d-tile-composite';\nimport {parseGltf3DTile} from './parse-3d-tile-gltf';\n\n// Extracts\nexport async function parse3DTile(arrayBuffer, byteOffset = 0, options, context, tile = {}) {\n  // @ts-expect-error\n  tile.byteOffset = byteOffset;\n  // @ts-expect-error\n  tile.type = getMagicString(arrayBuffer, byteOffset);\n\n  // @ts-expect-error\n  switch (tile.type) {\n    case TILE3D_TYPE.COMPOSITE:\n      // Note: We pass this function as argument so that embedded tiles can be parsed recursively\n      return await parseComposite3DTile(\n        tile,\n        arrayBuffer,\n        byteOffset,\n        options,\n        context,\n        parse3DTile\n      );\n\n    case TILE3D_TYPE.BATCHED_3D_MODEL:\n      return await parseBatchedModel3DTile(tile, arrayBuffer, byteOffset, options, context);\n\n    case TILE3D_TYPE.GLTF:\n      return await parseGltf3DTile(tile, arrayBuffer, options, context);\n\n    case TILE3D_TYPE.INSTANCED_3D_MODEL:\n      return await parseInstancedModel3DTile(tile, arrayBuffer, byteOffset, options, context);\n\n    case TILE3D_TYPE.POINT_CLOUD:\n      return await parsePointCloud3DTile(tile, arrayBuffer, byteOffset, options, context);\n\n    default:\n      // @ts-expect-error\n      throw new Error(`3DTileLoader: unknown type ${tile.type}`); // eslint-disable-line\n  }\n}\n","import type {Subtree, ExplicitBitstream} from '../../../types';\nimport {fetchFile} from '@loaders.gl/core';\n\nconst SUBTREE_FILE_MAGIC = 0x74627573;\nconst SUBTREE_FILE_VERSION = 1;\n\n/**\n * Parse subtree file\n * Spec - https://github.com/CesiumGS/3d-tiles/tree/main/extensions/3DTILES_implicit_tiling#subtree-file-format\n * @param data\n * @returns\n */\n// eslint-disable-next-line max-statements\nexport default async function parse3DTilesSubtree(data: ArrayBuffer): Promise<Subtree> {\n  const magic = new Uint32Array(data.slice(0, 4));\n\n  if (magic[0] !== SUBTREE_FILE_MAGIC) {\n    throw new Error('Wrong subtree file magic number');\n  }\n\n  const version = new Uint32Array(data.slice(4, 8));\n\n  if (version[0] !== SUBTREE_FILE_VERSION) {\n    throw new Error('Wrong subtree file verson, must be 1');\n  }\n\n  const jsonByteLength = parseUint64Value(data.slice(8, 16));\n  const stringAttribute = new Uint8Array(data, 24, jsonByteLength);\n\n  const textDecoder = new TextDecoder('utf8');\n  const string = textDecoder.decode(stringAttribute);\n  const subtree = JSON.parse(string);\n\n  const binaryByteLength = parseUint64Value(data.slice(16, 24));\n  let internalBinaryBuffer = new ArrayBuffer(0);\n\n  if (binaryByteLength) {\n    internalBinaryBuffer = data.slice(24 + jsonByteLength);\n  }\n\n  if ('bufferView' in subtree.tileAvailability) {\n    subtree.tileAvailability.explicitBitstream = await getExplicitBitstream(\n      subtree,\n      'tileAvailability',\n      internalBinaryBuffer\n    );\n  }\n\n  if ('bufferView' in subtree.contentAvailability) {\n    subtree.contentAvailability.explicitBitstream = await getExplicitBitstream(\n      subtree,\n      'contentAvailability',\n      internalBinaryBuffer\n    );\n  }\n\n  if ('bufferView' in subtree.childSubtreeAvailability) {\n    subtree.childSubtreeAvailability.explicitBitstream = await getExplicitBitstream(\n      subtree,\n      'childSubtreeAvailability',\n      internalBinaryBuffer\n    );\n  }\n\n  return subtree;\n}\n\n/**\n * Get explicit bitstream for subtree availability data.\n * @param subtree\n * @param name\n * @param internalBinaryBuffer\n */\nasync function getExplicitBitstream(\n  subtree: Subtree,\n  name: string,\n  internalBinaryBuffer: ArrayBuffer\n): Promise<ExplicitBitstream> {\n  const bufferViewIndex = subtree[name].bufferView;\n  const bufferView = subtree.bufferViews[bufferViewIndex];\n  const buffer = subtree.buffers[bufferView.buffer];\n\n  // External bitstream loading\n  if (buffer.uri) {\n    const response = await fetchFile(buffer.uri);\n    const data = await response.arrayBuffer();\n    // Return view of bitstream.\n    return new Uint8Array(data, bufferView.byteOffset, bufferView.byteLength);\n  }\n  // Return view of bitstream.\n  return new Uint8Array(internalBinaryBuffer, bufferView.byteOffset, bufferView.byteLength);\n}\n\n/**\n * Parse buffer to return uint64 value\n * @param buffer\n * @returns 64-bit value until precision is lost after Number.MAX_SAFE_INTEGER\n */\nfunction parseUint64Value(buffer: ArrayBuffer): number {\n  const dataView = new DataView(buffer);\n  const left = dataView.getUint32(0, true);\n  const right = dataView.getUint32(4, true);\n  // combine the two 32-bit values\n  return left + 2 ** 32 * right;\n}\n","import type {LoaderWithParser} from '@loaders.gl/loader-utils';\nimport parse3DTilesSubtree from './lib/parsers/helpers/parse-3d-tile-subtree';\nimport {VERSION} from './lib/utils/version';\n\n/**\n * Loader for 3D Tiles Subtree\n *\n */\nexport const Tile3DSubtreeLoader: LoaderWithParser = {\n  id: '3d-tiles-subtree',\n  name: '3D Tiles Subtree',\n  module: '3d-tiles',\n  version: VERSION,\n  extensions: ['subtree'],\n  mimeTypes: ['application/octet-stream'],\n  tests: ['subtree'],\n  parse: parse3DTilesSubtree,\n  options: {}\n};\n","import type {Availability, BoundingVolume, Subtree} from '../../../types';\nimport {Tile3DSubtreeLoader} from '../../../tile-3d-subtree-loader';\nimport {load} from '@loaders.gl/core';\n\nconst QUADTREE_DEVISION_COUNT = 4;\nconst OCTREE_DEVISION_COUNT = 8;\n\nconst SUBDIVISION_COUNT_MAP = {\n  QUADTREE: QUADTREE_DEVISION_COUNT,\n  OCTREE: OCTREE_DEVISION_COUNT\n};\n\n/**\n * Recursively parse implicit tiles tree\n * Spec - https://github.com/CesiumGS/3d-tiles/tree/main/extensions/3DTILES_implicit_tiling\n * TODO Check out do we able to use Tile3D class as return type here.\n * @param subtree\n * @param lodMetricValue\n * @param options\n * @param parentData\n * @param childIndex\n * @param level\n * @param globalData\n */\n// eslint-disable-next-line max-statements\nexport async function parseImplicitTiles(params: {\n  subtree: Subtree;\n  options: any;\n  parentData?: {mortonIndex: number; x: number; y: number; z: number};\n  childIndex?: number;\n  level?: number;\n  globalData?: {level: number; mortonIndex: number; x: number; y: number; z: number};\n}) {\n  const {\n    options,\n    parentData = {\n      mortonIndex: 0,\n      x: 0,\n      y: 0,\n      z: 0\n    },\n    childIndex = 0,\n    globalData = {\n      level: 0,\n      mortonIndex: 0,\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  } = params;\n  let {subtree, level = 0} = params;\n  const {\n    subdivisionScheme,\n    subtreeLevels,\n    maximumLevel,\n    contentUrlTemplate,\n    subtreesUriTemplate,\n    basePath\n  } = options;\n\n  const tile = {children: [], lodMetricValue: 0, contentUrl: ''};\n\n  const childrenPerTile = SUBDIVISION_COUNT_MAP[subdivisionScheme];\n\n  const childX = childIndex & 0b01;\n  const childY = (childIndex >> 1) & 0b01;\n  const childZ = (childIndex >> 2) & 0b01;\n\n  const levelOffset = (childrenPerTile ** level - 1) / (childrenPerTile - 1);\n  let childTileMortonIndex = concatBits(parentData.mortonIndex, childIndex);\n  let tileAvailabilityIndex = levelOffset + childTileMortonIndex;\n\n  // Local tile coordinates\n  let childTileX = concatBits(parentData.x, childX);\n  let childTileY = concatBits(parentData.y, childY);\n  let childTileZ = concatBits(parentData.z, childZ);\n\n  // TODO Remove after real implicit tileset will be tested.\n  // Degug data\n  // tile.level = level + globalData.level;\n  // tile.x = concatBits(globalData.x, childTileX);\n  // tile.y = concatBits(globalData.y, childTileY);\n  // tile.z = concatBits(globalData.z, childTileZ);\n  // tile.mortonIndex = childTileMortonIndex;\n  // End of debug data\n\n  let isChildSubtreeAvailable = false;\n\n  if (level + 1 > subtreeLevels) {\n    isChildSubtreeAvailable = getAvailabilityResult(\n      subtree.childSubtreeAvailability,\n      childTileMortonIndex\n    );\n  }\n\n  const x = concatBits(globalData.x, childTileX);\n  const y = concatBits(globalData.y, childTileY);\n  const z = concatBits(globalData.z, childTileZ);\n  const lev = level + globalData.level;\n\n  if (isChildSubtreeAvailable) {\n    const subtreePath = `${basePath}/${subtreesUriTemplate}`;\n    const childSubtreeUrl = replaceContentUrlTemplate(subtreePath, lev, x, y, z);\n    const childSubtree = await load(childSubtreeUrl, Tile3DSubtreeLoader);\n\n    subtree = childSubtree;\n\n    globalData.mortonIndex = childTileMortonIndex;\n    globalData.x = childTileX;\n    globalData.y = childTileY;\n    globalData.z = childTileZ;\n    globalData.level = level;\n\n    childTileMortonIndex = 0;\n    tileAvailabilityIndex = 0;\n    childTileX = 0;\n    childTileY = 0;\n    childTileZ = 0;\n    level = 0;\n  }\n\n  const isTileAvailable = getAvailabilityResult(subtree.tileAvailability, tileAvailabilityIndex);\n\n  if (!isTileAvailable || level > maximumLevel) {\n    return tile;\n  }\n\n  const isContentAvailable = getAvailabilityResult(\n    subtree.contentAvailability,\n    tileAvailabilityIndex\n  );\n\n  if (isContentAvailable) {\n    tile.contentUrl = replaceContentUrlTemplate(contentUrlTemplate, lev, x, y, z);\n  }\n\n  const childTileLevel = level + 1;\n  const pData = {mortonIndex: childTileMortonIndex, x: childTileX, y: childTileY, z: childTileZ};\n\n  for (let index = 0; index < childrenPerTile; index++) {\n    const currentTile = await parseImplicitTiles({\n      subtree,\n      options,\n      parentData: pData,\n      childIndex: index,\n      level: childTileLevel,\n      globalData\n    });\n\n    if (currentTile.contentUrl || currentTile.children.length) {\n      const globalLevel = lev + 1;\n      const childCoordinates = {childTileX, childTileY, childTileZ};\n      const formattedTile = formatTileData(currentTile, globalLevel, childCoordinates, options);\n      // @ts-ignore\n      tile.children.push(formattedTile);\n    }\n  }\n\n  return tile;\n}\n\nfunction getAvailabilityResult(availabilityData: Availability, index: number): boolean {\n  if ('constant' in availabilityData) {\n    return Boolean(availabilityData.constant);\n  }\n\n  if (availabilityData.explicitBitstream) {\n    return getBooleanValueFromBitstream(index, availabilityData.explicitBitstream);\n  }\n\n  return false;\n}\n\n/**\n * Do formatting of implicit tile data.\n * TODO Check out do we able to use Tile3D class as type here.\n * @param tile\n * @param lodMetricValue\n * @param options\n * @returns\n */\nfunction formatTileData(\n  tile,\n  level: number,\n  childCoordinates: {childTileX: number; childTileY: number; childTileZ: number},\n  options: any\n) {\n  const {\n    basePath,\n    refine,\n    getRefine,\n    lodMetricType,\n    getTileType,\n    rootLodMetricValue,\n    rootBoundingVolume\n  } = options;\n  const uri = tile.contentUrl && tile.contentUrl.replace(`${basePath}/`, '');\n  const lodMetricValue = rootLodMetricValue / 2 ** level;\n  const boundingVolume = calculateBoundingVolumeForChildTile(\n    level,\n    rootBoundingVolume,\n    childCoordinates\n  );\n\n  return {\n    children: tile.children,\n    contentUrl: tile.contentUrl,\n    content: {uri},\n    id: tile.contentUrl,\n    refine: getRefine(refine),\n    type: getTileType(tile),\n    lodMetricType,\n    lodMetricValue,\n    boundingVolume\n    // Temp debug values. Remove when real implicit tileset will be tested.\n    // x: tile.x,\n    // y: tile.y,\n    // z: tile.z,\n    // level: tile.level\n  };\n}\n\n/**\n * Calculate child bounding volume.\n * Spec - https://github.com/CesiumGS/3d-tiles/tree/main/extensions/3DTILES_implicit_tiling#subdivision-rules\n * @param level\n * @param rootBoundingVolume\n * @param childCoordinates\n */\nfunction calculateBoundingVolumeForChildTile(\n  level: number,\n  rootBoundingVolume: BoundingVolume,\n  childCoordinates: {childTileX: number; childTileY: number; childTileZ: number}\n): BoundingVolume | null {\n  if (rootBoundingVolume.region) {\n    const {childTileX, childTileY, childTileZ} = childCoordinates;\n    const [west, south, east, north, minimumHeight, maximumHeight] = rootBoundingVolume.region;\n    const boundingVolumesCount = 2 ** level;\n\n    const sizeX = (east - west) / boundingVolumesCount;\n    const sizeY = (north - south) / boundingVolumesCount;\n    const sizeZ = (maximumHeight - minimumHeight) / boundingVolumesCount;\n\n    const [childWest, childEast] = [west + sizeX * childTileX, west + sizeX * (childTileX + 1)];\n    const [childSouth, childNorth] = [south + sizeY * childTileY, south + sizeY * (childTileY + 1)];\n    const [childMinimumHeight, childMaximumHeight] = [\n      minimumHeight + sizeZ * childTileZ,\n      minimumHeight + sizeZ * (childTileZ + 1)\n    ];\n\n    return {\n      region: [childWest, childSouth, childEast, childNorth, childMinimumHeight, childMaximumHeight]\n    };\n  }\n\n  // eslint-disable-next-line no-console\n  console.warn('Unsupported bounding volume type: ', rootBoundingVolume);\n  return null;\n}\n\n/**\n * Do binary concatenation\n * @param first\n * @param second\n */\nfunction concatBits(first: number, second: number): number {\n  return parseInt(first.toString(2) + second.toString(2), 2);\n}\n\n/**\n * Replace implicit tile content url with real coordinates.\n * @param templateUrl\n * @param level\n * @param x\n * @param y\n * @param z\n */\nexport function replaceContentUrlTemplate(\n  templateUrl: string,\n  level: number,\n  x: number,\n  y: number,\n  z: number\n): string {\n  const mapUrl = generateMapUrl({level, x, y, z});\n  return templateUrl.replace(/{level}|{x}|{y}|{z}/gi, (matched) => mapUrl[matched]);\n}\n\n/**\n * Get Map object for content url generation\n * @param items\n */\nfunction generateMapUrl(items: {[key: string]: number}): {[key: string]: string} {\n  const mapUrl = {};\n\n  for (const key in items) {\n    mapUrl[`{${key}}`] = items[key];\n  }\n  return mapUrl;\n}\n\n/**\n * Get boolean value from bistream by index\n * A boolean value is encoded as a single bit, either 0 (false) or 1 (true).\n * Multiple boolean values are packed tightly in the same buffer.\n * These buffers of tightly-packed bits are sometimes referred to as bitstreams.\n * Spec - https://github.com/CesiumGS/3d-tiles/tree/implicit-revisions/specification/Metadata#booleans\n * @param availabilitiIndex\n */\nfunction getBooleanValueFromBitstream(\n  availabilityIndex: number,\n  availabilityBuffer: Uint8Array\n): boolean {\n  const byteIndex = Math.floor(availabilityIndex / 8);\n  const bitIndex = availabilityIndex % 8;\n  const bitValue = (availabilityBuffer[byteIndex] >> bitIndex) & 1;\n\n  return bitValue === 1;\n}\n","import {Tile3DSubtreeLoader} from '../../tile-3d-subtree-loader';\nimport {load} from '@loaders.gl/core';\nimport {Tileset3D, LOD_METRIC_TYPE, TILE_REFINEMENT, TILE_TYPE} from '@loaders.gl/tiles';\nimport {Subtree} from '../../types';\nimport {parseImplicitTiles, replaceContentUrlTemplate} from './helpers/parse-3d-implicit-tiles';\n\nfunction getTileType(tile) {\n  if (!tile.contentUrl) {\n    return TILE_TYPE.EMPTY;\n  }\n\n  const contentUrl = tile.contentUrl;\n  const fileExtension = contentUrl.split('.').pop();\n  switch (fileExtension) {\n    case 'pnts':\n      return TILE_TYPE.POINTCLOUD;\n    case 'i3dm':\n    case 'b3dm':\n    case 'glb':\n    case 'gltf':\n      return TILE_TYPE.SCENEGRAPH;\n    default:\n      return fileExtension;\n  }\n}\n\nfunction getRefine(refine) {\n  switch (refine) {\n    case 'REPLACE':\n    case 'replace':\n      return TILE_REFINEMENT.REPLACE;\n    case 'ADD':\n    case 'add':\n      return TILE_REFINEMENT.ADD;\n    default:\n      return refine;\n  }\n}\n\nfunction resolveUri(uri, basePath) {\n  // url scheme per RFC3986\n  const urlSchemeRegex = /^[a-z][0-9a-z+.-]*:/i;\n\n  if (urlSchemeRegex.test(basePath)) {\n    const url = new URL(uri, `${basePath}/`);\n    return decodeURI(url.toString());\n  } else if (uri.startsWith('/')) {\n    return uri;\n  }\n\n  return `${basePath}/${uri}`;\n}\n\nexport function normalizeTileData(tile, options) {\n  if (!tile) {\n    return null;\n  }\n  if (tile.content) {\n    const contentUri = tile.content.uri || tile.content.url;\n    tile.contentUrl = resolveUri(contentUri, options.basePath);\n  }\n  tile.id = tile.contentUrl;\n  tile.lodMetricType = LOD_METRIC_TYPE.GEOMETRIC_ERROR;\n  tile.lodMetricValue = tile.geometricError;\n  tile.transformMatrix = tile.transform;\n  tile.type = getTileType(tile);\n  tile.refine = getRefine(tile.refine);\n\n  return tile;\n}\n\n// normalize tile headers\nexport function normalizeTileHeaders(tileset) {\n  const basePath = tileset.basePath;\n  const root = normalizeTileData(tileset.root, tileset);\n\n  const stack: any[] = [];\n  stack.push(root);\n\n  while (stack.length > 0) {\n    const tile = stack.pop() || {};\n    const children = tile.children || [];\n    for (const childHeader of children) {\n      normalizeTileData(childHeader, {basePath});\n      stack.push(childHeader);\n    }\n  }\n\n  return root;\n}\n\n/**\n * Do normalisation of implicit tile headers\n * TODO Check if Tile3D class can be a return type here.\n * @param tileset\n */\nexport async function normalizeImplicitTileHeaders(tileset: Tileset3D) {\n  if (!tileset.root) {\n    return null;\n  }\n\n  const basePath = tileset.basePath;\n  const implicitTilingExtension = tileset.root.extensions['3DTILES_implicit_tiling'];\n  const {\n    subdivisionScheme,\n    maximumLevel,\n    subtreeLevels,\n    subtrees: {uri: subtreesUriTemplate}\n  } = implicitTilingExtension;\n  const subtreeUrl = replaceContentUrlTemplate(subtreesUriTemplate, 0, 0, 0, 0);\n  const rootSubtreeUrl = resolveUri(subtreeUrl, basePath);\n  const rootSubtree = await load(rootSubtreeUrl, Tile3DSubtreeLoader);\n  const contentUrlTemplate = resolveUri(tileset.root.content.uri, basePath);\n  const refine = tileset.root.refine;\n  // @ts-ignore\n  const rootLodMetricValue = tileset.root.geometricError;\n  const rootBoundingVolume = tileset.root.boundingVolume;\n\n  const options = {\n    contentUrlTemplate,\n    subtreesUriTemplate,\n    subdivisionScheme,\n    subtreeLevels,\n    maximumLevel,\n    refine,\n    basePath,\n    lodMetricType: LOD_METRIC_TYPE.GEOMETRIC_ERROR,\n    rootLodMetricValue,\n    rootBoundingVolume,\n    getTileType,\n    getRefine\n  };\n\n  return await normalizeImplicitTileData(tileset.root, rootSubtree, options);\n}\n\n/**\n * Do implicit data normalisation to create hierarchical tile structure\n * @param tile\n * @param rootSubtree\n * @param options\n * @returns\n */\nexport async function normalizeImplicitTileData(tile, rootSubtree: Subtree, options: any) {\n  if (!tile) {\n    return null;\n  }\n\n  tile.lodMetricType = LOD_METRIC_TYPE.GEOMETRIC_ERROR;\n  tile.lodMetricValue = tile.geometricError;\n  tile.transformMatrix = tile.transform;\n\n  const {children, contentUrl} = await parseImplicitTiles({subtree: rootSubtree, options});\n\n  if (contentUrl) {\n    tile.contentUrl = contentUrl;\n    tile.content = {uri: contentUrl.replace(`${options.basePath}/`, '')};\n  }\n\n  tile.refine = getRefine(tile.refine);\n  tile.type = getTileType(tile);\n  tile.children = children;\n  tile.id = tile.contentUrl;\n\n  return tile;\n}\n","import type {LoaderWithParser} from '@loaders.gl/loader-utils';\nimport {path} from '@loaders.gl/loader-utils';\nimport {TILESET_TYPE, LOD_METRIC_TYPE} from '@loaders.gl/tiles';\nimport {VERSION} from './lib/utils/version';\nimport {parse3DTile} from './lib/parsers/parse-3d-tile';\nimport {\n  normalizeTileHeaders,\n  normalizeImplicitTileHeaders\n} from './lib/parsers/parse-3d-tile-header';\n\nconst IMPLICIT_TILING_EXTENSION_NAME = '3DTILES_implicit_tiling';\n\n/**\n * Loader for 3D Tiles\n */\nexport const Tiles3DLoader: LoaderWithParser = {\n  id: '3d-tiles',\n  name: '3D Tiles',\n  module: '3d-tiles',\n  version: VERSION,\n  extensions: ['cmpt', 'pnts', 'b3dm', 'i3dm'],\n  mimeTypes: ['application/octet-stream'],\n  tests: ['cmpt', 'pnts', 'b3dm', 'i3dm'],\n  parse,\n  options: {\n    '3d-tiles': {\n      loadGLTF: true,\n      decodeQuantizedPositions: false,\n      isTileset: 'auto',\n      assetGltfUpAxis: null\n    }\n  }\n};\n\nfunction getBaseUri(tileset) {\n  return path.dirname(tileset.url);\n}\n\nasync function parseTile(arrayBuffer, options, context) {\n  const tile = {\n    content: {\n      featureIds: null\n    }\n  };\n  const byteOffset = 0;\n  await parse3DTile(arrayBuffer, byteOffset, options, context, tile.content);\n  return tile.content;\n}\n\nasync function parseTileset(data, options, context) {\n  const tilesetJson = JSON.parse(new TextDecoder().decode(data));\n  // eslint-disable-next-line no-use-before-define\n  tilesetJson.loader = options.loader || Tiles3DLoader;\n  tilesetJson.url = context.url;\n  // base path that non-absolute paths in tileset are relative to.\n  tilesetJson.basePath = getBaseUri(tilesetJson);\n  tilesetJson.root = hasImplicitTilingExtension(tilesetJson)\n    ? await normalizeImplicitTileHeaders(tilesetJson)\n    : normalizeTileHeaders(tilesetJson);\n\n  tilesetJson.type = TILESET_TYPE.TILES3D;\n\n  tilesetJson.lodMetricType = LOD_METRIC_TYPE.GEOMETRIC_ERROR;\n  tilesetJson.lodMetricValue = tilesetJson.root?.lodMetricValue || 0;\n\n  return tilesetJson;\n}\n\nasync function parse(data, options, context) {\n  // auto detect file type\n  const loaderOptions = options['3d-tiles'] || {};\n  let isTileset;\n  if (loaderOptions.isTileset === 'auto') {\n    isTileset = context.url && context.url.indexOf('.json') !== -1;\n  } else {\n    isTileset = loaderOptions.isTileset;\n  }\n\n  if (isTileset) {\n    data = await parseTileset(data, options, context);\n  } else {\n    data = await parseTile(data, options, context);\n  }\n\n  return data;\n}\n\nfunction hasImplicitTilingExtension(tilesetJson) {\n  return (\n    tilesetJson?.extensionsRequired?.includes(IMPLICIT_TILING_EXTENSION_NAME) &&\n    tilesetJson?.extensionsUsed?.includes(IMPLICIT_TILING_EXTENSION_NAME)\n  );\n}\n","import GL from '@luma.gl/constants';\nimport {Geometry} from '@luma.gl/core';\n\nimport {\n  Accessor,\n  Color,\n  CompositeLayer,\n  CompositeLayerProps,\n  COORDINATE_SYSTEM,\n  FilterContext,\n  GetPickingInfoParams,\n  Layer,\n  LayersList,\n  log,\n  PickingInfo,\n  UpdateParameters,\n  Viewport,\n  DefaultProps\n} from '@deck.gl/core';\nimport {PointCloudLayer} from '@deck.gl/layers';\nimport {ScenegraphLayer} from '@deck.gl/mesh-layers';\nimport {default as MeshLayer} from '../mesh-layer/mesh-layer';\n\nimport {load} from '@loaders.gl/core';\nimport {MeshAttributes} from '@loaders.gl/schema';\nimport {Tileset3D, Tile3D, TILE_TYPE} from '@loaders.gl/tiles';\nimport {Tiles3DLoader} from '@loaders.gl/3d-tiles';\n\nconst SINGLE_DATA = [0];\n\nconst defaultProps: DefaultProps<Tile3DLayerProps> = {\n  getPointColor: {type: 'accessor', value: [0, 0, 0, 255]},\n  pointSize: 1.0,\n\n  // @ts-expect-error Disable async data loading (handling it in _loadTileSet)\n  data: null,\n  loader: Tiles3DLoader,\n\n  onTilesetLoad: {type: 'function', value: tileset3d => {}, compare: false},\n  onTileLoad: {type: 'function', value: tileHeader => {}, compare: false},\n  onTileUnload: {type: 'function', value: tileHeader => {}, compare: false},\n  onTileError: {type: 'function', value: (tile, message, url) => {}, compare: false},\n  _getMeshColor: {type: 'function', value: tileHeader => [255, 255, 255], compare: false}\n};\n\n/** All properties supported by Tile3DLayer */\nexport type Tile3DLayerProps<DataT = any> = _Tile3DLayerProps<DataT> & CompositeLayerProps<DataT>;\n\n/** Props added by the Tile3DLayer */\ntype _Tile3DLayerProps<DataT> = {\n  /** Color Accessor for point clouds. **/\n  getPointColor?: Accessor<DataT, Color>;\n\n  /** Global radius of all points in pixels. **/\n  pointSize?: number;\n\n  /** A loader which is used to decode the fetched tiles.\n   * @deprecated Use `loaders` instead\n   */\n  loader?: typeof Tiles3DLoader;\n\n  /** Called when Tileset JSON file is loaded. **/\n  onTilesetLoad?: (tile: Tileset3D) => void;\n\n  /** Called when a tile in the tileset hierarchy is loaded. **/\n  onTileLoad?: (tile: Tile3D) => void;\n\n  /** Called when a tile is unloaded. **/\n  onTileUnload?: (tile: Tile3D) => void;\n\n  /** Called when a tile fails to load. **/\n  onTileError?: (tile: Tile3D, url: string, message: string) => void;\n\n  /** (Experimental) Accessor to change color of mesh based on properties. **/\n  _getMeshColor?: (tile: Tile3D) => Color;\n};\n\n/** Render 3d tiles data formatted according to the [3D Tiles Specification](https://www.opengeospatial.org/standards/3DTiles) and [`ESRI I3S`](https://github.com/Esri/i3s-spec) */\nexport default class Tile3DLayer<DataT = any, ExtraPropsT = {}> extends CompositeLayer<\n  ExtraPropsT & Required<_Tile3DLayerProps<DataT>>\n> {\n  static defaultProps = defaultProps as any;\n  static layerName = 'Tile3DLayer';\n\n  state!: {\n    activeViewports: {};\n    frameNumber?: number;\n    lastUpdatedViewports: {[viewportId: string]: Viewport} | null;\n    layerMap: {[layerId: string]: any};\n    tileset3d: Tileset3D | null;\n  };\n\n  initializeState() {\n    if ('onTileLoadFail' in this.props) {\n      log.removed('onTileLoadFail', 'onTileError')();\n    }\n    // prop verification\n    this.state = {\n      layerMap: {},\n      tileset3d: null,\n      activeViewports: {},\n      lastUpdatedViewports: null\n    };\n  }\n\n  get isLoaded(): boolean {\n    const {tileset3d} = this.state;\n    return tileset3d !== null && tileset3d.isLoaded();\n  }\n\n  shouldUpdateState({changeFlags}: UpdateParameters<this>): boolean {\n    return changeFlags.somethingChanged;\n  }\n\n  updateState({props, oldProps, changeFlags}: UpdateParameters<this>): void {\n    if (props.data && props.data !== oldProps.data) {\n      this._loadTileset(props.data);\n    }\n\n    if (changeFlags.viewportChanged) {\n      const {activeViewports} = this.state;\n      const viewportsNumber = Object.keys(activeViewports).length;\n      if (viewportsNumber) {\n        this._updateTileset(activeViewports);\n        this.state.lastUpdatedViewports = activeViewports;\n        this.state.activeViewports = {};\n      }\n    }\n    if (changeFlags.propsChanged) {\n      const {layerMap} = this.state;\n      for (const key in layerMap) {\n        layerMap[key].needsUpdate = true;\n      }\n    }\n  }\n\n  activateViewport(viewport: Viewport): void {\n    const {activeViewports, lastUpdatedViewports} = this.state;\n    this.internalState!.viewport = viewport;\n\n    activeViewports[viewport.id] = viewport;\n    const lastViewport = lastUpdatedViewports?.[viewport.id];\n    if (!lastViewport || !viewport.equals(lastViewport)) {\n      this.setChangeFlags({viewportChanged: true});\n      this.setNeedsUpdate();\n    }\n  }\n\n  getPickingInfo({info, sourceLayer}: GetPickingInfoParams) {\n    const {layerMap} = this.state;\n    const layerId = sourceLayer && sourceLayer.id;\n    if (layerId) {\n      // layerId: this.id-[scenegraph|pointcloud]-tileId\n      const substr = layerId.substring(this.id.length + 1);\n      const tileId = substr.substring(substr.indexOf('-') + 1);\n      info.object = layerMap[tileId] && layerMap[tileId].tile;\n    }\n\n    return info;\n  }\n\n  filterSubLayer({layer, viewport}: FilterContext): boolean {\n    // All sublayers will have a tile prop\n    const {tile} = layer.props as unknown as {tile: Tile3D};\n    const {id: viewportId} = viewport;\n    return tile.selected && tile.viewportIds.includes(viewportId);\n  }\n\n  protected _updateAutoHighlight(info: PickingInfo): void {\n    if (info.sourceLayer) {\n      info.sourceLayer.updateAutoHighlight(info);\n    }\n  }\n\n  private async _loadTileset(tilesetUrl) {\n    const {loadOptions = {}} = this.props;\n\n    // TODO: deprecate `loader` in v9.0\n    // @ts-ignore\n    let loader = this.props.loader || this.props.loaders;\n    if (Array.isArray(loader)) {\n      loader = loader[0];\n    }\n\n    const options = {loadOptions: {...loadOptions}};\n    if (loader.preload) {\n      const preloadOptions = await loader.preload(tilesetUrl, loadOptions);\n\n      if (preloadOptions.headers) {\n        options.loadOptions.fetch = {\n          ...options.loadOptions.fetch,\n          headers: preloadOptions.headers\n        };\n      }\n      Object.assign(options, preloadOptions);\n    }\n    const tilesetJson = await load(tilesetUrl, loader, options.loadOptions);\n\n    const tileset3d = new Tileset3D(tilesetJson, {\n      onTileLoad: this._onTileLoad.bind(this),\n      onTileUnload: this._onTileUnload.bind(this),\n      onTileError: this.props.onTileError,\n      ...options\n    });\n\n    this.setState({\n      tileset3d,\n      layerMap: {}\n    });\n\n    this._updateTileset(this.state.activeViewports);\n    this.props.onTilesetLoad(tileset3d);\n  }\n\n  private _onTileLoad(tileHeader: Tile3D): void {\n    const {lastUpdatedViewports} = this.state;\n    this.props.onTileLoad(tileHeader);\n    this._updateTileset(lastUpdatedViewports);\n    this.setNeedsUpdate();\n  }\n\n  private _onTileUnload(tileHeader: Tile3D): void {\n    // Was cleaned up from tileset cache. We no longer need to track it.\n    delete this.state.layerMap[tileHeader.id];\n    this.props.onTileUnload(tileHeader);\n  }\n\n  private _updateTileset(viewports: {[viewportId: string]: Viewport} | null): void {\n    if (!viewports) {\n      return;\n    }\n    const {tileset3d} = this.state;\n    const {timeline} = this.context;\n    const viewportsNumber = Object.keys(viewports).length;\n    if (!timeline || !viewportsNumber || !tileset3d) {\n      return;\n    }\n    tileset3d.selectTiles(Object.values(viewports)).then(frameNumber => {\n      const tilesetChanged = this.state.frameNumber !== frameNumber;\n      if (tilesetChanged) {\n        this.setState({frameNumber});\n      }\n    });\n  }\n\n  private _getSubLayer(\n    tileHeader: Tile3D,\n    oldLayer?: Layer\n  ): MeshLayer<DataT> | PointCloudLayer<DataT> | ScenegraphLayer<DataT> | null {\n    if (!tileHeader.content) {\n      return null;\n    }\n\n    switch (tileHeader.type) {\n      case TILE_TYPE.POINTCLOUD:\n        return this._makePointCloudLayer(tileHeader, oldLayer as PointCloudLayer<DataT>);\n      case TILE_TYPE.SCENEGRAPH:\n        return this._make3DModelLayer(tileHeader);\n      case TILE_TYPE.MESH:\n        return this._makeSimpleMeshLayer(tileHeader, oldLayer as MeshLayer<DataT>);\n      default:\n        throw new Error(`Tile3DLayer: Failed to render layer of type ${tileHeader.content.type}`);\n    }\n  }\n\n  private _makePointCloudLayer(\n    tileHeader: Tile3D,\n    oldLayer?: PointCloudLayer<DataT>\n  ): PointCloudLayer<DataT> | null {\n    const {attributes, pointCount, constantRGBA, cartographicOrigin, modelMatrix} =\n      tileHeader.content;\n    const {positions, normals, colors} = attributes;\n\n    if (!positions) {\n      return null;\n    }\n    const data = (oldLayer && oldLayer.props.data) || {\n      header: {\n        vertexCount: pointCount\n      },\n      attributes: {\n        POSITION: positions,\n        NORMAL: normals,\n        COLOR_0: colors\n      }\n    };\n\n    const {pointSize, getPointColor} = this.props;\n    const SubLayerClass = this.getSubLayerClass('pointcloud', PointCloudLayer);\n    return new SubLayerClass(\n      {\n        pointSize\n      },\n      this.getSubLayerProps({\n        id: 'pointcloud'\n      }),\n      {\n        id: `${this.id}-pointcloud-${tileHeader.id}`,\n        tile: tileHeader,\n        data,\n        coordinateSystem: COORDINATE_SYSTEM.METER_OFFSETS,\n        coordinateOrigin: cartographicOrigin,\n        modelMatrix,\n        getColor: constantRGBA || getPointColor,\n        _offset: 0\n      }\n    );\n  }\n\n  private _make3DModelLayer(tileHeader: Tile3D): ScenegraphLayer<DataT> {\n    const {gltf, instances, cartographicOrigin, modelMatrix} = tileHeader.content;\n\n    const SubLayerClass = this.getSubLayerClass('scenegraph', ScenegraphLayer);\n\n    return new SubLayerClass(\n      {\n        _lighting: 'pbr'\n      },\n      this.getSubLayerProps({\n        id: 'scenegraph'\n      }),\n      {\n        id: `${this.id}-scenegraph-${tileHeader.id}`,\n        tile: tileHeader,\n        data: instances || SINGLE_DATA,\n        scenegraph: gltf,\n\n        coordinateSystem: COORDINATE_SYSTEM.METER_OFFSETS,\n        coordinateOrigin: cartographicOrigin,\n        modelMatrix,\n        getTransformMatrix: instance => instance.modelMatrix,\n        getPosition: [0, 0, 0],\n        _offset: 0\n      }\n    );\n  }\n\n  private _makeSimpleMeshLayer(tileHeader: Tile3D, oldLayer?: MeshLayer<DataT>): MeshLayer<DataT> {\n    const content = tileHeader.content;\n    const {\n      attributes,\n      indices,\n      modelMatrix,\n      cartographicOrigin,\n      coordinateSystem = COORDINATE_SYSTEM.METER_OFFSETS,\n      material,\n      featureIds\n    } = content;\n    const {_getMeshColor} = this.props;\n\n    const geometry =\n      (oldLayer && oldLayer.props.mesh) ||\n      new Geometry({\n        drawMode: GL.TRIANGLES,\n        attributes: getMeshGeometry(attributes),\n        indices\n      });\n\n    const SubLayerClass = this.getSubLayerClass('mesh', MeshLayer);\n\n    return new SubLayerClass(\n      this.getSubLayerProps({\n        id: 'mesh'\n      }),\n      {\n        id: `${this.id}-mesh-${tileHeader.id}`,\n        tile: tileHeader,\n        mesh: geometry,\n        data: SINGLE_DATA,\n        getColor: _getMeshColor(tileHeader),\n        pbrMaterial: material,\n        modelMatrix,\n        coordinateOrigin: cartographicOrigin,\n        coordinateSystem,\n        featureIds,\n        _offset: 0\n      }\n    );\n  }\n\n  renderLayers(): Layer | null | LayersList {\n    const {tileset3d, layerMap} = this.state;\n    if (!tileset3d) {\n      return null;\n    }\n\n    // loaders.gl doesn't provide a type for tileset3d.tiles\n    return (tileset3d.tiles as Tile3D[])\n      .map(tile => {\n        const layerCache = (layerMap[tile.id] = layerMap[tile.id] || {tile});\n        let {layer} = layerCache;\n        if (tile.selected) {\n          // render selected tiles\n          if (!layer) {\n            // create layer\n            layer = this._getSubLayer(tile);\n          } else if (layerCache.needsUpdate) {\n            // props have changed, rerender layer\n            layer = this._getSubLayer(tile, layer);\n            layerCache.needsUpdate = false;\n          }\n        }\n        layerCache.layer = layer;\n        return layer;\n      })\n      .filter(Boolean);\n  }\n}\n\nfunction getMeshGeometry(contentAttributes: MeshAttributes): MeshAttributes {\n  const attributes: MeshAttributes = {};\n  attributes.positions = {\n    ...contentAttributes.positions,\n    value: new Float32Array(contentAttributes.positions.value)\n  };\n  if (contentAttributes.normals) {\n    attributes.normals = contentAttributes.normals;\n  }\n  if (contentAttributes.texCoords) {\n    attributes.texCoords = contentAttributes.texCoords;\n  }\n  if (contentAttributes.colors) {\n    attributes.colors = contentAttributes.colors;\n  }\n  if (contentAttributes.uvRegions) {\n    attributes.uvRegions = contentAttributes.uvRegions;\n  }\n  return attributes;\n}\n","import type {Loader} from '@loaders.gl/loader-utils';\nimport {VERSION} from './lib/utils/version';\n\n/**\n * Worker loader for color-encoded images\n */\nexport const TerrainLoader = {\n  name: 'Terrain',\n  id: 'terrain',\n  module: 'terrain',\n  version: VERSION,\n  worker: true,\n  extensions: ['png', 'pngraw', 'jpg', 'jpeg', 'gif', 'webp', 'bmp'],\n  mimeTypes: ['image/png', 'image/jpeg', 'image/gif', 'image/webp', 'image/bmp'],\n  options: {\n    terrain: {\n      tesselator: 'auto',\n      bounds: null,\n      meshMaxError: 10,\n      elevationDecoder: {\n        rScaler: 1,\n        gScaler: 0,\n        bScaler: 0,\n        offset: 0\n      },\n      skirtHeight: null\n    }\n  }\n};\n\n/**\n * Loader for color-encoded images\n */\nexport const _typecheckTerrainWorkerLoader: Loader = TerrainLoader;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {\n  Color,\n  CompositeLayer,\n  CompositeLayerProps,\n  DefaultProps,\n  Layer,\n  LayersList,\n  log,\n  Material,\n  Texture,\n  UpdateParameters\n} from '@deck.gl/core';\nimport {SimpleMeshLayer} from '@deck.gl/mesh-layers';\nimport {COORDINATE_SYSTEM} from '@deck.gl/core';\nimport type {MeshAttributes} from '@loaders.gl/schema';\nimport {TerrainWorkerLoader} from '@loaders.gl/terrain';\nimport TileLayer, {TileLayerProps} from '../tile-layer/tile-layer';\nimport Tile2DHeader from '../tile-layer/tile-2d-header';\nimport {Bounds, GeoBoundingBox, TileBoundingBox, TileLoadProps, ZRange} from '../tile-layer/types';\nimport {urlType, getURLFromTemplate} from '../tile-layer/utils';\n\nconst DUMMY_DATA = [1];\n\nconst defaultProps: DefaultProps<TerrainLayerProps> = {\n  ...TileLayer.defaultProps,\n  // Image url that encodes height data\n  elevationData: urlType,\n  // Image url to use as texture\n  texture: {...urlType, optional: true},\n  // Martini error tolerance in meters, smaller number -> more detailed mesh\n  meshMaxError: {type: 'number', value: 4.0},\n  // Bounding box of the terrain image, [minX, minY, maxX, maxY] in world coordinates\n  bounds: {type: 'array', value: null, optional: true, compare: true},\n  // Color to use if texture is unavailable\n  color: {type: 'color', value: [255, 255, 255]},\n  // Object to decode height data, from (r, g, b) to height in meters\n  elevationDecoder: {\n    type: 'object',\n    value: {\n      rScaler: 1,\n      gScaler: 0,\n      bScaler: 0,\n      offset: 0\n    }\n  },\n  // Supply url to local terrain worker bundle. Only required if running offline and cannot access CDN.\n  workerUrl: {type: 'string', value: null},\n  // Same as SimpleMeshLayer wireframe\n  wireframe: false,\n  material: true,\n\n  loaders: [TerrainWorkerLoader]\n};\n\ntype URLTemplate = string | string[];\n\n// Turns array of templates into a single string to work around shallow change\nfunction urlTemplateToUpdateTrigger(template: URLTemplate | null): string {\n  if (Array.isArray(template)) {\n    return template.join(';');\n  }\n  return template || '';\n}\n\ntype ElevationDecoder = {rScaler: number; gScaler: number; bScaler: number; offset: number};\ntype TerrainLoadProps = {\n  bounds: Bounds;\n  elevationData: string | null;\n  elevationDecoder: ElevationDecoder;\n  meshMaxError: number;\n  signal?: AbortSignal;\n};\n\ntype MeshAndTexture = [MeshAttributes | null, Texture | null];\n\n/** All properties supported by TerrainLayer */\nexport type TerrainLayerProps = _TerrainLayerProps &\n  TileLayerProps<MeshAndTexture> &\n  CompositeLayerProps;\n\n/** Props added by the TerrainLayer */\ntype _TerrainLayerProps = {\n  /** Image url that encodes height data. **/\n  elevationData: URLTemplate;\n\n  /** Image url to use as texture. **/\n  texture?: URLTemplate | null;\n\n  /** Martini error tolerance in meters, smaller number -> more detailed mesh. **/\n  meshMaxError?: number;\n\n  /** Bounding box of the terrain image, [minX, minY, maxX, maxY] in world coordinates. **/\n  bounds?: Bounds | null;\n\n  /** Color to use if texture is unavailable. **/\n  color?: Color;\n\n  /** Object to decode height data, from (r, g, b) to height in meters. **/\n  elevationDecoder?: ElevationDecoder;\n\n  /** Whether to render the mesh in wireframe mode. **/\n  wireframe?: boolean;\n\n  /** Material props for lighting effect. **/\n  material?: Material;\n};\n\n/** Render mesh surfaces from height map images. */\nexport default class TerrainLayer<ExtraPropsT = {}> extends CompositeLayer<\n  ExtraPropsT & Required<_TerrainLayerProps & Required<TileLayerProps<MeshAndTexture>>>\n> {\n  static defaultProps = defaultProps;\n  static layerName = 'TerrainLayer';\n\n  state!: {\n    isTiled?: boolean;\n    terrain: MeshAttributes;\n    zRange?: ZRange | null;\n  };\n\n  updateState({props, oldProps}: UpdateParameters<this>): void {\n    const elevationDataChanged = props.elevationData !== oldProps.elevationData;\n    if (elevationDataChanged) {\n      const {elevationData} = props;\n      const isTiled =\n        elevationData &&\n        (Array.isArray(elevationData) ||\n          (elevationData.includes('{x}') && elevationData.includes('{y}')));\n      this.setState({isTiled});\n    }\n\n    // Reloading for single terrain mesh\n    const shouldReload =\n      elevationDataChanged ||\n      props.meshMaxError !== oldProps.meshMaxError ||\n      props.elevationDecoder !== oldProps.elevationDecoder ||\n      props.bounds !== oldProps.bounds;\n\n    if (!this.state.isTiled && shouldReload) {\n      // When state.isTiled, elevationData cannot be an array\n      const terrain = this.loadTerrain(props as TerrainLoadProps);\n      this.setState({terrain});\n    }\n\n    // TODO - remove in v9\n    // @ts-ignore\n    if (props.workerUrl) {\n      log.removed('workerUrl', 'loadOptions.terrain.workerUrl')();\n    }\n  }\n\n  loadTerrain({\n    elevationData,\n    bounds,\n    elevationDecoder,\n    meshMaxError,\n    signal\n  }: TerrainLoadProps): Promise<MeshAttributes> | null {\n    if (!elevationData) {\n      return null;\n    }\n    let loadOptions = this.getLoadOptions();\n    loadOptions = {\n      ...loadOptions,\n      terrain: {\n        skirtHeight: this.state.isTiled ? meshMaxError * 2 : 0,\n        ...loadOptions?.terrain,\n        bounds,\n        meshMaxError,\n        elevationDecoder\n      }\n    };\n    const {fetch} = this.props;\n    return fetch(elevationData, {propName: 'elevationData', layer: this, loadOptions, signal});\n  }\n\n  getTiledTerrainData(tile: TileLoadProps): Promise<MeshAndTexture> {\n    const {elevationData, fetch, texture, elevationDecoder, meshMaxError} = this.props;\n    const {viewport} = this.context;\n    const dataUrl = getURLFromTemplate(elevationData, tile);\n    const textureUrl = texture && getURLFromTemplate(texture, tile);\n\n    const {signal} = tile;\n    let bottomLeft = [0, 0] as [number, number];\n    let topRight = [0, 0] as [number, number];\n    if (viewport.isGeospatial) {\n      const bbox = tile.bbox as GeoBoundingBox;\n      bottomLeft = viewport.projectFlat([bbox.west, bbox.south]);\n      topRight = viewport.projectFlat([bbox.east, bbox.north]);\n    } else {\n      const bbox = tile.bbox as Exclude<TileBoundingBox, GeoBoundingBox>;\n      bottomLeft = [bbox.left, bbox.bottom];\n      topRight = [bbox.right, bbox.top];\n    }\n    const bounds: Bounds = [bottomLeft[0], bottomLeft[1], topRight[0], topRight[1]];\n\n    const terrain = this.loadTerrain({\n      elevationData: dataUrl,\n      bounds,\n      elevationDecoder,\n      meshMaxError,\n      signal\n    });\n    const surface = textureUrl\n      ? // If surface image fails to load, the tile should still be displayed\n        fetch(textureUrl, {propName: 'texture', layer: this, loaders: [], signal}).catch(_ => null)\n      : Promise.resolve(null);\n\n    return Promise.all([terrain, surface]);\n  }\n\n  renderSubLayers(\n    props: TileLayerProps<MeshAndTexture> & {\n      id: string;\n      data: MeshAndTexture;\n      tile: Tile2DHeader<MeshAndTexture>;\n    }\n  ) {\n    const SubLayerClass = this.getSubLayerClass('mesh', SimpleMeshLayer);\n\n    const {color, wireframe, material} = this.props;\n    const {data} = props;\n\n    if (!data) {\n      return null;\n    }\n\n    const [mesh, texture] = data;\n\n    return new SubLayerClass(props, {\n      data: DUMMY_DATA,\n      mesh,\n      texture,\n      _instanced: false,\n      coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n      getPosition: d => [0, 0, 0],\n      getColor: color,\n      wireframe,\n      material\n    });\n  }\n\n  // Update zRange of viewport\n  onViewportLoad(tiles?: Tile2DHeader<MeshAndTexture>[]): void {\n    if (!tiles) {\n      return;\n    }\n\n    const {zRange} = this.state;\n    const ranges = tiles\n      .map(tile => tile.content)\n      .filter(Boolean)\n      .map(arr => {\n        // @ts-ignore\n        const bounds = arr[0].header.boundingBox;\n        return bounds.map(bound => bound[2]);\n      });\n    if (ranges.length === 0) {\n      return;\n    }\n    const minZ = Math.min(...ranges.map(x => x[0]));\n    const maxZ = Math.max(...ranges.map(x => x[1]));\n\n    if (!zRange || minZ < zRange[0] || maxZ > zRange[1]) {\n      this.setState({zRange: [minZ, maxZ]});\n    }\n  }\n\n  renderLayers(): Layer | null | LayersList {\n    const {\n      color,\n      material,\n      elevationData,\n      texture,\n      wireframe,\n      meshMaxError,\n      elevationDecoder,\n      tileSize,\n      maxZoom,\n      minZoom,\n      extent,\n      maxRequests,\n      onTileLoad,\n      onTileUnload,\n      onTileError,\n      maxCacheSize,\n      maxCacheByteSize,\n      refinementStrategy\n    } = this.props;\n\n    if (this.state.isTiled) {\n      return new TileLayer<MeshAndTexture>(\n        this.getSubLayerProps({\n          id: 'tiles'\n        }),\n        {\n          getTileData: this.getTiledTerrainData.bind(this),\n          renderSubLayers: this.renderSubLayers.bind(this),\n          updateTriggers: {\n            getTileData: {\n              elevationData: urlTemplateToUpdateTrigger(elevationData),\n              texture: urlTemplateToUpdateTrigger(texture),\n              meshMaxError,\n              elevationDecoder\n            }\n          },\n          onViewportLoad: this.onViewportLoad.bind(this),\n          zRange: this.state.zRange || null,\n          tileSize,\n          maxZoom,\n          minZoom,\n          extent,\n          maxRequests,\n          onTileLoad,\n          onTileUnload,\n          onTileError,\n          maxCacheSize,\n          maxCacheByteSize,\n          refinementStrategy\n        }\n      );\n    }\n\n    const SubLayerClass = this.getSubLayerClass('mesh', SimpleMeshLayer);\n    return new SubLayerClass(\n      this.getSubLayerProps({\n        id: 'mesh'\n      }),\n      {\n        data: DUMMY_DATA,\n        mesh: this.state.terrain,\n        texture,\n        _instanced: false,\n        getPosition: d => [0, 0, 0],\n        getColor: color,\n        material,\n        wireframe\n      }\n    );\n  }\n}\n","const BASE32_CODES = '0123456789bcdefghjkmnpqrstuvwxyz';\nconst BASE32_CODES_DICT = {};\nfor (let i = 0; i < BASE32_CODES.length; i++) {\n  BASE32_CODES_DICT[BASE32_CODES.charAt(i)] = i;\n}\n\nconst MIN_LAT = -90;\nconst MAX_LAT = 90;\nconst MIN_LON = -180;\nconst MAX_LON = 180;\n\n// Adapted from ngeohash decode_bbox\nexport function getGeohashBounds(geohash: string): number[] {\n  let isLon = true;\n  let maxLat = MAX_LAT;\n  let minLat = MIN_LAT;\n  let maxLon = MAX_LON;\n  let minLon = MIN_LON;\n  let mid: number;\n\n  let hashValue = 0;\n  for (let i = 0, l = geohash.length; i < l; i++) {\n    const code = geohash[i].toLowerCase();\n    hashValue = BASE32_CODES_DICT[code];\n\n    for (let bits = 4; bits >= 0; bits--) {\n      const bit = (hashValue >> bits) & 1;\n      if (isLon) {\n        mid = (maxLon + minLon) / 2;\n        if (bit === 1) {\n          minLon = mid;\n        } else {\n          maxLon = mid;\n        }\n      } else {\n        mid = (maxLat + minLat) / 2;\n        if (bit === 1) {\n          minLat = mid;\n        } else {\n          maxLat = mid;\n        }\n      }\n      isLon = !isLon;\n    }\n  }\n\n  return [minLat, minLon, maxLat, maxLon];\n}\n\nexport function getGeohashPolygon(geohash: string): number[] {\n  const [s, w, n, e] = getGeohashBounds(geohash);\n\n  return [e, n, e, s, w, s, w, n, e, n];\n}\n","import {AccessorFunction} from '@deck.gl/core';\nimport GeoCellLayer from '../geo-cell-layer/GeoCellLayer';\nimport {getGeohashPolygon} from './geohash-utils';\n\nconst defaultProps = {\n  getGeohash: {type: 'accessor', value: d => d.geohash}\n};\n\n/**\n * Properties of `GeohashLayer`.\n */\ntype GeohashLayerProps<DataT = any> = {\n  /**\n   * Called for each data object to retrieve the geohash string identifier.\n   *\n   * By default, it reads `geohash` property of data object.\n   */\n  getGeohash?: AccessorFunction<DataT, string>;\n};\n\n/** Render filled and/or stroked polygons based on the [Geohash](https://en.wikipedia.org/wiki/Geohash) geospatial indexing system. */\nexport default class GeohashLayer<DataT = any, ExtraProps = {}> extends GeoCellLayer<\n  DataT,\n  Required<GeohashLayerProps> & ExtraProps\n> {\n  static layerName = 'GeohashLayer';\n  static defaultProps: any = defaultProps;\n\n  indexToBounds(): Partial<GeoCellLayer['props']> | null {\n    const {data, getGeohash} = this.props;\n\n    return {\n      data,\n      _normalize: false,\n      positionFormat: 'XY',\n      getPolygon: (x: DataT, objectInfo) => getGeohashPolygon(getGeohash(x, objectInfo))\n    };\n  }\n}\n","import {assert} from '../env-utils/assert';\n\n/**\n * Calculate new size of an arrayBuffer to be aligned to an n-byte boundary\n * This function increases `byteLength` by the minimum delta,\n * allowing the total length to be divided by `padding`\n * @param byteLength\n * @param padding\n */\nexport function padToNBytes(byteLength: number, padding: number): number {\n  assert(byteLength >= 0); // `Incorrect 'byteLength' value: ${byteLength}`\n  assert(padding > 0); // `Incorrect 'padding' value: ${padding}`\n  return (byteLength + (padding - 1)) & ~(padding - 1);\n}\n\n/**\n * Creates a new Uint8Array based on two different ArrayBuffers\n * @param targetBuffer The first buffer.\n * @param sourceBuffer The second buffer.\n * @return The new ArrayBuffer created out of the two.\n */\nexport function copyArrayBuffer(\n  targetBuffer: ArrayBuffer,\n  sourceBuffer: ArrayBuffer,\n  byteOffset: number,\n  byteLength: number = sourceBuffer.byteLength\n): ArrayBuffer {\n  const targetArray = new Uint8Array(targetBuffer, byteOffset, byteLength);\n  const sourceArray = new Uint8Array(sourceBuffer);\n  targetArray.set(sourceArray);\n  return targetBuffer;\n}\n\n/**\n * Copy from source to target at the targetOffset\n *\n * @param source - The data to copy\n * @param target - The destination to copy data into\n * @param targetOffset - The start offset into target to place the copied data\n * @returns the new offset taking into account proper padding\n */\nexport function copyToArray(source: ArrayBuffer | any, target: any, targetOffset: number): number {\n  let sourceArray;\n\n  if (source instanceof ArrayBuffer) {\n    sourceArray = new Uint8Array(source);\n  } else {\n    // Pack buffer onto the big target array\n    //\n    // 'source.data.buffer' could be a view onto a larger buffer.\n    // We MUST use this constructor to ensure the byteOffset and byteLength is\n    // set to correct values from 'source.data' and not the underlying\n    // buffer for target.set() to work properly.\n    const srcByteOffset = source.byteOffset;\n    const srcByteLength = source.byteLength;\n    // In gltf parser it is set as \"arrayBuffer\" instead of \"buffer\"\n    // https://github.com/visgl/loaders.gl/blob/1e3a82a0a65d7b6a67b1e60633453e5edda2960a/modules/gltf/src/lib/parse-gltf.js#L85\n    sourceArray = new Uint8Array(source.buffer || source.arrayBuffer, srcByteOffset, srcByteLength);\n  }\n\n  // Pack buffer onto the big target array\n  target.set(sourceArray, targetOffset);\n\n  return targetOffset + padToNBytes(sourceArray.byteLength, 4);\n}\n","export function getFirstCharacters(data, length = 5): string {\n  if (typeof data === 'string') {\n    return data.slice(0, length);\n  } else if (ArrayBuffer.isView(data)) {\n    // Typed Arrays can have offsets into underlying buffer\n    return getMagicString(data.buffer, data.byteOffset, length);\n  } else if (data instanceof ArrayBuffer) {\n    const byteOffset = 0;\n    return getMagicString(data, byteOffset, length);\n  }\n  return '';\n}\n\nexport function getMagicString(\n  arrayBuffer: ArrayBuffer,\n  byteOffset: number,\n  length: number\n): string {\n  if (arrayBuffer.byteLength <= byteOffset + length) {\n    return '';\n  }\n  const dataView = new DataView(arrayBuffer);\n  let magic = '';\n  for (let i = 0; i < length; i++) {\n    magic += String.fromCharCode(dataView.getUint8(byteOffset + i));\n  }\n  return magic;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n// MIT License\nimport MathArray from './base/math-array';\nimport Quaternion from './quaternion';\nimport {NumericArray} from '@math.gl/types';\n\nimport {clamp} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// Internal constants\nconst ERR_UNKNOWN_ORDER = 'Unknown Euler angle order';\nconst ALMOST_ONE = 0.99999;\n\nenum RotationOrder {\n  ZYX = 0,\n  YXZ = 1,\n  XZY = 2,\n  ZXY = 3,\n  YZX = 4,\n  XYZ = 5\n}\n\nexport default class Euler extends MathArray {\n  // Constants\n  static get ZYX(): RotationOrder {\n    return RotationOrder.ZYX;\n  }\n  static get YXZ(): RotationOrder {\n    return RotationOrder.YXZ;\n  }\n  static get XZY(): RotationOrder {\n    return RotationOrder.XZY;\n  }\n  static get ZXY(): RotationOrder {\n    return RotationOrder.ZXY;\n  }\n  static get YZX(): RotationOrder {\n    return RotationOrder.YZX;\n  }\n  static get XYZ(): RotationOrder {\n    return RotationOrder.XYZ;\n  }\n  static get RollPitchYaw(): RotationOrder {\n    return RotationOrder.ZYX;\n  }\n  static get DefaultOrder(): RotationOrder {\n    return RotationOrder.ZYX;\n  }\n  static get RotationOrders(): typeof RotationOrder {\n    return RotationOrder;\n  }\n  static rotationOrder(order: RotationOrder): string {\n    return RotationOrder[order];\n  }\n  get ELEMENTS(): number {\n    return 4;\n  }\n\n  /**\n   * @class\n   * @param {Number | Number[]} x\n   * @param {Number=} [y]\n   * @param {Number=} [z]\n   * @param {Number=} [order]\n   */\n  constructor(x = 0, y = 0, z = 0, order = Euler.DefaultOrder) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0);\n    // eslint-disable-next-line prefer-rest-params\n    if (arguments.length > 0 && Array.isArray(arguments[0])) {\n      // eslint-disable-next-line prefer-rest-params\n      // @ts-expect-error\n      this.fromVector3(...arguments);\n    } else {\n      this.set(x, y, z, order);\n    }\n  }\n\n  fromQuaternion(quaternion: Readonly<NumericArray>): this {\n    const [x, y, z, w] = quaternion;\n    const ysqr = y * y;\n    const t0 = -2 * (ysqr + z * z) + 1;\n    const t1 = +2 * (x * y + w * z);\n    let t2 = -2 * (x * z - w * y);\n    const t3 = +2 * (y * z + w * x);\n    const t4 = -2 * (x * x + ysqr) + 1;\n    t2 = t2 > 1 ? 1 : t2;\n    t2 = t2 < -1 ? -1 : t2;\n    const roll = Math.atan2(t3, t4);\n    const pitch = Math.asin(t2);\n    const yaw = Math.atan2(t1, t0);\n    return this.set(roll, pitch, yaw, Euler.RollPitchYaw);\n  }\n\n  fromObject(object: object): this {\n    throw new Error('not implemented');\n    //  return this.set(object.x, object.y, object.z, object.order);\n  }\n\n  // fromQuaternion(q, order) {\n  //   this._fromRotationMat[-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0];\n  //   return this.check();\n  // }\n  // If copied array does contain fourth element, preserves currently set order\n  copy(array: Readonly<NumericArray>): this {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    // @ts-expect-error\n    this[3] = Number.isFinite(array[3]) || this.order;\n    return this.check();\n  }\n\n  // Sets the three angles, and optionally sets the rotation order\n  // If order is not specified, preserves currently set order\n  set(x = 0, y = 0, z = 0, order: RotationOrder): this {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = Number.isFinite(order) ? order : this[3];\n    return this.check();\n  }\n\n  validate(): boolean {\n    return (\n      validateOrder(this[3]) &&\n      Number.isFinite(this[0]) &&\n      Number.isFinite(this[1]) &&\n      Number.isFinite(this[2])\n    );\n  }\n\n  // Does not copy the orientation element\n  toArray(array: NumericArray = [], offset: number = 0): NumericArray {\n    array[offset] = this[0];\n    array[offset + 1] = this[1];\n    array[offset + 2] = this[2];\n    return array;\n  }\n\n  // Copies the orientation element\n  toArray4(array: NumericArray = [], offset: number = 0): NumericArray {\n    array[offset] = this[0];\n    array[offset + 1] = this[1];\n    array[offset + 2] = this[2];\n    array[offset + 3] = this[3];\n    return array;\n  }\n\n  toVector3(result: NumericArray = [-0, -0, -0]): NumericArray {\n    result[0] = this[0];\n    result[1] = this[1];\n    result[2] = this[2];\n    return result;\n  }\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  // x, y, z angle notation (note: only corresponds to axis in XYZ orientation)\n\n  get x(): number {\n    return this[0];\n  }\n  set x(value: number) {\n    this[0] = checkNumber(value);\n  }\n\n  get y(): number {\n    return this[1];\n  }\n  set y(value: number) {\n    this[1] = checkNumber(value);\n  }\n\n  get z(): number {\n    return this[2];\n  }\n  set z(value: number) {\n    this[2] = checkNumber(value);\n  }\n  // alpha, beta, gamma angle notation\n  get alpha(): number {\n    return this[0];\n  }\n  set alpha(value: number) {\n    this[0] = checkNumber(value);\n  }\n\n  get beta(): number {\n    return this[1];\n  }\n  set beta(value: number) {\n    this[1] = checkNumber(value);\n  }\n\n  get gamma(): number {\n    return this[2];\n  }\n  set gamma(value: number) {\n    this[2] = checkNumber(value);\n  }\n\n  // phi, theta, psi angle notation\n  get phi(): number {\n    return this[0];\n  }\n  set phi(value: number) {\n    this[0] = checkNumber(value);\n  }\n\n  get theta(): number {\n    return this[1];\n  }\n  set theta(value: number) {\n    this[1] = checkNumber(value);\n  }\n\n  get psi(): number {\n    return this[2];\n  }\n  set psi(value: number) {\n    this[2] = checkNumber(value);\n  }\n  // roll, pitch, yaw angle notation\n\n  get roll(): number {\n    return this[0];\n  }\n  set roll(value: number) {\n    this[0] = checkNumber(value);\n  }\n\n  get pitch(): number {\n    return this[1];\n  }\n  set pitch(value: number) {\n    this[1] = checkNumber(value);\n  }\n\n  get yaw(): number {\n    return this[2];\n  }\n  set yaw(value: number) {\n    this[2] = checkNumber(value);\n  }\n\n  // rotation order, in all three angle notations\n  get order(): RotationOrder {\n    return this[3];\n  }\n  set order(value: RotationOrder) {\n    this[3] = checkOrder(value);\n  }\n\n  // Constructors\n  fromVector3(v: Readonly<NumericArray>, order: RotationOrder): this {\n    return this.set(v[0], v[1], v[2], Number.isFinite(order) ? order : this[3]);\n  }\n\n  // TODO - with and without 4th element\n  fromArray(array: Readonly<NumericArray>, offset: number = 0): this {\n    this[0] = array[0 + offset];\n    this[1] = array[1 + offset];\n    this[2] = array[2 + offset];\n    if (array[3] !== undefined) {\n      this[3] = array[3];\n    }\n    return this.check();\n  }\n\n  // Common ZYX rotation order\n  fromRollPitchYaw(roll: number, pitch: number, yaw: number): this {\n    return this.set(roll, pitch, yaw, RotationOrder.ZYX);\n  }\n\n  fromRotationMatrix(m: Readonly<NumericArray>, order: RotationOrder = Euler.DefaultOrder): this {\n    this._fromRotationMatrix(m, order);\n    return this.check();\n  }\n\n  // ACCESSORS\n\n  getRotationMatrix(m: NumericArray): NumericArray {\n    return this._getRotationMatrix(m);\n  }\n\n  // TODO - move to Quaternion\n  getQuaternion(): Quaternion {\n    const q = new Quaternion();\n    switch (this[4]) {\n      case RotationOrder.XYZ:\n        return q.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);\n      case RotationOrder.YXZ:\n        return q.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);\n      case RotationOrder.ZXY:\n        return q.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);\n      case RotationOrder.ZYX:\n        return q.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);\n      case RotationOrder.YZX:\n        return q.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);\n      case RotationOrder.XZY:\n        return q.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);\n      default:\n        throw new Error(ERR_UNKNOWN_ORDER);\n    }\n  }\n\n  // INTERNAL METHODS\n  // Conversion from Euler to rotation matrix and from matrix to Euler\n  // Adapted from three.js under MIT license\n  // // WARNING: this discards revolution information -bhouston\n  // reorder(newOrder) {\n  //   const q = new Quaternion().setFromEuler(this);\n  //   return this.setFromQuaternion(q, newOrder);\n  /* eslint-disable complexity, max-statements, one-var */\n  _fromRotationMatrix(m: Readonly<NumericArray>, order = Euler.DefaultOrder): this {\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n    const m11 = m[0],\n      m12 = m[4],\n      m13 = m[8];\n    const m21 = m[1],\n      m22 = m[5],\n      m23 = m[9];\n    const m31 = m[2],\n      m32 = m[6],\n      m33 = m[10];\n    order = order || this[3];\n    switch (order) {\n      case Euler.XYZ:\n        this[1] = Math.asin(clamp(m13, -1, 1));\n        if (Math.abs(m13) < ALMOST_ONE) {\n          this[0] = Math.atan2(-m23, m33);\n          this[2] = Math.atan2(-m12, m11);\n        } else {\n          this[0] = Math.atan2(m32, m22);\n          this[2] = 0;\n        }\n        break;\n      case Euler.YXZ:\n        this[0] = Math.asin(-clamp(m23, -1, 1));\n        if (Math.abs(m23) < ALMOST_ONE) {\n          this[1] = Math.atan2(m13, m33);\n          this[2] = Math.atan2(m21, m22);\n        } else {\n          this[1] = Math.atan2(-m31, m11);\n          this[2] = 0;\n        }\n        break;\n      case Euler.ZXY:\n        this[0] = Math.asin(clamp(m32, -1, 1));\n        if (Math.abs(m32) < ALMOST_ONE) {\n          this[1] = Math.atan2(-m31, m33);\n          this[2] = Math.atan2(-m12, m22);\n        } else {\n          this[1] = 0;\n          this[2] = Math.atan2(m21, m11);\n        }\n        break;\n      case Euler.ZYX:\n        this[1] = Math.asin(-clamp(m31, -1, 1));\n        if (Math.abs(m31) < ALMOST_ONE) {\n          this[0] = Math.atan2(m32, m33);\n          this[2] = Math.atan2(m21, m11);\n        } else {\n          this[0] = 0;\n          this[2] = Math.atan2(-m12, m22);\n        }\n        break;\n      case Euler.YZX:\n        this[2] = Math.asin(clamp(m21, -1, 1));\n        if (Math.abs(m21) < ALMOST_ONE) {\n          this[0] = Math.atan2(-m23, m22);\n          this[1] = Math.atan2(-m31, m11);\n        } else {\n          this[0] = 0;\n          this[1] = Math.atan2(m13, m33);\n        }\n        break;\n      case Euler.XZY:\n        this[2] = Math.asin(-clamp(m12, -1, 1));\n        if (Math.abs(m12) < ALMOST_ONE) {\n          this[0] = Math.atan2(m32, m22);\n          this[1] = Math.atan2(m13, m11);\n        } else {\n          this[0] = Math.atan2(-m23, m33);\n          this[1] = 0;\n        }\n        break;\n      default:\n        throw new Error(ERR_UNKNOWN_ORDER);\n    }\n    this[3] = order;\n    return this;\n  }\n\n  _getRotationMatrix(result: NumericArray): NumericArray {\n    const te = result || [-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0];\n    const x = this.x,\n      y = this.y,\n      z = this.z;\n    const a = Math.cos(x);\n    const c = Math.cos(y);\n    const e = Math.cos(z);\n    const b = Math.sin(x);\n    const d = Math.sin(y);\n    const f = Math.sin(z);\n    switch (this[3]) {\n      case Euler.XYZ: {\n        const ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n        te[0] = c * e;\n        te[4] = -c * f;\n        te[8] = d;\n        te[1] = af + be * d;\n        te[5] = ae - bf * d;\n        te[9] = -b * c;\n        te[2] = bf - ae * d;\n        te[6] = be + af * d;\n        te[10] = a * c;\n        break;\n      }\n      case Euler.YXZ: {\n        const ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n        te[0] = ce + df * b;\n        te[4] = de * b - cf;\n        te[8] = a * d;\n        te[1] = a * f;\n        te[5] = a * e;\n        te[9] = -b;\n        te[2] = cf * b - de;\n        te[6] = df + ce * b;\n        te[10] = a * c;\n        break;\n      }\n      case Euler.ZXY: {\n        const ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n        te[0] = ce - df * b;\n        te[4] = -a * f;\n        te[8] = de + cf * b;\n        te[1] = cf + de * b;\n        te[5] = a * e;\n        te[9] = df - ce * b;\n        te[2] = -a * d;\n        te[6] = b;\n        te[10] = a * c;\n        break;\n      }\n      case Euler.ZYX: {\n        const ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n        te[0] = c * e;\n        te[4] = be * d - af;\n        te[8] = ae * d + bf;\n        te[1] = c * f;\n        te[5] = bf * d + ae;\n        te[9] = af * d - be;\n        te[2] = -d;\n        te[6] = b * c;\n        te[10] = a * c;\n        break;\n      }\n      case Euler.YZX: {\n        const ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n        te[0] = c * e;\n        te[4] = bd - ac * f;\n        te[8] = bc * f + ad;\n        te[1] = f;\n        te[5] = a * e;\n        te[9] = -b * e;\n        te[2] = -d * e;\n        te[6] = ad * f + bc;\n        te[10] = ac - bd * f;\n        break;\n      }\n      case Euler.XZY: {\n        const ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n        te[0] = c * e;\n        te[4] = -f;\n        te[8] = d * e;\n        te[1] = ac * f + bd;\n        te[5] = a * e;\n        te[9] = ad * f - bc;\n        te[2] = bc * f - ad;\n        te[6] = b * e;\n        te[10] = bd * f + ac;\n        break;\n      }\n      default:\n        throw new Error(ERR_UNKNOWN_ORDER);\n    }\n    // last column\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = 0;\n    // bottom row\n    te[12] = 0;\n    te[13] = 0;\n    te[14] = 0;\n    te[15] = 1;\n    return te;\n  }\n\n  toQuaternion(): Quaternion {\n    // Abbreviations for the various angular functions\n    const cy = Math.cos(this.yaw * 0.5);\n    const sy = Math.sin(this.yaw * 0.5);\n    const cr = Math.cos(this.roll * 0.5);\n    const sr = Math.sin(this.roll * 0.5);\n    const cp = Math.cos(this.pitch * 0.5);\n    const sp = Math.sin(this.pitch * 0.5);\n    const w = cy * cr * cp + sy * sr * sp;\n    const x = cy * sr * cp - sy * cr * sp;\n    const y = cy * cr * sp + sy * sr * cp;\n    const z = sy * cr * cp - cy * sr * sp;\n    return new Quaternion(x, y, z, w);\n  }\n}\n\n// HELPER FUNCTIONS\n\nfunction validateOrder(value: number): boolean {\n  return value >= 0 && value < 6;\n}\n\nfunction checkOrder(value: number) {\n  if (value < 0 && value >= 6) {\n    throw new Error(ERR_UNKNOWN_ORDER);\n  }\n  return value;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n// MIT License\nimport Matrix4 from './matrix4';\nimport Vector3 from './vector3';\nimport Euler from './euler';\nimport {NumericArray} from '@math.gl/types';\n\ntype PoseOptions = {\n  position?: Readonly<NumericArray>;\n  orientation?: Readonly<NumericArray>;\n  x?: number;\n  y?: number;\n  z?: number;\n  roll?: number;\n  pitch?: number;\n  yaw?: number;\n};\n\nexport default class Pose {\n  readonly position: Vector3;\n  readonly orientation: Euler;\n\n  constructor({\n    x = 0,\n    y = 0,\n    z = 0,\n    roll = 0,\n    pitch = 0,\n    yaw = 0,\n    position,\n    orientation\n  }: PoseOptions = {}) {\n    if (Array.isArray(position) && position.length === 3) {\n      this.position = new Vector3(position);\n    } else {\n      this.position = new Vector3(x, y, z);\n    }\n    if (Array.isArray(orientation) && orientation.length === 4) {\n      // @ts-expect-error\n      this.orientation = new Euler(orientation, orientation[3]);\n    } else {\n      this.orientation = new Euler(roll, pitch, yaw, Euler.RollPitchYaw);\n    }\n  }\n\n  get x(): number {\n    return this.position.x;\n  }\n\n  set x(value: number) {\n    this.position.x = value;\n  }\n\n  get y(): number {\n    return this.position.y;\n  }\n\n  set y(value: number) {\n    this.position.y = value;\n  }\n\n  get z(): number {\n    return this.position.z;\n  }\n\n  set z(value: number) {\n    this.position.z = value;\n  }\n\n  get roll(): number {\n    return this.orientation.roll;\n  }\n\n  set roll(value: number) {\n    this.orientation.roll = value;\n  }\n\n  get pitch(): number {\n    return this.orientation.pitch;\n  }\n  set pitch(value: number) {\n    this.orientation.pitch = value;\n  }\n\n  get yaw(): number {\n    return this.orientation.yaw;\n  }\n\n  set yaw(value: number) {\n    this.orientation.yaw = value;\n  }\n\n  getPosition(): Vector3 {\n    return this.position;\n  }\n\n  getOrientation(): Euler {\n    return this.orientation;\n  }\n\n  equals(pose: Pose): boolean {\n    if (!pose) {\n      return false;\n    }\n    return this.position.equals(pose.position) && this.orientation.equals(pose.orientation);\n  }\n\n  exactEquals(pose: Pose): boolean {\n    if (!pose) {\n      return false;\n    }\n    return (\n      this.position.exactEquals(pose.position) && this.orientation.exactEquals(pose.orientation)\n    );\n  }\n\n  getTransformationMatrix(): Matrix4 {\n    // setup pre computations for the sin/cos of the angles\n    const sr = Math.sin(this.roll);\n    const sp = Math.sin(this.pitch);\n    const sw = Math.sin(this.yaw);\n    const cr = Math.cos(this.roll);\n    const cp = Math.cos(this.pitch);\n    const cw = Math.cos(this.yaw);\n\n    // Create matrix\n    return new Matrix4().setRowMajor(\n      cw * cp, // 0,0\n      -sw * cr + cw * sp * sr, // 0,1\n      sw * sr + cw * sp * cr, // 0,2\n      this.x, // 0,3\n      sw * cp, // 1,0\n      cw * cr + sw * sp * sr, // 1,1\n      -cw * sr + sw * sp * cr, // 1,2\n      this.y, // 1,3\n      -sp, // 2,0\n      cp * sr, // 2,1\n      cp * cr, // 2,2\n      this.z, // 2,3\n      0,\n      0,\n      0,\n      1\n    );\n  }\n\n  getTransformationMatrixFromPose(pose: Pose): Matrix4 {\n    return new Matrix4()\n      .multiplyRight(this.getTransformationMatrix())\n      .multiplyRight(pose.getTransformationMatrix().invert());\n  }\n\n  getTransformationMatrixToPose(pose: Pose): Matrix4 {\n    return new Matrix4()\n      .multiplyRight(pose.getTransformationMatrix())\n      .multiplyRight(this.getTransformationMatrix().invert());\n  }\n}\n","import Geometry from '../geometry/geometry';\nimport {uid} from '@luma.gl/webgl';\n\nconst INDEX_OFFSETS = {\n  x: [2, 0, 1],\n  y: [0, 1, 2],\n  z: [1, 2, 0]\n};\n\nexport default class TruncatedConeGeometry extends Geometry {\n  constructor(props = {}) {\n    const {id = uid('truncated-code-geometry')} = props;\n    const {indices, attributes} = tesselateTruncatedCone(props);\n    super({\n      ...props,\n      id,\n      indices,\n      attributes: {...attributes, ...props.attributes}\n    });\n  }\n}\n\n// Primitives inspired by TDL http://code.google.com/p/webglsamples/,\n// copyright 2011 Google Inc. new BSD License\n// (http://www.opensource.org/licenses/bsd-license.php).\n/* eslint-disable max-statements, complexity */\nfunction tesselateTruncatedCone(props) {\n  const {\n    bottomRadius = 0,\n    topRadius = 0,\n    height = 1,\n    nradial = 10,\n    nvertical = 10,\n    verticalAxis = 'y',\n    topCap = false,\n    bottomCap = false\n  } = props;\n\n  const extra = (topCap ? 2 : 0) + (bottomCap ? 2 : 0);\n  const numVertices = (nradial + 1) * (nvertical + 1 + extra);\n\n  const slant = Math.atan2(bottomRadius - topRadius, height);\n  const msin = Math.sin;\n  const mcos = Math.cos;\n  const mpi = Math.PI;\n  const cosSlant = mcos(slant);\n  const sinSlant = msin(slant);\n  const start = topCap ? -2 : 0;\n  const end = nvertical + (bottomCap ? 2 : 0);\n  const vertsAroundEdge = nradial + 1;\n\n  const indices = new Uint16Array(nradial * (nvertical + extra) * 6);\n  const indexOffset = INDEX_OFFSETS[verticalAxis];\n\n  const positions = new Float32Array(numVertices * 3);\n  const normals = new Float32Array(numVertices * 3);\n  const texCoords = new Float32Array(numVertices * 2);\n\n  let i3 = 0;\n  let i2 = 0;\n  for (let i = start; i <= end; i++) {\n    let v = i / nvertical;\n    let y = height * v;\n    let ringRadius;\n\n    if (i < 0) {\n      y = 0;\n      v = 1;\n      ringRadius = bottomRadius;\n    } else if (i > nvertical) {\n      y = height;\n      v = 1;\n      ringRadius = topRadius;\n    } else {\n      ringRadius = bottomRadius + (topRadius - bottomRadius) * (i / nvertical);\n    }\n    if (i === -2 || i === nvertical + 2) {\n      ringRadius = 0;\n      v = 0;\n    }\n    y -= height / 2;\n    for (let j = 0; j < vertsAroundEdge; j++) {\n      const sin = msin((j * mpi * 2) / nradial);\n      const cos = mcos((j * mpi * 2) / nradial);\n\n      positions[i3 + indexOffset[0]] = sin * ringRadius;\n      positions[i3 + indexOffset[1]] = y;\n      positions[i3 + indexOffset[2]] = cos * ringRadius;\n\n      normals[i3 + indexOffset[0]] = i < 0 || i > nvertical ? 0 : sin * cosSlant;\n      normals[i3 + indexOffset[1]] = i < 0 ? -1 : i > nvertical ? 1 : sinSlant;\n      normals[i3 + indexOffset[2]] = i < 0 || i > nvertical ? 0 : cos * cosSlant;\n\n      texCoords[i2 + 0] = j / nradial;\n      texCoords[i2 + 1] = v;\n\n      i2 += 2;\n      i3 += 3;\n    }\n  }\n\n  for (let i = 0; i < nvertical + extra; i++) {\n    for (let j = 0; j < nradial; j++) {\n      const index = (i * nradial + j) * 6;\n      indices[index + 0] = vertsAroundEdge * (i + 0) + 0 + j;\n      indices[index + 1] = vertsAroundEdge * (i + 0) + 1 + j;\n      indices[index + 2] = vertsAroundEdge * (i + 1) + 1 + j;\n      indices[index + 3] = vertsAroundEdge * (i + 0) + 0 + j;\n      indices[index + 4] = vertsAroundEdge * (i + 1) + 1 + j;\n      indices[index + 5] = vertsAroundEdge * (i + 1) + 0 + j;\n    }\n  }\n\n  return {\n    indices,\n    attributes: {\n      POSITION: {size: 3, value: positions},\n      NORMAL: {size: 3, value: normals},\n      TEXCOORD_0: {size: 2, value: texCoords}\n    }\n  };\n}\n","import TruncatedConeGeometry from './truncated-cone-geometry';\nimport {uid} from '@luma.gl/webgl';\n\nexport default class ConeGeometry extends TruncatedConeGeometry {\n  constructor(props = {}) {\n    const {id = uid('cone-geometry'), radius = 1, cap = true} = props;\n    super({\n      ...props,\n      id,\n      topRadius: 0,\n      topCap: Boolean(cap),\n      bottomCap: Boolean(cap),\n      bottomRadius: radius\n    });\n  }\n}\n","import TruncatedConeGeometry from './truncated-cone-geometry';\nimport {uid} from '@luma.gl/webgl';\n\nexport default class CylinderGeometry extends TruncatedConeGeometry {\n  constructor(props = {}) {\n    const {id = uid('cylinder-geometry'), radius = 1} = props;\n    super({\n      ...props,\n      id,\n      bottomRadius: radius,\n      topRadius: radius\n    });\n  }\n}\n","import {Vector3} from '@math.gl/core';\nimport Geometry from '../geometry/geometry';\nimport {uid} from '@luma.gl/webgl';\n\n/* eslint-disable comma-spacing, max-statements, complexity */\n\nconst ICO_POSITIONS = [-1, 0, 0, 0, 1, 0, 0, 0, -1, 0, 0, 1, 0, -1, 0, 1, 0, 0];\nconst ICO_INDICES = [3, 4, 5, 3, 5, 1, 3, 1, 0, 3, 0, 4, 4, 0, 2, 4, 2, 5, 2, 0, 1, 5, 2, 1];\n\nexport default class IcoSphereGeometry extends Geometry {\n  constructor(props = {}) {\n    const {id = uid('ico-sphere-geometry')} = props;\n    const {indices, attributes} = tesselateIcosaHedron(props);\n    super({\n      ...props,\n      id,\n      indices,\n      attributes: {...attributes, ...props.attributes}\n    });\n  }\n}\n\nfunction tesselateIcosaHedron(props) {\n  const {iterations = 0} = props;\n\n  const PI = Math.PI;\n  const PI2 = PI * 2;\n\n  const positions = [...ICO_POSITIONS];\n  let indices = [...ICO_INDICES];\n\n  positions.push();\n  indices.push();\n\n  const getMiddlePoint = (() => {\n    const pointMemo = {};\n\n    return (i1, i2) => {\n      i1 *= 3;\n      i2 *= 3;\n      const mini = i1 < i2 ? i1 : i2;\n      const maxi = i1 > i2 ? i1 : i2;\n      const key = `${mini}|${maxi}`;\n\n      if (key in pointMemo) {\n        return pointMemo[key];\n      }\n\n      const x1 = positions[i1];\n      const y1 = positions[i1 + 1];\n      const z1 = positions[i1 + 2];\n      const x2 = positions[i2];\n      const y2 = positions[i2 + 1];\n      const z2 = positions[i2 + 2];\n      let xm = (x1 + x2) / 2;\n      let ym = (y1 + y2) / 2;\n      let zm = (z1 + z2) / 2;\n      const len = Math.sqrt(xm * xm + ym * ym + zm * zm);\n\n      xm /= len;\n      ym /= len;\n      zm /= len;\n\n      positions.push(xm, ym, zm);\n\n      return (pointMemo[key] = positions.length / 3 - 1);\n    };\n  })();\n\n  for (let i = 0; i < iterations; i++) {\n    const indices2 = [];\n    for (let j = 0; j < indices.length; j += 3) {\n      const a = getMiddlePoint(indices[j + 0], indices[j + 1]);\n      const b = getMiddlePoint(indices[j + 1], indices[j + 2]);\n      const c = getMiddlePoint(indices[j + 2], indices[j + 0]);\n\n      indices2.push(c, indices[j + 0], a, a, indices[j + 1], b, b, indices[j + 2], c, a, b, c);\n    }\n    indices = indices2;\n  }\n\n  // Calculate texCoords and normals\n  const normals = new Array(positions.length);\n  const texCoords = new Array((positions.length / 3) * 2);\n\n  const l = indices.length;\n  for (let i = l - 3; i >= 0; i -= 3) {\n    const i1 = indices[i + 0];\n    const i2 = indices[i + 1];\n    const i3 = indices[i + 2];\n    const in1 = i1 * 3;\n    const in2 = i2 * 3;\n    const in3 = i3 * 3;\n    const iu1 = i1 * 2;\n    const iu2 = i2 * 2;\n    const iu3 = i3 * 2;\n    const x1 = positions[in1 + 0];\n    const y1 = positions[in1 + 1];\n    const z1 = positions[in1 + 2];\n    const theta1 = Math.acos(z1 / Math.sqrt(x1 * x1 + y1 * y1 + z1 * z1));\n    const phi1 = Math.atan2(y1, x1) + PI;\n    const v1 = theta1 / PI;\n    const u1 = 1 - phi1 / PI2;\n    const x2 = positions[in2 + 0];\n    const y2 = positions[in2 + 1];\n    const z2 = positions[in2 + 2];\n    const theta2 = Math.acos(z2 / Math.sqrt(x2 * x2 + y2 * y2 + z2 * z2));\n    const phi2 = Math.atan2(y2, x2) + PI;\n    const v2 = theta2 / PI;\n    const u2 = 1 - phi2 / PI2;\n    const x3 = positions[in3 + 0];\n    const y3 = positions[in3 + 1];\n    const z3 = positions[in3 + 2];\n    const theta3 = Math.acos(z3 / Math.sqrt(x3 * x3 + y3 * y3 + z3 * z3));\n    const phi3 = Math.atan2(y3, x3) + PI;\n    const v3 = theta3 / PI;\n    const u3 = 1 - phi3 / PI2;\n    const vec1 = [x3 - x2, y3 - y2, z3 - z2];\n    const vec2 = [x1 - x2, y1 - y2, z1 - z2];\n    const normal = new Vector3(vec1).cross(vec2).normalize();\n    let newIndex;\n\n    if (\n      (u1 === 0 || u2 === 0 || u3 === 0) &&\n      (u1 === 0 || u1 > 0.5) &&\n      (u2 === 0 || u2 > 0.5) &&\n      (u3 === 0 || u3 > 0.5)\n    ) {\n      positions.push(positions[in1 + 0], positions[in1 + 1], positions[in1 + 2]);\n      newIndex = positions.length / 3 - 1;\n      indices.push(newIndex);\n      texCoords[newIndex * 2 + 0] = 1;\n      texCoords[newIndex * 2 + 1] = v1;\n      normals[newIndex * 3 + 0] = normal.x;\n      normals[newIndex * 3 + 1] = normal.y;\n      normals[newIndex * 3 + 2] = normal.z;\n\n      positions.push(positions[in2 + 0], positions[in2 + 1], positions[in2 + 2]);\n      newIndex = positions.length / 3 - 1;\n      indices.push(newIndex);\n      texCoords[newIndex * 2 + 0] = 1;\n      texCoords[newIndex * 2 + 1] = v2;\n      normals[newIndex * 3 + 0] = normal.x;\n      normals[newIndex * 3 + 1] = normal.y;\n      normals[newIndex * 3 + 2] = normal.z;\n\n      positions.push(positions[in3 + 0], positions[in3 + 1], positions[in3 + 2]);\n      newIndex = positions.length / 3 - 1;\n      indices.push(newIndex);\n      texCoords[newIndex * 2 + 0] = 1;\n      texCoords[newIndex * 2 + 1] = v3;\n      normals[newIndex * 3 + 0] = normal.x;\n      normals[newIndex * 3 + 1] = normal.y;\n      normals[newIndex * 3 + 2] = normal.z;\n    }\n\n    normals[in1 + 0] = normals[in2 + 0] = normals[in3 + 0] = normal.x;\n    normals[in1 + 1] = normals[in2 + 1] = normals[in3 + 1] = normal.y;\n    normals[in1 + 2] = normals[in2 + 2] = normals[in3 + 2] = normal.z;\n\n    texCoords[iu1 + 0] = u1;\n    texCoords[iu1 + 1] = v1;\n\n    texCoords[iu2 + 0] = u2;\n    texCoords[iu2 + 1] = v2;\n\n    texCoords[iu3 + 0] = u3;\n    texCoords[iu3 + 1] = v3;\n  }\n\n  return {\n    indices: {size: 1, value: new Uint16Array(indices)},\n    attributes: {\n      POSITION: {size: 3, value: new Float32Array(positions)},\n      NORMAL: {size: 3, value: new Float32Array(normals)},\n      TEXCOORD_0: {size: 2, value: new Float32Array(texCoords)}\n    }\n  };\n}\n","import Geometry from '../geometry/geometry';\nimport {unpackIndexedGeometry} from '../geometry/geometry-utils';\nimport {uid} from '@luma.gl/webgl';\n\nexport default class PlaneGeometry extends Geometry {\n  constructor(props = {}) {\n    const {id = uid('plane-geometry')} = props;\n\n    const {indices, attributes} = tesselatePlane(props);\n    super({\n      ...props,\n      id,\n      indices,\n      attributes: {...attributes, ...props.attributes}\n    });\n  }\n}\n\n// Primitives inspired by TDL http://code.google.com/p/webglsamples/,\n// copyright 2011 Google Inc. new BSD License\n// (http://www.opensource.org/licenses/bsd-license.php).\n/* eslint-disable max-statements, complexity */\n/* eslint-disable complexity, max-statements */\nfunction tesselatePlane(props) {\n  const {type = 'x,y', offset = 0, flipCull = false, unpack = false} = props;\n\n  const coords = type.split(',');\n  // width, height\n  let c1len = props[`${coords[0]}len`] || 1;\n  const c2len = props[`${coords[1]}len`] || 1;\n  // subdivisionsWidth, subdivisionsDepth\n  const subdivisions1 = props[`n${coords[0]}`] || 1;\n  const subdivisions2 = props[`n${coords[1]}`] || 1;\n  const numVertices = (subdivisions1 + 1) * (subdivisions2 + 1);\n\n  const positions = new Float32Array(numVertices * 3);\n  const normals = new Float32Array(numVertices * 3);\n  const texCoords = new Float32Array(numVertices * 2);\n\n  if (flipCull) {\n    c1len = -c1len;\n  }\n\n  let i2 = 0;\n  let i3 = 0;\n  for (let z = 0; z <= subdivisions2; z++) {\n    for (let x = 0; x <= subdivisions1; x++) {\n      const u = x / subdivisions1;\n      const v = z / subdivisions2;\n      texCoords[i2 + 0] = flipCull ? 1 - u : u;\n      texCoords[i2 + 1] = v;\n\n      switch (type) {\n        case 'x,y':\n          positions[i3 + 0] = c1len * u - c1len * 0.5;\n          positions[i3 + 1] = c2len * v - c2len * 0.5;\n          positions[i3 + 2] = offset;\n\n          normals[i3 + 0] = 0;\n          normals[i3 + 1] = 0;\n          normals[i3 + 2] = flipCull ? 1 : -1;\n          break;\n\n        case 'x,z':\n          positions[i3 + 0] = c1len * u - c1len * 0.5;\n          positions[i3 + 1] = offset;\n          positions[i3 + 2] = c2len * v - c2len * 0.5;\n\n          normals[i3 + 0] = 0;\n          normals[i3 + 1] = flipCull ? 1 : -1;\n          normals[i3 + 2] = 0;\n          break;\n\n        case 'y,z':\n          positions[i3 + 0] = offset;\n          positions[i3 + 1] = c1len * u - c1len * 0.5;\n          positions[i3 + 2] = c2len * v - c2len * 0.5;\n\n          normals[i3 + 0] = flipCull ? 1 : -1;\n          normals[i3 + 1] = 0;\n          normals[i3 + 2] = 0;\n          break;\n\n        default:\n          throw new Error('PlaneGeometry: unknown type');\n      }\n\n      i2 += 2;\n      i3 += 3;\n    }\n  }\n\n  const numVertsAcross = subdivisions1 + 1;\n  const indices = new Uint16Array(subdivisions1 * subdivisions2 * 6);\n\n  for (let z = 0; z < subdivisions2; z++) {\n    for (let x = 0; x < subdivisions1; x++) {\n      const index = (z * subdivisions1 + x) * 6;\n      // Make triangle 1 of quad.\n      indices[index + 0] = (z + 0) * numVertsAcross + x;\n      indices[index + 1] = (z + 1) * numVertsAcross + x;\n      indices[index + 2] = (z + 0) * numVertsAcross + x + 1;\n\n      // Make triangle 2 of quad.\n      indices[index + 3] = (z + 1) * numVertsAcross + x;\n      indices[index + 4] = (z + 1) * numVertsAcross + x + 1;\n      indices[index + 5] = (z + 0) * numVertsAcross + x + 1;\n    }\n  }\n\n  const geometry = {\n    indices: {size: 1, value: indices},\n    attributes: {\n      POSITION: {size: 3, value: positions},\n      NORMAL: {size: 3, value: normals},\n      TEXCOORD_0: {size: 2, value: texCoords}\n    }\n  };\n\n  // Optionally, unpack indexed geometry\n  return unpack ? unpackIndexedGeometry(geometry) : geometry;\n}\n","export function unpackIndexedGeometry(geometry) {\n  const {indices, attributes} = geometry;\n  if (!indices) {\n    return geometry;\n  }\n\n  const vertexCount = indices.value.length;\n  const unpackedAttributes = {};\n\n  for (const attributeName in attributes) {\n    const attribute = attributes[attributeName];\n    const {constant, value, size} = attribute;\n    if (constant || !size) {\n      continue; // eslint-disable-line\n    }\n    const unpackedValue = new value.constructor(vertexCount * size);\n    for (let x = 0; x < vertexCount; ++x) {\n      const index = indices.value[x];\n      for (let i = 0; i < size; i++) {\n        unpackedValue[x * size + i] = value[index * size + i];\n      }\n    }\n    unpackedAttributes[attributeName] = {size, value: unpackedValue};\n  }\n\n  return {\n    attributes: Object.assign({}, attributes, unpackedAttributes)\n  };\n}\n","import Geometry from '../geometry/geometry';\nimport {uid} from '@luma.gl/webgl';\n\nexport default class SphereGeometry extends Geometry {\n  constructor(props = {}) {\n    const {id = uid('sphere-geometry')} = props;\n    const {indices, attributes} = tesselateSphere(props);\n    super({\n      ...props,\n      id,\n      indices,\n      attributes: {...attributes, ...props.attributes}\n    });\n  }\n}\n\n// Primitives inspired by TDL http://code.google.com/p/webglsamples/,\n// copyright 2011 Google Inc. new BSD License\n// (http://www.opensource.org/licenses/bsd-license.php).\n/* eslint-disable max-statements, complexity */\nfunction tesselateSphere(props) {\n  const {nlat = 10, nlong = 10} = props;\n  let {radius = 1} = props;\n\n  const startLat = 0;\n  const endLat = Math.PI;\n  const latRange = endLat - startLat;\n  const startLong = 0;\n  const endLong = 2 * Math.PI;\n  const longRange = endLong - startLong;\n  const numVertices = (nlat + 1) * (nlong + 1);\n\n  if (typeof radius === 'number') {\n    const value = radius;\n    radius = (n1, n2, n3, u, v) => value;\n  }\n\n  const positions = new Float32Array(numVertices * 3);\n  const normals = new Float32Array(numVertices * 3);\n  const texCoords = new Float32Array(numVertices * 2);\n\n  const IndexType = numVertices > 0xffff ? Uint32Array : Uint16Array;\n  const indices = new IndexType(nlat * nlong * 6);\n\n  // Create positions, normals and texCoords\n  for (let y = 0; y <= nlat; y++) {\n    for (let x = 0; x <= nlong; x++) {\n      const u = x / nlong;\n      const v = y / nlat;\n\n      const index = x + y * (nlong + 1);\n      const i2 = index * 2;\n      const i3 = index * 3;\n\n      const theta = longRange * u;\n      const phi = latRange * v;\n      const sinTheta = Math.sin(theta);\n      const cosTheta = Math.cos(theta);\n      const sinPhi = Math.sin(phi);\n      const cosPhi = Math.cos(phi);\n      const ux = cosTheta * sinPhi;\n      const uy = cosPhi;\n      const uz = sinTheta * sinPhi;\n\n      const r = radius(ux, uy, uz, u, v);\n\n      positions[i3 + 0] = r * ux;\n      positions[i3 + 1] = r * uy;\n      positions[i3 + 2] = r * uz;\n\n      normals[i3 + 0] = ux;\n      normals[i3 + 1] = uy;\n      normals[i3 + 2] = uz;\n\n      texCoords[i2 + 0] = u;\n      texCoords[i2 + 1] = 1 - v;\n    }\n  }\n\n  // Create indices\n  const numVertsAround = nlong + 1;\n  for (let x = 0; x < nlong; x++) {\n    for (let y = 0; y < nlat; y++) {\n      const index = (x * nlat + y) * 6;\n\n      indices[index + 0] = y * numVertsAround + x;\n      indices[index + 1] = y * numVertsAround + x + 1;\n      indices[index + 2] = (y + 1) * numVertsAround + x;\n\n      indices[index + 3] = (y + 1) * numVertsAround + x;\n      indices[index + 4] = y * numVertsAround + x + 1;\n      indices[index + 5] = (y + 1) * numVertsAround + x + 1;\n    }\n  }\n\n  return {\n    indices: {size: 1, value: indices},\n    attributes: {\n      POSITION: {size: 3, value: positions},\n      NORMAL: {size: 3, value: normals},\n      TEXCOORD_0: {size: 2, value: texCoords}\n    }\n  };\n}\n","/** @typedef {import('../../types').ShaderModule} ShaderModule */\n\nimport {Matrix4} from '@math.gl/core';\n\nconst IDENTITY_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nconst DEFAULT_MODULE_OPTIONS = {\n  modelMatrix: IDENTITY_MATRIX,\n  viewMatrix: IDENTITY_MATRIX,\n  projectionMatrix: IDENTITY_MATRIX,\n  cameraPositionWorld: [0, 0, 0]\n};\n\nfunction getUniforms(opts = DEFAULT_MODULE_OPTIONS, prevUniforms = {}) {\n  // const viewProjectionInverse = viewProjection.invert();\n  // viewInverseMatrix: view.invert(),\n  // viewProjectionInverseMatrix: viewProjectionInverse\n\n  const uniforms = {};\n  if (opts.modelMatrix !== undefined) {\n    uniforms.modelMatrix = opts.modelMatrix;\n  }\n  if (opts.viewMatrix !== undefined) {\n    uniforms.viewMatrix = opts.viewMatrix;\n  }\n  if (opts.projectionMatrix !== undefined) {\n    uniforms.projectionMatrix = opts.projectionMatrix;\n  }\n  if (opts.cameraPositionWorld !== undefined) {\n    uniforms.cameraPositionWorld = opts.cameraPositionWorld;\n  }\n\n  // COMPOSITE UNIFORMS\n  if (opts.projectionMatrix !== undefined || opts.viewMatrix !== undefined) {\n    uniforms.viewProjectionMatrix = new Matrix4(opts.projectionMatrix).multiplyRight(\n      opts.viewMatrix\n    );\n  }\n\n  return uniforms;\n}\n\nconst common = `\\\nvarying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n`;\n\nconst vs = `\\\n${common}\n\n// Unprefixed uniforms\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n`;\n\nconst fs = `\n${common}\\\n`;\n\n/** @type {ShaderModule} */\nexport const project = {\n  name: 'project',\n  getUniforms,\n  vs,\n  fs\n};\n","/** @typedef {import('../../types').ShaderModule} ShaderModule */\n\n// Cheap lighting - single directional light, single dot product, one uniform\n\nimport {project} from '../project/project';\n\n/* eslint-disable camelcase */\nconst DEFAULT_LIGHT_DIRECTION = new Float32Array([1, 1, 2]);\n\nconst DEFAULT_MODULE_OPTIONS = {\n  lightDirection: DEFAULT_LIGHT_DIRECTION\n};\n\nfunction getUniforms(opts = DEFAULT_MODULE_OPTIONS) {\n  const uniforms = {};\n  if (opts.lightDirection) {\n    uniforms.dirlight_uLightDirection = opts.lightDirection;\n  }\n  return uniforms;\n}\n\n// TODO - reuse normal from geometry module\nconst vs = null;\n\nconst fs = `\\\nuniform vec3 dirlight_uLightDirection;\n\n/*\n * Returns color attenuated by angle from light source\n */\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n`;\n\nexport const dirlight = {\n  name: 'dirlight',\n  vs,\n  fs,\n  getUniforms,\n  dependencies: [project]\n};\n","// Copyright (c) 2015-2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n/* eslint-disable camelcase */\nimport {project} from '@deck.gl/core';\nimport type {Viewport, _ShaderModule as ShaderModule} from '@deck.gl/core';\n\nimport type {BrushingExtensionProps} from './brushing';\n\ntype BrushingModuleSettings = {\n  // From layer context\n  viewport: Viewport;\n  mousePosition?: {x: number; y: number};\n} & BrushingExtensionProps;\n\nconst vs = `\n  uniform bool brushing_enabled;\n  uniform int brushing_target;\n  uniform vec2 brushing_mousePos;\n  uniform float brushing_radius;\n\n  #ifdef NON_INSTANCED_MODEL\n  attribute vec2 brushingTargets;\n  #else\n  attribute vec2 instanceBrushingTargets;\n  #endif\n\n  varying float brushing_isVisible;\n\n  bool brushing_isPointInRange(vec2 position) {\n    if (!brushing_enabled) {\n      return true;\n    }\n    vec2 source_commonspace = project_position(position);\n    vec2 target_commonspace = project_position(brushing_mousePos);\n    float distance = length((target_commonspace - source_commonspace) / project_uCommonUnitsPerMeter.xy);\n\n    return distance <= brushing_radius;\n  }\n\n  bool brushing_arePointsInRange(vec2 sourcePos, vec2 targetPos) {\n    return brushing_isPointInRange(sourcePos) || brushing_isPointInRange(targetPos);\n  }\n\n  void brushing_setVisible(bool visible) {\n    brushing_isVisible = float(visible);\n  }\n`;\n\nconst fs = `\n  uniform bool brushing_enabled;\n  varying float brushing_isVisible;\n`;\n\nconst TARGET = {\n  source: 0,\n  target: 1,\n  custom: 2,\n  source_target: 3\n};\n\nconst inject = {\n  'vs:DECKGL_FILTER_GL_POSITION': `\n    vec2 brushingTarget;\n    vec2 brushingSource;\n    if (brushing_target == 3) {\n      brushingTarget = geometry.worldPositionAlt.xy;\n      brushingSource = geometry.worldPosition.xy;\n    } else if (brushing_target == 0) {\n      brushingTarget = geometry.worldPosition.xy;\n    } else if (brushing_target == 1) {\n      brushingTarget = geometry.worldPositionAlt.xy;\n    } else {\n      #ifdef NON_INSTANCED_MODEL\n      brushingTarget = brushingTargets;\n      #else\n      brushingTarget = instanceBrushingTargets;\n      #endif\n    }\n    bool visible;\n    if (brushing_target == 3) {\n      visible = brushing_arePointsInRange(brushingSource, brushingTarget);\n    } else {\n      visible = brushing_isPointInRange(brushingTarget);\n    }\n    brushing_setVisible(visible);\n  `,\n\n  'fs:DECKGL_FILTER_COLOR': `\n    if (brushing_enabled && brushing_isVisible < 0.5) {\n      discard;\n    }\n  `\n};\n\nexport default {\n  name: 'brushing',\n  dependencies: [project],\n  vs,\n  fs,\n  inject,\n  getUniforms: (opts?: BrushingModuleSettings | {}): Record<string, any> => {\n    if (!opts || !('viewport' in opts)) {\n      return {};\n    }\n    const {\n      brushingEnabled = true,\n      brushingRadius = 10000,\n      brushingTarget = 'source',\n      mousePosition,\n      viewport\n    } = opts;\n    return {\n      brushing_enabled: Boolean(\n        brushingEnabled && mousePosition && viewport.containsPixel(mousePosition)\n      ),\n      brushing_radius: brushingRadius,\n      brushing_target: TARGET[brushingTarget] || 0,\n      brushing_mousePos: mousePosition\n        ? viewport.unproject([mousePosition.x - viewport.x, mousePosition.y - viewport.y])\n        : [0, 0]\n    };\n  }\n} as ShaderModule<BrushingModuleSettings>;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {LayerExtension} from '@deck.gl/core';\nimport shaderModule from './shader-module';\n\nimport type {Layer, LayerContext, Accessor} from '@deck.gl/core';\n\nconst defaultProps = {\n  getBrushingTarget: {type: 'accessor', value: [0, 0]},\n\n  brushingTarget: 'source',\n  brushingEnabled: true,\n  brushingRadius: 10000\n};\n\nexport type BrushingExtensionProps<DataT = any> = {\n  /**\n   * Called to retrieve an arbitrary position for each object that it will be filtered by.\n   * Only effective if `brushingTarget` is set to `custom`.\n   */\n  getBrushingTarget?: Accessor<DataT, [number, number]>;\n  /**\n   * Enable/disable brushing. If brushing is disabled, all objects are rendered.\n   * @default true\n   */\n  brushingEnabled?: boolean;\n  /**\n   * The position used to filter each object by.\n   */\n  brushingTarget?: 'source' | 'target' | 'source_target' | 'custom';\n  /** The brushing radius centered at the pointer, in meters. If a data object is within this circle, it is rendered; otherwise it is hidden.\n   * @default 10000\n   */\n  brushingRadius?: number;\n};\n\n/** Adds GPU-based data brushing functionalities to layers. It allows the layer to show/hide objects based on the current pointer position. */\nexport default class BrushingExtension extends LayerExtension {\n  static defaultProps = defaultProps;\n  static extensionName = 'BrushingExtension';\n\n  getShaders(): any {\n    return {\n      modules: [shaderModule]\n    };\n  }\n\n  initializeState(this: Layer<BrushingExtensionProps>, context: LayerContext, extension: this) {\n    const attributeManager = this.getAttributeManager();\n    if (attributeManager) {\n      attributeManager.add({\n        brushingTargets: {\n          size: 2,\n          accessor: 'getBrushingTarget',\n          // Hack: extension's defaultProps is not merged with the layer's defaultProps,\n          // So we can't use the standard accessor when the prop is undefined\n          // TODO - move to an option\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          update: this.props.getBrushingTarget ? undefined : extension.useConstantTargetPositions,\n          shaderAttributes: {\n            brushingTargets: {\n              divisor: 0\n            },\n            instanceBrushingTargets: {\n              divisor: 1\n            }\n          }\n        }\n      });\n    }\n\n    // Trigger redraw when mouse moves\n    // TODO - expose this in a better way\n    this.state.onMouseMove = () => {\n      this.getCurrentLayer()?.setNeedsRedraw();\n    };\n    if (context.deck) {\n      // @ts-expect-error (2446) accessing protected property\n      context.deck.eventManager.on({\n        pointermove: this.state.onMouseMove,\n        pointerleave: this.state.onMouseMove\n      });\n    }\n  }\n\n  finalizeState(this: Layer<BrushingExtensionProps>, context: LayerContext, extension: this) {\n    // Remove event listeners\n    if (context.deck) {\n      // @ts-expect-error (2446) accessing protected property\n      context.deck.eventManager.off({\n        pointermove: this.state.onMouseMove,\n        pointerleave: this.state.onMouseMove\n      });\n    }\n  }\n\n  useConstantTargetPositions(attribute) {\n    attribute.constant = true;\n    attribute.value = new Float32Array(2);\n    return;\n  }\n}\n","import {_ShaderModule as ShaderModule} from '@deck.gl/core/typed';\n\nimport type {DataFilterExtensionProps} from './data-filter';\n\n/*\n * data filter shader module\n */\nconst vs = `\nuniform DATAFILTER_TYPE filter_min;\nuniform DATAFILTER_TYPE filter_softMin;\nuniform DATAFILTER_TYPE filter_softMax;\nuniform DATAFILTER_TYPE filter_max;\nuniform bool filter_useSoftMargin;\nuniform bool filter_enabled;\nuniform bool filter_transformSize;\n\n#ifdef NON_INSTANCED_MODEL\n  #define DATAFILTER_ATTRIB filterValues\n  #define DATAFILTER_ATTRIB_64LOW filterValues64Low\n#else\n  #define DATAFILTER_ATTRIB instanceFilterValues\n  #define DATAFILTER_ATTRIB_64LOW instanceFilterValues64Low\n#endif\n\nattribute DATAFILTER_TYPE DATAFILTER_ATTRIB;\n#ifdef DATAFILTER_DOUBLE\n  attribute DATAFILTER_TYPE DATAFILTER_ATTRIB_64LOW;\n\n  uniform DATAFILTER_TYPE filter_min64High;\n  uniform DATAFILTER_TYPE filter_max64High;\n#endif\n\nvarying float dataFilter_value;\n\nfloat dataFilter_reduceValue(float value) {\n  return value;\n}\nfloat dataFilter_reduceValue(vec2 value) {\n  return min(value.x, value.y);\n}\nfloat dataFilter_reduceValue(vec3 value) {\n  return min(min(value.x, value.y), value.z);\n}\nfloat dataFilter_reduceValue(vec4 value) {\n  return min(min(value.x, value.y), min(value.z, value.w));\n}\nvoid dataFilter_setValue(DATAFILTER_TYPE valueFromMin, DATAFILTER_TYPE valueFromMax) {\n  if (filter_enabled) {\n    if (filter_useSoftMargin) {\n      dataFilter_value = dataFilter_reduceValue(\n        smoothstep(filter_min, filter_softMin, valueFromMin) *\n        (1.0 - smoothstep(filter_softMax, filter_max, valueFromMax))\n      );\n    } else {\n      dataFilter_value = dataFilter_reduceValue(\n        step(filter_min, valueFromMin) * step(valueFromMax, filter_max)\n      );\n    }\n  } else {\n    dataFilter_value = 1.0;\n  }\n}\n`;\n\nconst fs = `\nuniform bool filter_transformColor;\nvarying float dataFilter_value;\n`;\n\ntype DataFilterModuleSettings = {\n  extensions: any[]; // used to detect if layer props are present\n} & DataFilterExtensionProps;\n\n/* eslint-disable camelcase */\nfunction getUniforms(opts?: DataFilterModuleSettings | {}): Record<string, any> {\n  if (!opts || !('extensions' in opts)) {\n    return {};\n  }\n  const {\n    filterRange = [-1, 1],\n    filterEnabled = true,\n    filterTransformSize = true,\n    filterTransformColor = true\n  } = opts;\n  const filterSoftRange = opts.filterSoftRange || filterRange;\n\n  return {\n    ...(Number.isFinite(filterRange[0])\n      ? {\n          filter_min: filterRange[0],\n          filter_softMin: filterSoftRange[0],\n          filter_softMax: filterSoftRange[1],\n          filter_max: filterRange[1]\n        }\n      : {\n          filter_min: filterRange.map(r => r[0]),\n          filter_softMin: filterSoftRange.map(r => r[0]),\n          filter_softMax: filterSoftRange.map(r => r[1]),\n          filter_max: filterRange.map(r => r[1])\n        }),\n    filter_enabled: filterEnabled,\n    filter_useSoftMargin: Boolean(opts.filterSoftRange),\n    filter_transformSize: filterEnabled && filterTransformSize,\n    filter_transformColor: filterEnabled && filterTransformColor\n  };\n}\n\nfunction getUniforms64(opts?: DataFilterModuleSettings | {}): Record<string, any> {\n  if (!opts || !('extensions' in opts)) {\n    return {};\n  }\n  const uniforms = getUniforms(opts);\n  if (Number.isFinite(uniforms.filter_min)) {\n    const min64High = Math.fround(uniforms.filter_min);\n    uniforms.filter_min -= min64High;\n    uniforms.filter_softMin -= min64High;\n    uniforms.filter_min64High = min64High;\n\n    const max64High = Math.fround(uniforms.filter_max);\n    uniforms.filter_max -= max64High;\n    uniforms.filter_softMax -= max64High;\n    uniforms.filter_max64High = max64High;\n  } else {\n    const min64High = uniforms.filter_min.map(Math.fround);\n    uniforms.filter_min = uniforms.filter_min.map((x, i) => x - min64High[i]);\n    uniforms.filter_softMin = uniforms.filter_softMin.map((x, i) => x - min64High[i]);\n    uniforms.filter_min64High = min64High;\n\n    const max64High = uniforms.filter_max.map(Math.fround);\n    uniforms.filter_max = uniforms.filter_max.map((x, i) => x - max64High[i]);\n    uniforms.filter_softMax = uniforms.filter_softMax.map((x, i) => x - max64High[i]);\n    uniforms.filter_max64High = max64High;\n  }\n  return uniforms;\n}\n\nconst inject = {\n  'vs:#main-start': `\n    #ifdef DATAFILTER_DOUBLE\n      dataFilter_setValue(\n        DATAFILTER_ATTRIB - filter_min64High + DATAFILTER_ATTRIB_64LOW,\n        DATAFILTER_ATTRIB - filter_max64High + DATAFILTER_ATTRIB_64LOW\n      );\n    #else\n      dataFilter_setValue(DATAFILTER_ATTRIB, DATAFILTER_ATTRIB);\n    #endif\n  `,\n\n  'vs:DECKGL_FILTER_SIZE': `\n    if (filter_transformSize) {\n      size = size * dataFilter_value;\n    }\n  `,\n\n  'fs:DECKGL_FILTER_COLOR': `\n    if (dataFilter_value == 0.0) discard;\n    if (filter_transformColor) {\n      color.a *= dataFilter_value;\n    }\n  `\n};\n\nexport const shaderModule: ShaderModule<DataFilterModuleSettings> = {\n  name: 'data-filter',\n  vs,\n  fs,\n  inject,\n  getUniforms\n};\n\nexport const shaderModule64: ShaderModule<DataFilterModuleSettings> = {\n  name: 'data-filter-fp64',\n  vs,\n  fs,\n  inject,\n  getUniforms: getUniforms64\n};\n","import {Model, Texture2D, Framebuffer, isWebGL2} from '@luma.gl/core';\nimport GL from '@luma.gl/constants';\n\nconst AGGREGATE_VS = `\\\n#define SHADER_NAME data-filter-vertex-shader\n\n#ifdef FLOAT_TARGET\n  attribute float filterIndices;\n  attribute float filterPrevIndices;\n#else\n  attribute vec2 filterIndices;\n  attribute vec2 filterPrevIndices;\n#endif\n\nvarying vec4 vColor;\nconst float component = 1.0 / 255.0;\n\nvoid main() {\n  #ifdef FLOAT_TARGET\n    dataFilter_value *= float(filterIndices != filterPrevIndices);\n    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    vColor = vec4(0.0, 0.0, 0.0, 1.0);\n  #else\n    // Float texture is not supported: pack result into 4 channels x 256 px x 64px\n    dataFilter_value *= float(filterIndices.x != filterPrevIndices.x);\n    float col = filterIndices.x;\n    float row = filterIndices.y * 4.0;\n    float channel = floor(row);\n    row = fract(row);\n    vColor = component * vec4(bvec4(channel == 0.0, channel == 1.0, channel == 2.0, channel == 3.0));\n    gl_Position = vec4(col * 2.0 - 1.0, row * 2.0 - 1.0, 0.0, 1.0);\n  #endif\n  gl_PointSize = 1.0;\n}\n`;\n\nconst AGGREGATE_FS = `\\\n#define SHADER_NAME data-filter-fragment-shader\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main() {\n  if (dataFilter_value < 0.5) {\n    discard;\n  }\n  gl_FragColor = vColor;\n}\n`;\n\nexport function supportsFloatTarget(gl: WebGLRenderingContext): boolean {\n  // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#Support_for_float_textures_doesnt_mean_you_can_render_into_them!\n  return Boolean(\n    gl.getExtension('EXT_float_blend') &&\n      // WebGL 2\n      (gl.getExtension('EXT_color_buffer_float') ||\n        // WebGL 1\n        gl.getExtension('WEBGL_color_buffer_float'))\n  );\n}\n\n// A 1x1 framebuffer object that encodes the total count of filtered items\nexport function getFramebuffer(gl: WebGLRenderingContext, useFloatTarget: boolean): Framebuffer {\n  if (useFloatTarget) {\n    return new Framebuffer(gl, {\n      width: 1,\n      height: 1,\n      attachments: {\n        [GL.COLOR_ATTACHMENT0]: new Texture2D(gl, {\n          format: isWebGL2(gl) ? GL.RGBA32F : GL.RGBA,\n          type: GL.FLOAT,\n          mipmaps: false\n        })\n      }\n    });\n  }\n  return new Framebuffer(gl, {\n    width: 256,\n    height: 64,\n    depth: false\n  });\n}\n\n// Increments the counter based on dataFilter_value\nexport function getModel(\n  gl: WebGLRenderingContext,\n  shaderOptions: any,\n  useFloatTarget: boolean\n): Model {\n  shaderOptions.defines.NON_INSTANCED_MODEL = 1;\n  if (useFloatTarget) {\n    shaderOptions.defines.FLOAT_TARGET = 1;\n  }\n\n  return new Model(gl, {\n    id: 'data-filter-aggregation-model',\n    vertexCount: 1,\n    isInstanced: false,\n    drawMode: GL.POINTS,\n    vs: AGGREGATE_VS,\n    fs: AGGREGATE_FS,\n    ...shaderOptions\n  });\n}\n\nexport const parameters = {\n  blend: true,\n  blendFunc: [GL.ONE, GL.ONE, GL.ONE, GL.ONE],\n  blendEquation: [GL.FUNC_ADD, GL.FUNC_ADD],\n  depthTest: false\n};\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {LayerExtension} from '@deck.gl/core';\nimport {shaderModule, shaderModule64} from './shader-module';\nimport * as aggregator from './aggregator';\nimport {readPixelsToArray, clear} from '@luma.gl/core';\nimport GL from '@luma.gl/constants';\n\nimport type {Layer, LayerContext, Accessor, UpdateParameters} from '@deck.gl/core';\n\nconst defaultProps = {\n  getFilterValue: {type: 'accessor', value: 0},\n  onFilteredItemsChange: {type: 'function', value: null, compare: false},\n\n  filterEnabled: true,\n  filterRange: [-1, 1],\n  filterSoftRange: null,\n  filterTransformSize: true,\n  filterTransformColor: true\n};\n\nexport type DataFilterExtensionProps<DataT = any> = {\n  /**\n   * Accessor to retrieve the value for each object that it will be filtered by.\n   * Returns either a number (if `filterSize: 1`) or an array of numbers.\n   */\n  getFilterValue?: Accessor<DataT, number | number[]>;\n  /**\n   * Enable/disable the data filter. If the data filter is disabled, all objects are rendered.\n   * @default true\n   */\n  filterEnabled?: boolean;\n  /**\n   * The [min, max] bounds which defines whether an object should be rendered.\n   * If an object's filtered value is within the bounds, the object will be rendered; otherwise it will be hidden.\n   * @default [-1, 1]\n   */\n  filterRange?: [number, number] | [number, number][];\n  /**\n   * If specified, objects will be faded in/out instead of abruptly shown/hidden.\n   * When the filtered value is outside of the bounds defined by `filterSoftRange` but still within the bounds defined by `filterRange`, the object will be rendered as \"faded.\"\n   * @default null\n   */\n  filterSoftRange?: [number, number] | [number, number][] | null;\n  /**\n   * When an object is \"faded\", manipulate its size so that it appears smaller or thinner. Only works if `filterSoftRange` is specified.\n   * @default true\n   */\n  filterTransformSize?: boolean;\n  /**\n   * When an object is \"faded\", manipulate its opacity so that it appears more translucent. Only works if `filterSoftRange` is specified.\n   * @default true\n   */\n  filterTransformColor?: boolean;\n  /**\n   * Only called if the `countItems` option is enabled.\n   */\n  onFilteredItemsChange?: (evt: {\n    /** The id of the source layer. */\n    id: string;\n    /** The number of data objects that pass the filter. */\n    count: number;\n  }) => void;\n};\n\ntype DataFilterExtensionOptions = {\n  /**\n   * The size of the filter (number of columns to filter by). The data filter can show/hide data based on 1-4 numeric properties of each object.\n   * @default 1\n   */\n  filterSize: number;\n  /**\n   * Use 64-bit precision instead of 32-bit.\n   * @default false\n   */\n  fp64: boolean;\n  /**\n   * If `true`, reports the number of filtered objects with the `onFilteredItemsChange` callback.\n   * @default `false`.\n   */\n  countItems: boolean;\n};\n\nconst DATA_TYPE_FROM_SIZE = {\n  1: 'float',\n  2: 'vec2',\n  3: 'vec3',\n  4: 'vec4'\n};\n\n/** Adds GPU-based data filtering functionalities to layers. It allows the layer to show/hide objects based on user-defined properties. */\nexport default class DataFilterExtension extends LayerExtension<DataFilterExtensionOptions> {\n  static defaultProps = defaultProps;\n  static extensionName = 'DataFilterExtension';\n\n  constructor({\n    filterSize = 1,\n    fp64 = false,\n    countItems = false\n  }: Partial<DataFilterExtensionOptions> = {}) {\n    if (!DATA_TYPE_FROM_SIZE[filterSize]) {\n      throw new Error('filterSize out of range');\n    }\n\n    super({filterSize, fp64, countItems});\n  }\n\n  getShaders(this: Layer<DataFilterExtensionProps>, extension: this): any {\n    const {filterSize, fp64} = extension.opts;\n\n    return {\n      modules: [fp64 ? shaderModule64 : shaderModule],\n      defines: {\n        DATAFILTER_TYPE: DATA_TYPE_FROM_SIZE[filterSize],\n        DATAFILTER_DOUBLE: Boolean(fp64)\n      }\n    };\n  }\n\n  initializeState(this: Layer<DataFilterExtensionProps>, context: LayerContext, extension: this) {\n    const attributeManager = this.getAttributeManager();\n    if (attributeManager) {\n      attributeManager.add({\n        filterValues: {\n          size: extension.opts.filterSize,\n          type: extension.opts.fp64 ? GL.DOUBLE : GL.FLOAT,\n          accessor: 'getFilterValue',\n          shaderAttributes: {\n            filterValues: {\n              divisor: 0\n            },\n            instanceFilterValues: {\n              divisor: 1\n            }\n          }\n        }\n      });\n    }\n\n    const {gl} = this.context;\n    if (attributeManager && extension.opts.countItems) {\n      const useFloatTarget = aggregator.supportsFloatTarget(gl);\n      // This attribute is needed for variable-width data, e.g. Path, SolidPolygon, Text\n      // The vertex shader checks if a vertex has the same \"index\" as the previous vertex\n      // so that we only write one count cross multiple vertices of the same object\n      attributeManager.add({\n        filterIndices: {\n          size: useFloatTarget ? 1 : 2,\n          vertexOffset: 1,\n          type: GL.UNSIGNED_BYTE,\n          normalized: true,\n          accessor: (object, {index}) => {\n            const i = object && object.__source ? object.__source.index : index;\n            return useFloatTarget ? (i + 1) % 255 : [(i + 1) % 255, Math.floor(i / 255) % 255];\n          },\n          shaderAttributes: {\n            filterPrevIndices: {\n              vertexOffset: 0\n            },\n            filterIndices: {\n              vertexOffset: 1\n            }\n          }\n        }\n      });\n\n      const filterFBO = aggregator.getFramebuffer(gl, useFloatTarget);\n      const filterModel = aggregator.getModel(\n        gl,\n        extension.getShaders.call(this, extension),\n        useFloatTarget\n      );\n      this.setState({filterFBO, filterModel});\n    }\n  }\n\n  updateState(\n    this: Layer<DataFilterExtensionProps>,\n    {props, oldProps}: UpdateParameters<Layer<DataFilterExtensionProps>>\n  ) {\n    if (this.state.filterModel) {\n      const attributeManager = this.getAttributeManager();\n      const filterNeedsUpdate =\n        // attributeManager must be defined for filterModel to be set\n        attributeManager!.attributes.filterValues.needsUpdate() ||\n        props.filterEnabled !== oldProps.filterEnabled ||\n        props.filterRange !== oldProps.filterRange ||\n        props.filterSoftRange !== oldProps.filterSoftRange;\n      if (filterNeedsUpdate) {\n        this.setState({filterNeedsUpdate});\n      }\n    }\n  }\n\n  draw(this: Layer<DataFilterExtensionProps>, params: any, extension: this) {\n    const {filterFBO, filterModel, filterNeedsUpdate} = this.state;\n    const {onFilteredItemsChange} = this.props;\n    if (filterNeedsUpdate && onFilteredItemsChange && filterModel) {\n      const {\n        attributes: {filterValues, filterIndices}\n      } = this.getAttributeManager()!;\n      filterModel.setVertexCount(this.getNumInstances());\n\n      const {gl} = this.context;\n      clear(gl, {framebuffer: filterFBO, color: [0, 0, 0, 0]});\n\n      filterModel\n        .updateModuleSettings(params.moduleParameters)\n        .setAttributes({\n          ...filterValues.getShaderAttributes(),\n          ...(filterIndices && filterIndices.getShaderAttributes())\n        })\n        .draw({\n          framebuffer: filterFBO,\n          parameters: {\n            ...aggregator.parameters,\n            viewport: [0, 0, filterFBO.width, filterFBO.height]\n          }\n        });\n      const color = readPixelsToArray(filterFBO);\n      let count = 0;\n      for (let i = 0; i < color.length; i++) {\n        count += color[i];\n      }\n      onFilteredItemsChange({id: this.id, count});\n\n      this.state.filterNeedsUpdate = false;\n    }\n  }\n\n  finalizeState(this: Layer<DataFilterExtensionProps>) {\n    const {filterFBO, filterModel} = this.state;\n    if (filterFBO) {\n      filterFBO.color.delete();\n      filterFBO.delete();\n      filterModel.delete();\n    }\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/* eslint-disable camelcase */\nimport {fp64} from '@luma.gl/shadertools';\nconst {fp64ify, fp64ifyMatrix4} = fp64;\nimport {project, _memoize as memoize} from '@deck.gl/core';\n\nimport type {Viewport, _ShaderModule as ShaderModule} from '@deck.gl/core';\nimport project64Shader from './project64.glsl';\n\ntype Project64ModuleSettings = {\n  viewport: Viewport;\n};\n\nexport default {\n  name: 'project64',\n  dependencies: [project, fp64],\n  vs: project64Shader,\n  getUniforms\n} as ShaderModule<Project64ModuleSettings>;\n\n// TODO - this module should calculate the 64 bit uniforms\n// It is currently done by project to minimize duplicated work\n\nconst getMemoizedUniforms = memoize(calculateUniforms);\n\nfunction getUniforms(opts?: Project64ModuleSettings | {}): Record<string, any> {\n  if (opts && 'viewport' in opts) {\n    const {viewProjectionMatrix, scale} = opts.viewport;\n    // We only need to update fp64 uniforms if fp32 projection is being updated\n    return getMemoizedUniforms({viewProjectionMatrix, scale});\n  }\n  return {};\n}\n\nfunction calculateUniforms({\n  viewProjectionMatrix,\n  scale\n}: {\n  viewProjectionMatrix: number[];\n  scale: number;\n}) {\n  const glViewProjectionMatrixFP64 = fp64ifyMatrix4(viewProjectionMatrix);\n  const scaleFP64 = fp64ify(scale);\n\n  return {\n    project_uViewProjectionMatrixFP64: glViewProjectionMatrixFP64,\n    project64_uViewProjectionMatrix: glViewProjectionMatrixFP64,\n    project64_uScale: scaleFP64\n  };\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n\nconst vec2 WORLD_SCALE_FP64 = vec2(81.4873275756836, 0.0000032873668232014097);\n\nuniform vec2 project_uViewProjectionMatrixFP64[16];\n\n// longitude: lnglat_fp64.xy; latitude: lnglat_fp64.zw\nvoid mercatorProject_fp64(vec4 lnglat_fp64, out vec2 out_val[2]) {\n\n#if defined(NVIDIA_FP64_WORKAROUND)\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64 * ONE);\n#else\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64);\n#endif\n  out_val[1] = sum_fp64(PI_FP64,\n    log_fp64(tan_fp64(sum_fp64(PI_4_FP64, radians_fp64(lnglat_fp64.zw) / 2.0))));\n  return;\n}\n\nvoid project_position_fp64(vec4 position_fp64, out vec2 out_val[2]) {\n  vec2 pos_fp64[2];\n  mercatorProject_fp64(position_fp64, pos_fp64);\n  out_val[0] = mul_fp64(pos_fp64[0], WORLD_SCALE_FP64);\n  out_val[1] = mul_fp64(pos_fp64[1], WORLD_SCALE_FP64);\n\n  return;\n}\n\nvoid project_position_fp64(vec2 position, vec2 position64xyLow, out vec2 out_val[2]) {\n  vec4 position64xy = vec4(\n    position.x, position64xyLow.x,\n    position.y, position64xyLow.y);\n\n  project_position_fp64(position64xy, out_val);\n}\n\nvec4 project_common_position_to_clipspace_fp64(vec2 vertex_pos_modelspace[4]) {\n  vec2 vertex_pos_clipspace[4];\n  mat4_vec4_mul_fp64(project_uViewProjectionMatrixFP64, vertex_pos_modelspace,\n    vertex_pos_clipspace);\n  return vec4(\n    vertex_pos_clipspace[0].x,\n    vertex_pos_clipspace[1].x,\n    vertex_pos_clipspace[2].x,\n    vertex_pos_clipspace[3].x\n    );\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64xyLow, vec3 offset, out vec4 commonPosition\n) {\n  // This is the local offset to the instance position\n  vec2 offset64[4];\n  vec4_fp64(vec4(offset, 0.0), offset64);\n\n  float z = project_size(position.z);\n\n  // Apply web mercator projection (depends on coordinate system imn use)\n  vec2 projectedPosition64xy[2];\n  project_position_fp64(position.xy, position64xyLow.xy, projectedPosition64xy);\n\n  vec2 commonPosition64[4];\n  commonPosition64[0] = sum_fp64(offset64[0], projectedPosition64xy[0]);\n  commonPosition64[1] = sum_fp64(offset64[1], projectedPosition64xy[1]);\n  commonPosition64[2] = sum_fp64(offset64[2], vec2(z, 0.0));\n  commonPosition64[3] = vec2(1.0, 0.0);\n\n  commonPosition = vec4(projectedPosition64xy[0].x, projectedPosition64xy[1].x, z, 1.0);\n\n  return project_common_position_to_clipspace_fp64(commonPosition64);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64xyLow, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(\n    position, position64xyLow, offset, commonPosition\n  );\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {LayerExtension, COORDINATE_SYSTEM} from '@deck.gl/core';\nimport project64 from './project64';\n\nimport type {Layer} from '@deck.gl/core';\n\n/** @deprecated Adds the legacy 64-bit precision to geospatial layers. */\nexport default class Fp64Extension extends LayerExtension {\n  static extensionName = 'Fp64Extension';\n\n  getShaders(this: Layer): any {\n    const {coordinateSystem} = this.props;\n    if (\n      coordinateSystem !== COORDINATE_SYSTEM.LNGLAT &&\n      coordinateSystem !== COORDINATE_SYSTEM.DEFAULT\n    ) {\n      throw new Error('fp64: coordinateSystem must be LNGLAT');\n    }\n\n    return {\n      modules: [project64]\n    };\n  }\n}\n","export const dashShaders = {\n  inject: {\n    'vs:#decl': `\nattribute vec2 instanceDashArrays;\nattribute float instanceDashOffsets;\nvarying vec2 vDashArray;\nvarying float vDashOffset;\n`,\n\n    'vs:#main-end': `\nvDashArray = instanceDashArrays;\nvDashOffset = instanceDashOffsets / width.x;\n`,\n\n    'fs:#decl': `\nuniform float dashAlignMode;\nuniform float capType;\nuniform bool dashGapPickable;\nvarying vec2 vDashArray;\nvarying float vDashOffset;\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n`,\n\n    // if given position is in the gap part of the dashed line\n    // dashArray.x: solid stroke length, relative to width\n    // dashArray.y: gap length, relative to width\n    // alignMode:\n    // 0 - no adjustment\n    // o----     ----     ----     ---- o----     -o----     ----     o\n    // 1 - stretch to fit, draw half dash at each end for nicer joints\n    // o--    ----    ----    ----    --o--      --o--     ----     --o\n    'fs:#main-start': `\n  float solidLength = vDashArray.x;\n  float gapLength = vDashArray.y;\n  float unitLength = solidLength + gapLength;\n\n  float offset;\n\n  if (unitLength > 0.0) {\n    if (dashAlignMode == 0.0) {\n      offset = vDashOffset;\n    } else {\n      unitLength = vPathLength / round(vPathLength / unitLength);\n      offset = solidLength / 2.0;\n    }\n\n    float unitOffset = mod(clamp(vPathPosition.y, 0.0, vPathLength) + offset, unitLength);\n\n    if (gapLength > 0.0 && unitOffset > solidLength) {\n      if (capType <= 0.5) {\n        if (!(dashGapPickable && picking_uActive)) {\n          discard;\n        }\n      } else {\n        // caps are rounded, test the distance to solid ends\n        float distToEnd = length(vec2(\n          min(unitOffset - solidLength, unitLength - unitOffset),\n          vPathPosition.x\n        ));\n        if (distToEnd > 1.0) {\n          if (!(dashGapPickable && picking_uActive)) {\n            discard;\n          }\n        }\n      }\n    }\n  }\n`\n  }\n};\n\nexport const offsetShaders = {\n  inject: {\n    'vs:#decl': `\nattribute float instanceOffsets;\n`,\n    'vs:DECKGL_FILTER_SIZE': `\n  float offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\n  size *= offsetWidth;\n`,\n    'vCornerOffset = offsetVec;': `\n  float offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\n  vec2 offsetCenter = -instanceOffsets * (isCap ? perp : miterVec * miterSize) * 2.0;\n  vCornerOffset = vCornerOffset * offsetWidth - offsetCenter;\n`,\n    'fs:#main-start': `\n  float isInside;\n  isInside = step(-1.0, vPathPosition.x) * step(vPathPosition.x, 1.0);\n  if (isInside == 0.0) {\n    discard;\n  }\n`\n  }\n};\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {LayerExtension, _mergeShaders as mergeShaders} from '@deck.gl/core';\nimport {dashShaders, offsetShaders} from './shaders.glsl';\nimport {dist} from 'gl-matrix/vec3';\n\nimport type {Layer, LayerContext, Accessor, UpdateParameters} from '@deck.gl/core';\n\nconst defaultProps = {\n  getDashArray: {type: 'accessor', value: [0, 0]},\n  getOffset: {type: 'accessor', value: 0},\n  dashJustified: false,\n  dashGapPickable: false\n};\n\nexport type PathStyleExtensionProps<DataT = any> = {\n  /**\n   * Accessor for the dash array to draw each path with: `[dashSize, gapSize]` relative to the width of the path.\n   * Requires the `dash` option to be on.\n   */\n  getDashArray?: Accessor<DataT, [number, number]>;\n  /**\n   * Accessor for the offset to draw each path with, relative to the width of the path.\n   * Negative offset is to the left hand side, and positive offset is to the right hand side.\n   * @default 0\n   */\n  getOffset?: Accessor<DataT, number>;\n  /**\n   * If `true`, adjust gaps for the dashes to align at both ends.\n   * @default false\n   */\n  dashJustified?: boolean;\n  /**\n   * If `true`, gaps between solid strokes are pickable. If `false`, only the solid strokes are pickable.\n   * @default false\n   */\n  dashGapPickable?: boolean;\n};\n\ntype PathStyleExtensionOptions = {\n  /**\n   * Add capability to render dashed lines.\n   * @default false\n   */\n  dash: boolean;\n  /**\n   * Add capability to offset lines.\n   * @default false\n   */\n  offset: boolean;\n  /**\n   * Improve dash rendering quality in certain circumstances. Note that this option introduces additional performance overhead.\n   * @default false\n   */\n  highPrecisionDash: boolean;\n};\n\n/** Adds selected features to the `PathLayer` and composite layers that render the `PathLayer`. */\nexport default class PathStyleExtension extends LayerExtension<PathStyleExtensionOptions> {\n  static defaultProps = defaultProps;\n  static extensionName = 'PathStyleExtension';\n\n  constructor({\n    dash = false,\n    offset = false,\n    highPrecisionDash = false\n  }: Partial<PathStyleExtensionOptions> = {}) {\n    super({dash: dash || highPrecisionDash, offset, highPrecisionDash});\n  }\n\n  isEnabled(layer: Layer<PathStyleExtensionProps>): boolean {\n    return 'pathTesselator' in layer.state;\n  }\n\n  getShaders(this: Layer<PathStyleExtensionProps>, extension: this): any {\n    if (!extension.isEnabled(this)) {\n      return null;\n    }\n\n    // Merge shader injection\n    let result = {};\n    if (extension.opts.dash) {\n      result = mergeShaders(result, dashShaders);\n    }\n    if (extension.opts.offset) {\n      result = mergeShaders(result, offsetShaders);\n    }\n\n    return result;\n  }\n\n  initializeState(this: Layer<PathStyleExtensionProps>, context: LayerContext, extension: this) {\n    const attributeManager = this.getAttributeManager();\n    if (!attributeManager || !extension.isEnabled(this)) {\n      // This extension only works with the PathLayer\n      return;\n    }\n\n    if (extension.opts.dash) {\n      attributeManager.addInstanced({\n        instanceDashArrays: {size: 2, accessor: 'getDashArray'}\n      });\n    }\n    if (extension.opts.highPrecisionDash) {\n      attributeManager.addInstanced({\n        instanceDashOffsets: {\n          size: 1,\n          accessor: 'getPath',\n          transform: extension.getDashOffsets.bind(this)\n        }\n      });\n    }\n    if (extension.opts.offset) {\n      attributeManager.addInstanced({\n        instanceOffsets: {size: 1, accessor: 'getOffset'}\n      });\n    }\n  }\n\n  updateState(\n    this: Layer<PathStyleExtensionProps>,\n    params: UpdateParameters<Layer<PathStyleExtensionProps>>,\n    extension: this\n  ) {\n    if (!extension.isEnabled(this)) {\n      return;\n    }\n\n    const uniforms: any = {};\n\n    if (extension.opts.dash) {\n      uniforms.dashAlignMode = this.props.dashJustified ? 1 : 0;\n      uniforms.dashGapPickable = Boolean(this.props.dashGapPickable);\n    }\n\n    this.state.model.setUniforms(uniforms);\n  }\n\n  getDashOffsets(this: Layer<PathStyleExtensionProps>, path: number[] | number[][]): number[] {\n    const result = [0];\n    const positionSize = this.props.positionFormat === 'XY' ? 2 : 3;\n    const isNested = Array.isArray(path[0]);\n    const geometrySize = isNested ? path.length : path.length / positionSize;\n\n    let p;\n    let prevP;\n    for (let i = 0; i < geometrySize - 1; i++) {\n      p = isNested ? path[i] : path.slice(i * positionSize, i * positionSize + positionSize);\n      p = this.projectPosition(p);\n\n      if (i > 0) {\n        result[i] = result[i - 1] + dist(prevP, p);\n      }\n\n      prevP = p;\n    }\n    return result;\n  }\n}\n","import {project, fp64LowPart} from '@deck.gl/core';\nimport type {Viewport, _ShaderModule as ShaderModule, ProjectUniforms} from '@deck.gl/core';\n\nimport type {Texture2D} from '@luma.gl/webgl';\n\n/*\n * fill pattern shader module\n */\nconst patternVs = `\n#ifdef NON_INSTANCED_MODEL\n  #define FILL_PATTERN_FRAME_ATTRIB fillPatternFrames\n  #define FILL_PATTERN_SCALE_ATTRIB fillPatternScales\n  #define FILL_PATTERN_OFFSET_ATTRIB fillPatternOffsets\n#else\n  #define FILL_PATTERN_FRAME_ATTRIB instanceFillPatternFrames\n  #define FILL_PATTERN_SCALE_ATTRIB instanceFillPatternScales\n  #define FILL_PATTERN_OFFSET_ATTRIB instanceFillPatternOffsets\n#endif\n\nattribute vec4 FILL_PATTERN_FRAME_ATTRIB;\nattribute float FILL_PATTERN_SCALE_ATTRIB;\nattribute vec2 FILL_PATTERN_OFFSET_ATTRIB;\n\nuniform bool fill_patternEnabled;\nuniform vec2 fill_patternTextureSize;\n\nvarying vec2 fill_uv;\nvarying vec4 fill_patternBounds;\nvarying vec3 fill_patternPlacement;\n`;\n\nconst patternFs = `\nuniform bool fill_patternEnabled;\nuniform bool fill_patternMask;\nuniform sampler2D fill_patternTexture;\nuniform vec2 fill_uvCoordinateOrigin;\nuniform vec2 fill_uvCoordinateOrigin64Low;\n\nvarying vec4 fill_patternBounds;\nvarying vec3 fill_patternPlacement;\nvarying vec2 fill_uv;\n\nconst float FILL_UV_SCALE = 512.0 / 40000000.0;\n`;\n\nconst inject = {\n  'vs:DECKGL_FILTER_GL_POSITION': `\n    fill_uv = geometry.position.xy;\n  `,\n\n  'vs:DECKGL_FILTER_COLOR': `\n    if (fill_patternEnabled) {\n      fill_patternBounds = FILL_PATTERN_FRAME_ATTRIB / vec4(fill_patternTextureSize, fill_patternTextureSize);\n      fill_patternPlacement.xy = FILL_PATTERN_OFFSET_ATTRIB;\n      fill_patternPlacement.z = FILL_PATTERN_SCALE_ATTRIB * FILL_PATTERN_FRAME_ATTRIB.w;\n    }\n  `,\n\n  'fs:DECKGL_FILTER_COLOR': `\n    if (fill_patternEnabled) {\n      float scale = FILL_UV_SCALE * fill_patternPlacement.z;\n      vec2 patternUV = mod(mod(fill_uvCoordinateOrigin, scale) + fill_uvCoordinateOrigin64Low + fill_uv, scale) / scale;\n      patternUV = mod(fill_patternPlacement.xy + patternUV, 1.0);\n\n      vec2 texCoords = fill_patternBounds.xy + fill_patternBounds.zw * patternUV;\n\n      vec4 patternColor = texture2D(fill_patternTexture, texCoords);\n      color.a *= patternColor.a;\n      if (!fill_patternMask) {\n        color.rgb = patternColor.rgb;\n      }\n    }\n  `\n};\n\ntype FillStyleModuleSettings =\n  | {\n      viewport: Viewport;\n      fillPatternEnabled?: boolean;\n      fillPatternMask?: boolean;\n    }\n  | {\n      fillPatternTexture: Texture2D;\n    };\n\n/* eslint-disable camelcase */\nfunction getPatternUniforms(\n  opts: FillStyleModuleSettings | {},\n  uniforms: Record<string, any>\n): Record<string, any> {\n  if (!opts) {\n    return {};\n  }\n  if ('fillPatternTexture' in opts) {\n    const {fillPatternTexture} = opts;\n    return {\n      fill_patternTexture: fillPatternTexture,\n      fill_patternTextureSize: [fillPatternTexture.width, fillPatternTexture.height]\n    };\n  }\n  if ('viewport' in opts) {\n    const {viewport, fillPatternMask = true, fillPatternEnabled = true} = opts;\n    const {project_uCoordinateOrigin} = uniforms as ProjectUniforms;\n\n    const coordinateOriginCommon = viewport.projectPosition(project_uCoordinateOrigin);\n    const coordinateOriginCommon64Low = [\n      fp64LowPart(coordinateOriginCommon[0]),\n      fp64LowPart(coordinateOriginCommon[1])\n    ];\n\n    return {\n      fill_uvCoordinateOrigin: coordinateOriginCommon.slice(0, 2),\n      fill_uvCoordinateOrigin64Low: coordinateOriginCommon64Low,\n      fill_patternMask: fillPatternMask,\n      fill_patternEnabled: fillPatternEnabled\n    };\n  }\n  return {};\n}\n\nexport const patternShaders: ShaderModule<FillStyleModuleSettings> = {\n  name: 'fill-pattern',\n  vs: patternVs,\n  fs: patternFs,\n  inject,\n  dependencies: [project],\n  getUniforms: getPatternUniforms\n};\n","import {LayerExtension} from '@deck.gl/core';\nimport {Texture2D} from '@luma.gl/core';\nimport GL from '@luma.gl/constants';\n\nimport {patternShaders} from './shaders.glsl';\n\nimport type {\n  Layer,\n  LayerContext,\n  Accessor,\n  AccessorFunction,\n  Texture,\n  UpdateParameters\n} from '@deck.gl/core';\n\nconst defaultProps = {\n  fillPatternEnabled: true,\n  fillPatternAtlas: null,\n  fillPatternMapping: null,\n  fillPatternMask: true,\n  getFillPattern: {type: 'accessor', value: d => d.pattern},\n  getFillPatternScale: {type: 'accessor', value: 1},\n  getFillPatternOffset: {type: 'accessor', value: [0, 0]}\n};\n\nexport type FillStyleExtensionProps<DataT = any> = {\n  /** Cheap toggle to enable/disable pattern fill. Requires the `pattern` option to be on.\n   * @default true\n   */\n  fillPatternEnabled?: boolean;\n  /** Sprite image url or texture that packs all your patterns into one layout. */\n  fillPatternAtlas?: Texture;\n  /** Pattern names mapped to pattern definitions, or a url that points to a JSON file. */\n  fillPatternMapping?:\n    | string\n    | Record<\n        string,\n        {\n          /** Left position of the pattern on the atlas */\n          x: number;\n          /** Top position of the pattern on the atlas */\n          y: number;\n          /** Width of the pattern */\n          width: number;\n          /** Height of the pattern */\n          height: number;\n        }\n      >;\n  /**\n   * Whether to treat the patterns as transparency masks.\n   * @default true\n   */\n  fillPatternMask?: boolean;\n  /** Accessor for the name of the pattern. */\n  getFillPattern?: AccessorFunction<DataT, string>;\n  /** Accessor for the scale of the pattern, relative to the original size. If the pattern is 24 x 24 pixels, scale `1` roughly yields 24 meters.\n   * @default 1\n   */\n  getFillPatternScale?: Accessor<DataT, number>;\n  /**\n   * Accessor for the offset of the pattern, relative to the original size. Offset `[0.5, 0.5]` shifts the pattern alignment by half.\n   * @default [0, 0]\n   */\n  getFillPatternOffset?: Accessor<DataT, [number, number]>;\n};\n\ntype FillStyleExtensionOptions = {\n  /** If `true`, adds the ability to tile the filled area with a pattern.\n   * @default false\n   */\n  pattern: boolean;\n};\n\nconst DEFAULT_TEXTURE_PARAMETERS = {\n  [GL.TEXTURE_MIN_FILTER]: GL.LINEAR,\n  // GL.LINEAR is the default value but explicitly set it here\n  [GL.TEXTURE_MAG_FILTER]: GL.LINEAR,\n  // for texture boundary artifact\n  [GL.TEXTURE_WRAP_S]: GL.CLAMP_TO_EDGE,\n  [GL.TEXTURE_WRAP_T]: GL.CLAMP_TO_EDGE\n};\n\n/** Adds selected features to layers that render a \"fill\", such as the `PolygonLayer` and `ScatterplotLayer`. */\nexport default class FillStyleExtension extends LayerExtension<FillStyleExtensionOptions> {\n  static defaultProps = defaultProps;\n  static extensionName = 'FillStyleExtension';\n\n  constructor({pattern = false}: Partial<FillStyleExtensionOptions> = {}) {\n    super({pattern});\n  }\n\n  isEnabled(layer: Layer<FillStyleExtensionProps>): boolean {\n    return layer.getAttributeManager() !== null && !('pathTesselator' in layer.state);\n  }\n\n  getShaders(this: Layer<FillStyleExtensionProps>, extension: this): any {\n    if (!extension.isEnabled(this)) {\n      return null;\n    }\n\n    return {\n      modules: [extension.opts.pattern && patternShaders].filter(Boolean)\n    };\n  }\n\n  initializeState(this: Layer<FillStyleExtensionProps>, context: LayerContext, extension: this) {\n    if (!extension.isEnabled(this)) {\n      return;\n    }\n\n    const attributeManager = this.getAttributeManager();\n\n    if (extension.opts.pattern) {\n      attributeManager!.add({\n        fillPatternFrames: {\n          size: 4,\n          accessor: 'getFillPattern',\n          transform: extension.getPatternFrame.bind(this),\n          shaderAttributes: {\n            fillPatternFrames: {\n              divisor: 0\n            },\n            instanceFillPatternFrames: {\n              divisor: 1\n            }\n          }\n        },\n        fillPatternScales: {\n          size: 1,\n          accessor: 'getFillPatternScale',\n          defaultValue: 1,\n          shaderAttributes: {\n            fillPatternScales: {\n              divisor: 0\n            },\n            instanceFillPatternScales: {\n              divisor: 1\n            }\n          }\n        },\n        fillPatternOffsets: {\n          size: 2,\n          accessor: 'getFillPatternOffset',\n          shaderAttributes: {\n            fillPatternOffsets: {\n              divisor: 0\n            },\n            instanceFillPatternOffsets: {\n              divisor: 1\n            }\n          }\n        }\n      });\n    }\n    this.setState({\n      emptyTexture: new Texture2D(this.context.gl, {\n        data: new Uint8Array(4),\n        width: 1,\n        height: 1\n      })\n    });\n  }\n\n  updateState(\n    this: Layer<FillStyleExtensionProps>,\n    {props, oldProps}: UpdateParameters<Layer<FillStyleExtensionProps>>,\n    extension: this\n  ) {\n    if (!extension.isEnabled(this)) {\n      return;\n    }\n\n    if (props.fillPatternAtlas && props.fillPatternAtlas !== oldProps.fillPatternAtlas) {\n      extension.loadPatternAtlas.call(this);\n    }\n    if (props.fillPatternMapping && props.fillPatternMapping !== oldProps.fillPatternMapping) {\n      extension.loadPatternMapping.call(this);\n    }\n  }\n\n  draw(this: Layer<FillStyleExtensionProps>, params: any, extension: this) {\n    if (!extension.isEnabled(this)) {\n      return;\n    }\n\n    const {patternTexture} = this.state;\n    this.setModuleParameters({\n      fillPatternTexture: patternTexture || this.state.emptyTexture\n    });\n  }\n\n  finalizeState(this: Layer<FillStyleExtensionProps>) {\n    const {patternTexture, emptyTexture} = this.state;\n    patternTexture?.delete();\n    emptyTexture?.delete();\n  }\n\n  async loadPatternAtlas(this: Layer<FillStyleExtensionProps>) {\n    const {fillPatternAtlas, fetch} = this.props;\n    this.state.patternTexture?.delete();\n    this.setState({patternTexture: null});\n    let image = fillPatternAtlas;\n    if (typeof image === 'string') {\n      image = await fetch(image, {propName: 'fillPatternAtlas', layer: this});\n    }\n    const patternTexture =\n      image instanceof Texture2D\n        ? image\n        : new Texture2D(this.context.gl, {\n            data: image,\n            parameters: DEFAULT_TEXTURE_PARAMETERS\n          });\n    this.setState({patternTexture});\n  }\n\n  async loadPatternMapping(this: Layer<FillStyleExtensionProps>) {\n    const {fillPatternMapping, fetch} = this.props;\n    this.setState({patternMapping: null});\n    let patternMapping = fillPatternMapping;\n    if (typeof patternMapping === 'string') {\n      patternMapping = await fetch(patternMapping, {\n        propName: 'fillPatternMapping',\n        layer: this\n      });\n    }\n    this.setState({patternMapping});\n    this.getAttributeManager()!.invalidate('getFillPattern');\n    this.setNeedsUpdate();\n  }\n\n  getPatternFrame(this: Layer<FillStyleExtensionProps>, name: string) {\n    const {patternMapping} = this.state;\n    const def = patternMapping && patternMapping[name];\n    return def ? [def.x, def.y, def.width, def.height] : [0, 0, 0, 0];\n  }\n}\n","import {project} from '@deck.gl/core';\nimport type {_ShaderModule as ShaderModule} from '@deck.gl/core';\nimport type {Texture2D} from '@luma.gl/webgl';\n\nconst vs = `\nuniform vec4 mask_bounds;\nuniform bool mask_maskByInstance;\nvec2 mask_getCoords(vec4 position) {\n  return (position.xy - mask_bounds.xy) / (mask_bounds.zw - mask_bounds.xy);\n}\n`;\n\nconst fs = `\nuniform sampler2D mask_texture;\nuniform int mask_channel;\nuniform bool mask_enabled;\nbool mask_isInBounds(vec2 texCoords) {\n  if (!mask_enabled) {\n    return true;\n  }\n  vec4 maskColor = texture2D(mask_texture, texCoords);\n  float maskValue = 1.0;\n  if (mask_channel == 0) {\n    maskValue = maskColor.r;\n  } else if (mask_channel == 1) {\n    maskValue = maskColor.g;\n  } else if (mask_channel == 2) {\n    maskValue = maskColor.b;\n  } else if (mask_channel == 3) {\n    maskValue = maskColor.a;\n  }\n  return maskValue < 0.5;\n}\n`;\n\nconst inject = {\n  'vs:#decl': `\nvarying vec2 mask_texCoords;\n`,\n  'vs:#main-end': `\n   vec4 mask_common_position;\n   if (mask_maskByInstance) {\n     mask_common_position = project_position(vec4(geometry.worldPosition, 1.0));\n   } else {\n     mask_common_position = geometry.position;\n   }\n   mask_texCoords = mask_getCoords(mask_common_position);\n`,\n  'fs:#decl': `\nvarying vec2 mask_texCoords;\n`,\n  'fs:#main-start': `\n  if (mask_enabled) {\n    bool mask = mask_isInBounds(mask_texCoords);\n\n    // Debug: show extent of render target\n    // gl_FragColor = vec4(mask_texCoords, 0.0, 1.0);\n    gl_FragColor = texture2D(mask_texture, mask_texCoords);\n\n    if (!mask) discard;\n  }\n`\n};\n\ntype MaskModuleSettings = {\n  maskMap?: Texture2D;\n};\n\n/* eslint-disable camelcase */\nconst getMaskUniforms = (opts?: MaskModuleSettings | {}): Record<string, any> => {\n  if (opts && 'maskMap' in opts) {\n    return {\n      mask_texture: opts.maskMap\n    };\n  }\n  return {};\n};\n\nexport default {\n  name: 'mask',\n  dependencies: [project],\n  vs,\n  fs,\n  inject,\n  getUniforms: getMaskUniforms\n} as ShaderModule<MaskModuleSettings>;\n","import {COORDINATE_SYSTEM, LayerExtension, log} from '@deck.gl/core';\nimport mask from './shader-module';\n\nimport type {Layer} from '@deck.gl/core';\n\nconst defaultProps = {\n  maskId: ''\n};\n\nexport type MaskExtensionProps = {\n  /**\n   * Id of the layer that defines the mask. The mask layer must use the prop `operation: 'mask'`.\n   * Masking is disabled if `maskId` is empty or no valid mask layer with the specified id is found.\n   */\n  maskId?: string;\n  /**\n   * controls whether an object is clipped by its anchor (usually defined by an accessor called `getPosition`, e.g. icon, scatterplot) or by its geometry (e.g. path, polygon).\n   * If not specified, it is automatically deduced from the layer.\n   */\n  maskByInstance?: boolean;\n};\n\n/** Allows layers to show/hide objects by a geofence. */\nexport default class MaskExtension extends LayerExtension {\n  static defaultProps = defaultProps;\n  static extensionName = 'MaskExtension';\n\n  getShaders(this: Layer<MaskExtensionProps>): any {\n    // Infer by geometry if 'maskByInstance' prop isn't explictly set\n    let maskByInstance = 'instancePositions' in this.getAttributeManager()!.attributes;\n    // Users can override by setting the `maskByInstance` prop\n    if ('maskByInstance' in this.props) {\n      maskByInstance = Boolean(this.props.maskByInstance);\n    }\n    this.state.maskByInstance = maskByInstance;\n\n    return {\n      modules: [mask]\n    };\n  }\n\n  /* eslint-disable camelcase */\n  draw(this: Layer<MaskExtensionProps>, {uniforms, context, moduleParameters}: any) {\n    uniforms.mask_maskByInstance = this.state.maskByInstance;\n    const {maskId = ''} = this.props;\n    const {maskChannels} = moduleParameters;\n    const {viewport} = context;\n    if (maskChannels && maskChannels[maskId]) {\n      const {index, bounds, coordinateOrigin: fromCoordinateOrigin} = maskChannels[maskId];\n      let {coordinateSystem: fromCoordinateSystem} = maskChannels[maskId];\n      uniforms.mask_enabled = true;\n      uniforms.mask_channel = index;\n\n      if (fromCoordinateSystem === COORDINATE_SYSTEM.DEFAULT) {\n        fromCoordinateSystem = viewport.isGeospatial\n          ? COORDINATE_SYSTEM.LNGLAT\n          : COORDINATE_SYSTEM.CARTESIAN;\n      }\n      const opts = {modelMatrix: null, fromCoordinateOrigin, fromCoordinateSystem};\n      const bl = this.projectPosition([bounds[0], bounds[1], 0], opts);\n      const tr = this.projectPosition([bounds[2], bounds[3], 0], opts);\n      uniforms.mask_bounds = [bl[0], bl[1], tr[0], tr[1]];\n    } else {\n      if (maskId) {\n        log.warn(`Could not find a mask layer with id: ${maskId}`)();\n      }\n      uniforms.mask_enabled = false;\n    }\n  }\n}\n","import {getFirstCharacters} from '../binary-utils/get-first-characters';\n\n/**\n * Minimal JSON parser that throws more meaningful error messages\n */\nexport function parseJSON(string: string): any {\n  try {\n    return JSON.parse(string);\n  } catch (_) {\n    throw new Error(`Failed to parse JSON from data starting with \"${getFirstCharacters(string)}\"`);\n  }\n}\n","import turfUnion from '@turf/union';\nimport turfDifference from '@turf/difference';\nimport turfIntersect from '@turf/intersect';\nimport rewind from '@turf/rewind';\n\nimport {\n  EditAction,\n  ClickEvent,\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  Pick,\n  Tooltip,\n  ModeProps,\n  GuideFeatureCollection,\n  TentativeFeature,\n} from '../types';\nimport { FeatureCollection, Feature, Polygon, Geometry, Position } from '../geojson-types';\nimport { getPickedEditHandles, getNonGuidePicks } from '../utils';\nimport { EditMode } from './edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport type GeoJsonEditAction = EditAction<FeatureCollection>;\n\nconst DEFAULT_GUIDES: GuideFeatureCollection = {\n  type: 'FeatureCollection',\n  features: [],\n};\nconst DEFAULT_TOOLTIPS: Tooltip[] = [];\n\n// Main interface for `EditMode`s that edit GeoJSON\nexport type GeoJsonEditModeType = EditMode<FeatureCollection, FeatureCollection>;\n\nexport interface GeoJsonEditModeConstructor {\n  new (): GeoJsonEditModeType;\n}\n\nexport class GeoJsonEditMode implements EditMode<FeatureCollection, GuideFeatureCollection> {\n  _clickSequence: Position[] = [];\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    return DEFAULT_GUIDES;\n  }\n\n  getTooltips(props: ModeProps<FeatureCollection>): Tooltip[] {\n    return DEFAULT_TOOLTIPS;\n  }\n\n  getSelectedFeature(props: ModeProps<FeatureCollection>): Feature | null | undefined {\n    if (props.selectedIndexes.length === 1) {\n      return props.data.features[props.selectedIndexes[0]];\n    }\n    return null;\n  }\n\n  getSelectedGeometry(props: ModeProps<FeatureCollection>): Geometry | null | undefined {\n    const feature = this.getSelectedFeature(props);\n    if (feature) {\n      return feature.geometry;\n    }\n    return null;\n  }\n\n  getSelectedFeaturesAsFeatureCollection(props: ModeProps<FeatureCollection>): FeatureCollection {\n    const { features } = props.data;\n    const selectedFeatures = props.selectedIndexes.map((selectedIndex) => features[selectedIndex]);\n    return {\n      type: 'FeatureCollection',\n      features: selectedFeatures,\n    };\n  }\n\n  getClickSequence(): Position[] {\n    return this._clickSequence;\n  }\n\n  addClickSequence({ mapCoords }: ClickEvent): void {\n    this._clickSequence.push(mapCoords);\n  }\n\n  resetClickSequence(): void {\n    this._clickSequence = [];\n  }\n\n  getTentativeGuide(props: ModeProps<FeatureCollection>): TentativeFeature | null | undefined {\n    const guides = this.getGuides(props);\n\n    // @ts-ignore\n    return guides.features.find((f) => f.properties && f.properties.guideType === 'tentative');\n  }\n\n  isSelectionPicked(picks: Pick[], props: ModeProps<FeatureCollection>): boolean {\n    if (!picks.length) return false;\n    const pickedFeatures = getNonGuidePicks(picks).map(({ index }) => index);\n    const pickedHandles = getPickedEditHandles(picks).map(\n      ({ properties }) => properties.featureIndex\n    );\n    const pickedIndexes = new Set([...pickedFeatures, ...pickedHandles]);\n    return props.selectedIndexes.some((index) => pickedIndexes.has(index));\n  }\n\n  rewindPolygon(feature: Feature): Feature {\n    const { geometry } = feature;\n\n    const isPolygonal = geometry.type === 'Polygon' || geometry.type === 'MultiPolygon';\n    if (isPolygonal) {\n      // @ts-ignore\n      return rewind(feature);\n    }\n\n    return feature;\n  }\n\n  getAddFeatureAction(\n    featureOrGeometry: Geometry | Feature,\n    features: FeatureCollection\n  ): GeoJsonEditAction {\n    // Unsure why flow can't deal with Geometry type, but there I fixed it\n    const featureOrGeometryAsAny: any = featureOrGeometry;\n\n    const feature: any =\n      featureOrGeometryAsAny.type === 'Feature'\n        ? featureOrGeometryAsAny\n        : {\n            type: 'Feature',\n            properties: {},\n            geometry: featureOrGeometryAsAny,\n          };\n\n    const rewindFeature = this.rewindPolygon(feature);\n    const updatedData = new ImmutableFeatureCollection(features)\n      .addFeature(rewindFeature)\n      .getObject();\n\n    return {\n      updatedData,\n      editType: 'addFeature',\n      editContext: {\n        featureIndexes: [updatedData.features.length - 1],\n      },\n    };\n  }\n\n  getAddManyFeaturesAction(\n    { features: featuresToAdd }: FeatureCollection,\n    features: FeatureCollection\n  ): GeoJsonEditAction {\n    let updatedData = new ImmutableFeatureCollection(features);\n    const initialIndex = updatedData.getObject().features.length;\n    const updatedIndexes = [];\n    for (const feature of featuresToAdd) {\n      const { properties, geometry } = feature;\n      const geometryAsAny: any = geometry;\n      updatedData = updatedData.addFeature({\n        type: 'Feature',\n        properties,\n        geometry: geometryAsAny,\n      });\n      updatedIndexes.push(initialIndex + updatedIndexes.length);\n    }\n\n    return {\n      updatedData: updatedData.getObject(),\n      editType: 'addFeature',\n      editContext: {\n        featureIndexes: updatedIndexes,\n      },\n    };\n  }\n\n  getAddFeatureOrBooleanPolygonAction(\n    featureOrGeometry: Polygon | Feature,\n    props: ModeProps<FeatureCollection>\n  ): GeoJsonEditAction | null | undefined {\n    const featureOrGeometryAsAny: any = featureOrGeometry;\n\n    const selectedFeature = this.getSelectedFeature(props);\n    const { modeConfig } = props;\n    if (modeConfig && modeConfig.booleanOperation) {\n      if (\n        !selectedFeature ||\n        (selectedFeature.geometry.type !== 'Polygon' &&\n          selectedFeature.geometry.type !== 'MultiPolygon')\n      ) {\n        // eslint-disable-next-line no-console,no-undef\n        console.warn(\n          'booleanOperation only supported for single Polygon or MultiPolygon selection'\n        );\n        return null;\n      }\n\n      const feature =\n        featureOrGeometryAsAny.type === 'Feature'\n          ? featureOrGeometryAsAny\n          : {\n              type: 'Feature',\n              geometry: featureOrGeometryAsAny,\n            };\n\n      let updatedGeometry;\n      if (modeConfig.booleanOperation === 'union') {\n        updatedGeometry = turfUnion(selectedFeature, feature);\n      } else if (modeConfig.booleanOperation === 'difference') {\n        // @ts-ignore\n        updatedGeometry = turfDifference(selectedFeature, feature);\n      } else if (modeConfig.booleanOperation === 'intersection') {\n        // @ts-ignore\n        updatedGeometry = turfIntersect(selectedFeature, feature);\n      } else {\n        // eslint-disable-next-line no-console,no-undef\n        console.warn(`Invalid booleanOperation ${modeConfig.booleanOperation}`);\n        return null;\n      }\n\n      if (!updatedGeometry) {\n        // eslint-disable-next-line no-console,no-undef\n        console.warn('Canceling edit. Boolean operation erased entire polygon.');\n        return null;\n      }\n\n      const featureIndex = props.selectedIndexes[0];\n\n      const updatedData = new ImmutableFeatureCollection(props.data)\n        .replaceGeometry(featureIndex, updatedGeometry.geometry)\n        .getObject();\n\n      const editAction: GeoJsonEditAction = {\n        updatedData,\n        editType: 'unionGeometry',\n        editContext: {\n          featureIndexes: [featureIndex],\n        },\n      };\n\n      return editAction;\n    }\n    return this.getAddFeatureAction(featureOrGeometry, props.data);\n  }\n\n  createTentativeFeature(props: ModeProps<FeatureCollection>): TentativeFeature {\n    return null;\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>): void {}\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>): void {\n    const tentativeFeature = this.createTentativeFeature(props);\n    if (tentativeFeature) {\n      props.onEdit({\n        updatedData: props.data,\n        editType: 'updateTentativeFeature',\n        editContext: {\n          feature: tentativeFeature,\n        },\n      });\n    }\n  }\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>): void {}\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>): void {}\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>): void {}\n\n  handleKeyUp(event: KeyboardEvent, props: ModeProps<FeatureCollection>): void {\n    if (event.key === 'Escape') {\n      this.resetClickSequence();\n      props.onEdit({\n        // Because the new drawing feature is dropped, so the data will keep as the same.\n        updatedData: props.data,\n        editType: 'cancelFeature',\n        editContext: {},\n      });\n    }\n  }\n}\n\nexport function getIntermediatePosition(position1: Position, position2: Position): Position {\n  const intermediatePosition = [\n    (position1[0] + position2[0]) / 2.0,\n    (position1[1] + position2[1]) / 2.0,\n  ];\n  // @ts-ignore\n  return intermediatePosition;\n}\n","import destination from '@turf/destination';\nimport bearing from '@turf/bearing';\nimport pointToLineDistance from '@turf/point-to-line-distance';\nimport { point } from '@turf/helpers';\nimport {\n  Position,\n  Point,\n  LineString,\n  FeatureOf,\n  FeatureWithProps,\n  Viewport,\n} from '@nebula.gl/edit-modes';\nimport WebMercatorViewport from 'viewport-mercator-project';\n\n// TODO edit-modes: delete and use edit-modes/utils instead\n\nexport type NearestPointType = FeatureWithProps<Point, { dist: number; index: number }>;\n\nexport function toDeckColor(\n  color?: [number, number, number, number] | number,\n  defaultColor: [number, number, number, number] = [255, 0, 0, 255]\n): [number, number, number, number] {\n  if (!Array.isArray(color)) {\n    return defaultColor;\n  }\n  return [color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255];\n}\n\n//\n// a GeoJSON helper function that calls the provided function with\n// an argument that is the most deeply-nested array having elements\n// that are arrays of primitives as an argument, e.g.\n//\n// {\n//   \"type\": \"MultiPolygon\",\n//   \"coordinates\": [\n//       [\n//           [[30, 20], [45, 40], [10, 40], [30, 20]]\n//       ],\n//       [\n//           [[15, 5], [40, 10], [10, 20], [5, 10], [15, 5]]\n//       ]\n//   ]\n// }\n//\n// the function would be called on:\n//\n// [[30, 20], [45, 40], [10, 40], [30, 20]]\n//\n// and\n//\n// [[15, 5], [40, 10], [10, 20], [5, 10], [15, 5]]\n//\nexport function recursivelyTraverseNestedArrays(\n  array: Array<any>,\n  prefix: Array<number>,\n  fn: Function\n) {\n  if (!Array.isArray(array[0])) {\n    return true;\n  }\n  for (let i = 0; i < array.length; i++) {\n    if (recursivelyTraverseNestedArrays(array[i], [...prefix, i], fn)) {\n      fn(array, prefix);\n      break;\n    }\n  }\n  return false;\n}\n\nexport function generatePointsParallelToLinePoints(\n  p1: Position,\n  p2: Position,\n  groundCoords: Position\n): Position[] {\n  const lineString: LineString = {\n    type: 'LineString',\n    coordinates: [p1, p2],\n  };\n  const pt = point(groundCoords);\n  const ddistance = pointToLineDistance(pt, lineString);\n  const lineBearing = bearing(p1, p2);\n\n  // Check if current point is to the left or right of line\n  // Line from A=(x1,y1) to B=(x2,y2) a point P=(x,y)\n  // then (x−x1)(y2−y1)−(y−y1)(x2−x1)\n  const isPointToLeftOfLine =\n    (groundCoords[0] - p1[0]) * (p2[1] - p1[1]) - (groundCoords[1] - p1[1]) * (p2[0] - p1[0]);\n\n  // Bearing to draw perpendicular to the line string\n  const orthogonalBearing = isPointToLeftOfLine < 0 ? lineBearing - 90 : lineBearing - 270;\n\n  // Get coordinates for the point p3 and p4 which are perpendicular to the lineString\n  // Add the distance as the current position moves away from the lineString\n  const p3 = destination(p2, ddistance, orthogonalBearing);\n  const p4 = destination(p1, ddistance, orthogonalBearing);\n  //@ts-ignore\n  return [p3.geometry.coordinates, p4.geometry.coordinates];\n}\n\nexport function distance2d(x1: number, y1: number, x2: number, y2: number): number {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nexport function mix(a: number, b: number, ratio: number): number {\n  return b * ratio + a * (1 - ratio);\n}\n\nexport function nearestPointOnProjectedLine(\n  line: FeatureOf<LineString>,\n  inPoint: FeatureOf<Point>,\n  viewport: Viewport\n): NearestPointType {\n  const wmViewport = new WebMercatorViewport(viewport);\n  // Project the line to viewport, then find the nearest point\n  const coordinates: Array<Array<number>> = line.geometry.coordinates as any;\n  const projectedCoords = coordinates.map(([x, y, z = 0]) => wmViewport.project([x, y, z]));\n  //@ts-ignore\n  const [x, y] = wmViewport.project(inPoint.geometry.coordinates);\n  // console.log('projectedCoords', JSON.stringify(projectedCoords));\n\n  let minDistance = Infinity;\n  let minPointInfo = {};\n\n  projectedCoords.forEach(([x2, y2], index) => {\n    if (index === 0) {\n      return;\n    }\n\n    const [x1, y1] = projectedCoords[index - 1];\n\n    // line from projectedCoords[index - 1] to projectedCoords[index]\n    // convert to Ax + By + C = 0\n    const A = y1 - y2;\n    const B = x2 - x1;\n    const C = x1 * y2 - x2 * y1;\n\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    const div = A * A + B * B;\n    const distance = Math.abs(A * x + B * y + C) / Math.sqrt(div);\n\n    // TODO: Check if inside bounds\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      minPointInfo = {\n        index,\n        x0: (B * (B * x - A * y) - A * C) / div,\n        y0: (A * (-B * x + A * y) - B * C) / div,\n      };\n    }\n  });\n  //@ts-ignore\n  const { index, x0, y0 } = minPointInfo;\n  const [x1, y1, z1 = 0] = projectedCoords[index - 1];\n  const [x2, y2, z2 = 0] = projectedCoords[index];\n\n  // calculate what ratio of the line we are on to find the proper z\n  const lineLength = distance2d(x1, y1, x2, y2);\n  const startToPointLength = distance2d(x1, y1, x0, y0);\n  const ratio = startToPointLength / lineLength;\n  const z0 = mix(z1, z2, ratio);\n\n  return {\n    type: 'Feature',\n    geometry: {\n      type: 'Point',\n      coordinates: wmViewport.unproject([x0, y0, z0]),\n    },\n    properties: {\n      // TODO: calculate the distance in proper units\n      dist: minDistance,\n      index: index - 1,\n    },\n  };\n}\n\n/**\n * Inserts toInsert string into base string before insertBefore string.\n * @param base A string to insert into.\n * @param insertBefore A sub string in `base` string to insert before.\n * @param toInsert A string to insert.\n * @returns Combined string. `base` string if `insertBefore` string isn't found.\n */\nexport function insertBefore(base: string, insertBefore: string, toInsert: string): string {\n  const at = base.indexOf(insertBefore);\n  if (at < 0) {\n    return base;\n  }\n  return base.slice(0, at) + toInsert + base.slice(at);\n}\n","import { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians, } from \"@turf/helpers\";\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians, miles, or kilometers.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name distance\n * @param {Coord | Point} from origin point or coordinate\n * @param {Coord | Point} to destination point or coordinate\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.distance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction distance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var coordinates1 = getCoord(from);\n    var coordinates2 = getCoord(to);\n    var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n    var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n    var a = Math.pow(Math.sin(dLat / 2), 2) +\n        Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n    return radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), options.units);\n}\nexport default distance;\n","import { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n// http://en.wikipedia.org/wiki/Haversine_formula\n// http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Takes two {@link Point|points} and finds the geographic bearing between them,\n * i.e. the angle measured in degrees from the north line (0 degrees)\n *\n * @name bearing\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.final=false] calculates the final bearing if true\n * @returns {number} bearing in decimal degrees, between -180 and 180 degrees (positive clockwise)\n * @example\n * var point1 = turf.point([-75.343, 39.984]);\n * var point2 = turf.point([-75.534, 39.123]);\n *\n * var bearing = turf.bearing(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2]\n * point1.properties['marker-color'] = '#f00'\n * point2.properties['marker-color'] = '#0f0'\n * point1.properties.bearing = bearing\n */\nexport default function bearing(start, end, options) {\n    if (options === void 0) { options = {}; }\n    // Reverse calculation\n    if (options.final === true) {\n        return calculateFinalBearing(start, end);\n    }\n    var coordinates1 = getCoord(start);\n    var coordinates2 = getCoord(end);\n    var lon1 = degreesToRadians(coordinates1[0]);\n    var lon2 = degreesToRadians(coordinates2[0]);\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n    var a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n    var b = Math.cos(lat1) * Math.sin(lat2) -\n        Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n    return radiansToDegrees(Math.atan2(a, b));\n}\n/**\n * Calculates Final Bearing\n *\n * @private\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @returns {number} bearing\n */\nfunction calculateFinalBearing(start, end) {\n    // Swap start & end\n    var bear = bearing(end, start);\n    bear = (bear + 180) % 360;\n    return bear;\n}\n","import {\n  Feature,\n  FeatureCollection,\n  Geometry,\n  Polygon,\n  MultiLineString,\n  MultiPolygon,\n  Position,\n  PolygonCoordinates,\n} from '../geojson-types';\n\nexport class ImmutableFeatureCollection {\n  featureCollection: FeatureCollection;\n\n  constructor(featureCollection: FeatureCollection) {\n    this.featureCollection = featureCollection;\n  }\n\n  getObject() {\n    return this.featureCollection;\n  }\n\n  /**\n   * Replaces the position deeply nested withing the given feature's geometry.\n   * Works with Point, MultiPoint, LineString, MultiLineString, Polygon, and MultiPolygon.\n   *\n   * @param featureIndex The index of the feature to update\n   * @param positionIndexes An array containing the indexes of the position to replace\n   * @param updatedPosition The updated position to place in the result (i.e. [lng, lat])\n   *\n   * @returns A new `ImmutableFeatureCollection` with the given position replaced. Does not modify this `ImmutableFeatureCollection`.\n   */\n  replacePosition(\n    featureIndex: number,\n    positionIndexes: number[] | null | undefined,\n    updatedPosition: Position\n  ): ImmutableFeatureCollection {\n    const geometry = this.featureCollection.features[featureIndex].geometry;\n\n    const isPolygonal = geometry.type === 'Polygon' || geometry.type === 'MultiPolygon';\n    const updatedGeometry: any = {\n      ...geometry,\n      coordinates: immutablyReplacePosition(\n        geometry.coordinates,\n        positionIndexes,\n        updatedPosition,\n        isPolygonal\n      ),\n    };\n\n    return this.replaceGeometry(featureIndex, updatedGeometry);\n  }\n\n  /**\n   * Removes a position deeply nested in a GeoJSON geometry coordinates array.\n   * Works with MultiPoint, LineString, MultiLineString, Polygon, and MultiPolygon.\n   *\n   * @param featureIndex The index of the feature to update\n   * @param positionIndexes An array containing the indexes of the postion to remove\n   *\n   * @returns A new `ImmutableFeatureCollection` with the given coordinate removed. Does not modify this `ImmutableFeatureCollection`.\n   */\n  removePosition(\n    featureIndex: number,\n    positionIndexes: number[] | null | undefined\n  ): ImmutableFeatureCollection {\n    const geometry = this.featureCollection.features[featureIndex].geometry;\n\n    if (geometry.type === 'Point') {\n      throw Error(`Can't remove a position from a Point or there'd be nothing left`);\n    }\n    if (\n      geometry.type === 'MultiPoint' && // only 1 point left\n      geometry.coordinates.length < 2\n    ) {\n      throw Error(`Can't remove the last point of a MultiPoint or there'd be nothing left`);\n    }\n    if (\n      geometry.type === 'LineString' && // only 2 positions\n      geometry.coordinates.length < 3\n    ) {\n      throw Error(`Can't remove position. LineString must have at least two positions`);\n    }\n    if (\n      geometry.type === 'Polygon' && // outer ring is a triangle\n      geometry.coordinates[0].length < 5 &&\n      Array.isArray(positionIndexes) && // trying to remove from outer ring\n      positionIndexes[0] === 0\n    ) {\n      throw Error(`Can't remove position. Polygon's outer ring must have at least four positions`);\n    }\n    if (\n      geometry.type === 'MultiLineString' && // only 1 LineString left\n      geometry.coordinates.length === 1 && // only 2 positions\n      geometry.coordinates[0].length < 3\n    ) {\n      throw Error(`Can't remove position. MultiLineString must have at least two positions`);\n    }\n    if (\n      geometry.type === 'MultiPolygon' && // only 1 polygon left\n      geometry.coordinates.length === 1 && // outer ring is a triangle\n      geometry.coordinates[0][0].length < 5 &&\n      Array.isArray(positionIndexes) && // trying to remove from first polygon\n      positionIndexes[0] === 0 && // trying to remove from outer ring\n      positionIndexes[1] === 0\n    ) {\n      throw Error(\n        `Can't remove position. MultiPolygon's outer ring must have at least four positions`\n      );\n    }\n\n    const isPolygonal = geometry.type === 'Polygon' || geometry.type === 'MultiPolygon';\n    const updatedGeometry: any = {\n      ...geometry,\n      coordinates: immutablyRemovePosition(geometry.coordinates, positionIndexes, isPolygonal),\n    };\n\n    // Handle cases where incomplete geometries need pruned (e.g. holes that were triangles)\n    pruneGeometryIfNecessary(updatedGeometry);\n\n    return this.replaceGeometry(featureIndex, updatedGeometry);\n  }\n\n  /**\n   * Adds a position deeply nested in a GeoJSON geometry coordinates array.\n   * Works with MultiPoint, LineString, MultiLineString, Polygon, and MultiPolygon.\n   *\n   * @param featureIndex The index of the feature to update\n   * @param positionIndexes An array containing the indexes of the position that will proceed the new position\n   * @param positionToAdd The new position to place in the result (i.e. [lng, lat])\n   *\n   * @returns A new `ImmutableFeatureCollection` with the given coordinate removed. Does not modify this `ImmutableFeatureCollection`.\n   */\n  addPosition(\n    featureIndex: number,\n    positionIndexes: number[] | null | undefined,\n    positionToAdd: Position\n  ): ImmutableFeatureCollection {\n    const geometry = this.featureCollection.features[featureIndex].geometry;\n\n    if (geometry.type === 'Point') {\n      throw new Error('Unable to add a position to a Point feature');\n    }\n\n    const isPolygonal = geometry.type === 'Polygon' || geometry.type === 'MultiPolygon';\n    const updatedGeometry: any = {\n      ...geometry,\n      coordinates: immutablyAddPosition(\n        geometry.coordinates,\n        positionIndexes,\n        positionToAdd,\n        isPolygonal\n      ),\n    };\n\n    return this.replaceGeometry(featureIndex, updatedGeometry);\n  }\n\n  replaceGeometry(featureIndex: number, geometry: Geometry): ImmutableFeatureCollection {\n    const updatedFeature: any = {\n      ...this.featureCollection.features[featureIndex],\n      geometry,\n    };\n\n    const updatedFeatureCollection = {\n      ...this.featureCollection,\n      features: [\n        ...this.featureCollection.features.slice(0, featureIndex),\n        updatedFeature,\n        ...this.featureCollection.features.slice(featureIndex + 1),\n      ],\n    };\n\n    return new ImmutableFeatureCollection(updatedFeatureCollection);\n  }\n\n  addFeature(feature: Feature): ImmutableFeatureCollection {\n    return this.addFeatures([feature]);\n  }\n\n  addFeatures(features: Feature[]): ImmutableFeatureCollection {\n    const updatedFeatureCollection = {\n      ...this.featureCollection,\n      features: [...this.featureCollection.features, ...features],\n    };\n\n    return new ImmutableFeatureCollection(updatedFeatureCollection);\n  }\n\n  deleteFeature(featureIndex: number) {\n    return this.deleteFeatures([featureIndex]);\n  }\n\n  deleteFeatures(featureIndexes: number[]) {\n    const features = [...this.featureCollection.features];\n    featureIndexes.sort();\n    for (let i = featureIndexes.length - 1; i >= 0; i--) {\n      const featureIndex = featureIndexes[i];\n      if (featureIndex >= 0 && featureIndex < features.length) {\n        features.splice(featureIndex, 1);\n      }\n    }\n\n    const updatedFeatureCollection = {\n      ...this.featureCollection,\n      features,\n    };\n\n    return new ImmutableFeatureCollection(updatedFeatureCollection);\n  }\n}\n\nfunction getUpdatedPosition(updatedPosition: Position, previousPosition: Position): Position {\n  // This function checks if the updatedPosition is missing elevation\n  // and copies it from previousPosition\n  if (updatedPosition.length === 2 && previousPosition.length === 3) {\n    const elevation = (previousPosition as any)[2];\n    return [updatedPosition[0], updatedPosition[1], elevation];\n  }\n\n  return updatedPosition;\n}\n\nfunction immutablyReplacePosition(\n  coordinates: any,\n  positionIndexes: number[] | null | undefined,\n  updatedPosition: Position,\n  isPolygonal: boolean\n): any {\n  if (!positionIndexes) {\n    return coordinates;\n  }\n  if (positionIndexes.length === 0) {\n    return getUpdatedPosition(updatedPosition, coordinates);\n  }\n  if (positionIndexes.length === 1) {\n    const updated = [\n      ...coordinates.slice(0, positionIndexes[0]),\n      getUpdatedPosition(updatedPosition, coordinates[positionIndexes[0]]),\n      ...coordinates.slice(positionIndexes[0] + 1),\n    ];\n\n    if (\n      isPolygonal &&\n      (positionIndexes[0] === 0 || positionIndexes[0] === coordinates.length - 1)\n    ) {\n      // for polygons, the first point is repeated at the end of the array\n      // so, update it on both ends of the array\n      updated[0] = getUpdatedPosition(updatedPosition, coordinates[0]);\n      updated[coordinates.length - 1] = getUpdatedPosition(updatedPosition, coordinates[0]);\n    }\n    return updated;\n  }\n\n  // recursively update inner array\n  return [\n    ...coordinates.slice(0, positionIndexes[0]),\n    immutablyReplacePosition(\n      coordinates[positionIndexes[0]],\n      positionIndexes.slice(1, positionIndexes.length),\n      updatedPosition,\n      isPolygonal\n    ),\n    ...coordinates.slice(positionIndexes[0] + 1),\n  ];\n}\n\nfunction immutablyRemovePosition(\n  coordinates: any,\n  positionIndexes: number[] | null | undefined,\n  isPolygonal: boolean\n): any {\n  if (!positionIndexes) {\n    return coordinates;\n  }\n  if (positionIndexes.length === 0) {\n    throw Error('Must specify the index of the position to remove');\n  }\n  if (positionIndexes.length === 1) {\n    const updated = [\n      ...coordinates.slice(0, positionIndexes[0]),\n      ...coordinates.slice(positionIndexes[0] + 1),\n    ];\n\n    if (\n      isPolygonal &&\n      (positionIndexes[0] === 0 || positionIndexes[0] === coordinates.length - 1)\n    ) {\n      // for polygons, the first point is repeated at the end of the array\n      // so, if the first/last coordinate is to be removed, coordinates[1] will be the new first/last coordinate\n      if (positionIndexes[0] === 0) {\n        // change the last to be the same as the first\n        updated[updated.length - 1] = updated[0];\n      } else if (positionIndexes[0] === coordinates.length - 1) {\n        // change the first to be the same as the last\n        updated[0] = updated[updated.length - 1];\n      }\n    }\n    return updated;\n  }\n\n  // recursively update inner array\n  return [\n    ...coordinates.slice(0, positionIndexes[0]),\n    immutablyRemovePosition(\n      coordinates[positionIndexes[0]],\n      positionIndexes.slice(1, positionIndexes.length),\n      isPolygonal\n    ),\n    ...coordinates.slice(positionIndexes[0] + 1),\n  ];\n}\n\nfunction immutablyAddPosition(\n  coordinates: any,\n  positionIndexes: number[] | null | undefined,\n  positionToAdd: Position,\n  isPolygonal: boolean\n): any {\n  if (!positionIndexes) {\n    return coordinates;\n  }\n  if (positionIndexes.length === 0) {\n    throw Error('Must specify the index of the position to remove');\n  }\n  if (positionIndexes.length === 1) {\n    const updated = [\n      ...coordinates.slice(0, positionIndexes[0]),\n      positionToAdd,\n      ...coordinates.slice(positionIndexes[0]),\n    ];\n    return updated;\n  }\n\n  // recursively update inner array\n  return [\n    ...coordinates.slice(0, positionIndexes[0]),\n    immutablyAddPosition(\n      coordinates[positionIndexes[0]],\n      positionIndexes.slice(1, positionIndexes.length),\n      positionToAdd,\n      isPolygonal\n    ),\n    ...coordinates.slice(positionIndexes[0] + 1),\n  ];\n}\n\nfunction pruneGeometryIfNecessary(geometry: Geometry) {\n  switch (geometry.type) {\n    case 'Polygon':\n      prunePolygonIfNecessary(geometry);\n      break;\n    case 'MultiLineString':\n      pruneMultiLineStringIfNecessary(geometry);\n      break;\n    case 'MultiPolygon':\n      pruneMultiPolygonIfNecessary(geometry);\n      break;\n    default:\n      // Not downgradable\n      break;\n  }\n}\n\nfunction prunePolygonIfNecessary(geometry: Polygon) {\n  const polygon = geometry.coordinates;\n\n  // If any hole is no longer a polygon, remove the hole entirely\n  for (let holeIndex = 1; holeIndex < polygon.length; holeIndex++) {\n    if (removeHoleIfNecessary(polygon, holeIndex)) {\n      // It was removed, so keep the index the same\n      holeIndex--;\n    }\n  }\n}\n\nfunction pruneMultiLineStringIfNecessary(geometry: MultiLineString) {\n  for (let lineStringIndex = 0; lineStringIndex < geometry.coordinates.length; lineStringIndex++) {\n    const lineString = geometry.coordinates[lineStringIndex];\n    if (lineString.length === 1) {\n      // Only a single position left on this LineString, so remove it (can't have Point in MultiLineString)\n      geometry.coordinates.splice(lineStringIndex, 1);\n      // Keep the index the same\n      lineStringIndex--;\n    }\n  }\n}\n\nfunction pruneMultiPolygonIfNecessary(geometry: MultiPolygon) {\n  for (let polygonIndex = 0; polygonIndex < geometry.coordinates.length; polygonIndex++) {\n    const polygon = geometry.coordinates[polygonIndex];\n    const outerRing = polygon[0];\n\n    // If the outer ring is no longer a polygon, remove the whole polygon\n    if (outerRing.length <= 3) {\n      geometry.coordinates.splice(polygonIndex, 1);\n      // It was removed, so keep the index the same\n      polygonIndex--;\n    }\n\n    for (let holeIndex = 1; holeIndex < polygon.length; holeIndex++) {\n      if (removeHoleIfNecessary(polygon, holeIndex)) {\n        // It was removed, so keep the index the same\n        holeIndex--;\n      }\n    }\n  }\n}\n\nfunction removeHoleIfNecessary(polygon: PolygonCoordinates, holeIndex: number) {\n  const hole = polygon[holeIndex];\n  if (hole.length <= 3) {\n    polygon.splice(holeIndex, 1);\n    return true;\n  }\n  return false;\n}\n","// http://en.wikipedia.org/wiki/Haversine_formula\n// http://www.movable-type.co.uk/scripts/latlong.html\nimport { degreesToRadians, lengthToRadians, point, radiansToDegrees, } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Takes a {@link Point} and calculates the location of a destination point given a distance in\n * degrees, radians, miles, or kilometers; and bearing in degrees.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name destination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the origin point\n * @param {number} bearing ranging from -180 to 180\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] Translate properties to Point\n * @returns {Feature<Point>} destination point\n * @example\n * var point = turf.point([-75.343, 39.984]);\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.destination(point, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [point, destination]\n * destination.properties['marker-color'] = '#f00';\n * point.properties['marker-color'] = '#0f0';\n */\nexport default function destination(origin, distance, bearing, options) {\n    if (options === void 0) { options = {}; }\n    // Handle input\n    var coordinates1 = getCoord(origin);\n    var longitude1 = degreesToRadians(coordinates1[0]);\n    var latitude1 = degreesToRadians(coordinates1[1]);\n    var bearingRad = degreesToRadians(bearing);\n    var radians = lengthToRadians(distance, options.units);\n    // Main\n    var latitude2 = Math.asin(Math.sin(latitude1) * Math.cos(radians) +\n        Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad));\n    var longitude2 = longitude1 +\n        Math.atan2(Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1), Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2));\n    var lng = radiansToDegrees(longitude2);\n    var lat = radiansToDegrees(latitude2);\n    return point([lng, lat], options.properties);\n}\n","import {\n  ClickEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  PointerMoveEvent,\n  ModeProps,\n  GuideFeatureCollection,\n  TentativeFeature,\n} from '../types';\nimport { Polygon, FeatureCollection, FeatureOf, Position } from '../geojson-types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class TwoClickPolygonMode extends GeoJsonEditMode {\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    if (props.modeConfig && props.modeConfig.dragToDraw) {\n      // handled in drag handlers\n      return;\n    }\n\n    this.addClickSequence(event);\n\n    this.checkAndFinishPolygon(props);\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>): void {\n    if (!props.modeConfig || !props.modeConfig.dragToDraw) {\n      // handled in click handlers\n      return;\n    }\n\n    this.addClickSequence(event);\n    event.cancelPan();\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>): void {\n    if (!props.modeConfig || !props.modeConfig.dragToDraw) {\n      // handled in click handlers\n      return;\n    }\n    this.addClickSequence(event);\n\n    this.checkAndFinishPolygon(props);\n  }\n\n  checkAndFinishPolygon(props: ModeProps<FeatureCollection>) {\n    const clickSequence = this.getClickSequence();\n    const tentativeFeature = this.getTentativeGuide(props);\n\n    if (\n      clickSequence.length > 1 &&\n      tentativeFeature &&\n      tentativeFeature.geometry.type === 'Polygon'\n    ) {\n      const feature: FeatureOf<Polygon> = {\n        type: 'Feature',\n        properties: {\n          shape: tentativeFeature.properties.shape,\n        },\n        geometry: {\n          type: 'Polygon',\n          coordinates: tentativeFeature.geometry.coordinates,\n        },\n      };\n      const editAction = this.getAddFeatureOrBooleanPolygonAction(feature, props);\n\n      this.resetClickSequence();\n\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    }\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const { lastPointerMoveEvent, modeConfig } = props;\n    const clickSequence = this.getClickSequence();\n\n    const guides: GuideFeatureCollection = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    if (clickSequence.length === 0) {\n      // nothing to do yet\n      return guides;\n    }\n\n    const corner1 = clickSequence[0];\n    const corner2 = lastPointerMoveEvent.mapCoords;\n\n    const polygon = this.getTwoClickPolygon(corner1, corner2, modeConfig);\n    if (polygon) {\n      guides.features.push({\n        type: 'Feature',\n        properties: {\n          shape: polygon.properties && polygon.properties.shape,\n          guideType: 'tentative',\n        },\n        geometry: polygon.geometry,\n      });\n    }\n\n    return guides;\n  }\n\n  getTwoClickPolygon(\n    coord1: Position,\n    coord2: Position,\n    modeConfig: any\n  ): FeatureOf<Polygon> | null | undefined {\n    return null;\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n    super.handlePointerMove(event, props);\n  }\n\n  createTentativeFeature(props: ModeProps<FeatureCollection>): TentativeFeature {\n    const { lastPointerMoveEvent } = props;\n    const clickSequence = this.getClickSequence();\n\n    const lastCoords = lastPointerMoveEvent ? [lastPointerMoveEvent.mapCoords] : [];\n\n    let tentativeFeature;\n    if (clickSequence.length === 1) {\n      tentativeFeature = this.getTwoClickPolygon(clickSequence[0], lastCoords[0], props.modeConfig);\n    }\n\n    return tentativeFeature;\n  }\n}\n","import { coordEach } from \"@turf/meta\";\nimport { point } from \"@turf/helpers\";\n/**\n * Takes one or more features and calculates the centroid using the mean of all vertices.\n * This lessens the effect of small islands and artifacts when calculating the centroid of a set of polygons.\n *\n * @name centroid\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the centroid of the input features\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var centroid = turf.centroid(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, centroid]\n */\nfunction centroid(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coordEach(geojson, function (coord) {\n        xSum += coord[0];\n        ySum += coord[1];\n        len++;\n    }, true);\n    return point([xSum / len, ySum / len], options.properties);\n}\nexport default centroid;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@carto/react-core\"), require(\"@deck.gl/carto\"), require(\"@carto/react-core/\"), require(\"react\"), require(\"react-redux\"), require(\"@carto/react-redux\"), require(\"@carto/react-workers\"), require(\"@deck.gl/core\"), require(\"@deck.gl/extensions\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@carto/react-core\", \"@deck.gl/carto\", \"@carto/react-core/\", \"react\", \"react-redux\", \"@carto/react-redux\", \"@carto/react-workers\", \"@deck.gl/core\", \"@deck.gl/extensions\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cartoReactApi\"] = factory(require(\"@carto/react-core\"), require(\"@deck.gl/carto\"), require(\"@carto/react-core/\"), require(\"react\"), require(\"react-redux\"), require(\"@carto/react-redux\"), require(\"@carto/react-workers\"), require(\"@deck.gl/core\"), require(\"@deck.gl/extensions\"));\n\telse\n\t\troot[\"cartoReactApi\"] = factory(root[\"@carto/react-core\"], root[\"@deck.gl/carto\"], root[\"@carto/react-core/\"], root[\"react\"], root[\"react-redux\"], root[\"@carto/react-redux\"], root[\"@carto/react-workers\"], root[\"@deck.gl/core\"], root[\"@deck.gl/extensions\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__485__, __WEBPACK_EXTERNAL_MODULE__332__, __WEBPACK_EXTERNAL_MODULE__38__, __WEBPACK_EXTERNAL_MODULE__156__, __WEBPACK_EXTERNAL_MODULE__756__, __WEBPACK_EXTERNAL_MODULE__347__, __WEBPACK_EXTERNAL_MODULE__116__, __WEBPACK_EXTERNAL_MODULE__946__, __WEBPACK_EXTERNAL_MODULE__487__) {\nreturn ","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__485__;","module.exports = __WEBPACK_EXTERNAL_MODULE__38__;","module.exports = __WEBPACK_EXTERNAL_MODULE__347__;","module.exports = __WEBPACK_EXTERNAL_MODULE__116__;","module.exports = __WEBPACK_EXTERNAL_MODULE__332__;","module.exports = __WEBPACK_EXTERNAL_MODULE__946__;","module.exports = __WEBPACK_EXTERNAL_MODULE__487__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","module.exports = __WEBPACK_EXTERNAL_MODULE__756__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { InvalidColumnError } from '@carto/react-core/';\n\n/**\n * Return more descriptive error from API\n */\nexport function dealWithApiError({ response, data }) {\n  if (data.error === 'Column not found') {\n    throw new InvalidColumnError(`${data.error} ${data.column_name}`);\n  }\n\n  if (data.error?.includes('Missing columns')) {\n    throw new InvalidColumnError(data.error);\n  }\n\n  switch (response.status) {\n    case 401:\n      throw new Error('Unauthorized access. Invalid credentials');\n    case 403:\n      throw new Error('Forbidden access to the requested data');\n    default:\n      throw new Error(`${JSON.stringify(data?.hint || data.error?.[0])}`);\n  }\n}\n\nexport function checkCredentials(credentials) {\n  if (!credentials || !credentials.apiBaseUrl || !credentials.accessToken) {\n    throw new Error('Missing or bad credentials provided');\n  }\n}\n\nexport async function makeCall({ url, credentials, opts }) {\n  let response;\n  let data;\n  try {\n    response = await fetch(url.toString(), {\n      headers: {\n        Authorization: `Bearer ${credentials.accessToken}`\n      },\n      signal: opts?.abortController?.signal,\n      ...opts?.otherOptions,\n    });\n    data = await response.json();\n  } catch (error) {\n    if (error.name === 'AbortError') throw error;\n\n    throw new Error(`Failed request: ${error}`);\n  }\n\n  if (!response.ok) {\n    dealWithApiError({ response, data });\n  }\n\n  return data;\n}\n","import { encodeParameter, getRequest, postRequest } from '@carto/react-core';\nimport { REQUEST_GET_MAX_URL_LENGTH } from '@carto/react-core';\nimport { API_VERSIONS } from '@deck.gl/carto';\n\nimport { dealWithApiError } from './common';\n\nconst CLIENT = 'carto-react';\nconst DEFAULT_USER_COMPONENT_IN_URL = '{user}';\n\n/**\n * Executes a SQL query\n *\n * @param { object } props\n * @param { Object } props.credentials - CARTO user credentials\n * @param { string } props.credentials.username - CARTO username\n * @param { string } props.credentials.apiKey - CARTO API Key\n * @param { string } props.credentials.serverUrlTemplate - CARTO server URL template\n * @param { string } props.query - SQL query to be executed\n * @param { string } props.connection - connection name required for CARTO cloud native\n * @param { Object } props.opts - Additional options for the HTTP request\n * @param { import('@deck.gl/carto').QueryParameters } props.queryParameters - SQL query parameters\n */\nexport const executeSQL = async ({ credentials, query, connection, opts, queryParameters }) => {\n  let response;\n\n  if (!credentials) {\n    throw new Error('No credentials provided');\n  }\n\n  try {\n    const request = createRequest({ credentials, connection, query, opts, queryParameters });\n    response = await fetch(request);\n  } catch (error) {\n    if (error.name === 'AbortError') throw error;\n\n    throw new Error(`Failed to connect to SQL API: ${error}`);\n  }\n\n  const data = await response.json();\n\n  if (!response.ok) {\n    dealWithApiError({ credentials, response, data });\n  }\n\n  const { apiVersion = API_VERSIONS.V2 } = credentials;\n\n  if (apiVersion === API_VERSIONS.V3) {\n    return data.rows;\n  }\n\n  return opts && opts.format === 'geojson' ? data : data.rows; // just rows portion of result object\n};\n\n/**\n * Create an 'SQL query' request\n * (using GET or POST request, depending on url size)\n */\nfunction createRequest({ credentials, connection, query, opts = {}, queryParameters = [] }) {\n  const { abortController, ...otherOptions } = opts;\n\n  const { apiVersion = API_VERSIONS.V2 } = credentials;\n\n  const rawParams = {\n    client: CLIENT,\n    q: query?.trim(),\n    ...otherOptions,\n    queryParameters: queryParameters ? JSON.stringify(queryParameters) : undefined\n  };\n\n  if (apiVersion === API_VERSIONS.V3) {\n    rawParams.access_token = credentials.accessToken;\n  } else if (apiVersion === API_VERSIONS.V1 || apiVersion === API_VERSIONS.V2) {\n    rawParams.api_key = credentials.apiKey;\n  }\n\n  const requestOpts = { ...otherOptions };\n  if (abortController) {\n    requestOpts['signal'] = abortController.signal;\n  }\n\n  // Get request\n  const urlParamsForGet = Object.entries(rawParams).map(([key, value]) =>\n    encodeParameter(key, value)\n  );\n  const getUrl = generateApiUrl({\n    credentials,\n    connection,\n    parameters: urlParamsForGet\n  });\n  if (getUrl.length < REQUEST_GET_MAX_URL_LENGTH) {\n    return getRequest(getUrl, requestOpts);\n  }\n\n  // Post request\n  const urlParamsForPost =\n    apiVersion === API_VERSIONS.V3\n      ? [`access_token=${credentials.accessToken}`, `client=${CLIENT}`]\n      : null;\n  const postUrl = generateApiUrl({\n    credentials,\n    connection,\n    parameters: urlParamsForPost\n  });\n  return postRequest(postUrl, rawParams, requestOpts);\n}\n\n/**\n * Generate a valid API url for a request\n */\nexport function generateApiUrl({ credentials, connection, parameters }) {\n  const { apiVersion = API_VERSIONS.V2, apiBaseUrl } = credentials;\n\n  let url;\n  switch (apiVersion) {\n    case API_VERSIONS.V1:\n    case API_VERSIONS.V2:\n      url = `${sqlApiUrl(credentials)}api/v2/sql`;\n      break;\n\n    case API_VERSIONS.V3:\n      url = `${apiBaseUrl}/v3/sql/${connection}/query`;\n      break;\n\n    default:\n      throw new Error(`Unknown apiVersion ${apiVersion}`);\n  }\n\n  if (!parameters) {\n    return url;\n  }\n\n  return `${url}?${parameters.join('&')}`;\n}\n\n/**\n * Prepare a url valid for the specified user, from the serverUrlTemplate\n */\nfunction sqlApiUrl(credentials) {\n  let url = credentials.serverUrlTemplate.replace(\n    DEFAULT_USER_COMPONENT_IN_URL,\n    credentials.username\n  );\n\n  if (!url.endsWith('/')) {\n    url += '/';\n  }\n\n  return url;\n}\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { checkCredentials, makeCall } from './common';\n\n/**\n * Execute a LDS geocoding service geocode request.\n *\n * @param { object } props\n * @param { string } props.address - searched address to be executed\n * @param { string= } props.country - optional, limit search scope to country as ISO-3166 alpha-2 code, example, ES, DE\n * @param { number= } props.limit - optional, limit of ansewers\n * @param { Object } props.credentials - CARTO user credentials\n * @param { string } props.credentials.accessToken - CARTO 3 access token\n * @param { string } props.credentials.apiBaseUrl - CARTO 3 api server URL\n * @param { Object= } props.opts - Additional options for the HTTP request\n */\nexport async function ldsGeocode({ credentials, address, country, limit, opts }) {\n  checkCredentials(credentials);\n\n  if (!address) {\n    throw new Error('ldsGeocode: No address provided');\n  }\n\n  const url = new URL(`${credentials.apiBaseUrl}/v3/lds/geocoding/geocode`);\n  url.searchParams.set('address', address);\n  if (country) {\n    url.searchParams.set('country', country);\n  }\n  if (limit) {\n    url.searchParams.set('limit', String(limit));\n  }\n\n  let data = await makeCall({ url, credentials, opts });\n\n  if (Array.isArray(data)) {\n    data = data[0];\n  }\n\n  return data.value;\n}\n","import { checkCredentials } from './common';\nimport { MAP_TYPES, API_VERSIONS, fetchLayerData, FORMATS } from '@deck.gl/carto';\nimport { _assert as assert } from '@carto/react-core/';\n\n/**\n * Get the TileJson for static tilesets\n *\n * @param { object } props\n * @param { object } props.source - A static tileset C4R source\n */\nexport async function getTileJson(props) {\n  const { source } = props;\n\n  assert(source, 'getTileJson: missing source');\n  assert(source.connection, 'getTileJson: missing connection');\n  assert(source.data, 'getTileJson: missing data');\n  assert(\n    source.type === MAP_TYPES.TILESET,\n    'getTileJson: source must be a static tileset'\n  );\n  checkCredentials(source.credentials);\n  assert(\n    source.credentials.apiVersion === API_VERSIONS.V3,\n    'TileJson is a feature only available in CARTO 3.'\n  );\n\n  const { data, format } = await fetchLayerData({\n    type: source.type,\n    source: source.data,\n    connection: source.connection,\n    credentials: source.credentials,\n    format: FORMATS.TILEJSON,\n    clientId: 'carto-for-react'\n  });\n\n  assert(format === FORMATS.TILEJSON, 'getTileJson: data is not a tilejson');\n\n  return data;\n}\n","import { checkCredentials, makeCall } from './common';\nimport { MAP_TYPES, API_VERSIONS } from '@deck.gl/carto';\nimport { getTileJson } from './tilejson';\nimport { InvalidColumnError, _assert as assert } from '@carto/react-core/';\n\n/**\n * Execute a stats service request.\n *\n * @param { object } props\n * @param { string } props.column - column to get stats for\n * @param { object } props.source - source that owns the column\n * @param { object= } props.opts - Additional options for the HTTP request\n */\nexport async function getStats(props) {\n  assert(props.source, 'getStats: missing source');\n  assert(props.column, 'getStats: missing column');\n\n  const { source, column, opts } = props;\n\n  checkCredentials(source.credentials);\n\n  assert(\n    source.credentials.apiVersion === API_VERSIONS.V3,\n    'Stats API is a feature only available in CARTO 3.'\n  );\n\n  if (source.type === MAP_TYPES.TILESET) {\n    const tileJson = await getTileJson({ source });\n    const tileStatsAttributes = tileJson.tilestats.layers[0].attributes;\n    const columnStats = tileStatsAttributes.find(({ attribute }) => attribute === column);\n\n    if (!columnStats) {\n      throw new InvalidColumnError(`${column} not found in tileset attributes`);\n    }\n\n    return columnStats;\n  } else {\n    const url = buildUrl(source, column);\n\n    return makeCall({ url, credentials: source.credentials, opts, queryParameters: source.queryParameters });\n  }\n}\n\n// Aux\nfunction buildUrl(source, column) {\n  const isQuery = source.type === MAP_TYPES.QUERY;\n\n  const url = new URL(\n    `${source.credentials.apiBaseUrl}/v3/stats/${source.connection}/${\n      isQuery ? column : `${source.data}/${column}`\n    }`\n  );\n\n  if (isQuery) {\n    url.searchParams.set('q', source.data);\n  }\n\n  return url;\n}\n","import { checkCredentials, makeCall } from './common';\nimport { MAP_TYPES, API_VERSIONS } from '@deck.gl/carto';\nimport { _assert as assert } from '@carto/react-core/';\n\nconst URL_LENGTH = 2048;\n\nconst AVAILABLE_MODELS = ['category', 'histogram', 'formula', 'timeseries', 'range'];\n\n/**\n * Execute a SQL model request.\n *\n * @param { object } props\n * @param { string } props.model - widget's model that we want to get the data for\n * @param { object } props.source - source that owns the column\n * @param { object } props.params - widget's props\n * @param { object= } props.opts - Additional options for the HTTP request\n */\nexport function executeModel(props) {\n  assert(props.source, 'executeModel: missing source');\n  assert(props.model, 'executeModel: missing model');\n  assert(props.params, 'executeModel: missing params');\n\n  assert(\n    AVAILABLE_MODELS.indexOf(props.model) !== -1,\n    `executeModel: model provided isn't valid. Available models: ${AVAILABLE_MODELS.join(\n      ', '\n    )}`\n  );\n\n  const { source, model, params, opts } = props;\n\n  checkCredentials(source.credentials);\n\n  assert(\n    source.credentials.apiVersion === API_VERSIONS.V3,\n    'SQL Model API is a feature only available in CARTO 3.'\n  );\n  assert(source.type !== MAP_TYPES.TILESET, 'executeModel: Tileset not supported');\n\n  let url = `${source.credentials.apiBaseUrl}/v3/sql/${source.connection}/model/${model}`;\n\n  const { filters, filtersLogicalOperator, data, type } = source;  \n  const queryParameters = source.queryParameters ? JSON.stringify(source.queryParameters) : ''\n  const queryParams = {\n    type,\n    source: data,\n    params: JSON.stringify(params),\n    queryParameters,\n    filters: JSON.stringify(filters),\n    filtersLogicalOperator\n  };\n\n  const isGet = url.length + JSON.stringify(queryParams).length <= URL_LENGTH;\n  if (isGet) {\n    url += '?' + new URLSearchParams(queryParams).toString();\n  }\n  return makeCall({\n    url,\n    credentials: source.credentials,\n    opts: {\n      ...opts,\n      method: isGet ? 'GET' : 'POST',\n      ...(!isGet && { body: JSON.stringify(queryParams) })\n    }\n  });\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export function throwError(error) {\n  if (error.name === 'DataCloneError')\n    throw new Error(\n      `DataCloneError: Unable to retrieve GeoJSON features. Please check that your query is returning a column called \"geom\" or that you are using the geoColumn property to indicate the geometry column in the table.`\n    );\n  if (error.name === 'AbortError') return;\n  throw error;\n}\n","import { useDispatch } from 'react-redux';\nimport { setFeaturesReady } from '@carto/react-redux';\nimport { useState, useRef, useEffect, useCallback } from 'react';\n\nexport default function useFeaturesCommons({ source }) {\n  const dispatch = useDispatch();\n\n  const [isDataLoaded, setDataLoaded] = useState(false);\n  const debounceIdRef = useRef(null);\n\n  useEffect(() => {\n    if (!source) {\n      setDataLoaded(false);\n    }\n  }, [source]);\n\n  const clearDebounce = useCallback(() => {\n    if (debounceIdRef.current) {\n      clearTimeout(debounceIdRef.current);\n    }\n    debounceIdRef.current = null;\n  }, []);\n\n  const stopAnyCompute = useCallback(() => {\n    clearDebounce();\n    setDataLoaded(false);\n  }, [clearDebounce, setDataLoaded]);\n\n  const sourceId = source?.id;\n\n  const setSourceFeaturesReady = useCallback(\n    (ready) => {\n      if (sourceId) {\n        dispatch(setFeaturesReady({ sourceId, ready }));\n      }\n    },\n    [dispatch, sourceId]\n  );\n\n  return [\n    debounceIdRef,\n    isDataLoaded,\n    setDataLoaded,\n    clearDebounce,\n    stopAnyCompute,\n    setSourceFeaturesReady\n  ];\n}\n","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'loaders.gl assertion failed.');\n  }\n}\n//# sourceMappingURL=assert.js.map","const globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nconst self_ = globals.self || globals.window || globals.global || {};\nconst window_ = globals.window || globals.self || globals.global || {};\nconst global_ = globals.global || globals.self || globals.window || {};\nconst document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport const isBrowser = typeof process !== 'object' || String(process) !== '[object process]' || process.browser;\nexport const isWorker = typeof importScripts === 'function';\nexport const isMobile = typeof window !== 'undefined' && typeof window.orientation !== 'undefined';\nconst matches = typeof process !== 'undefined' && process.version && /v([0-9]*)/.exec(process.version);\nexport const nodeVersion = matches && parseFloat(matches[1]) || 0;\n//# sourceMappingURL=globals.js.map","export class Worker {}\nexport const parentPort = null;\n//# sourceMappingURL=worker_threads-browser.js.map","import { assert } from '../env-utils/assert';\nconst workerURLCache = new Map();\nexport function getLoadableWorkerURL(props) {\n  assert(props.source && !props.url || !props.source && props.url);\n  let workerURL = workerURLCache.get(props.source || props.url);\n\n  if (!workerURL) {\n    if (props.url) {\n      workerURL = getLoadableWorkerURLFromURL(props.url);\n      workerURLCache.set(props.url, workerURL);\n    }\n\n    if (props.source) {\n      workerURL = getLoadableWorkerURLFromSource(props.source);\n      workerURLCache.set(props.source, workerURL);\n    }\n  }\n\n  assert(workerURL);\n  return workerURL;\n}\n\nfunction getLoadableWorkerURLFromURL(url) {\n  if (!url.startsWith('http')) {\n    return url;\n  }\n\n  const workerSource = buildScriptSource(url);\n  return getLoadableWorkerURLFromSource(workerSource);\n}\n\nfunction getLoadableWorkerURLFromSource(workerSource) {\n  const blob = new Blob([workerSource], {\n    type: 'application/javascript'\n  });\n  return URL.createObjectURL(blob);\n}\n\nfunction buildScriptSource(workerUrl) {\n  return \"try {\\n  importScripts('\".concat(workerUrl, \"');\\n} catch (error) {\\n  console.error(error);\\n  throw error;\\n}\");\n}\n//# sourceMappingURL=get-loadable-worker-url.js.map","export function getTransferList(object, recursive = true, transfers) {\n  const transfersSet = transfers || new Set();\n\n  if (!object) {} else if (isTransferable(object)) {\n    transfersSet.add(object);\n  } else if (isTransferable(object.buffer)) {\n    transfersSet.add(object.buffer);\n  } else if (ArrayBuffer.isView(object)) {} else if (recursive && typeof object === 'object') {\n    for (const key in object) {\n      getTransferList(object[key], recursive, transfersSet);\n    }\n  }\n\n  return transfers === undefined ? Array.from(transfersSet) : [];\n}\n\nfunction isTransferable(object) {\n  if (!object) {\n    return false;\n  }\n\n  if (object instanceof ArrayBuffer) {\n    return true;\n  }\n\n  if (typeof MessagePort !== 'undefined' && object instanceof MessagePort) {\n    return true;\n  }\n\n  if (typeof ImageBitmap !== 'undefined' && object instanceof ImageBitmap) {\n    return true;\n  }\n\n  if (typeof OffscreenCanvas !== 'undefined' && object instanceof OffscreenCanvas) {\n    return true;\n  }\n\n  return false;\n}\n//# sourceMappingURL=get-transfer-list.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Worker as NodeWorker } from '../node/worker_threads';\nimport { isBrowser } from '../env-utils/globals';\nimport { assert } from '../env-utils/assert';\nimport { getLoadableWorkerURL } from '../worker-utils/get-loadable-worker-url';\nimport { getTransferList } from '../worker-utils/get-transfer-list';\n\nconst NOOP = () => {};\n\nexport default class WorkerThread {\n  static isSupported() {\n    return typeof Worker !== 'undefined' && isBrowser || typeof NodeWorker !== undefined;\n  }\n\n  constructor(props) {\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"source\", void 0);\n\n    _defineProperty(this, \"url\", void 0);\n\n    _defineProperty(this, \"terminated\", false);\n\n    _defineProperty(this, \"worker\", void 0);\n\n    _defineProperty(this, \"onMessage\", void 0);\n\n    _defineProperty(this, \"onError\", void 0);\n\n    _defineProperty(this, \"_loadableURL\", '');\n\n    const {\n      name,\n      source,\n      url\n    } = props;\n    assert(source || url);\n    this.name = name;\n    this.source = source;\n    this.url = url;\n    this.onMessage = NOOP;\n\n    this.onError = error => console.log(error);\n\n    this.worker = isBrowser ? this._createBrowserWorker() : this._createNodeWorker();\n  }\n\n  destroy() {\n    this.onMessage = NOOP;\n    this.onError = NOOP;\n    this.worker.terminate();\n    this.terminated = true;\n  }\n\n  get isRunning() {\n    return Boolean(this.onMessage);\n  }\n\n  postMessage(data, transferList) {\n    transferList = transferList || getTransferList(data);\n    this.worker.postMessage(data, transferList);\n  }\n\n  _getErrorFromErrorEvent(event) {\n    let message = 'Failed to load ';\n    message += \"worker \".concat(this.name, \" from \").concat(this.url, \". \");\n\n    if (event.message) {\n      message += \"\".concat(event.message, \" in \");\n    }\n\n    if (event.lineno) {\n      message += \":\".concat(event.lineno, \":\").concat(event.colno);\n    }\n\n    return new Error(message);\n  }\n\n  _createBrowserWorker() {\n    this._loadableURL = getLoadableWorkerURL({\n      source: this.source,\n      url: this.url\n    });\n    const worker = new Worker(this._loadableURL, {\n      name: this.name\n    });\n\n    worker.onmessage = event => {\n      if (!event.data) {\n        this.onError(new Error('No data received'));\n      } else {\n        this.onMessage(event.data);\n      }\n    };\n\n    worker.onerror = error => {\n      this.onError(this._getErrorFromErrorEvent(error));\n      this.terminated = true;\n    };\n\n    worker.onmessageerror = event => console.error(event);\n\n    return worker;\n  }\n\n  _createNodeWorker() {\n    let worker;\n\n    if (this.url) {\n      const absolute = this.url.includes(':/') || this.url.startsWith('/');\n      const url = absolute ? this.url : \"./\".concat(this.url);\n      worker = new NodeWorker(url, {\n        eval: false\n      });\n    } else if (this.source) {\n      worker = new NodeWorker(this.source, {\n        eval: true\n      });\n    } else {\n      throw new Error('no worker');\n    }\n\n    worker.on('message', data => {\n      this.onMessage(data);\n    });\n    worker.on('error', error => {\n      this.onError(error);\n    });\n    worker.on('exit', code => {});\n    return worker;\n  }\n\n}\n//# sourceMappingURL=worker-thread.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { assert } from '../env-utils/assert';\nexport default class WorkerJob {\n  constructor(jobName, workerThread) {\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"workerThread\", void 0);\n\n    _defineProperty(this, \"isRunning\", true);\n\n    _defineProperty(this, \"result\", void 0);\n\n    _defineProperty(this, \"_resolve\", () => {});\n\n    _defineProperty(this, \"_reject\", () => {});\n\n    this.name = jobName;\n    this.workerThread = workerThread;\n    this.result = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  postMessage(type, payload) {\n    this.workerThread.postMessage({\n      source: 'loaders.gl',\n      type,\n      payload\n    });\n  }\n\n  done(value) {\n    assert(this.isRunning);\n    this.isRunning = false;\n\n    this._resolve(value);\n  }\n\n  error(error) {\n    assert(this.isRunning);\n    this.isRunning = false;\n\n    this._reject(error);\n  }\n\n}\n//# sourceMappingURL=worker-job.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isMobile } from '../env-utils/globals';\nimport WorkerThread from './worker-thread';\nimport WorkerJob from './worker-job';\nexport default class WorkerPool {\n  static isSupported() {\n    return WorkerThread.isSupported();\n  }\n\n  constructor(props) {\n    _defineProperty(this, \"name\", 'unnamed');\n\n    _defineProperty(this, \"source\", void 0);\n\n    _defineProperty(this, \"url\", void 0);\n\n    _defineProperty(this, \"maxConcurrency\", 1);\n\n    _defineProperty(this, \"maxMobileConcurrency\", 1);\n\n    _defineProperty(this, \"onDebug\", () => {});\n\n    _defineProperty(this, \"reuseWorkers\", true);\n\n    _defineProperty(this, \"props\", {});\n\n    _defineProperty(this, \"jobQueue\", []);\n\n    _defineProperty(this, \"idleQueue\", []);\n\n    _defineProperty(this, \"count\", 0);\n\n    _defineProperty(this, \"isDestroyed\", false);\n\n    this.source = props.source;\n    this.url = props.url;\n    this.setProps(props);\n  }\n\n  destroy() {\n    this.idleQueue.forEach(worker => worker.destroy());\n    this.isDestroyed = true;\n  }\n\n  setProps(props) {\n    this.props = { ...this.props,\n      ...props\n    };\n\n    if (props.name !== undefined) {\n      this.name = props.name;\n    }\n\n    if (props.maxConcurrency !== undefined) {\n      this.maxConcurrency = props.maxConcurrency;\n    }\n\n    if (props.maxMobileConcurrency !== undefined) {\n      this.maxMobileConcurrency = props.maxMobileConcurrency;\n    }\n\n    if (props.reuseWorkers !== undefined) {\n      this.reuseWorkers = props.reuseWorkers;\n    }\n\n    if (props.onDebug !== undefined) {\n      this.onDebug = props.onDebug;\n    }\n  }\n\n  async startJob(name, onMessage = (job, type, data) => job.done(data), onError = (job, error) => job.error(error)) {\n    const startPromise = new Promise(onStart => {\n      this.jobQueue.push({\n        name,\n        onMessage,\n        onError,\n        onStart\n      });\n      return this;\n    });\n\n    this._startQueuedJob();\n\n    return await startPromise;\n  }\n\n  async _startQueuedJob() {\n    if (!this.jobQueue.length) {\n      return;\n    }\n\n    const workerThread = this._getAvailableWorker();\n\n    if (!workerThread) {\n      return;\n    }\n\n    const queuedJob = this.jobQueue.shift();\n\n    if (queuedJob) {\n      this.onDebug({\n        message: 'Starting job',\n        name: queuedJob.name,\n        workerThread,\n        backlog: this.jobQueue.length\n      });\n      const job = new WorkerJob(queuedJob.name, workerThread);\n\n      workerThread.onMessage = data => queuedJob.onMessage(job, data.type, data.payload);\n\n      workerThread.onError = error => queuedJob.onError(job, error);\n\n      queuedJob.onStart(job);\n\n      try {\n        await job.result;\n      } finally {\n        this.returnWorkerToQueue(workerThread);\n      }\n    }\n  }\n\n  returnWorkerToQueue(worker) {\n    const shouldDestroyWorker = this.isDestroyed || !this.reuseWorkers || this.count > this._getMaxConcurrency();\n\n    if (shouldDestroyWorker) {\n      worker.destroy();\n      this.count--;\n    } else {\n      this.idleQueue.push(worker);\n    }\n\n    if (!this.isDestroyed) {\n      this._startQueuedJob();\n    }\n  }\n\n  _getAvailableWorker() {\n    if (this.idleQueue.length > 0) {\n      return this.idleQueue.shift() || null;\n    }\n\n    if (this.count < this._getMaxConcurrency()) {\n      this.count++;\n      const name = \"\".concat(this.name.toLowerCase(), \" (#\").concat(this.count, \" of \").concat(this.maxConcurrency, \")\");\n      return new WorkerThread({\n        name,\n        source: this.source,\n        url: this.url\n      });\n    }\n\n    return null;\n  }\n\n  _getMaxConcurrency() {\n    return isMobile ? this.maxMobileConcurrency : this.maxConcurrency;\n  }\n\n}\n//# sourceMappingURL=worker-pool.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport WorkerPool from './worker-pool';\nimport WorkerThread from './worker-thread';\nconst DEFAULT_PROPS = {\n  maxConcurrency: 3,\n  maxMobileConcurrency: 1,\n  reuseWorkers: true,\n  onDebug: () => {}\n};\nexport default class WorkerFarm {\n  static isSupported() {\n    return WorkerThread.isSupported();\n  }\n\n  static getWorkerFarm(props = {}) {\n    WorkerFarm._workerFarm = WorkerFarm._workerFarm || new WorkerFarm({});\n\n    WorkerFarm._workerFarm.setProps(props);\n\n    return WorkerFarm._workerFarm;\n  }\n\n  constructor(props) {\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"workerPools\", new Map());\n\n    this.props = { ...DEFAULT_PROPS\n    };\n    this.setProps(props);\n    this.workerPools = new Map();\n  }\n\n  destroy() {\n    for (const workerPool of this.workerPools.values()) {\n      workerPool.destroy();\n    }\n\n    this.workerPools = new Map();\n  }\n\n  setProps(props) {\n    this.props = { ...this.props,\n      ...props\n    };\n\n    for (const workerPool of this.workerPools.values()) {\n      workerPool.setProps(this._getWorkerPoolProps());\n    }\n  }\n\n  getWorkerPool(options) {\n    const {\n      name,\n      source,\n      url\n    } = options;\n    let workerPool = this.workerPools.get(name);\n\n    if (!workerPool) {\n      workerPool = new WorkerPool({\n        name,\n        source,\n        url\n      });\n      workerPool.setProps(this._getWorkerPoolProps());\n      this.workerPools.set(name, workerPool);\n    }\n\n    return workerPool;\n  }\n\n  _getWorkerPoolProps() {\n    return {\n      maxConcurrency: this.props.maxConcurrency,\n      maxMobileConcurrency: this.props.maxMobileConcurrency,\n      reuseWorkers: this.props.reuseWorkers,\n      onDebug: this.props.onDebug\n    };\n  }\n\n}\n\n_defineProperty(WorkerFarm, \"_workerFarm\", void 0);\n//# sourceMappingURL=worker-farm.js.map","import { isBrowser } from '@loaders.gl/worker-utils';\nimport { WorkerFarm, getWorkerURL } from '@loaders.gl/worker-utils';\nexport function canParseWithWorker(loader, options) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n\n  if (!isBrowser && !(options !== null && options !== void 0 && options._nodeWorkers)) {\n    return false;\n  }\n\n  return loader.worker && (options === null || options === void 0 ? void 0 : options.worker);\n}\nexport async function parseWithWorker(loader, data, options, context, parseOnMainThread) {\n  const name = loader.id;\n  const url = getWorkerURL(loader, options);\n  const workerFarm = WorkerFarm.getWorkerFarm(options);\n  const workerPool = workerFarm.getWorkerPool({\n    name,\n    url\n  });\n  options = JSON.parse(JSON.stringify(options));\n  context = JSON.parse(JSON.stringify(context || {}));\n  const job = await workerPool.startJob('process-on-worker', onMessage.bind(null, parseOnMainThread));\n  job.postMessage('process', {\n    input: data,\n    options,\n    context\n  });\n  const result = await job.result;\n  return await result.result;\n}\n\nasync function onMessage(parseOnMainThread, job, type, payload) {\n  switch (type) {\n    case 'done':\n      job.done(payload);\n      break;\n\n    case 'error':\n      job.error(new Error(payload.error));\n      break;\n\n    case 'process':\n      const {\n        id,\n        input,\n        options\n      } = payload;\n\n      try {\n        const result = await parseOnMainThread(input, options);\n        job.postMessage('done', {\n          id,\n          result\n        });\n      } catch (error) {\n        const message = error instanceof Error ? error.message : 'unknown error';\n        job.postMessage('error', {\n          id,\n          error: message\n        });\n      }\n\n      break;\n\n    default:\n      console.warn(\"parse-with-worker unknown message \".concat(type));\n  }\n}\n//# sourceMappingURL=parse-with-worker.js.map","import { assert } from '../env-utils/assert';\nimport { VERSION as __VERSION__ } from '../env-utils/version';\nconst NPM_TAG = 'latest';\nconst VERSION = typeof \"3.2.3\" !== 'undefined' ? \"3.2.3\" : NPM_TAG;\nexport function getWorkerName(worker) {\n  const warning = worker.version !== VERSION ? \" (worker-utils@\".concat(VERSION, \")\") : '';\n  return \"\".concat(worker.name, \"@\").concat(worker.version).concat(warning);\n}\nexport function getWorkerURL(worker, options = {}) {\n  const workerOptions = options[worker.id] || {};\n  const workerFile = \"\".concat(worker.id, \"-worker.js\");\n  let url = workerOptions.workerUrl;\n\n  if (!url && worker.id === 'compression') {\n    url = options.workerUrl;\n  }\n\n  if (options._workerType === 'test') {\n    url = \"modules/\".concat(worker.module, \"/dist/\").concat(workerFile);\n  }\n\n  if (!url) {\n    let version = worker.version;\n\n    if (version === 'latest') {\n      version = NPM_TAG;\n    }\n\n    const versionTag = version ? \"@\".concat(version) : '';\n    url = \"https://unpkg.com/@loaders.gl/\".concat(worker.module).concat(versionTag, \"/dist/\").concat(workerFile);\n  }\n\n  assert(url);\n  return url;\n}\n//# sourceMappingURL=get-worker-url.js.map","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'loader assertion failed.');\n  }\n}\n//# sourceMappingURL=assert.js.map","import { assert } from '@loaders.gl/loader-utils';\nexport function isLoaderObject(loader) {\n  var _loader;\n\n  if (!loader) {\n    return false;\n  }\n\n  if (Array.isArray(loader)) {\n    loader = loader[0];\n  }\n\n  const hasExtensions = Array.isArray((_loader = loader) === null || _loader === void 0 ? void 0 : _loader.extensions);\n  return hasExtensions;\n}\nexport function normalizeLoader(loader) {\n  var _loader2, _loader3;\n\n  assert(loader, 'null loader');\n  assert(isLoaderObject(loader), 'invalid loader');\n  let options;\n\n  if (Array.isArray(loader)) {\n    options = loader[1];\n    loader = loader[0];\n    loader = { ...loader,\n      options: { ...loader.options,\n        ...options\n      }\n    };\n  }\n\n  if ((_loader2 = loader) !== null && _loader2 !== void 0 && _loader2.parseTextSync || (_loader3 = loader) !== null && _loader3 !== void 0 && _loader3.parseText) {\n    loader.text = true;\n  }\n\n  if (!loader.text) {\n    loader.binary = true;\n  }\n\n  return loader;\n}\n//# sourceMappingURL=normalize-loader.js.map","const isBoolean = x => typeof x === 'boolean';\n\nconst isFunction = x => typeof x === 'function';\n\nexport const isObject = x => x !== null && typeof x === 'object';\nexport const isPureObject = x => isObject(x) && x.constructor === {}.constructor;\nexport const isPromise = x => isObject(x) && isFunction(x.then);\nexport const isIterable = x => x && typeof x[Symbol.iterator] === 'function';\nexport const isAsyncIterable = x => x && typeof x[Symbol.asyncIterator] === 'function';\nexport const isIterator = x => x && isFunction(x.next);\nexport const isResponse = x => typeof Response !== 'undefined' && x instanceof Response || x && x.arrayBuffer && x.text && x.json;\nexport const isFile = x => typeof File !== 'undefined' && x instanceof File;\nexport const isBlob = x => typeof Blob !== 'undefined' && x instanceof Blob;\nexport const isBuffer = x => x && typeof x === 'object' && x.isBuffer;\nexport const isWritableDOMStream = x => isObject(x) && isFunction(x.abort) && isFunction(x.getWriter);\nexport const isReadableDOMStream = x => typeof ReadableStream !== 'undefined' && x instanceof ReadableStream || isObject(x) && isFunction(x.tee) && isFunction(x.cancel) && isFunction(x.getReader);\nexport const isWritableNodeStream = x => isObject(x) && isFunction(x.end) && isFunction(x.write) && isBoolean(x.writable);\nexport const isReadableNodeStream = x => isObject(x) && isFunction(x.read) && isFunction(x.pipe) && isBoolean(x.readable);\nexport const isReadableStream = x => isReadableDOMStream(x) || isReadableNodeStream(x);\nexport const isWritableStream = x => isWritableDOMStream(x) || isWritableNodeStream(x);\n//# sourceMappingURL=is-type.js.map","let pathPrefix = '';\nconst fileAliases = {};\nexport function setPathPrefix(prefix) {\n  pathPrefix = prefix;\n}\nexport function getPathPrefix() {\n  return pathPrefix;\n}\nexport function addAliases(aliases) {\n  Object.assign(fileAliases, aliases);\n}\nexport function resolvePath(filename) {\n  for (const alias in fileAliases) {\n    if (filename.startsWith(alias)) {\n      const replacement = fileAliases[alias];\n      filename = filename.replace(alias, replacement);\n    }\n  }\n\n  if (!filename.startsWith('http://') && !filename.startsWith('https://')) {\n    filename = \"\".concat(pathPrefix).concat(filename);\n  }\n\n  return filename;\n}\n//# sourceMappingURL=file-aliases.js.map","const DATA_URL_PATTERN = /^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/;\nconst MIME_TYPE_PATTERN = /^([-\\w.]+\\/[-\\w.+]+)/;\nexport function parseMIMEType(mimeString) {\n  const matches = MIME_TYPE_PATTERN.exec(mimeString);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return mimeString;\n}\nexport function parseMIMETypeFromURL(url) {\n  const matches = DATA_URL_PATTERN.exec(url);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return '';\n}\n//# sourceMappingURL=mime-type-utils.js.map","import { isResponse, isBlob } from '../../javascript-utils/is-type';\nimport { parseMIMEType, parseMIMETypeFromURL } from './mime-type-utils';\nconst QUERY_STRING_PATTERN = /\\?.*/;\nexport function getResourceUrlAndType(resource) {\n  if (isResponse(resource)) {\n    const url = stripQueryString(resource.url || '');\n    const contentTypeHeader = resource.headers.get('content-type') || '';\n    return {\n      url,\n      type: parseMIMEType(contentTypeHeader) || parseMIMETypeFromURL(url)\n    };\n  }\n\n  if (isBlob(resource)) {\n    return {\n      url: stripQueryString(resource.name || ''),\n      type: resource.type || ''\n    };\n  }\n\n  if (typeof resource === 'string') {\n    return {\n      url: stripQueryString(resource),\n      type: parseMIMETypeFromURL(resource)\n    };\n  }\n\n  return {\n    url: '',\n    type: ''\n  };\n}\nexport function getResourceContentLength(resource) {\n  if (isResponse(resource)) {\n    return resource.headers['content-length'] || -1;\n  }\n\n  if (isBlob(resource)) {\n    return resource.size;\n  }\n\n  if (typeof resource === 'string') {\n    return resource.length;\n  }\n\n  if (resource instanceof ArrayBuffer) {\n    return resource.byteLength;\n  }\n\n  if (ArrayBuffer.isView(resource)) {\n    return resource.byteLength;\n  }\n\n  return -1;\n}\n\nfunction stripQueryString(url) {\n  return url.replace(QUERY_STRING_PATTERN, '');\n}\n//# sourceMappingURL=resource-utils.js.map","import { isResponse } from '../../javascript-utils/is-type';\nimport { getResourceContentLength, getResourceUrlAndType } from './resource-utils';\nexport async function makeResponse(resource) {\n  if (isResponse(resource)) {\n    return resource;\n  }\n\n  const headers = {};\n  const contentLength = getResourceContentLength(resource);\n\n  if (contentLength >= 0) {\n    headers['content-length'] = String(contentLength);\n  }\n\n  const {\n    url,\n    type\n  } = getResourceUrlAndType(resource);\n\n  if (type) {\n    headers['content-type'] = type;\n  }\n\n  const initialDataUrl = await getInitialDataUrl(resource);\n\n  if (initialDataUrl) {\n    headers['x-first-bytes'] = initialDataUrl;\n  }\n\n  if (typeof resource === 'string') {\n    resource = new TextEncoder().encode(resource);\n  }\n\n  const response = new Response(resource, {\n    headers\n  });\n  Object.defineProperty(response, 'url', {\n    value: url\n  });\n  return response;\n}\nexport async function checkResponse(response) {\n  if (!response.ok) {\n    const message = await getResponseError(response);\n    throw new Error(message);\n  }\n}\nexport function checkResponseSync(response) {\n  if (!response.ok) {\n    let message = \"\".concat(response.status, \" \").concat(response.statusText);\n    message = message.length > 60 ? \"\".concat(message.slice(0, 60), \"...\") : message;\n    throw new Error(message);\n  }\n}\n\nasync function getResponseError(response) {\n  let message = \"Failed to fetch resource \".concat(response.url, \" (\").concat(response.status, \"): \");\n\n  try {\n    const contentType = response.headers.get('Content-Type');\n    let text = response.statusText;\n\n    if (contentType.includes('application/json')) {\n      text += \" \".concat(await response.text());\n    }\n\n    message += text;\n    message = message.length > 60 ? \"\".concat(message.slice(0, 60), \"...\") : message;\n  } catch (error) {}\n\n  return message;\n}\n\nasync function getInitialDataUrl(resource) {\n  const INITIAL_DATA_LENGTH = 5;\n\n  if (typeof resource === 'string') {\n    return \"data:,\".concat(resource.slice(0, INITIAL_DATA_LENGTH));\n  }\n\n  if (resource instanceof Blob) {\n    const blobSlice = resource.slice(0, 5);\n    return await new Promise(resolve => {\n      const reader = new FileReader();\n\n      reader.onload = event => {\n        var _event$target;\n\n        return resolve(event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result);\n      };\n\n      reader.readAsDataURL(blobSlice);\n    });\n  }\n\n  if (resource instanceof ArrayBuffer) {\n    const slice = resource.slice(0, INITIAL_DATA_LENGTH);\n    const base64 = arrayBufferToBase64(slice);\n    return \"data:base64,\".concat(base64);\n  }\n\n  return null;\n}\n\nfunction arrayBufferToBase64(buffer) {\n  let binary = '';\n  const bytes = new Uint8Array(buffer);\n\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n\n  return btoa(binary);\n}\n//# sourceMappingURL=response-utils.js.map","import { resolvePath } from '@loaders.gl/loader-utils';\nimport { makeResponse } from '../utils/response-utils';\nexport async function fetchFile(url, options) {\n  if (typeof url === 'string') {\n    url = resolvePath(url);\n    let fetchOptions = options;\n\n    if (options !== null && options !== void 0 && options.fetch && typeof (options === null || options === void 0 ? void 0 : options.fetch) !== 'function') {\n      fetchOptions = options.fetch;\n    }\n\n    return await fetch(url, fetchOptions);\n  }\n\n  return await makeResponse(url);\n}\n//# sourceMappingURL=fetch-file.js.map","import isElectron from './is-electron';\nexport default function isBrowser() {\n  const isNode = typeof process === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || isElectron();\n}\nexport function isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}\n//# sourceMappingURL=is-browser.js.map","export default function isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && typeof process.versions === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  const realUserAgent = typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  const userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}\n//# sourceMappingURL=is-electron.js.map","import checkIfBrowser from '../lib/is-browser';\nexport { self, window, global, document, process, console } from '../lib/globals';\nexport const VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\nexport const isBrowser = checkIfBrowser();\n//# sourceMappingURL=globals.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction getStorage(type) {\n  try {\n    const storage = window[type];\n    const x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\nexport default class LocalStorage {\n  constructor(id) {\n    let defaultSettings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n    _defineProperty(this, \"storage\", void 0);\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"config\", {});\n\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n\n    this._loadConfiguration();\n  }\n\n  getConfiguration() {\n    return this.config;\n  }\n\n  setConfiguration(configuration) {\n    this.config = {};\n    return this.updateConfiguration(configuration);\n  }\n\n  updateConfiguration(configuration) {\n    Object.assign(this.config, configuration);\n\n    if (this.storage) {\n      const serialized = JSON.stringify(this.config);\n      this.storage.setItem(this.id, serialized);\n    }\n\n    return this;\n  }\n\n  _loadConfiguration() {\n    let configuration = {};\n\n    if (this.storage) {\n      const serializedConfiguration = this.storage.getItem(this.id);\n      configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n    }\n\n    Object.assign(this.config, configuration);\n    return this;\n  }\n\n}\n//# sourceMappingURL=local-storage.js.map","export function formatTime(ms) {\n  let formatted;\n\n  if (ms < 10) {\n    formatted = \"\".concat(ms.toFixed(2), \"ms\");\n  } else if (ms < 100) {\n    formatted = \"\".concat(ms.toFixed(1), \"ms\");\n  } else if (ms < 1000) {\n    formatted = \"\".concat(ms.toFixed(0), \"ms\");\n  } else {\n    formatted = \"\".concat((ms / 1000).toFixed(2), \"s\");\n  }\n\n  return formatted;\n}\nexport function leftPad(string) {\n  let length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  const padLength = Math.max(length - string.length, 0);\n  return \"\".concat(' '.repeat(padLength)).concat(string);\n}\nexport function rightPad(string) {\n  let length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  const padLength = Math.max(length - string.length, 0);\n  return \"\".concat(string).concat(' '.repeat(padLength));\n}\nexport function formatValue(v) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const EPSILON = 1e-16;\n  const {\n    isInteger = false\n  } = opts;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  const string = v.toPrecision(2);\n  const decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\nfunction formatArrayValue(v, opts) {\n  const {\n    maxElts = 16,\n    size = 1\n  } = opts;\n  let string = '[';\n\n  for (let i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  const terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatImage(image, message, scale) {\n  let maxWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 600;\n  const imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  const width = image.width * scale;\n  const height = image.height * scale;\n  const style = ['font-size:1px;', \"padding:\".concat(Math.floor(height / 2), \"px \").concat(Math.floor(width / 2), \"px;\"), \"line-height:\".concat(height, \"px;\"), \"background:url(\".concat(imageUrl, \");\"), \"background-size:\".concat(width, \"px \").concat(height, \"px;\"), 'color:transparent;'].join('');\n  return [\"\".concat(message, \" %c+\"), style];\n}\n//# sourceMappingURL=formatters.js.map","import { isBrowser } from '@probe.gl/env';\nexport let COLOR;\n\n(function (COLOR) {\n  COLOR[COLOR[\"BLACK\"] = 30] = \"BLACK\";\n  COLOR[COLOR[\"RED\"] = 31] = \"RED\";\n  COLOR[COLOR[\"GREEN\"] = 32] = \"GREEN\";\n  COLOR[COLOR[\"YELLOW\"] = 33] = \"YELLOW\";\n  COLOR[COLOR[\"BLUE\"] = 34] = \"BLUE\";\n  COLOR[COLOR[\"MAGENTA\"] = 35] = \"MAGENTA\";\n  COLOR[COLOR[\"CYAN\"] = 36] = \"CYAN\";\n  COLOR[COLOR[\"WHITE\"] = 37] = \"WHITE\";\n  COLOR[COLOR[\"BRIGHT_BLACK\"] = 90] = \"BRIGHT_BLACK\";\n  COLOR[COLOR[\"BRIGHT_RED\"] = 91] = \"BRIGHT_RED\";\n  COLOR[COLOR[\"BRIGHT_GREEN\"] = 92] = \"BRIGHT_GREEN\";\n  COLOR[COLOR[\"BRIGHT_YELLOW\"] = 93] = \"BRIGHT_YELLOW\";\n  COLOR[COLOR[\"BRIGHT_BLUE\"] = 94] = \"BRIGHT_BLUE\";\n  COLOR[COLOR[\"BRIGHT_MAGENTA\"] = 95] = \"BRIGHT_MAGENTA\";\n  COLOR[COLOR[\"BRIGHT_CYAN\"] = 96] = \"BRIGHT_CYAN\";\n  COLOR[COLOR[\"BRIGHT_WHITE\"] = 97] = \"BRIGHT_WHITE\";\n})(COLOR || (COLOR = {}));\n\nfunction getColor(color) {\n  return typeof color === 'string' ? COLOR[color.toUpperCase()] || COLOR.WHITE : color;\n}\n\nexport function addColor(string, color, background) {\n  if (!isBrowser && typeof string === 'string') {\n    if (color) {\n      color = getColor(color);\n      string = \"\\x1B[\".concat(color, \"m\").concat(string, \"\\x1B[39m\");\n    }\n\n    if (background) {\n      color = getColor(background);\n      string = \"\\x1B[\".concat(background + 10, \"m\").concat(string, \"\\x1B[49m\");\n    }\n  }\n\n  return string;\n}\n//# sourceMappingURL=color.js.map","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n//# sourceMappingURL=assert.js.map","const globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: typeof process === 'object' && process\n};\nconst global_ = globalThis;\nconst self_ = globals.self || globals.window || globals.global;\nconst window_ = globals.window || globals.self || globals.global;\nconst document_ = globals.document || {};\nconst process_ = globals.process || {};\nconst console_ = console;\nexport { self_ as self, window_ as window, global_ as global, document_ as document, process_ as process, console_ as console };\n//# sourceMappingURL=globals.js.map","import { window, process, isBrowser } from '@probe.gl/env';\nexport function getHiResTimestamp() {\n  let timestamp;\n\n  if (isBrowser && 'performance' in window) {\n    var _window$performance, _window$performance$n;\n\n    timestamp = window === null || window === void 0 ? void 0 : (_window$performance = window.performance) === null || _window$performance === void 0 ? void 0 : (_window$performance$n = _window$performance.now) === null || _window$performance$n === void 0 ? void 0 : _window$performance$n.call(_window$performance);\n  } else if ('hrtime' in process) {\n    var _process$hrtime;\n\n    const timeParts = process === null || process === void 0 ? void 0 : (_process$hrtime = process.hrtime) === null || _process$hrtime === void 0 ? void 0 : _process$hrtime.call(process);\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}\n//# sourceMappingURL=hi-res-timestamp.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { VERSION, isBrowser } from '@probe.gl/env';\nimport LocalStorage from './utils/local-storage';\nimport { formatImage, formatTime, leftPad } from './utils/formatters';\nimport { addColor } from './utils/color';\nimport { autobind } from './utils/autobind';\nimport assert from './utils/assert';\nimport { getHiResTimestamp } from './utils/hi-res-timestamp';\nconst originalConsole = {\n  debug: isBrowser ? console.debug || console.log : console.log,\n  log: console.log,\n  info: console.info,\n  warn: console.warn,\n  error: console.error\n};\nconst DEFAULT_SETTINGS = {\n  enabled: true,\n  level: 0\n};\n\nfunction noop() {}\n\nconst cache = {};\nconst ONCE = {\n  once: true\n};\nexport default class Log {\n  constructor() {\n    let {\n      id\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      id: ''\n    };\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"VERSION\", VERSION);\n\n    _defineProperty(this, \"_startTs\", getHiResTimestamp());\n\n    _defineProperty(this, \"_deltaTs\", getHiResTimestamp());\n\n    _defineProperty(this, \"_storage\", void 0);\n\n    _defineProperty(this, \"userData\", {});\n\n    _defineProperty(this, \"LOG_THROTTLE_TIMEOUT\", 0);\n\n    this.id = id;\n    this._storage = new LocalStorage(\"__probe-\".concat(this.id, \"__\"), DEFAULT_SETTINGS);\n    this.userData = {};\n    this.timeStamp(\"\".concat(this.id, \" started\"));\n    autobind(this);\n    Object.seal(this);\n  }\n\n  set level(newLevel) {\n    this.setLevel(newLevel);\n  }\n\n  get level() {\n    return this.getLevel();\n  }\n\n  isEnabled() {\n    return this._storage.config.enabled;\n  }\n\n  getLevel() {\n    return this._storage.config.level;\n  }\n\n  getTotal() {\n    return Number((getHiResTimestamp() - this._startTs).toPrecision(10));\n  }\n\n  getDelta() {\n    return Number((getHiResTimestamp() - this._deltaTs).toPrecision(10));\n  }\n\n  set priority(newPriority) {\n    this.level = newPriority;\n  }\n\n  get priority() {\n    return this.level;\n  }\n\n  getPriority() {\n    return this.level;\n  }\n\n  enable() {\n    let enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this._storage.updateConfiguration({\n      enabled\n    });\n\n    return this;\n  }\n\n  setLevel(level) {\n    this._storage.updateConfiguration({\n      level\n    });\n\n    return this;\n  }\n\n  get(setting) {\n    return this._storage.config[setting];\n  }\n\n  set(setting, value) {\n    this._storage.updateConfiguration({\n      [setting]: value\n    });\n  }\n\n  settings() {\n    if (console.table) {\n      console.table(this._storage.config);\n    } else {\n      console.log(this._storage.config);\n    }\n  }\n\n  assert(condition, message) {\n    assert(condition, message);\n  }\n\n  warn(message) {\n    return this._getLogFunction(0, message, originalConsole.warn, arguments, ONCE);\n  }\n\n  error(message) {\n    return this._getLogFunction(0, message, originalConsole.error, arguments);\n  }\n\n  deprecated(oldUsage, newUsage) {\n    return this.warn(\"`\".concat(oldUsage, \"` is deprecated and will be removed in a later version. Use `\").concat(newUsage, \"` instead\"));\n  }\n\n  removed(oldUsage, newUsage) {\n    return this.error(\"`\".concat(oldUsage, \"` has been removed. Use `\").concat(newUsage, \"` instead\"));\n  }\n\n  probe(logLevel, message) {\n    return this._getLogFunction(logLevel, message, originalConsole.log, arguments, {\n      time: true,\n      once: true\n    });\n  }\n\n  log(logLevel, message) {\n    return this._getLogFunction(logLevel, message, originalConsole.debug, arguments);\n  }\n\n  info(logLevel, message) {\n    return this._getLogFunction(logLevel, message, console.info, arguments);\n  }\n\n  once(logLevel, message) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    return this._getLogFunction(logLevel, message, originalConsole.debug || originalConsole.info, arguments, ONCE);\n  }\n\n  table(logLevel, table, columns) {\n    if (table) {\n      return this._getLogFunction(logLevel, table, console.table || noop, columns && [columns], {\n        tag: getTableHeader(table)\n      });\n    }\n\n    return noop;\n  }\n\n  image(_ref) {\n    let {\n      logLevel,\n      priority,\n      image,\n      message = '',\n      scale = 1\n    } = _ref;\n\n    if (!this._shouldLog(logLevel || priority)) {\n      return noop;\n    }\n\n    return isBrowser ? logImageInBrowser({\n      image,\n      message,\n      scale\n    }) : logImageInNode({\n      image,\n      message,\n      scale\n    });\n  }\n\n  time(logLevel, message) {\n    return this._getLogFunction(logLevel, message, console.time ? console.time : console.info);\n  }\n\n  timeEnd(logLevel, message) {\n    return this._getLogFunction(logLevel, message, console.timeEnd ? console.timeEnd : console.info);\n  }\n\n  timeStamp(logLevel, message) {\n    return this._getLogFunction(logLevel, message, console.timeStamp || noop);\n  }\n\n  group(logLevel, message) {\n    let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      collapsed: false\n    };\n    const options = normalizeArguments({\n      logLevel,\n      message,\n      opts\n    });\n    const {\n      collapsed\n    } = opts;\n    options.method = (collapsed ? console.groupCollapsed : console.group) || console.info;\n    return this._getLogFunction(options);\n  }\n\n  groupCollapsed(logLevel, message) {\n    let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.group(logLevel, message, Object.assign({}, opts, {\n      collapsed: true\n    }));\n  }\n\n  groupEnd(logLevel) {\n    return this._getLogFunction(logLevel, '', console.groupEnd || noop);\n  }\n\n  withGroup(logLevel, message, func) {\n    this.group(logLevel, message)();\n\n    try {\n      func();\n    } finally {\n      this.groupEnd(logLevel)();\n    }\n  }\n\n  trace() {\n    if (console.trace) {\n      console.trace();\n    }\n  }\n\n  _shouldLog(logLevel) {\n    return this.isEnabled() && this.getLevel() >= normalizeLogLevel(logLevel);\n  }\n\n  _getLogFunction(logLevel, message, method, args, opts) {\n    if (this._shouldLog(logLevel)) {\n      opts = normalizeArguments({\n        logLevel,\n        message,\n        args,\n        opts\n      });\n      method = method || opts.method;\n      assert(method);\n      opts.total = this.getTotal();\n      opts.delta = this.getDelta();\n      this._deltaTs = getHiResTimestamp();\n      const tag = opts.tag || opts.message;\n\n      if (opts.once) {\n        if (!cache[tag]) {\n          cache[tag] = getHiResTimestamp();\n        } else {\n          return noop;\n        }\n      }\n\n      message = decorateMessage(this.id, opts.message, opts);\n      return method.bind(console, message, ...opts.args);\n    }\n\n    return noop;\n  }\n\n}\n\n_defineProperty(Log, \"VERSION\", VERSION);\n\nfunction normalizeLogLevel(logLevel) {\n  if (!logLevel) {\n    return 0;\n  }\n\n  let resolvedLevel;\n\n  switch (typeof logLevel) {\n    case 'number':\n      resolvedLevel = logLevel;\n      break;\n\n    case 'object':\n      resolvedLevel = logLevel.logLevel || logLevel.priority || 0;\n      break;\n\n    default:\n      return 0;\n  }\n\n  assert(Number.isFinite(resolvedLevel) && resolvedLevel >= 0);\n  return resolvedLevel;\n}\n\nexport function normalizeArguments(opts) {\n  const {\n    logLevel,\n    message\n  } = opts;\n  opts.logLevel = normalizeLogLevel(logLevel);\n  const args = opts.args ? Array.from(opts.args) : [];\n\n  while (args.length && args.shift() !== message) {}\n\n  switch (typeof logLevel) {\n    case 'string':\n    case 'function':\n      if (message !== undefined) {\n        args.unshift(message);\n      }\n\n      opts.message = logLevel;\n      break;\n\n    case 'object':\n      Object.assign(opts, logLevel);\n      break;\n\n    default:\n  }\n\n  if (typeof opts.message === 'function') {\n    opts.message = opts.message();\n  }\n\n  const messageType = typeof opts.message;\n  assert(messageType === 'string' || messageType === 'object');\n  return Object.assign(opts, {\n    args\n  }, opts.opts);\n}\n\nfunction decorateMessage(id, message, opts) {\n  if (typeof message === 'string') {\n    const time = opts.time ? leftPad(formatTime(opts.total)) : '';\n    message = opts.time ? \"\".concat(id, \": \").concat(time, \"  \").concat(message) : \"\".concat(id, \": \").concat(message);\n    message = addColor(message, opts.color, opts.background);\n  }\n\n  return message;\n}\n\nfunction logImageInNode(_ref2) {\n  let {\n    image,\n    message = '',\n    scale = 1\n  } = _ref2;\n  let asciify = null;\n\n  try {\n    asciify = module.require('asciify-image');\n  } catch (error) {}\n\n  if (asciify) {\n    return () => asciify(image, {\n      fit: 'box',\n      width: \"\".concat(Math.round(80 * scale), \"%\")\n    }).then(data => console.log(data));\n  }\n\n  return noop;\n}\n\nfunction logImageInBrowser(_ref3) {\n  let {\n    image,\n    message = '',\n    scale = 1\n  } = _ref3;\n\n  if (typeof image === 'string') {\n    const img = new Image();\n\n    img.onload = () => {\n      const args = formatImage(img, message, scale);\n      console.log(...args);\n    };\n\n    img.src = image;\n    return noop;\n  }\n\n  const element = image.nodeName || '';\n\n  if (element.toLowerCase() === 'img') {\n    console.log(...formatImage(image, message, scale));\n    return noop;\n  }\n\n  if (element.toLowerCase() === 'canvas') {\n    const img = new Image();\n\n    img.onload = () => console.log(...formatImage(img, message, scale));\n\n    img.src = image.toDataURL();\n    return noop;\n  }\n\n  return noop;\n}\n\nfunction getTableHeader(table) {\n  for (const key in table) {\n    for (const title in table[key]) {\n      return title || 'untitled';\n    }\n  }\n\n  return 'empty';\n}\n//# sourceMappingURL=log.js.map","export function autobind(obj) {\n  let predefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['constructor'];\n  const proto = Object.getPrototypeOf(obj);\n  const propNames = Object.getOwnPropertyNames(proto);\n\n  for (const key of propNames) {\n    if (typeof obj[key] === 'function') {\n      if (!predefined.find(name => key === name)) {\n        obj[key] = obj[key].bind(obj);\n      }\n    }\n  }\n}\n//# sourceMappingURL=autobind.js.map","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Log } from 'probe.gl';\nexport const probeLog = new Log({\n  id: 'loaders.gl'\n});\nexport class NullLog {\n  log() {\n    return () => {};\n  }\n\n  info() {\n    return () => {};\n  }\n\n  warn() {\n    return () => {};\n  }\n\n  error() {\n    return () => {};\n  }\n\n}\nexport class ConsoleLog {\n  constructor() {\n    _defineProperty(this, \"console\", void 0);\n\n    this.console = console;\n  }\n\n  log(...args) {\n    return this.console.log.bind(this.console, ...args);\n  }\n\n  info(...args) {\n    return this.console.info.bind(this.console, ...args);\n  }\n\n  warn(...args) {\n    return this.console.warn.bind(this.console, ...args);\n  }\n\n  error(...args) {\n    return this.console.error.bind(this.console, ...args);\n  }\n\n}\n//# sourceMappingURL=loggers.js.map","const globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nconst self_ = globals.self || globals.window || globals.global || {};\nconst window_ = globals.window || globals.self || globals.global || {};\nconst global_ = globals.global || globals.self || globals.window || {};\nconst document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport const isBrowser = Boolean(typeof process !== 'object' || String(process) !== '[object process]' || process.browser);\nexport const isWorker = typeof importScripts === 'function';\nconst matches = typeof process !== 'undefined' && process.version && /v([0-9]*)/.exec(process.version);\nexport const nodeVersion = matches && parseFloat(matches[1]) || 0;\n//# sourceMappingURL=globals.js.map","import { isBrowser } from '@loaders.gl/loader-utils';\nimport { ConsoleLog } from './loggers';\nexport const DEFAULT_LOADER_OPTIONS = {\n  fetch: null,\n  mimeType: undefined,\n  nothrow: false,\n  log: new ConsoleLog(),\n  CDN: 'https://unpkg.com/@loaders.gl',\n  worker: true,\n  maxConcurrency: 3,\n  maxMobileConcurrency: 1,\n  reuseWorkers: isBrowser,\n  _nodeWorkers: false,\n  _workerType: '',\n  limit: 0,\n  _limitMB: 0,\n  batchSize: 'auto',\n  batchDebounceMs: 0,\n  metadata: false,\n  transforms: []\n};\nexport const REMOVED_LOADER_OPTIONS = {\n  throws: 'nothrow',\n  dataType: '(no longer used)',\n  uri: 'baseUri',\n  method: 'fetch.method',\n  headers: 'fetch.headers',\n  body: 'fetch.body',\n  mode: 'fetch.mode',\n  credentials: 'fetch.credentials',\n  cache: 'fetch.cache',\n  redirect: 'fetch.redirect',\n  referrer: 'fetch.referrer',\n  referrerPolicy: 'fetch.referrerPolicy',\n  integrity: 'fetch.integrity',\n  keepalive: 'fetch.keepalive',\n  signal: 'fetch.signal'\n};\n//# sourceMappingURL=option-defaults.js.map","import { isPureObject, isObject } from '../../javascript-utils/is-type';\nimport { fetchFile } from '../fetch/fetch-file';\nimport { probeLog, NullLog } from './loggers';\nimport { DEFAULT_LOADER_OPTIONS, REMOVED_LOADER_OPTIONS } from './option-defaults';\nexport function getGlobalLoaderState() {\n  globalThis.loaders = globalThis.loaders || {};\n  const {\n    loaders\n  } = globalThis;\n  loaders._state = loaders._state || {};\n  return loaders._state;\n}\nexport const getGlobalLoaderOptions = () => {\n  const state = getGlobalLoaderState();\n  state.globalOptions = state.globalOptions || { ...DEFAULT_LOADER_OPTIONS\n  };\n  return state.globalOptions;\n};\nexport function setGlobalOptions(options) {\n  const state = getGlobalLoaderState();\n  const globalOptions = getGlobalLoaderOptions();\n  state.globalOptions = normalizeOptionsInternal(globalOptions, options);\n}\nexport function normalizeOptions(options, loader, loaders, url) {\n  loaders = loaders || [];\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n  validateOptions(options, loaders);\n  return normalizeOptionsInternal(loader, options, url);\n}\nexport function getFetchFunction(options, context) {\n  const globalOptions = getGlobalLoaderOptions();\n  const fetchOptions = options || globalOptions;\n\n  if (typeof fetchOptions.fetch === 'function') {\n    return fetchOptions.fetch;\n  }\n\n  if (isObject(fetchOptions.fetch)) {\n    return url => fetchFile(url, fetchOptions);\n  }\n\n  if (context !== null && context !== void 0 && context.fetch) {\n    return context === null || context === void 0 ? void 0 : context.fetch;\n  }\n\n  return fetchFile;\n}\n\nfunction validateOptions(options, loaders) {\n  validateOptionsObject(options, null, DEFAULT_LOADER_OPTIONS, REMOVED_LOADER_OPTIONS, loaders);\n\n  for (const loader of loaders) {\n    const idOptions = options && options[loader.id] || {};\n    const loaderOptions = loader.options && loader.options[loader.id] || {};\n    const deprecatedOptions = loader.deprecatedOptions && loader.deprecatedOptions[loader.id] || {};\n    validateOptionsObject(idOptions, loader.id, loaderOptions, deprecatedOptions, loaders);\n  }\n}\n\nfunction validateOptionsObject(options, id, defaultOptions, deprecatedOptions, loaders) {\n  const loaderName = id || 'Top level';\n  const prefix = id ? \"\".concat(id, \".\") : '';\n\n  for (const key in options) {\n    const isSubOptions = !id && isObject(options[key]);\n    const isBaseUriOption = key === 'baseUri' && !id;\n    const isWorkerUrlOption = key === 'workerUrl' && id;\n\n    if (!(key in defaultOptions) && !isBaseUriOption && !isWorkerUrlOption) {\n      if (key in deprecatedOptions) {\n        probeLog.warn(\"\".concat(loaderName, \" loader option '\").concat(prefix).concat(key, \"' no longer supported, use '\").concat(deprecatedOptions[key], \"'\"))();\n      } else if (!isSubOptions) {\n        const suggestion = findSimilarOption(key, loaders);\n        probeLog.warn(\"\".concat(loaderName, \" loader option '\").concat(prefix).concat(key, \"' not recognized. \").concat(suggestion))();\n      }\n    }\n  }\n}\n\nfunction findSimilarOption(optionKey, loaders) {\n  const lowerCaseOptionKey = optionKey.toLowerCase();\n  let bestSuggestion = '';\n\n  for (const loader of loaders) {\n    for (const key in loader.options) {\n      if (optionKey === key) {\n        return \"Did you mean '\".concat(loader.id, \".\").concat(key, \"'?\");\n      }\n\n      const lowerCaseKey = key.toLowerCase();\n      const isPartialMatch = lowerCaseOptionKey.startsWith(lowerCaseKey) || lowerCaseKey.startsWith(lowerCaseOptionKey);\n\n      if (isPartialMatch) {\n        bestSuggestion = bestSuggestion || \"Did you mean '\".concat(loader.id, \".\").concat(key, \"'?\");\n      }\n    }\n  }\n\n  return bestSuggestion;\n}\n\nfunction normalizeOptionsInternal(loader, options, url) {\n  const loaderDefaultOptions = loader.options || {};\n  const mergedOptions = { ...loaderDefaultOptions\n  };\n  addUrlOptions(mergedOptions, url);\n\n  if (mergedOptions.log === null) {\n    mergedOptions.log = new NullLog();\n  }\n\n  mergeNestedFields(mergedOptions, getGlobalLoaderOptions());\n  mergeNestedFields(mergedOptions, options);\n  return mergedOptions;\n}\n\nfunction mergeNestedFields(mergedOptions, options) {\n  for (const key in options) {\n    if (key in options) {\n      const value = options[key];\n\n      if (isPureObject(value) && isPureObject(mergedOptions[key])) {\n        mergedOptions[key] = { ...mergedOptions[key],\n          ...options[key]\n        };\n      } else {\n        mergedOptions[key] = options[key];\n      }\n    }\n  }\n}\n\nfunction addUrlOptions(options, url) {\n  if (url && !('baseUri' in options)) {\n    options.baseUri = url;\n  }\n}\n//# sourceMappingURL=option-utils.js.map","import * as node from '../node/buffer';\nexport function isBuffer(value) {\n  return value && typeof value === 'object' && value.isBuffer;\n}\nexport function toBuffer(data) {\n  return node.toBuffer ? node.toBuffer(data) : data;\n}\nexport function bufferToArrayBuffer(buffer) {\n  if (isBuffer(buffer)) {\n    const typedArray = new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.length);\n    return typedArray.slice().buffer;\n  }\n\n  return buffer;\n}\n//# sourceMappingURL=buffer-utils.js.map","import { isBuffer, bufferToArrayBuffer } from './buffer-utils';\nexport function toArrayBuffer(data) {\n  if (isBuffer(data)) {\n    return bufferToArrayBuffer(data);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return data;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    if (data.byteOffset === 0 && data.byteLength === data.buffer.byteLength) {\n      return data.buffer;\n    }\n\n    return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n  }\n\n  if (typeof data === 'string') {\n    const text = data;\n    const uint8Array = new TextEncoder().encode(text);\n    return uint8Array.buffer;\n  }\n\n  if (data && typeof data === 'object' && data._toArrayBuffer) {\n    return data._toArrayBuffer();\n  }\n\n  throw new Error('toArrayBuffer');\n}\nexport function compareArrayBuffers(arrayBuffer1, arrayBuffer2, byteLength) {\n  byteLength = byteLength || arrayBuffer1.byteLength;\n\n  if (arrayBuffer1.byteLength < byteLength || arrayBuffer2.byteLength < byteLength) {\n    return false;\n  }\n\n  const array1 = new Uint8Array(arrayBuffer1);\n  const array2 = new Uint8Array(arrayBuffer2);\n\n  for (let i = 0; i < array1.length; ++i) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport function concatenateArrayBuffers(...sources) {\n  const sourceArrays = sources.map(source2 => source2 instanceof ArrayBuffer ? new Uint8Array(source2) : source2);\n  const byteLength = sourceArrays.reduce((length, typedArray) => length + typedArray.byteLength, 0);\n  const result = new Uint8Array(byteLength);\n  let offset = 0;\n\n  for (const sourceArray of sourceArrays) {\n    result.set(sourceArray, offset);\n    offset += sourceArray.byteLength;\n  }\n\n  return result.buffer;\n}\nexport function concatenateTypedArrays(...typedArrays) {\n  const arrays = typedArrays;\n  const TypedArrayConstructor = arrays && arrays.length > 1 && arrays[0].constructor || null;\n\n  if (!TypedArrayConstructor) {\n    throw new Error('\"concatenateTypedArrays\" - incorrect quantity of arguments or arguments have incompatible data types');\n  }\n\n  const sumLength = arrays.reduce((acc, value) => acc + value.length, 0);\n  const result = new TypedArrayConstructor(sumLength);\n  let offset = 0;\n\n  for (const array of arrays) {\n    result.set(array, offset);\n    offset += array.length;\n  }\n\n  return result;\n}\nexport function sliceArrayBuffer(arrayBuffer, byteOffset, byteLength) {\n  const subArray = byteLength !== undefined ? new Uint8Array(arrayBuffer).subarray(byteOffset, byteOffset + byteLength) : new Uint8Array(arrayBuffer).subarray(byteOffset);\n  const arrayCopy = new Uint8Array(subArray);\n  return arrayCopy.buffer;\n}\n//# sourceMappingURL=array-buffer-utils.js.map","const DEFAULT_CHUNK_SIZE = 256 * 1024;\nexport function* makeArrayBufferIterator(arrayBuffer, options = {}) {\n  const {\n    chunkSize = DEFAULT_CHUNK_SIZE\n  } = options;\n  let byteOffset = 0;\n\n  while (byteOffset < arrayBuffer.byteLength) {\n    const chunkByteLength = Math.min(arrayBuffer.byteLength - byteOffset, chunkSize);\n    const chunk = new ArrayBuffer(chunkByteLength);\n    const sourceArray = new Uint8Array(arrayBuffer, byteOffset, chunkByteLength);\n    const chunkArray = new Uint8Array(chunk);\n    chunkArray.set(sourceArray);\n    byteOffset += chunkByteLength;\n    yield chunk;\n  }\n}\n//# sourceMappingURL=make-array-buffer-iterator.js.map","import { isBrowser, toArrayBuffer } from '@loaders.gl/loader-utils';\nexport function makeStreamIterator(stream, options) {\n  return isBrowser ? makeBrowserStreamIterator(stream, options) : makeNodeStreamIterator(stream, options);\n}\n\nasync function* makeBrowserStreamIterator(stream, options) {\n  const reader = stream.getReader();\n  let nextBatchPromise;\n\n  try {\n    while (true) {\n      const currentBatchPromise = nextBatchPromise || reader.read();\n\n      if (options !== null && options !== void 0 && options._streamReadAhead) {\n        nextBatchPromise = reader.read();\n      }\n\n      const {\n        done,\n        value\n      } = await currentBatchPromise;\n\n      if (done) {\n        return;\n      }\n\n      yield toArrayBuffer(value);\n    }\n  } catch (error) {\n    reader.releaseLock();\n  }\n}\n\nasync function* makeNodeStreamIterator(stream, options) {\n  for await (const chunk of stream) {\n    yield toArrayBuffer(chunk);\n  }\n}\n//# sourceMappingURL=make-stream-iterator.js.map","import { concatenateArrayBuffersAsync } from '@loaders.gl/loader-utils';\nimport { isResponse, isReadableStream, isAsyncIterable, isIterable, isIterator, isBlob, isBuffer } from '../../javascript-utils/is-type';\nimport { makeIterator } from '../../iterators/make-iterator/make-iterator';\nimport { checkResponse, makeResponse } from '../utils/response-utils';\nconst ERR_DATA = 'Cannot convert supplied data type';\nexport function getArrayBufferOrStringFromDataSync(data, loader, options) {\n  if (loader.text && typeof data === 'string') {\n    return data;\n  }\n\n  if (isBuffer(data)) {\n    data = data.buffer;\n  }\n\n  if (data instanceof ArrayBuffer) {\n    const arrayBuffer = data;\n\n    if (loader.text && !loader.binary) {\n      const textDecoder = new TextDecoder('utf8');\n      return textDecoder.decode(arrayBuffer);\n    }\n\n    return arrayBuffer;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    if (loader.text && !loader.binary) {\n      const textDecoder = new TextDecoder('utf8');\n      return textDecoder.decode(data);\n    }\n\n    let arrayBuffer = data.buffer;\n    const byteLength = data.byteLength || data.length;\n\n    if (data.byteOffset !== 0 || byteLength !== arrayBuffer.byteLength) {\n      arrayBuffer = arrayBuffer.slice(data.byteOffset, data.byteOffset + byteLength);\n    }\n\n    return arrayBuffer;\n  }\n\n  throw new Error(ERR_DATA);\n}\nexport async function getArrayBufferOrStringFromData(data, loader, options) {\n  const isArrayBuffer = data instanceof ArrayBuffer || ArrayBuffer.isView(data);\n\n  if (typeof data === 'string' || isArrayBuffer) {\n    return getArrayBufferOrStringFromDataSync(data, loader, options);\n  }\n\n  if (isBlob(data)) {\n    data = await makeResponse(data);\n  }\n\n  if (isResponse(data)) {\n    const response = data;\n    await checkResponse(response);\n    return loader.binary ? await response.arrayBuffer() : await response.text();\n  }\n\n  if (isReadableStream(data)) {\n    data = makeIterator(data, options);\n  }\n\n  if (isIterable(data) || isAsyncIterable(data)) {\n    return concatenateArrayBuffersAsync(data);\n  }\n\n  throw new Error(ERR_DATA);\n}\nexport async function getAsyncIterableFromData(data, options) {\n  if (isIterator(data)) {\n    return data;\n  }\n\n  if (isResponse(data)) {\n    const response = data;\n    await checkResponse(response);\n    const body = await response.body;\n    return makeIterator(body, options);\n  }\n\n  if (isBlob(data) || isReadableStream(data)) {\n    return makeIterator(data, options);\n  }\n\n  if (isAsyncIterable(data)) {\n    return data[Symbol.asyncIterator]();\n  }\n\n  return getIterableFromData(data);\n}\nexport async function getReadableStream(data) {\n  if (isReadableStream(data)) {\n    return data;\n  }\n\n  if (isResponse(data)) {\n    return data.body;\n  }\n\n  const response = await makeResponse(data);\n  return response.body;\n}\n\nfunction getIterableFromData(data) {\n  if (ArrayBuffer.isView(data)) {\n    return function* oneChunk() {\n      yield data.buffer;\n    }();\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return function* oneChunk() {\n      yield data;\n    }();\n  }\n\n  if (isIterator(data)) {\n    return data;\n  }\n\n  if (isIterable(data)) {\n    return data[Symbol.iterator]();\n  }\n\n  throw new Error(ERR_DATA);\n}\n//# sourceMappingURL=get-data.js.map","import { makeStringIterator } from './make-string-iterator';\nimport { makeArrayBufferIterator } from './make-array-buffer-iterator';\nimport { makeBlobIterator } from './make-blob-iterator';\nimport { makeStreamIterator } from './make-stream-iterator';\nimport { isBlob, isReadableStream, isResponse } from '../../javascript-utils/is-type';\nexport function makeIterator(data, options) {\n  if (typeof data === 'string') {\n    return makeStringIterator(data, options);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return makeArrayBufferIterator(data, options);\n  }\n\n  if (isBlob(data)) {\n    return makeBlobIterator(data, options);\n  }\n\n  if (isReadableStream(data)) {\n    return makeStreamIterator(data, options);\n  }\n\n  if (isResponse(data)) {\n    const response = data;\n    return makeStreamIterator(response.body, options);\n  }\n\n  throw new Error('makeIterator');\n}\n//# sourceMappingURL=make-iterator.js.map","const DEFAULT_CHUNK_SIZE = 256 * 1024;\nexport function* makeStringIterator(string, options) {\n  const chunkSize = (options === null || options === void 0 ? void 0 : options.chunkSize) || DEFAULT_CHUNK_SIZE;\n  let offset = 0;\n  const textEncoder = new TextEncoder();\n\n  while (offset < string.length) {\n    const chunkLength = Math.min(string.length - offset, chunkSize);\n    const chunk = string.slice(offset, offset + chunkLength);\n    offset += chunkLength;\n    yield textEncoder.encode(chunk);\n  }\n}\n//# sourceMappingURL=make-string-iterator.js.map","const DEFAULT_CHUNK_SIZE = 1024 * 1024;\nexport async function* makeBlobIterator(blob, options) {\n  const chunkSize = (options === null || options === void 0 ? void 0 : options.chunkSize) || DEFAULT_CHUNK_SIZE;\n  let offset = 0;\n\n  while (offset < blob.size) {\n    const end = offset + chunkSize;\n    const chunk = await blob.slice(offset, end).arrayBuffer();\n    offset = end;\n    yield chunk;\n  }\n}\n//# sourceMappingURL=make-blob-iterator.js.map","import { concatenateArrayBuffers } from '../binary-utils/array-buffer-utils';\nexport async function forEach(iterator, visitor) {\n  while (true) {\n    const {\n      done,\n      value\n    } = await iterator.next();\n\n    if (done) {\n      iterator.return();\n      return;\n    }\n\n    const cancel = visitor(value);\n\n    if (cancel) {\n      return;\n    }\n  }\n}\nexport async function concatenateArrayBuffersAsync(asyncIterator) {\n  const arrayBuffers = [];\n\n  for await (const chunk of asyncIterator) {\n    arrayBuffers.push(chunk);\n  }\n\n  return concatenateArrayBuffers(...arrayBuffers);\n}\nexport async function concatenateStringsAsync(asyncIterator) {\n  const strings = [];\n\n  for await (const chunk of asyncIterator) {\n    strings.push(chunk);\n  }\n\n  return strings.join('');\n}\n//# sourceMappingURL=async-iteration.js.map","import { Log } from '@probe.gl/log';\nexport const log = new Log({\n  id: 'loaders.gl'\n});\n//# sourceMappingURL=log.js.map","import { compareArrayBuffers, path } from '@loaders.gl/loader-utils';\nimport { normalizeLoader } from '../loader-utils/normalize-loader';\nimport { log } from '../utils/log';\nimport { getResourceUrlAndType } from '../utils/resource-utils';\nimport { getRegisteredLoaders } from './register-loaders';\nimport { isBlob } from '../../javascript-utils/is-type';\nconst EXT_PATTERN = /\\.([^.]+)$/;\nexport async function selectLoader(data, loaders = [], options, context) {\n  if (!validHTTPResponse(data)) {\n    return null;\n  }\n\n  let loader = selectLoaderSync(data, loaders, { ...options,\n    nothrow: true\n  }, context);\n\n  if (loader) {\n    return loader;\n  }\n\n  if (isBlob(data)) {\n    data = await data.slice(0, 10).arrayBuffer();\n    loader = selectLoaderSync(data, loaders, options, context);\n  }\n\n  if (!loader && !(options !== null && options !== void 0 && options.nothrow)) {\n    throw new Error(getNoValidLoaderMessage(data));\n  }\n\n  return loader;\n}\nexport function selectLoaderSync(data, loaders = [], options, context) {\n  if (!validHTTPResponse(data)) {\n    return null;\n  }\n\n  if (loaders && !Array.isArray(loaders)) {\n    return normalizeLoader(loaders);\n  }\n\n  let candidateLoaders = [];\n\n  if (loaders) {\n    candidateLoaders = candidateLoaders.concat(loaders);\n  }\n\n  if (!(options !== null && options !== void 0 && options.ignoreRegisteredLoaders)) {\n    candidateLoaders.push(...getRegisteredLoaders());\n  }\n\n  normalizeLoaders(candidateLoaders);\n  const loader = selectLoaderInternal(data, candidateLoaders, options, context);\n\n  if (!loader && !(options !== null && options !== void 0 && options.nothrow)) {\n    throw new Error(getNoValidLoaderMessage(data));\n  }\n\n  return loader;\n}\n\nfunction selectLoaderInternal(data, loaders, options, context) {\n  const {\n    url,\n    type\n  } = getResourceUrlAndType(data);\n  const testUrl = url || (context === null || context === void 0 ? void 0 : context.url);\n  let loader = null;\n  let reason = '';\n\n  if (options !== null && options !== void 0 && options.mimeType) {\n    loader = findLoaderByMIMEType(loaders, options === null || options === void 0 ? void 0 : options.mimeType);\n    reason = \"match forced by supplied MIME type \".concat(options === null || options === void 0 ? void 0 : options.mimeType);\n  }\n\n  loader = loader || findLoaderByUrl(loaders, testUrl);\n  reason = reason || (loader ? \"matched url \".concat(testUrl) : '');\n  loader = loader || findLoaderByMIMEType(loaders, type);\n  reason = reason || (loader ? \"matched MIME type \".concat(type) : '');\n  loader = loader || findLoaderByInitialBytes(loaders, data);\n  reason = reason || (loader ? \"matched initial data \".concat(getFirstCharacters(data)) : '');\n  loader = loader || findLoaderByMIMEType(loaders, options === null || options === void 0 ? void 0 : options.fallbackMimeType);\n  reason = reason || (loader ? \"matched fallback MIME type \".concat(type) : '');\n\n  if (reason) {\n    var _loader;\n\n    log.log(1, \"selectLoader selected \".concat((_loader = loader) === null || _loader === void 0 ? void 0 : _loader.name, \": \").concat(reason, \".\"));\n  }\n\n  return loader;\n}\n\nfunction validHTTPResponse(data) {\n  if (data instanceof Response) {\n    if (data.status === 204) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getNoValidLoaderMessage(data) {\n  const {\n    url,\n    type\n  } = getResourceUrlAndType(data);\n  let message = 'No valid loader found (';\n  message += url ? \"\".concat(path.filename(url), \", \") : 'no url provided, ';\n  message += \"MIME type: \".concat(type ? \"\\\"\".concat(type, \"\\\"\") : 'not provided', \", \");\n  const firstCharacters = data ? getFirstCharacters(data) : '';\n  message += firstCharacters ? \" first bytes: \\\"\".concat(firstCharacters, \"\\\"\") : 'first bytes: not available';\n  message += ')';\n  return message;\n}\n\nfunction normalizeLoaders(loaders) {\n  for (const loader of loaders) {\n    normalizeLoader(loader);\n  }\n}\n\nfunction findLoaderByUrl(loaders, url) {\n  const match = url && EXT_PATTERN.exec(url);\n  const extension = match && match[1];\n  return extension ? findLoaderByExtension(loaders, extension) : null;\n}\n\nfunction findLoaderByExtension(loaders, extension) {\n  extension = extension.toLowerCase();\n\n  for (const loader of loaders) {\n    for (const loaderExtension of loader.extensions) {\n      if (loaderExtension.toLowerCase() === extension) {\n        return loader;\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction findLoaderByMIMEType(loaders, mimeType) {\n  for (const loader of loaders) {\n    if (loader.mimeTypes && loader.mimeTypes.includes(mimeType)) {\n      return loader;\n    }\n\n    if (mimeType === \"application/x.\".concat(loader.id)) {\n      return loader;\n    }\n  }\n\n  return null;\n}\n\nfunction findLoaderByInitialBytes(loaders, data) {\n  if (!data) {\n    return null;\n  }\n\n  for (const loader of loaders) {\n    if (typeof data === 'string') {\n      if (testDataAgainstText(data, loader)) {\n        return loader;\n      }\n    } else if (ArrayBuffer.isView(data)) {\n      if (testDataAgainstBinary(data.buffer, data.byteOffset, loader)) {\n        return loader;\n      }\n    } else if (data instanceof ArrayBuffer) {\n      const byteOffset = 0;\n\n      if (testDataAgainstBinary(data, byteOffset, loader)) {\n        return loader;\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction testDataAgainstText(data, loader) {\n  if (loader.testText) {\n    return loader.testText(data);\n  }\n\n  const tests = Array.isArray(loader.tests) ? loader.tests : [loader.tests];\n  return tests.some(test => data.startsWith(test));\n}\n\nfunction testDataAgainstBinary(data, byteOffset, loader) {\n  const tests = Array.isArray(loader.tests) ? loader.tests : [loader.tests];\n  return tests.some(test => testBinary(data, byteOffset, loader, test));\n}\n\nfunction testBinary(data, byteOffset, loader, test) {\n  if (test instanceof ArrayBuffer) {\n    return compareArrayBuffers(test, data, test.byteLength);\n  }\n\n  switch (typeof test) {\n    case 'function':\n      return test(data, loader);\n\n    case 'string':\n      const magic = getMagicString(data, byteOffset, test.length);\n      return test === magic;\n\n    default:\n      return false;\n  }\n}\n\nfunction getFirstCharacters(data, length = 5) {\n  if (typeof data === 'string') {\n    return data.slice(0, length);\n  } else if (ArrayBuffer.isView(data)) {\n    return getMagicString(data.buffer, data.byteOffset, length);\n  } else if (data instanceof ArrayBuffer) {\n    const byteOffset = 0;\n    return getMagicString(data, byteOffset, length);\n  }\n\n  return '';\n}\n\nfunction getMagicString(arrayBuffer, byteOffset, length) {\n  if (arrayBuffer.byteLength < byteOffset + length) {\n    return '';\n  }\n\n  const dataView = new DataView(arrayBuffer);\n  let magic = '';\n\n  for (let i = 0; i < length; i++) {\n    magic += String.fromCharCode(dataView.getUint8(byteOffset + i));\n  }\n\n  return magic;\n}\n//# sourceMappingURL=select-loader.js.map","import { normalizeLoader } from '../loader-utils/normalize-loader';\nimport { getGlobalLoaderState } from '../loader-utils/option-utils';\n\nconst getGlobalLoaderRegistry = () => {\n  const state = getGlobalLoaderState();\n  state.loaderRegistry = state.loaderRegistry || [];\n  return state.loaderRegistry;\n};\n\nexport function registerLoaders(loaders) {\n  const loaderRegistry = getGlobalLoaderRegistry();\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n\n  for (const loader of loaders) {\n    const normalizedLoader = normalizeLoader(loader);\n\n    if (!loaderRegistry.find(registeredLoader => normalizedLoader === registeredLoader)) {\n      loaderRegistry.unshift(normalizedLoader);\n    }\n  }\n}\nexport function getRegisteredLoaders() {\n  return getGlobalLoaderRegistry();\n}\nexport function _unregisterLoaders() {\n  const state = getGlobalLoaderState();\n  state.loaderRegistry = [];\n}\n//# sourceMappingURL=register-loaders.js.map","export function filename(url) {\n  const slashIndex = url && url.lastIndexOf('/');\n  return slashIndex >= 0 ? url.substr(slashIndex + 1) : '';\n}\nexport function dirname(url) {\n  const slashIndex = url && url.lastIndexOf('/');\n  return slashIndex >= 0 ? url.substr(0, slashIndex) : '';\n}\nexport function join(...parts) {\n  const separator = '/';\n  parts = parts.map((part, index) => {\n    if (index) {\n      part = part.replace(new RegExp(\"^\".concat(separator)), '');\n    }\n\n    if (index !== parts.length - 1) {\n      part = part.replace(new RegExp(\"\".concat(separator, \"$\")), '');\n    }\n\n    return part;\n  });\n  return parts.join(separator);\n}\n//# sourceMappingURL=path.js.map","import { assert, validateWorkerVersion } from '@loaders.gl/worker-utils';\nimport { parseWithWorker, canParseWithWorker } from '@loaders.gl/loader-utils';\nimport { isLoaderObject } from '../loader-utils/normalize-loader';\nimport { isResponse } from '../../javascript-utils/is-type';\nimport { normalizeOptions } from '../loader-utils/option-utils';\nimport { getArrayBufferOrStringFromData } from '../loader-utils/get-data';\nimport { getLoaderContext, getLoadersFromContext } from '../loader-utils/loader-context';\nimport { getResourceUrlAndType } from '../utils/resource-utils';\nimport { selectLoader } from './select-loader';\nexport async function parse(data, loaders, options, context) {\n  assert(!context || typeof context === 'object');\n\n  if (loaders && !Array.isArray(loaders) && !isLoaderObject(loaders)) {\n    context = undefined;\n    options = loaders;\n    loaders = undefined;\n  }\n\n  data = await data;\n  options = options || {};\n  const {\n    url\n  } = getResourceUrlAndType(data);\n  const typedLoaders = loaders;\n  const candidateLoaders = getLoadersFromContext(typedLoaders, context);\n  const loader = await selectLoader(data, candidateLoaders, options);\n\n  if (!loader) {\n    return null;\n  }\n\n  options = normalizeOptions(options, loader, candidateLoaders, url);\n  context = getLoaderContext({\n    url,\n    parse,\n    loaders: candidateLoaders\n  }, options, context);\n  return await parseWithLoader(loader, data, options, context);\n}\n\nasync function parseWithLoader(loader, data, options, context) {\n  validateWorkerVersion(loader);\n\n  if (isResponse(data)) {\n    const response = data;\n    const {\n      ok,\n      redirected,\n      status,\n      statusText,\n      type,\n      url\n    } = response;\n    const headers = Object.fromEntries(response.headers.entries());\n    context.response = {\n      headers,\n      ok,\n      redirected,\n      status,\n      statusText,\n      type,\n      url\n    };\n  }\n\n  data = await getArrayBufferOrStringFromData(data, loader, options);\n\n  if (loader.parseTextSync && typeof data === 'string') {\n    options.dataType = 'text';\n    return loader.parseTextSync(data, options, context, loader);\n  }\n\n  if (canParseWithWorker(loader, options)) {\n    return await parseWithWorker(loader, data, options, context, parse);\n  }\n\n  if (loader.parseText && typeof data === 'string') {\n    return await loader.parseText(data, options, context, loader);\n  }\n\n  if (loader.parse) {\n    return await loader.parse(data, options, context, loader);\n  }\n\n  assert(!loader.parseSync);\n  throw new Error(\"\".concat(loader.id, \" loader - no parser found and worker is disabled\"));\n}\n//# sourceMappingURL=parse.js.map","import { getFetchFunction } from './option-utils';\nexport function getLoaderContext(context, options, previousContext = null) {\n  if (previousContext) {\n    return previousContext;\n  }\n\n  const resolvedContext = {\n    fetch: getFetchFunction(options, context),\n    ...context\n  };\n\n  if (!Array.isArray(resolvedContext.loaders)) {\n    resolvedContext.loaders = null;\n  }\n\n  return resolvedContext;\n}\nexport function getLoadersFromContext(loaders, context) {\n  if (!context && loaders && !Array.isArray(loaders)) {\n    return loaders;\n  }\n\n  let candidateLoaders;\n\n  if (loaders) {\n    candidateLoaders = Array.isArray(loaders) ? loaders : [loaders];\n  }\n\n  if (context && context.loaders) {\n    const contextLoaders = Array.isArray(context.loaders) ? context.loaders : [context.loaders];\n    candidateLoaders = candidateLoaders ? [...candidateLoaders, ...contextLoaders] : contextLoaders;\n  }\n\n  return candidateLoaders && candidateLoaders.length ? candidateLoaders : null;\n}\n//# sourceMappingURL=loader-context.js.map","import { assert } from '../env-utils/assert';\nimport { VERSION } from '../env-utils/version';\nexport function validateWorkerVersion(worker, coreVersion = VERSION) {\n  assert(worker, 'no worker provided');\n  const workerVersion = worker.version;\n\n  if (!coreVersion || !workerVersion) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction parseVersion(version) {\n  const parts = version.split('.').map(Number);\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}\n//# sourceMappingURL=validate-worker-version.js.map","import { useEffect, useCallback, useState } from 'react';\nimport { debounce, SpatialIndex } from '@carto/react-core';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { setIsDroppingFeatures } from '@carto/react-redux';\nimport { parse } from '@loaders.gl/core';\nimport { Layer } from '@deck.gl/core';\nimport { TILE_FORMATS } from '@deck.gl/carto';\nimport { throwError } from './utils';\nimport useFeaturesCommons from './useFeaturesCommons';\nimport { useDispatch } from 'react-redux';\n\nexport default function useTileFeatures({\n  source,\n  viewport,\n  spatialFilter,\n  uniqueIdProperty,\n  debounceTimeout = 250\n}) {\n  const dispatch = useDispatch();\n  const [\n    debounceIdRef,\n    isTilesetLoaded,\n    setTilesetLoaded,\n    clearDebounce,\n    stopAnyCompute,\n    setSourceFeaturesReady\n  ] = useFeaturesCommons({ source });\n\n  const [tileFormat, setTileFormat] = useState('');\n  const [spatialIndex, setSpatialIndex] = useState();\n  const [geoColumName, setGeoColumName] = useState();\n\n  const sourceId = source?.id;\n\n  const computeFeatures = useCallback(\n    ({ viewport, spatialFilter, uniqueIdProperty }) => {\n      if (!tileFormat) {\n        return null;\n      }\n\n      setSourceFeaturesReady(false);\n\n      executeTask(sourceId, Methods.TILE_FEATURES, {\n        viewport,\n        geometry: spatialFilter,\n        uniqueIdProperty,\n        tileFormat,\n        geoColumName,\n        spatialIndex\n      })\n        .then(() => {\n          setSourceFeaturesReady(true);\n        })\n        .catch(throwError)\n        .finally(clearDebounce);\n    },\n    [\n      tileFormat,\n      setSourceFeaturesReady,\n      sourceId,\n      geoColumName,\n      spatialIndex,\n      clearDebounce\n    ]\n  );\n\n  const loadTiles = useCallback(\n    (tiles) => {\n      const cleanedTiles = tiles.reduce((acc, { data, isVisible, bbox }) => {\n        if (isVisible && data) {\n          acc.push({\n            data,\n            bbox\n          });\n        }\n        return acc;\n      }, []);\n\n      const isDroppingFeatures = tiles?.some((tile) => tile.content?.isDroppingFeatures);\n      dispatch(setIsDroppingFeatures({ id: sourceId, isDroppingFeatures }));\n\n      executeTask(sourceId, Methods.LOAD_TILES, { tiles: cleanedTiles })\n        .then(() => setTilesetLoaded(true))\n        .catch(throwError);\n    },\n    [sourceId, setTilesetLoaded, dispatch]\n  );\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debouncedComputeFeatures = useCallback(\n    debounce(computeFeatures, debounceTimeout),\n    [computeFeatures]\n  );\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debouncedLoadTiles = useCallback(debounce(loadTiles, debounceTimeout), [\n    loadTiles\n  ]);\n\n  useEffect(() => {\n    if (sourceId && isTilesetLoaded) {\n      clearDebounce();\n      setSourceFeaturesReady(false);\n      debounceIdRef.current = debouncedComputeFeatures({\n        viewport,\n        spatialFilter,\n        uniqueIdProperty\n      });\n    }\n  }, [\n    viewport,\n    spatialFilter,\n    uniqueIdProperty,\n    debouncedComputeFeatures,\n    sourceId,\n    isTilesetLoaded,\n    setSourceFeaturesReady,\n    clearDebounce,\n    debounceIdRef\n  ]);\n\n  const onViewportLoad = useCallback(\n    (tiles) => {\n      stopAnyCompute();\n      setSourceFeaturesReady(false);\n\n      debounceIdRef.current = debouncedLoadTiles(tiles);\n    },\n    [stopAnyCompute, setSourceFeaturesReady, debouncedLoadTiles, debounceIdRef]\n  );\n\n  const fetch = useCallback(\n    (...args) => {\n      stopAnyCompute();\n\n      if (spatialIndex) {\n        return Layer.defaultProps.fetch.value(...args);\n      }\n      return customFetch(...args);\n    },\n    [stopAnyCompute, spatialIndex]\n  );\n\n  const onDataLoad = useCallback(({ tiles: [tile], scheme }) => {\n    const url = new URL(tile);\n    const tilesFormat = url.searchParams.get('formatTiles');\n    setTileFormat(tilesFormat || TILE_FORMATS.MVT);\n    const geoColum = url.searchParams.get('geo_column');\n\n    if (geoColum) {\n      setGeoColumName(getColumnNameFromGeoColumn(geoColum));\n    }\n    setSpatialIndex(Object.values(SpatialIndex).includes(scheme) ? scheme : undefined);\n  }, []);\n\n  return [onDataLoad, onViewportLoad, fetch];\n}\n\n// WORKAROUND: To read headers and know if the tile is dropping features.\n// Remove when the new loader is ready => https://github.com/visgl/loaders.gl/pull/2128\nconst customFetch = async (url, { layer, loaders, loadOptions, signal }) => {\n  loadOptions = loadOptions || layer.getLoadOptions();\n  loaders = loaders || layer.props.loaders;\n\n  const response = await fetch(url, { signal });\n  const isDroppingFeatures =\n    response.headers.get('Features-Dropped-From-Tile') === 'true';\n  const result = await parse(response, loaders, loadOptions);\n  return result ? { ...result, isDroppingFeatures } : null;\n};\n\nconst getColumnNameFromGeoColumn = (geoColumn) => {\n  const parts = geoColumn.split(':');\n  return parts.length === 1 ? parts[0] : parts.length === 2 ? parts[1] : null;\n};\n","import { DataFilterExtension } from '@deck.gl/extensions';\nimport { _buildFeatureFilter, _FilterTypes } from '@carto/react-core/';\n\n// Don't change this value to maintain compatibility with builder\nexport const MAX_GPU_FILTERS = 4;\nconst dataFilterExtension = new DataFilterExtension({ filterSize: MAX_GPU_FILTERS });\n\nfunction getFiltersByType(filters) {\n  const filtersWithoutTimeType = {};\n  let timeFilter = null;\n\n  Object.entries(filters).forEach(([column, columnData]) => {\n    Object.entries(columnData).forEach(([type, typeData]) => {\n      if (type !== _FilterTypes.TIME) {\n        filtersWithoutTimeType[column] = { [type]: typeData };\n      } else {\n        timeFilter = {\n          column,\n          values: typeData.values,\n          type\n        };\n      }\n    });\n  });\n  return {\n    filtersWithoutTimeType,\n    timeFilter\n  };\n}\n\nfunction getFilterRange(timeFilter) {\n  const result = Array(MAX_GPU_FILTERS).fill([0, 0]);\n  // According to getFilterValue all filters are resolved as 0 or 1 in the first position of the array\n  // except the time filter value that is resolved with the real value of the feature in the second position of the array\n  result[0] = [1, 1];\n  if (timeFilter) {\n    result[1] = timeFilter.values[0];\n  }\n  return result;\n}\n\nfunction getUpdateTriggers(filtersWithoutTimeType, timeFilter) {\n  const result = { ...filtersWithoutTimeType };\n\n  // We don't want to change the layer UpdateTriggers every time that the time filter changes\n  // because this filter is changed by the time series widget during its animation\n  // so we remove the time filter value from the `updateTriggers`\n  if (timeFilter) {\n    result[timeFilter.column] = {\n      ...result[timeFilter.column],\n      [timeFilter.type]: {} // this allows working with other filters, without an impact on performance\n    };\n  }\n  return {\n    getFilterValue: JSON.stringify(result)\n  };\n}\n\nfunction getFilterValue(filtersWithoutTimeType, timeFilter, filtersLogicalOperator) {\n  const result = Array(MAX_GPU_FILTERS).fill(0);\n  const featureFilter = _buildFeatureFilter({\n    filters: filtersWithoutTimeType,\n    type: 'number',\n    filtersLogicalOperator\n  });\n  // We evaluate all filters except the time filter using _buildFeatureFilter function.\n  // For the time filter, we return the value of the feature and we will change the getFilterRange result\n  // every time this filter changes\n  return (feature) => {\n    result[0] = featureFilter(feature);\n\n    if (timeFilter) {\n      const f = feature.properties || feature;\n      result[1] = f[timeFilter.column];\n    }\n    return result;\n  };\n}\n\n// The deck.gl DataFilterExtension accepts up to 4 values to filter.\n// We're going to use the first value for all filter except the time filter\n// that will be managed by the second value of the DataFilterExtension\nexport function getDataFilterExtensionProps(filters = {}, filtersLogicalOperator) {\n  const { filtersWithoutTimeType, timeFilter } = getFiltersByType(filters);\n  return {\n    filterRange: getFilterRange(timeFilter),\n    updateTriggers: getUpdateTriggers(filtersWithoutTimeType, timeFilter),\n    getFilterValue: getFilterValue(\n      filtersWithoutTimeType,\n      timeFilter,\n      filtersLogicalOperator\n    ),\n    extensions: [dataFilterExtension]\n  };\n}\n","import { MASK_ID } from '@carto/react-core/';\nimport { MaskExtension } from '@deck.gl/extensions';\n\nconst maskExtension = new MaskExtension();\n\nexport function getMaskExtensionProps(maskPolygon) {\n  return {\n    maskId: Boolean(maskPolygon && maskPolygon.length) && MASK_ID,\n    extensions: [maskExtension]\n  };\n}\n","import { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectSpatialFilter } from '@carto/react-redux';\nimport useGeojsonFeatures from './useGeojsonFeatures';\nimport useTileFeatures from './useTileFeatures';\nimport { getDataFilterExtensionProps } from './dataFilterExtensionUtil';\nimport { getMaskExtensionProps } from './maskExtensionUtil';\n\nexport default function useCartoLayerProps({\n  source,\n  layerConfig,\n  uniqueIdProperty,\n  viewportFeatures = true,\n  viewporFeaturesDebounceTimeout = 250\n}) {\n  const viewport = useSelector((state) => state.carto.viewport);\n  const spatialFilter = useSelector((state) => selectSpatialFilter(state, source?.id));\n\n  const [onDataLoadForGeojson] = useGeojsonFeatures({\n    source,\n    viewport,\n    spatialFilter,\n    uniqueIdProperty,\n    debounceTimeout: viewporFeaturesDebounceTimeout\n  });\n\n  const [onDataLoadForTile, onViewportLoad, fetch] = useTileFeatures({\n    source,\n    viewport,\n    spatialFilter,\n    uniqueIdProperty,\n    debounceTimeout: viewporFeaturesDebounceTimeout\n  });\n\n  const onDataLoad = useCallback(\n    (data) => {\n      if (data?.tilejson) {\n        return onDataLoadForTile(data);\n      }\n\n      return onDataLoadForGeojson(data);\n    },\n    [onDataLoadForGeojson, onDataLoadForTile]\n  );\n\n  // Due to dynamic tiling integration, we cannot know if we're going to load a geojson or a tileset\n  // until onDataLoad be executed so we return binary, onViewportLoad and fetch that will be ignored\n  // for NOT Tileset layer\n  const props = {\n    binary: true,\n    ...(viewportFeatures && {\n      onViewportLoad,\n      fetch,\n      onDataLoad\n    })\n  };\n\n  const dataFilterExtensionProps = getDataFilterExtensionProps(\n    source?.filters,\n    source?.filtersLogicalOperator\n  );\n  const maskExtensionProps = getMaskExtensionProps(spatialFilter?.geometry?.coordinates);\n  const extensions = [\n    ...dataFilterExtensionProps.extensions,\n    ...maskExtensionProps.extensions\n  ];\n\n  return {\n    ...props,\n    id: layerConfig?.id,\n    visible: layerConfig?.visible !== undefined ? layerConfig.visible : true,\n    opacity: layerConfig?.opacity ?? 1,\n    uniqueIdProperty,\n    data: source?.data,\n    type: source?.type,\n    connection: source?.connection,\n    credentials: source?.credentials,\n    clientId: 'carto-for-react',\n    queryParameters: source?.queryParameters,\n    ...dataFilterExtensionProps,\n    ...maskExtensionProps,\n    extensions\n  };\n}\n","import { useEffect, useCallback } from 'react';\nimport { debounce } from '@carto/react-core';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { throwError } from './utils';\nimport useFeaturesCommons from './useFeaturesCommons';\n\nexport default function useGeojsonFeatures({\n  source,\n  viewport,\n  spatialFilter,\n  uniqueIdProperty,\n  debounceTimeout = 250\n}) {\n  const [\n    debounceIdRef,\n    isGeoJsonLoaded,\n    setGeoJsonLoaded,\n    clearDebounce,\n    stopAnyCompute,\n    setSourceFeaturesReady\n  ] = useFeaturesCommons({ source });\n\n  const sourceId = source?.id;\n\n  const computeFeatures = useCallback(\n    ({ viewport, spatialFilter, uniqueIdProperty }) => {\n      executeTask(sourceId, Methods.GEOJSON_FEATURES, {\n        viewport,\n        geometry: spatialFilter,\n        uniqueIdProperty\n      })\n        .then(() => {\n          setSourceFeaturesReady(true);\n        })\n        .catch(throwError);\n    },\n    [setSourceFeaturesReady, sourceId]\n  );\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debouncedComputeFeatures = useCallback(\n    debounce(computeFeatures, debounceTimeout),\n    [computeFeatures]\n  );\n\n  useEffect(() => {\n    if (sourceId && isGeoJsonLoaded) {\n      clearDebounce();\n      setSourceFeaturesReady(false);\n      debounceIdRef.current = debouncedComputeFeatures({\n        viewport,\n        spatialFilter,\n        uniqueIdProperty\n      });\n    }\n  }, [\n    viewport,\n    spatialFilter,\n    uniqueIdProperty,\n    sourceId,\n    isGeoJsonLoaded,\n    debouncedComputeFeatures,\n    setSourceFeaturesReady,\n    clearDebounce,\n    debounceIdRef\n  ]);\n\n  const onDataLoad = useCallback(\n    (geojson) => {\n      stopAnyCompute();\n      setSourceFeaturesReady(false);\n      executeTask(sourceId, Methods.LOAD_GEOJSON_FEATURES, { geojson })\n        .then(() => setGeoJsonLoaded(true))\n        .catch(throwError);\n    },\n    [sourceId, setSourceFeaturesReady, stopAnyCompute, setGeoJsonLoaded]\n  );\n\n  return [onDataLoad];\n}\n","export { ArrowStyles, DEFAULT_ARROWS, MAX_ARROWS } from './style';\n\n// Layers\nexport { default as EditableGeoJsonLayer } from './layers/editable-geojson-layer';\nexport { default as EditableH3ClusterLayer } from './layers/editable-h3-cluster-layer';\nexport { default as SelectionLayer } from './layers/selection-layer';\nexport { default as ElevatedEditHandleLayer } from './layers/elevated-edit-handle-layer';\n\n// Layers moved from deck.gl\nexport { default as PathOutlineLayer } from './layers/path-outline-layer/path-outline-layer';\nexport { default as PathMarkerLayer } from './layers/path-marker-layer/path-marker-layer';\nexport { default as JunctionScatterplotLayer } from './layers/junction-scatterplot-layer';\n\n// Utils\nexport { toDeckColor } from './utils';\n\n// Types\nexport type { Color, Viewport } from './types';\n","/**\n * Returns a cloned copy of the passed GeoJSON Object, including possible 'Foreign Members'.\n * ~3-5x faster than the common JSON.parse + JSON.stringify combo method.\n *\n * @name clone\n * @param {GeoJSON} geojson GeoJSON Object\n * @returns {GeoJSON} cloned GeoJSON Object\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]], {color: 'red'});\n *\n * var lineCloned = turf.clone(line);\n */\nfunction clone(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    switch (geojson.type) {\n        case \"Feature\":\n            return cloneFeature(geojson);\n        case \"FeatureCollection\":\n            return cloneFeatureCollection(geojson);\n        case \"Point\":\n        case \"LineString\":\n        case \"Polygon\":\n        case \"MultiPoint\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\":\n        case \"GeometryCollection\":\n            return cloneGeometry(geojson);\n        default:\n            throw new Error(\"unknown GeoJSON type\");\n    }\n}\n/**\n * Clone Feature\n *\n * @private\n * @param {Feature<any>} geojson GeoJSON Feature\n * @returns {Feature<any>} cloned Feature\n */\nfunction cloneFeature(geojson) {\n    var cloned = { type: \"Feature\" };\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n            case \"type\":\n            case \"properties\":\n            case \"geometry\":\n                return;\n            default:\n                cloned[key] = geojson[key];\n        }\n    });\n    // Add properties & geometry last\n    cloned.properties = cloneProperties(geojson.properties);\n    cloned.geometry = cloneGeometry(geojson.geometry);\n    return cloned;\n}\n/**\n * Clone Properties\n *\n * @private\n * @param {Object} properties GeoJSON Properties\n * @returns {Object} cloned Properties\n */\nfunction cloneProperties(properties) {\n    var cloned = {};\n    if (!properties) {\n        return cloned;\n    }\n    Object.keys(properties).forEach(function (key) {\n        var value = properties[key];\n        if (typeof value === \"object\") {\n            if (value === null) {\n                // handle null\n                cloned[key] = null;\n            }\n            else if (Array.isArray(value)) {\n                // handle Array\n                cloned[key] = value.map(function (item) {\n                    return item;\n                });\n            }\n            else {\n                // handle generic Object\n                cloned[key] = cloneProperties(value);\n            }\n        }\n        else {\n            cloned[key] = value;\n        }\n    });\n    return cloned;\n}\n/**\n * Clone Feature Collection\n *\n * @private\n * @param {FeatureCollection<any>} geojson GeoJSON Feature Collection\n * @returns {FeatureCollection<any>} cloned Feature Collection\n */\nfunction cloneFeatureCollection(geojson) {\n    var cloned = { type: \"FeatureCollection\" };\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n            case \"type\":\n            case \"features\":\n                return;\n            default:\n                cloned[key] = geojson[key];\n        }\n    });\n    // Add features\n    cloned.features = geojson.features.map(function (feature) {\n        return cloneFeature(feature);\n    });\n    return cloned;\n}\n/**\n * Clone Geometry\n *\n * @private\n * @param {Geometry<any>} geometry GeoJSON Geometry\n * @returns {Geometry<any>} cloned Geometry\n */\nfunction cloneGeometry(geometry) {\n    var geom = { type: geometry.type };\n    if (geometry.bbox) {\n        geom.bbox = geometry.bbox;\n    }\n    if (geometry.type === \"GeometryCollection\") {\n        geom.geometries = geometry.geometries.map(function (g) {\n            return cloneGeometry(g);\n        });\n        return geom;\n    }\n    geom.coordinates = deepSlice(geometry.coordinates);\n    return geom;\n}\n/**\n * Deep Slice coordinates\n *\n * @private\n * @param {Coordinates} coords Coordinates\n * @returns {Coordinates} all coordinates sliced\n */\nfunction deepSlice(coords) {\n    var cloned = coords;\n    if (typeof cloned[0] !== \"object\") {\n        return cloned.slice();\n    }\n    return cloned.map(function (coord) {\n        return deepSlice(coord);\n    });\n}\nexport default clone;\n","import bbox from \"@turf/bbox\";\nimport { point, } from \"@turf/helpers\";\n/**\n * Takes a {@link Feature} or {@link FeatureCollection} and returns the absolute center point of all features.\n *\n * @name center\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Point\n * @param {Object} [options.bbox={}] Translate GeoJSON BBox to Point\n * @param {Object} [options.id={}] Translate GeoJSON Id to Point\n * @returns {Feature<Point>} a Point feature at the absolute center point of all input features\n * @example\n * var features = turf.points([\n *   [-97.522259, 35.4691],\n *   [-97.502754, 35.463455],\n *   [-97.508269, 35.463245]\n * ]);\n *\n * var center = turf.center(features);\n *\n * //addToMap\n * var addToMap = [features, center]\n * center.properties['marker-size'] = 'large';\n * center.properties['marker-color'] = '#000';\n */\nfunction center(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var ext = bbox(geojson);\n    var x = (ext[0] + ext[2]) / 2;\n    var y = (ext[1] + ext[3]) / 2;\n    return point([x, y], options.properties, options);\n}\nexport default center;\n","// https://en.wikipedia.org/wiki/Rhumb_line\nimport { convertLength, degreesToRadians, earthRadius, point, } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Returns the destination {@link Point} having travelled the given distance along a Rhumb line from the\n * origin Point with the (varant) given bearing.\n *\n * @name rhumbDestination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the starting point\n * @param {number} bearing varant bearing angle ranging from -180 to 180 degrees from north\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @param {Object} [options.properties={}] translate properties to destination point\n * @returns {Feature<Point>} Destination point.\n * @example\n * var pt = turf.point([-75.343, 39.984], {\"marker-color\": \"F00\"});\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.rhumbDestination(pt, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [pt, destination]\n * destination.properties['marker-color'] = '#00F';\n */\nfunction rhumbDestination(origin, distance, bearing, options) {\n    if (options === void 0) { options = {}; }\n    var wasNegativeDistance = distance < 0;\n    var distanceInMeters = convertLength(Math.abs(distance), options.units, \"meters\");\n    if (wasNegativeDistance)\n        distanceInMeters = -Math.abs(distanceInMeters);\n    var coords = getCoord(origin);\n    var destination = calculateRhumbDestination(coords, distanceInMeters, bearing);\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] +=\n        destination[0] - coords[0] > 180\n            ? -360\n            : coords[0] - destination[0] > 180\n                ? 360\n                : 0;\n    return point(destination, options.properties);\n}\n/**\n * Returns the destination point having travelled along a rhumb line from origin point the given\n * distance on the  given bearing.\n * Adapted from Geodesy: http://www.movable-type.co.uk/scripts/latlong.html#rhumblines\n *\n * @private\n * @param   {Array<number>} origin - point\n * @param   {number} distance - Distance travelled, in same units as earth radius (default: metres).\n * @param   {number} bearing - Bearing in degrees from north.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {Array<number>} Destination point.\n */\nfunction calculateRhumbDestination(origin, distance, bearing, radius) {\n    // φ => phi\n    // λ => lambda\n    // ψ => psi\n    // Δ => Delta\n    // δ => delta\n    // θ => theta\n    radius = radius === undefined ? earthRadius : Number(radius);\n    var delta = distance / radius; // angular distance in radians\n    var lambda1 = (origin[0] * Math.PI) / 180; // to radians, but without normalize to 𝜋\n    var phi1 = degreesToRadians(origin[1]);\n    var theta = degreesToRadians(bearing);\n    var DeltaPhi = delta * Math.cos(theta);\n    var phi2 = phi1 + DeltaPhi;\n    // check for some daft bugger going past the pole, normalise latitude if so\n    if (Math.abs(phi2) > Math.PI / 2) {\n        phi2 = phi2 > 0 ? Math.PI - phi2 : -Math.PI - phi2;\n    }\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    // E-W course becomes ill-conditioned with 0/0\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n    var DeltaLambda = (delta * Math.sin(theta)) / q;\n    var lambda2 = lambda1 + DeltaLambda;\n    return [\n        (((lambda2 * 180) / Math.PI + 540) % 360) - 180,\n        (phi2 * 180) / Math.PI,\n    ]; // normalise to −180..+180°\n}\nexport default rhumbDestination;\n","import type {LoaderWithParser} from '@loaders.gl/loader-utils';\nimport type {DracoMesh, DracoLoaderData} from './lib/draco-types';\nimport type {DracoLoaderOptions} from './draco-loader';\nimport {DracoLoader as DracoWorkerLoader} from './draco-loader';\nimport DracoParser from './lib/draco-parser';\nimport {loadDracoDecoderModule} from './lib/draco-module-loader';\nimport {VERSION} from './lib/utils/version';\nimport {isBrowser} from '@loaders.gl/worker-utils';\n\n// Draco data types\n\nexport type {DracoMesh, DracoLoaderData};\n\n// Draco Writer\n\nexport type {DracoWriterOptions} from './draco-writer';\nexport {DracoWriter} from './draco-writer';\n\n/**\n * Browser worker doesn't work because of issue during \"draco_encoder.js\" loading.\n * Refused to execute script from 'https://raw.githubusercontent.com/google/draco/1.4.1/javascript/draco_encoder.js' because its MIME type ('') is not executable.\n */\nexport const DracoWriterWorker = {\n  id: isBrowser ? 'draco-writer' : 'draco-writer-nodejs',\n  name: 'Draco compressed geometry writer',\n  module: 'draco',\n  version: VERSION,\n  worker: true,\n  options: {\n    draco: {},\n    source: null\n  }\n};\n\n// Draco Loader\n\nexport type {DracoLoaderOptions};\nexport {DracoWorkerLoader};\n\n/**\n * Loader for Draco3D compressed geometries\n */\nexport const DracoLoader = {\n  ...DracoWorkerLoader,\n  parse\n};\n\nasync function parse(arrayBuffer: ArrayBuffer, options?: DracoLoaderOptions): Promise<DracoMesh> {\n  const {draco} = await loadDracoDecoderModule(options);\n  const dracoParser = new DracoParser(draco);\n  try {\n    return dracoParser.parseSync(arrayBuffer, options?.draco);\n  } finally {\n    dracoParser.destroy();\n  }\n}\n\n// TYPE TESTS - TODO find a better way than exporting junk\nexport const _TypecheckDracoLoader: LoaderWithParser = DracoLoader;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-redux\"), require(\"@carto/react-redux\"), require(\"@carto/react-ui\"), require(\"@carto/react-core\"), require(\"@carto/react-api\"), require(\"@carto/react-workers\"), require(\"@deck.gl/carto\"), require(\"@carto/react-api/\"), require(\"@carto/react-redux/\"), require(\"@carto/react-core/\"), require(\"@carto/react-ui/\"), require(\"@material-ui/core\"), require(\"@material-ui/core/styles\"), require(\"@nebula.gl/edit-modes\"), require(\"@nebula.gl/layers\"), require(\"@carto/react-basemaps/\"), require(\"@deck.gl/core\"), require(\"@deck.gl/layers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-redux\", \"@carto/react-redux\", \"@carto/react-ui\", \"@carto/react-core\", \"@carto/react-api\", \"@carto/react-workers\", \"@deck.gl/carto\", \"@carto/react-api/\", \"@carto/react-redux/\", \"@carto/react-core/\", \"@carto/react-ui/\", \"@material-ui/core\", \"@material-ui/core/styles\", \"@nebula.gl/edit-modes\", \"@nebula.gl/layers\", \"@carto/react-basemaps/\", \"@deck.gl/core\", \"@deck.gl/layers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cartoReactWidgets\"] = factory(require(\"react\"), require(\"react-redux\"), require(\"@carto/react-redux\"), require(\"@carto/react-ui\"), require(\"@carto/react-core\"), require(\"@carto/react-api\"), require(\"@carto/react-workers\"), require(\"@deck.gl/carto\"), require(\"@carto/react-api/\"), require(\"@carto/react-redux/\"), require(\"@carto/react-core/\"), require(\"@carto/react-ui/\"), require(\"@material-ui/core\"), require(\"@material-ui/core/styles\"), require(\"@nebula.gl/edit-modes\"), require(\"@nebula.gl/layers\"), require(\"@carto/react-basemaps/\"), require(\"@deck.gl/core\"), require(\"@deck.gl/layers\"));\n\telse\n\t\troot[\"cartoReactWidgets\"] = factory(root[\"react\"], root[\"react-redux\"], root[\"@carto/react-redux\"], root[\"@carto/react-ui\"], root[\"@carto/react-core\"], root[\"@carto/react-api\"], root[\"@carto/react-workers\"], root[\"@deck.gl/carto\"], root[\"@carto/react-api/\"], root[\"@carto/react-redux/\"], root[\"@carto/react-core/\"], root[\"@carto/react-ui/\"], root[\"@material-ui/core\"], root[\"@material-ui/core/styles\"], root[\"@nebula.gl/edit-modes\"], root[\"@nebula.gl/layers\"], root[\"@carto/react-basemaps/\"], root[\"@deck.gl/core\"], root[\"@deck.gl/layers\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__156__, __WEBPACK_EXTERNAL_MODULE__756__, __WEBPACK_EXTERNAL_MODULE__347__, __WEBPACK_EXTERNAL_MODULE__214__, __WEBPACK_EXTERNAL_MODULE__485__, __WEBPACK_EXTERNAL_MODULE__178__, __WEBPACK_EXTERNAL_MODULE__116__, __WEBPACK_EXTERNAL_MODULE__332__, __WEBPACK_EXTERNAL_MODULE__591__, __WEBPACK_EXTERNAL_MODULE__987__, __WEBPACK_EXTERNAL_MODULE__38__, __WEBPACK_EXTERNAL_MODULE__815__, __WEBPACK_EXTERNAL_MODULE__670__, __WEBPACK_EXTERNAL_MODULE__793__, __WEBPACK_EXTERNAL_MODULE__59__, __WEBPACK_EXTERNAL_MODULE__102__, __WEBPACK_EXTERNAL_MODULE__306__, __WEBPACK_EXTERNAL_MODULE__946__, __WEBPACK_EXTERNAL_MODULE__445__) {\nreturn ","module.exports = require(\"regenerator-runtime\");\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__178__;","module.exports = __WEBPACK_EXTERNAL_MODULE__591__;","module.exports = __WEBPACK_EXTERNAL_MODULE__306__;","module.exports = __WEBPACK_EXTERNAL_MODULE__485__;","module.exports = __WEBPACK_EXTERNAL_MODULE__38__;","module.exports = __WEBPACK_EXTERNAL_MODULE__347__;","module.exports = __WEBPACK_EXTERNAL_MODULE__987__;","module.exports = __WEBPACK_EXTERNAL_MODULE__214__;","module.exports = __WEBPACK_EXTERNAL_MODULE__815__;","module.exports = __WEBPACK_EXTERNAL_MODULE__116__;","module.exports = __WEBPACK_EXTERNAL_MODULE__332__;","module.exports = __WEBPACK_EXTERNAL_MODULE__946__;","module.exports = __WEBPACK_EXTERNAL_MODULE__445__;","module.exports = __WEBPACK_EXTERNAL_MODULE__670__;","module.exports = __WEBPACK_EXTERNAL_MODULE__793__;","module.exports = __WEBPACK_EXTERNAL_MODULE__59__;","module.exports = __WEBPACK_EXTERNAL_MODULE__102__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","module.exports = __WEBPACK_EXTERNAL_MODULE__756__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { AggregationTypes, _filtersToSQL } from '@carto/react-core';\nimport { MAP_TYPES, API_VERSIONS } from '@deck.gl/carto';\n\nexport function wrapModelCall(props, fromLocal, fromRemote) {\n  const { source, global } = props;\n\n  if (global) {\n    if (source.type === MAP_TYPES.TILESET)\n      throw new Error('Tileset sources are not supported in global mode.');\n\n    if (source.credentials.apiVersion === API_VERSIONS.V2) {\n      throw new Error(\n        'CARTO 2 cannot be used in global mode. Upgrade to CARTO 3, please.'\n      );\n    }\n\n    if (!fromRemote) {\n      throw new Error(`Global mode isn't supported for this widget`);\n    }\n\n    return fromRemote(props);\n  }\n\n  return fromLocal(props);\n}\n\nexport function formatTableNameWithFilters(props) {\n  const { source } = props;\n  const { data, filters, filtersLogicalOperator } = source;\n\n  const whereClause = _filtersToSQL(filters, filtersLogicalOperator);\n\n  const formattedSourceData =\n    source.type === MAP_TYPES.QUERY ? `(${data.replace(';', '')}) foo` : data;\n\n  return `${formattedSourceData} ${whereClause}`.trim();\n}\n\n// Due to each data warehouse has its own behavior with columns,\n// we need to normalize them and transform every key to lowercase\nexport function normalizeObjectKeys(el) {\n  if (Array.isArray(el)) {\n    return el.map(normalizeObjectKeys);\n  }\n\n  return Object.entries(el).reduce((acc, [key, value]) => {\n    acc[key.toLowerCase()] =\n      typeof value === 'object' ? normalizeObjectKeys(value) : value;\n    return acc;\n  }, {});\n}\n\n// Operation columns & Join operation\nconst sumColumns = (operationColumns) =>\n  operationColumns.map((column) => `COALESCE(${column}, 0)`).join(' + ');\n\nconst SELECT_CLAUSE_BY_JOIN_OPERATION = {\n  [AggregationTypes.AVG]: (operationColumns) =>\n    `(${sumColumns(operationColumns)}) / ${operationColumns.length}`,\n  [AggregationTypes.SUM]: (operationColumns) => sumColumns(operationColumns),\n  [AggregationTypes.COUNT]: (operationColumns) => operationColumns[0],\n  [AggregationTypes.MIN]: (operationColumns) => `LEAST(${operationColumns.join()})`,\n  [AggregationTypes.MAX]: (operationColumns) => `GREATEST(${operationColumns.join()})`\n};\n\nexport function formatOperationColumn(operationColumn, joinOperation) {\n  if (!Array.isArray(operationColumn)) {\n    return operationColumn || '*';\n  }\n\n  if (operationColumn.length <= 1) {\n    return operationColumn[0];\n  }\n\n  const selectClauseFormatter = SELECT_CLAUSE_BY_JOIN_OPERATION[joinOperation];\n\n  if (!selectClauseFormatter) {\n    throw new Error(`${joinOperation} isn't valid.`);\n  }\n\n  return selectClauseFormatter(operationColumn);\n}\n","import { _executeModel } from '@carto/react-api';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { normalizeObjectKeys, wrapModelCall } from './utils';\n\nexport function getFormula(props) {\n  return wrapModelCall(props, fromLocal, fromRemote);\n}\n\n// From local\nfunction fromLocal(props) {\n  const { source, operation, column, joinOperation } = props;\n\n  return executeTask(source.id, Methods.FEATURES_FORMULA, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    operation,\n    joinOperation,\n    column\n  });\n}\n\n// From remote\nfunction fromRemote(props) {\n  const { source, abortController, ...params } = props;\n  const { column, operation } = params;\n\n  return _executeModel({\n    model: 'formula',\n    source,\n    params: { column: column || '*', operation },\n    opts: { abortController }\n  }).then((res) => normalizeObjectKeys(res.rows[0]));\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { _executeModel } from '@carto/react-api';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { normalizeObjectKeys, wrapModelCall } from './utils';\n\nexport function getHistogram(props) {\n  return wrapModelCall(props, fromLocal, fromRemote);\n}\n\n// From local\nfunction fromLocal(props) {\n  const { source, column, operation, ticks } = props;\n\n  return executeTask(source.id, Methods.FEATURES_HISTOGRAM, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    operation,\n    column,\n    ticks\n  });\n}\n\n// From remote\nasync function fromRemote(props) {\n  const { source, abortController, ...params } = props;\n\n  const { column, operation, ticks } = params;\n\n  const data = await _executeModel({\n    model: 'histogram',\n    source,\n    params: { column, operation, ticks },\n    opts: { abortController }\n  }).then((res) => normalizeObjectKeys(res.rows));\n\n  const result = Array(ticks.length + 1).fill(0);\n  data.forEach(({ tick, value }) => (result[tick] = value));\n\n  return result;\n}\n","import { _executeModel } from '@carto/react-api/';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { normalizeObjectKeys, wrapModelCall } from './utils';\n\nexport function getCategories(props) {\n  return wrapModelCall(props, fromLocal, fromRemote);\n}\n\n// From local\nfunction fromLocal(props) {\n  const { source, column, operationColumn, operation, joinOperation } = props;\n\n  return executeTask(source.id, Methods.FEATURES_CATEGORY, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    operation,\n    joinOperation,\n    column,\n    operationColumn: operationColumn || column\n  });\n}\n\n// From remote\nfunction fromRemote(props) {\n  const { source, abortController, ...params } = props;\n  const { column, operation, operationColumn } = params;\n\n  return _executeModel({\n    model: 'category',\n    source,\n    params: {\n      column,\n      operation,\n      operationColumn: operationColumn || column\n    },\n    opts: { abortController }\n  }).then((res) => normalizeObjectKeys(res.rows));\n}\n","// Geocoding / Data Services https://carto.com/developers/data-services-api/reference/\n\nimport { executeSQL, ldsGeocode } from '@carto/react-api';\nimport { API_VERSIONS } from '@deck.gl/carto';\n\n/**\n * Street-Level Geocoder.\n *\n * Geocode street given as address and optionally country into geo location (latitude, longitude).\n * Only first result is returned.\n *\n * @param {object} credentials\n * @param { object } props\n * @param { string } props.searchText - searched address to be executed\n * @param { string= } props.country - optional, limit search scope to country as ISO-3166 alpha-2 code, example, ES, DE\n * @param { string= } props.state - optional, limit search scope to state (only V2 api)\n * @param { string= } props.city - optional, limit search scope to city (only V2 api)\n */\nexport const geocodeStreetPoint = async (credentials, props, opts = {}) => {\n  const { searchText, city, state, country } = props;\n  if (credentials.apiVersion === API_VERSIONS.V3) {\n    return geocodeStreetPointLds(credentials, { searchText, country }, opts);\n  }\n\n  return geocodeStreetPointSql(credentials, { searchText, city, state, country }, opts);\n};\n\nexport const geocodeStreetPointLds = async (\n  credentials,\n  { searchText, country },\n  opts = {}\n) => {\n  const results = await ldsGeocode({\n    credentials,\n    address: searchText,\n    country,\n    limit: 1,\n    opts\n  });\n\n  return results?.[0];\n};\n\nexport const geocodeStreetPointSql = async (\n  credentials,\n  { searchText, city, state, country },\n  opts = {}\n) => {\n  if (credentials.apiKey === 'default_public') {\n    throw new Error('To search a location you need to login or provide an API KEY');\n  }\n\n  const query = `SELECT ST_AsGeoJSON(cdb_geocode_street_point('${searchText}', '${\n    city ?? ''\n  }', '${state ?? ''}', '${country ?? ''}')) AS geometry`;\n  const results = await executeSQL({ credentials, query, opts });\n\n  const geometry = JSON.parse(results[0].geometry);\n  if (geometry === null) return null;\n\n  // Just 1 result is returned, with geometry value on success\n  const [longitude, latitude] = geometry.coordinates;\n  return {\n    longitude,\n    latitude\n  };\n};\n\n// OTHER GEOCODING OPTIONS:\n//      Country Geocoder: cdb_geocode_admin0polygon(_country_name text)\n//      Level-1 Administrative Regions Geocoder: cdb_geocode_admin1polygon(_admin1_name text)\n//      City Geocoder: cdb_geocode_namedplace_point(city_name text)\n//      Postal Code Geocoder: cdb_geocode_postalcode_point(code text, country_name text)\n//      IP Addresses Geocoder: cdb_geocode_ipaddress_point(ip_address text)\n","import { Methods, executeTask } from '@carto/react-workers';\nimport { wrapModelCall } from './utils';\n\nexport function getScatter(props) {\n  return wrapModelCall(props, fromLocal);\n}\n\nfunction fromLocal(props) {\n  const { source, xAxisColumn, xAxisJoinOperation, yAxisColumn, yAxisJoinOperation } =\n    props;\n\n  return executeTask(source.id, Methods.FEATURES_SCATTERPLOT, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    xAxisColumn,\n    xAxisJoinOperation,\n    yAxisColumn,\n    yAxisJoinOperation\n  });\n}\n","import { _executeModel } from '@carto/react-api/';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { normalizeObjectKeys, wrapModelCall } from './utils';\n\nexport function getTimeSeries(props) {\n  return wrapModelCall(props, fromLocal, fromRemote);\n}\n\n// From local\nfunction fromLocal({\n  source,\n  column,\n  operationColumn,\n  joinOperation,\n  operation,\n  stepSize\n}) {\n  return executeTask(source.id, Methods.FEATURES_TIME_SERIES, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    column,\n    stepSize,\n    operationColumn: operationColumn || column,\n    joinOperation,\n    operation\n  });\n}\n\n// From remote\nfunction fromRemote(props) {\n  const { source, abortController, ...params } = props;\n  const { column, operationColumn, joinOperation, operation, stepSize } = params;\n\n  return _executeModel({\n    model: 'timeseries',\n    source,\n    params: {\n      column,\n      stepSize,\n      operationColumn: operationColumn || column,\n      joinOperation,\n      operation\n    },\n    opts: { abortController }\n  }).then((res) => normalizeObjectKeys(res.rows));\n}\n","import { Methods, executeTask } from '@carto/react-workers';\nimport { wrapModelCall } from './utils';\n\nexport function getTable(props) {\n  return wrapModelCall(props, fromLocal);\n}\n\nfunction fromLocal(props) {\n  const { source, rowsPerPage, page, sortBy, sortDirection } = props;\n\n  return executeTask(source.id, Methods.FEATURES_RAW, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    limit: rowsPerPage,\n    page,\n    sortBy,\n    sortByDirection: sortDirection\n  });\n}\n","import { selectSourceById } from '@carto/react-redux/';\nimport { useSelector } from 'react-redux';\nimport { useMemo } from 'react';\n\n/**\n * Obtain widget's filter values.\n *\n * @param  {object} props\n * @param  {string} props.dataSource - ID of the source to get the filters from.\n * @param  {string} props.id - ID of the widget that applied the filter.\n * @param  {string} props.column - name of column of this widget.\n * @param  {string} props.type - type of filter\n */\nexport function useWidgetFilterValues({ dataSource, id, column, type }) {\n  const { filters } = useSelector((state) => selectSourceById(state, dataSource) || {});\n\n  return useMemo(() => {\n    const filter = filters?.[column]?.[type];\n    if (!filter || filter.owner !== id) {\n      return null;\n    }\n    return filter.values;\n  }, [filters, column, type, id]);\n}\n","import { AggregationTypes } from '@carto/react-core';\n\nexport const columnAggregationOn = (columnPropName) => (props, propName) => {\n  if (Array.isArray(props[columnPropName]) && props[columnPropName].length >= 2) {\n    if (!props[propName]) {\n      return new Error(\n        `Prop ${propName} must be defined if ${columnPropName} is an array`\n      );\n    }\n    if (Object.values(AggregationTypes).indexOf(props[propName]) === -1) {\n      return new Error(`Prop ${propName} must be a valid aggregation operator`);\n    }\n  }\n};\n\n// FormulaWidget\nexport const checkFormulaColumn = (props, propName) => {\n  const propValue = props[propName];\n\n  const isValidString = !!propValue && typeof propValue === 'string';\n  const isValidArray = Array.isArray(propValue) && propValue.length;\n\n  const isValid = isValidString || isValidArray;\n\n  const validationError = new Error(`Prop ${propName} must be a string or an array`);\n\n  if (props.operation === AggregationTypes.COUNT) {\n    if (propValue && !isValid) {\n      return validationError;\n    }\n  } else {\n    if (!propValue) {\n      return new Error(`Prop ${propName} must be defined`);\n    }\n\n    if (!isValid) {\n      return validationError;\n    }\n  }\n};\n","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","export const DEFAULT_INVALID_COLUMN_ERR =\n  'One or more columns used in this widget are not available in the data source.';\n","import { useRef } from 'react';\n\nexport default function useCustomCompareMemo(value, isEqual) {\n  const ref = useRef(value);\n\n  if (!isEqual(ref.current, value)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n","import { _getApplicableFilters as getApplicableFilters } from '@carto/react-core/';\nimport { selectSourceById } from '@carto/react-redux/';\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport useCustomCompareMemo from './useCustomCompareMemo';\nimport { dequal as deepEqual } from 'dequal';\n\n/**\n * Hook to obtain widget's source excluding the filters like in useSourceFilters\n * @param  {object} props\n * @param  {string} props.dataSource - ID of the source to get the filters from.\n * @param  {string} props.id - ID of the widget that apply the filter you want to exclude.\n */\nexport default function useWidgetSource({ dataSource, id }) {\n  const rawSource = useSelector((state) => selectSourceById(state, dataSource));\n\n  const applicableFilters = useMemo(\n    () => getApplicableFilters(rawSource?.filters, id),\n    [rawSource?.filters, id]\n  );\n\n  return useCustomCompareMemo(\n    rawSource && {\n      ...rawSource,\n      filters: applicableFilters\n    },\n    deepEqual\n  );\n}\n","import { InvalidColumnError } from '@carto/react-core';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux';\nimport { dequal } from 'dequal';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { DEFAULT_INVALID_COLUMN_ERR } from '../widgets/utils/constants';\nimport useCustomCompareEffect from './useCustomCompareEffect';\nimport useWidgetSource from './useWidgetSource';\n\nexport default function useWidgetFetch(\n  modelFn,\n  { id, dataSource, params, global, onError, enabled = true }\n) {\n  // State\n  const [data, setData] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [warning, setWarning] = useState('');\n\n  const isSourceReady = useSelector(\n    (state) => global || selectAreFeaturesReadyForSource(state, dataSource)\n  );\n  const source = useWidgetSource({ dataSource, id });\n\n  useCustomCompareEffect(\n    () => {\n      setIsLoading(true);\n      setWarning('');\n\n      if (source && isSourceReady && enabled) {\n        modelFn({\n          source,\n          ...params,\n          global\n        })\n          .then((data) => {\n            if (data !== null && data !== undefined) {\n              setData(data);\n            }\n          })\n          .catch((error) => {\n            if (InvalidColumnError.is(error)) {\n              setWarning(DEFAULT_INVALID_COLUMN_ERR);\n            } else if (onError) {\n              onError(error);\n            }\n          })\n          .finally(() => {\n            setIsLoading(false);\n          });\n      }\n    },\n    [params, source, onError, isSourceReady, global, enabled],\n    dequal\n  );\n\n  return { data, isLoading, isSourceReady, source, warning };\n}\n","import { useEffect, useRef } from 'react';\n\nexport default function useCustomCompareEffect(effect, deps, depsEqual) {\n  const ref = useRef();\n\n  if (!ref.current || !depsEqual(deps, ref.current)) {\n    ref.current = deps;\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, ref.current);\n}\n","export const defaultDroppingFeaturesAlertProps = {\n  body: 'Data for this widget is not available at this zoom level. Zoom in to get data from features in the map.'\n}\n","import React from 'react';\nimport { checkIfSourceIsDroppingFeature } from '@carto/react-redux';\nimport { NoDataAlert } from '@carto/react-ui/';\nimport { useSelector } from 'react-redux';\nimport { defaultDroppingFeaturesAlertProps } from './defaultDroppingFeaturesAlertProps';\n\nexport default function WidgetWithAlert({\n  dataSource,\n  droppingFeaturesAlertProps = defaultDroppingFeaturesAlertProps,\n  showDroppingFeaturesAlert = true,\n  noDataAlertProps = {},\n  warning,\n  global = false,\n  children\n}) {\n  const isDroppingFeatures = useSelector((state) =>\n    checkIfSourceIsDroppingFeature(state, dataSource)\n  );\n\n  return (!global && isDroppingFeatures && showDroppingFeaturesAlert) ||\n    warning ||\n    !children ? (\n    <NoDataAlert\n      {...(isDroppingFeatures\n        ? droppingFeaturesAlertProps\n        : warning\n        ? { ...noDataAlertProps, body: warning }\n        : noDataAlertProps)}\n    />\n  ) : (\n    children\n  );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, CategoryWidgetUI } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getCategories } from '../models';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\nimport { columnAggregationOn } from './utils/propTypesFns';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <CategoryWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string | string[]} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`. If multiples are provided, they will be merged into a single one using joinOperation property.\n * @param  {AggregationTypes} [props.joinOperation] - Operation applied to aggregate multiple operation columns into a single one.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format each value returned.\n * @param  {Object} [props.labels] - Overwrite category labels.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {boolean} [props.searchable] - Enable/disable widget searching capabilities. Enabled by default.\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction CategoryWidget(props) {\n  const {\n    id,\n    title,\n    dataSource,\n    column,\n    operationColumn,\n    joinOperation,\n    operation,\n    formatter,\n    labels,\n    animation,\n    filterable,\n    searchable,\n    global,\n    onError,\n    wrapperProps,\n    noDataAlertProps,\n    droppingFeaturesAlertProps\n  } = props;\n  const dispatch = useDispatch();\n\n  const selectedCategories =\n    useWidgetFilterValues({ dataSource, id, column, type: FilterTypes.IN }) ||\n    EMPTY_ARRAY;\n\n  const {\n    data = [],\n    isLoading,\n    warning\n  } = useWidgetFetch(getCategories, {\n    id,\n    dataSource,\n    params: {\n      column,\n      operationColumn,\n      joinOperation,\n      operation\n    },\n    global,\n    onError\n  });\n\n  const handleSelectedCategoriesChange = useCallback(\n    (categories) => {\n      if (categories && categories.length) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.IN,\n            values: categories,\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n        noDataAlertProps={noDataAlertProps}\n      >\n        {(!!data.length || isLoading) && (\n          <CategoryWidgetUI\n            data={data}\n            formatter={formatter}\n            labels={labels}\n            selectedCategories={selectedCategories}\n            onSelectedCategoriesChange={handleSelectedCategoriesChange}\n            animation={animation}\n            filterable={filterable}\n            searchable={searchable}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nCategoryWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]),\n  joinOperation: columnAggregationOn('operationColumn'),\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  labels: PropTypes.object,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  global: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object\n};\n\nCategoryWidget.defaultProps = {\n  labels: {},\n  animation: true,\n  filterable: true,\n  searchable: true,\n  global: false,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default CategoryWidget;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { WrapperWidgetUI, FormulaWidgetUI } from '@carto/react-ui';\nimport { getFormula } from '../models';\nimport { AggregationTypes } from '@carto/react-core';\nimport { checkFormulaColumn, columnAggregationOn } from './utils/propTypesFns';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\n/**\n * Renders a <FormulaWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string | string[]} props.column - Name of the data source's column(s) to get the data from. If multiples are provided, they will be merged into a single one using joinOperation property.\n * @param  {AggregationTypes} [props.joinOperation] - Operation applied to aggregate multiple columns into a single one.\n * @param  {AggregationTypes} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format each value returned.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction FormulaWidget({\n  id,\n  title,\n  dataSource,\n  column,\n  operation,\n  joinOperation,\n  formatter,\n  animation,\n  global,\n  onError,\n  wrapperProps,\n  droppingFeaturesAlertProps\n}) {\n  const {\n    data = { value: undefined },\n    isLoading,\n    warning\n  } = useWidgetFetch(getFormula, {\n    id,\n    dataSource,\n    params: {\n      operation,\n      column,\n      joinOperation\n    },\n    global,\n    onError\n  });\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n      >\n        <FormulaWidgetUI\n          data={Number.isFinite(data?.value) ? data.value : undefined}\n          formatter={formatter}\n          unitBefore={true}\n          animation={animation}\n        />\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nFormulaWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: checkFormulaColumn,\n  joinOperation: columnAggregationOn('column'),\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  animation: PropTypes.bool,\n  global: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object\n};\n\nFormulaWidget.defaultProps = {\n  animation: true,\n  global: false,\n  wrapperProps: {}\n};\n\nexport default FormulaWidget;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { geocodeStreetPoint } from '../models/GeocodingModel';\n\nconst DEFAULT_COUNTRY = ''; // 'SPAIN', 'USA'\n\nconst setGeocoderResult = (payload) => ({\n  type: 'carto/setGeocoderResult',\n  payload\n});\n\n/**\n * Controller for <GeocoderWidget /> component.\n *\n * @param  {object} props\n * @param  {Function=} [props.onError] - Function to handle error messages from the widget.\n */\nexport default function useGeocoderWidgetController(props = {}) {\n  const credentials = useSelector((state) => state.carto.credentials);\n  // Component local state and events handling\n  const [searchText, setSearchText] = useState('');\n  const [loading, setIsLoading] = useState(false);\n\n  // Actions dispatched\n  const dispatch = useDispatch();\n\n  const handleChange = (e) => {\n    setSearchText(e.target.value);\n  };\n\n  const handleInput = (e) => {\n    if (e.target.value === '') {\n      updateMarker(null);\n    }\n  };\n\n  const handleKeyPress = async (e) => {\n    if (e.keyCode === 13) {\n      // Force blur to hide virtual keyboards on mobile and search\n      e.target.blur();\n    }\n  };\n\n  // Needed to handle keyboard \"Done\" button on iOS\n  const handleBlur = async () => {\n    if (searchText.length) {\n      handleSearch();\n    }\n  };\n\n  const handleSearch = async () => {\n    if (!credentials) {\n      return;\n    }\n    try {\n      setIsLoading(true);\n      const result = await geocodeStreetPoint(credentials, {\n        searchText,\n        country: DEFAULT_COUNTRY\n      });\n      if (result) {\n        updateMarker(result);\n      }\n    } catch (e) {\n      handleGeocodeError(e);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const updateMarker = (result) => {\n    dispatch(setGeocoderResult(result));\n  };\n\n  const handleGeocodeError = (error) => {\n    if (props.onError) {\n      props.onError(error);\n    }\n  };\n\n  return {\n    searchText,\n    loading,\n    handleChange,\n    handleInput,\n    handleKeyPress,\n    handleBlur\n  };\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { PropTypes } from 'prop-types';\n\nimport { addLayer, setViewState } from '@carto/react-redux';\n\nimport { CircularProgress, InputBase, Paper, SvgIcon } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useGeocoderWidgetController from '../hooks/useGeocoderWidgetController';\n\nconst useStyles = makeStyles((theme) => ({\n  paperInput: {\n    height: theme.spacing(4.5),\n    width: theme.spacing(30),\n    paddingLeft: theme.spacing(1.5),\n    borderRadius: 4,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    fill: theme.palette.text.secondary,\n    height: '1em',\n    fontSize: `${theme.typography.body2.lineHeight}em`\n  },\n  clear: {\n    ...theme.typography.body2\n  },\n  input: {\n    ...theme.typography.body2,\n    width: `calc(100% - ${theme.spacing(5)}px)`,\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nconst SearchIcon = (args) => (\n  <SvgIcon {...args}>\n    <path\n      d='M11,4 C14.8659932,4 18,7.13400675 18,11 C18,12.7003211 17.3937669,14.2590489 16.3856562,15.4718279 L19.4748737,18.5606602 L18.0606602,19.9748737 L14.8998887,16.8138615 C13.7854137,17.5629194 12.4437497,18 11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 Z M11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 Z'\n      fill='inherit'\n    ></path>\n  </SvgIcon>\n);\n\n/**\n * Renders a <GeocoderWidget /> component\n * @param  {object} props\n * @param  {Object} [props.className] - Material-UI withStyle class for styling\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n */\nfunction GeocoderWidget(props = {}) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const geocoderResult = useSelector((state) => state.carto.geocoderResult);\n\n  const { searchText, loading, handleChange, handleInput, handleKeyPress, handleBlur } =\n    useGeocoderWidgetController(props);\n\n  useEffect(() => {\n    // layer to display the geocoded direction marker\n    dispatch(\n      addLayer({\n        id: 'geocoderLayer'\n      })\n    );\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (geocoderResult) {\n      dispatch(\n        setViewState({\n          longitude: geocoderResult.longitude,\n          latitude: geocoderResult.latitude,\n          zoom: 16,\n          transitionDuration: 500\n        })\n      );\n    }\n  }, [geocoderResult, dispatch]);\n\n  return (\n    <Paper className={`${props.className} ${classes.paperInput}`} elevation={2}>\n      {loading ? (\n        <CircularProgress size={20} className={classes.icon} />\n      ) : (\n        <SearchIcon className={classes.icon} />\n      )}\n\n      <InputBase\n        type='search'\n        tabIndex={-1}\n        size='small'\n        placeholder='Search address'\n        className={classes.input}\n        value={searchText}\n        inputProps={{ 'aria-label': 'GeocoderSearch' }}\n        onChange={handleChange}\n        onInput={handleInput}\n        onKeyDown={handleKeyPress}\n        onBlur={handleBlur}\n      />\n    </Paper>\n  );\n}\n\nGeocoderWidget.propTypes = {\n  className: PropTypes.string,\n  onError: PropTypes.func\n};\n\nGeocoderWidget.defaultProps = {};\n\nexport default GeocoderWidget;\n","import { useEffect, useState } from 'react';\nimport { _getStats } from '@carto/react-api/';\nimport { InvalidColumnError } from '@carto/react-core/';\nimport useWidgetSource from './useWidgetSource';\nimport { DEFAULT_INVALID_COLUMN_ERR } from '../widgets/utils/constants';\n\n/**\n * Hook to obtain column stats\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.column - Name of the data source's column to get the stats.\n * @param  {string} props.dataSource - ID of the data source to get the stats from.\n * @param  {boolean} props.customStats - If we are using custom stats is not necessary to do the request\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n */\nexport default function useStats({ id, column, dataSource, customStats, onError }) {\n  const [stats, setStats] = useState();\n  const [warning, setWarning] = useState('');\n  const source = useWidgetSource({ dataSource, id });\n\n  useEffect(() => {\n    if (!customStats && source) {\n      setWarning('');\n\n      _getStats({ column, source })\n        .then((res) => {\n          setStats(res);\n        })\n        .catch((err) => {\n          if (InvalidColumnError.is(err)) {\n            setWarning(DEFAULT_INVALID_COLUMN_ERR);\n          } else if (onError) {\n            onError(err);\n          }\n        });\n    }\n  }, [column, source, onError, customStats]);\n\n  return { stats, warning };\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, HistogramWidgetUI } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getHistogram } from '../models';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\nimport useStats from '../hooks/useStats';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <HistogramWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {number} props.min - Min value of the indicated column\n * @param  {number} props.max - Max value of the indicated column\n * @param  {string} [props.operation] - Operation to apply to the column. Must be one of those defined in `AggregationTypes` object.\n * @param  {number[]} [props.ticks] - Array of thresholds for the X axis.\n * @param  {number} [props.bins] - Number of bins to calculate the ticks.\n * @param  {Function} [props.xAxisformatter] - Function to format X axis values.\n * @param  {Function} [props.formatter] - Function to format Y axis values.\n * @param  {boolean} [props.tooltip=true] - Whether to show a tooltip or not\n * @param  {Function} [props.tooltipFormatter] - Function to return the HTML of the tooltip.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction HistogramWidget({\n  id,\n  title,\n  dataSource,\n  column,\n  operation,\n  ticks: _ticks = [],\n  min: _min,\n  max: _max,\n  xAxisFormatter,\n  bins,\n  formatter,\n  tooltip,\n  tooltipFormatter,\n  animation,\n  filterable,\n  global,\n  onError,\n  wrapperProps,\n  noDataAlertProps,\n  droppingFeaturesAlertProps\n}) {\n  const dispatch = useDispatch();\n\n  const [[min, max], setMinMax] = useState([_min, _max]);\n\n  const hasMinMax =\n    Number.isFinite(min) &&\n    min !== Number.MIN_SAFE_INTEGER &&\n    Number.isFinite(max) &&\n    max !== Number.MAX_SAFE_INTEGER;\n\n  const { stats, warning: _warning } = useStats({\n    id,\n    column,\n    dataSource,\n    customStats: hasMinMax,\n    onError\n  });\n\n  useEffect(() => {\n    if (stats) {\n      const { min, max } = stats;\n      setMinMax([min, max]);\n    }\n  }, [stats]);\n\n  const ticks = useMemo(() => {\n    if (_ticks?.length) return _ticks;\n\n    if (bins && hasMinMax) {\n      const result = [];\n      for (let i = 1; i < bins; i += 1) {\n        result.push(min + (max - min) * (i / bins));\n      }\n      return result;\n    }\n\n    return [];\n  }, [min, max, _ticks, bins, hasMinMax]);\n\n  let {\n    data = EMPTY_ARRAY,\n    isLoading,\n    warning = _warning\n  } = useWidgetFetch(getHistogram, {\n    id,\n    dataSource,\n    params: {\n      column,\n      operation,\n      ticks\n    },\n    global,\n    onError,\n    enabled: !!ticks.length\n  });\n\n  const thresholdsFromFilters = useWidgetFilterValues({\n    dataSource,\n    id,\n    column,\n    type: FilterTypes.CLOSED_OPEN\n  });\n\n  const selectedBars = useMemo(() => {\n    return (thresholdsFromFilters || EMPTY_ARRAY)\n      .map(([from, to]) => {\n        if (typeof from === 'undefined' || from === null) {\n          return 0;\n        } else if (typeof to === 'undefined' || to === null) {\n          return ticks.length;\n        } else {\n          const idx = ticks.indexOf(from);\n          return idx !== -1 ? idx + 1 : null;\n        }\n      })\n      .filter((v) => v !== null);\n  }, [thresholdsFromFilters, ticks]);\n\n  const handleSelectedBarsChange = useCallback(\n    (selectedBars) => {\n      if (selectedBars?.length) {\n        const thresholds = selectedBars.map((i) => {\n          let left = ticks[i - 1];\n          let right = ticks.length !== i ? ticks[i] : undefined;\n\n          return [left, right];\n        });\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.CLOSED_OPEN,\n            values: thresholds,\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch, ticks]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} {...wrapperProps} isLoading={isLoading}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n        noDataAlertProps={noDataAlertProps}\n      >\n        {(!!data.length || isLoading) && (\n          <HistogramWidgetUI\n            data={data}\n            min={min}\n            max={max}\n            ticks={ticks}\n            selectedBars={selectedBars}\n            onSelectedBarsChange={handleSelectedBarsChange}\n            tooltip={tooltip}\n            tooltipFormatter={tooltipFormatter}\n            xAxisFormatter={xAxisFormatter}\n            yAxisFormatter={formatter}\n            animation={animation}\n            filterable={filterable}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nHistogramWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  ticks: PropTypes.arrayOf(PropTypes.number),\n  bins: PropTypes.number,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)),\n  xAxisFormatter: PropTypes.func,\n  formatter: PropTypes.func,\n  tooltip: PropTypes.bool,\n  tooltipFormatter: PropTypes.func,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  global: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object\n};\n\nHistogramWidget.defaultProps = {\n  bins: 15,\n  ticks: [],\n  min: Number.MIN_SAFE_INTEGER,\n  max: Number.MAX_SAFE_INTEGER,\n  operation: AggregationTypes.COUNT,\n  tooltip: true,\n  animation: true,\n  filterable: true,\n  global: false,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default HistogramWidget;\n","import React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, PieWidgetUI } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getCategories } from '../models';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\nimport { columnAggregationOn } from './utils/propTypesFns';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <PieWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string | string[]} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`. If multiples are provided, they will be merged into a single one using joinOperation property.\n * @param  {AggregationTypes} [props.joinOperation] - Operation applied to aggregate multiple operation columns into a single one.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format the value that appears in the tooltip.\n * @param  {Function} [props.tooltipFormatter] - Function to return the HTML of the tooltip.\n * @param  {object} props.labels - Object that maps category name with a chosen label\n * @param  {string} props.height - Height of the chart\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction PieWidget({\n  id,\n  title,\n  height,\n  dataSource,\n  column,\n  operationColumn,\n  joinOperation,\n  operation,\n  formatter,\n  tooltipFormatter,\n  labels,\n  animation,\n  filterable,\n  global,\n  colors,\n  onError,\n  wrapperProps,\n  noDataAlertProps,\n  droppingFeaturesAlertProps\n}) {\n  const dispatch = useDispatch();\n\n  const selectedCategories =\n    useWidgetFilterValues({ dataSource, id, column, type: FilterTypes.IN }) ||\n    EMPTY_ARRAY;\n\n  const {\n    data = [],\n    isLoading,\n    warning\n  } = useWidgetFetch(getCategories, {\n    id,\n    dataSource,\n    params: {\n      column,\n      operationColumn,\n      joinOperation,\n      operation\n    },\n    global,\n    onError\n  });\n\n  const handleSelectedCategoriesChange = useCallback(\n    (categories) => {\n      if (categories && categories.length) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.IN,\n            values: categories,\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n        noDataAlertProps={noDataAlertProps}\n      >\n        {(!!data.length || isLoading) && (\n          <PieWidgetUI\n            data={data}\n            formatter={formatter}\n            height={height}\n            tooltipFormatter={tooltipFormatter}\n            colors={colors}\n            labels={labels}\n            animation={animation}\n            filterable={filterable}\n            selectedCategories={selectedCategories}\n            onSelectedCategoriesChange={handleSelectedCategoriesChange}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nPieWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  height: PropTypes.number,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]),\n  joinOperation: columnAggregationOn('operationColumn'),\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  tooltipFormatter: PropTypes.func,\n  labels: PropTypes.object,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  global: PropTypes.bool,\n  onError: PropTypes.func,\n  colors: PropTypes.arrayOf(PropTypes.string),\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object\n};\n\nPieWidget.defaultProps = {\n  animation: true,\n  filterable: true,\n  global: false,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default PieWidget;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState } from 'react';\nimport { updateLayer } from '@carto/react-redux/';\nimport { LegendWidgetUI } from '@carto/react-ui';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport sortLayers from './utils/sortLayers';\n\n/**\n * Renders a <LegendWidget /> component\n * @param  {object} props\n * @param  {string} [props.title] - Title of the widget\n * @param  {string} [props.className] - CSS class name\n * @param  {Object.<string, function>} [props.customLayerOptions] - Allow to add custom controls to a legend item to tweak the associated layer\n * @param  {Object.<string, function>} [props.customLegendTypes] - Allow to customise by default legend types that can be rendered\n * @param  {boolean} [props.initialCollapsed] - Define initial collapsed value. false by default.\n * @param  {string[]} [props.layerOrder] - Array of layer identifiers. Defines the order of layer legends. [] by default.\n */\nfunction LegendWidget({\n  className,\n  customLayerOptions,\n  customLegendTypes,\n  initialCollapsed,\n  layerOrder = [],\n  title\n}) {\n  const dispatch = useDispatch();\n  const layers = useSelector((state) =>\n    sortLayers(\n      Object.values(state.carto.layers).filter((layer) => !!layer.legend),\n      layerOrder\n    )\n  );\n  const [collapsed, setCollapsed] = useState(initialCollapsed);\n\n  if (!layers.length) {\n    return null;\n  }\n\n  const handleChangeVisibility = ({ id, visible }) => {\n    dispatch(\n      updateLayer({\n        id,\n        layerAttributes: { visible }\n      })\n    );\n  };\n\n  const handleChangeOpacity = ({ id, opacity }) => {\n    dispatch(\n      updateLayer({\n        id,\n        layerAttributes: { opacity }\n      })\n    );\n  };\n\n  const handleChangeLegendRowCollapsed = ({ id, collapsed }) => {\n    dispatch(\n      updateLayer({\n        id,\n        layerAttributes: { legend: { collapsed } }\n      })\n    );\n  };\n\n  return (\n    <LegendWidgetUI\n      title={title}\n      className={className}\n      customLegendTypes={customLegendTypes}\n      customLayerOptions={customLayerOptions}\n      layers={layers}\n      onChangeVisibility={handleChangeVisibility}\n      onChangeOpacity={handleChangeOpacity}\n      collapsed={collapsed}\n      onChangeCollapsed={setCollapsed}\n      onChangeLegendRowCollapsed={handleChangeLegendRowCollapsed}\n    />\n  );\n}\n\nLegendWidget.propTypes = {\n  title: PropTypes.string,\n  className: PropTypes.string,\n  customLegendTypes: PropTypes.objectOf(PropTypes.func),\n  initialCollapsed: PropTypes.bool,\n  layerOrder: PropTypes.arrayOf(PropTypes.string)\n};\n\nLegendWidget.defaultProps = {\n  initialCollapsed: false,\n  layerOrder: []\n};\n\nexport default LegendWidget;\n","import { _assert as assert } from '@carto/react-core';\n\n/**\n * Sorts a list of layers based on a list of id property values\n * @param {{ id: string }[]} layers - Array of layers to sort\n * @param {string[]} layerOrder - Array of ids to sort by\n * @returns sorted array\n */\nexport default function sortLayers(layers = [], layerOrder = []) {\n  if (!layerOrder.length) {\n    return layers;\n  }\n  return [...layers].sort((layerA, layerB) => {\n    assert(layerA.id && layerB.id, 'Layer must have an id');\n    return layerOrder.indexOf(layerB.id) - layerOrder.indexOf(layerA.id);\n  });\n}\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { WrapperWidgetUI, ScatterPlotWidgetUI } from '@carto/react-ui';\nimport { getScatter } from '../models';\nimport { columnAggregationOn } from './utils/propTypesFns';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\n/**\n * Renders a <ScatterPlotWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string | string[]} props.xAxisColumn - Name of the data source's column to get the x axis from. If multiples are provided, they will be merged into a single one using xAxisJoinOperation property.\n * @param  {AggregationTypes} [props.xAxisJoinOperation] - Operation applied to aggregate multiple xAxis columns into a single one.\n * @param  {string | string[]} props.yAxisColumn - Name of the data source's column to get the y axis from. If multiples are provided, they will be merged into a single one using yAxisJoinOperation property.\n * @param  {AggregationTypes} [props.yAxisJoinOperation] - Operation applied to aggregate multiple yAxis columns into a single one.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {Function} [props.xAxisFormatter] - Function to format X axis values.\n * @param  {Function} [props.yAxisFormatter] - Function to format Y axis values.\n * @param  {Function} [props.tooltipFormatter] - Function to format Y axis values.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction ScatterPlotWidget({\n  id,\n  title,\n  dataSource,\n  xAxisColumn,\n  xAxisJoinOperation,\n  yAxisColumn,\n  yAxisJoinOperation,\n  animation,\n  yAxisFormatter,\n  xAxisFormatter,\n  tooltipFormatter,\n  global,\n  onError,\n  wrapperProps,\n  noDataAlertProps,\n  droppingFeaturesAlertProps\n}) {\n  const {\n    data = [],\n    isLoading,\n    warning\n  } = useWidgetFetch(getScatter, {\n    id,\n    dataSource,\n    params: {\n      xAxisColumn,\n      xAxisJoinOperation,\n      yAxisColumn,\n      yAxisJoinOperation\n    },\n    global,\n    onError\n  });\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n        noDataAlertProps={noDataAlertProps}\n      >\n        {(!!data.length || isLoading) && (\n          <ScatterPlotWidgetUI\n            data={data}\n            tooltipFormatter={tooltipFormatter}\n            xAxisFormatter={xAxisFormatter}\n            yAxisFormatter={yAxisFormatter}\n            animation={animation}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nScatterPlotWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  xAxisColumn: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]).isRequired,\n  xAxisJoinOperation: columnAggregationOn('xAxisColumn'),\n  yAxisColumn: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]).isRequired,\n  yAxisJoinOperation: columnAggregationOn('yAxisColumn'),\n  animation: PropTypes.bool,\n  xAxisFormatter: PropTypes.func,\n  yAxisFormatter: PropTypes.func,\n  tooltipFormatter: PropTypes.func,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object\n};\n\nScatterPlotWidget.defaultProps = {\n  tooltip: true,\n  animation: true,\n  wrapperProps: {},\n  noDataAlertProps: {},\n  tooltipFormatter: (v) => `[${v.value[0]}, ${v.value[1]})`,\n  xAxisFormatter: (v) => v,\n  yAxisFormatter: (v) => v\n};\n\nexport default ScatterPlotWidget;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getTimeSeries } from '../models';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport {\n  TimeSeriesWidgetUI,\n  WrapperWidgetUI,\n  TIME_SERIES_CHART_TYPES\n} from '@carto/react-ui';\nimport {\n  GroupDateTypes,\n  AggregationTypes,\n  _FilterTypes as FilterTypes\n} from '@carto/react-core';\nimport { capitalize, Menu, MenuItem, SvgIcon, Typography } from '@material-ui/core';\nimport { PropTypes } from 'prop-types';\nimport { columnAggregationOn } from './utils/propTypesFns';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\n// Due to the widget groups the data by a certain stepSize, when filtering\n// the filter applied must be a range that represent the grouping range.\n// For example, if you group the data by day, the range must\n// start with a day and ends 24 hours later.\nconst STEP_SIZE_RANGE_MAPPING = {\n  [GroupDateTypes.YEARS]: 60 * 60 * 24 * 365 * 1000,\n  [GroupDateTypes.MONTHS]: 60 * 60 * 24 * 30 * 1000,\n  [GroupDateTypes.WEEKS]: 60 * 60 * 24 * 7 * 1000,\n  [GroupDateTypes.DAYS]: 60 * 60 * 24 * 1000,\n  [GroupDateTypes.HOURS]: 60 * 60 * 1000,\n  [GroupDateTypes.MINUTES]: 60 * 1000\n};\n\n/**\n * Renders a <TimeSeriesWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's date column for grouping the data.\n * @param  {string | string[]} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`. If multiples are provided, they will be merged into a single one using joinOperation property.\n * @param  {AggregationTypes} [props.joinOperation] - Operation applied to aggregate multiple operation columns into a single one.\n * @param  {string} [props.operation] - Operation to apply to the operationColumn. Operation used by default is COUNT. Must be one of those defined in `AggregationTypes` object.\n * @param  {string} props.stepSize - Step applied to group the data. Must be one of those defined in `GroupDateTypes` object.\n * @param  {string[]} [props.stepSizeOptions] - Different steps that can be applied to group the data. If filled, an icon with a menu appears to change between steps. Every value must be one of those defined in `AggregationTypes` object.\n * @param  {string} [props.chartType] - Chart used to represent the time serie. Must be one of those defined in `TIME_SERIES_CHART_TYPES` object.\n * @param  {boolean} [props.tooltip] - Enable/disable tooltip.\n * @param  {function} [props.tooltipFormatter] - Function that returns the HTML for the chart tooltip.\n * @param  {function} [props.formatter] - Function for formatting the value that is represented in the tooltip.\n * @param  {string} [props.height] - Height of the chart.\n * @param  {boolean} [props.showControls] - Enable/disable animation controls (play, pause, stop, speed). True by default.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * Internal state\n * @param  {boolean} [props.isPlaying] - If true, the animation starts.\n * @param  {boolean} [props.isPaused] - If true and isPlaying false, the animation is paused.\n * @param  {any[]} [props.timeWindow] - Array of two elements that represent a date range. The values can be anything that Date constructor can receive.\n * Events\n * @param  {function} [props.onPlay] - Event raised when the animation starts.\n * @param  {function} [props.onPause] - Event raised when the animation is paused.\n * @param  {function} [props.onStop] - Event raised when the animation is stopped.\n * @param  {function} [props.onTimelineUpdate] - Event raised when the timeline is updated. It happens when the animation is playing. The function receive as param the date that is being shown.\n * @param  {function} [props.onTimeWindowUpdate] - Event raised when the timeWindow is updated. It happens when the animation is playing with a timeWindow enabled. The function receive as param an array of two date objects.\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction TimeSeriesWidget({\n  // Widget\n  id,\n  title,\n  dataSource,\n  column,\n  operationColumn,\n  joinOperation,\n  operation,\n  stepSizeOptions,\n  global,\n  onError,\n  wrapperProps,\n  noDataAlertProps,\n  droppingFeaturesAlertProps,\n  // UI\n  chartType,\n  tooltip,\n  tooltipFormatter,\n  formatter,\n  height,\n  showControls,\n  animation,\n  isPlaying,\n  onPlay,\n  isPaused,\n  onPause,\n  onStop,\n  onTimelineUpdate,\n  timeWindow,\n  onTimeWindowUpdate,\n  // Both\n  stepSize\n}) {\n  const dispatch = useDispatch();\n\n  const [selectedStepSize, setSelectedStepSize] = useState(stepSize);\n\n  if (showControls && global) {\n    console.warn(\n      'TimeSeriesWidget cannot show controls while using global mode. Controls will be hidden.'\n    );\n    showControls = false;\n  }\n\n  useEffect(() => {\n    if (stepSize !== selectedStepSize) {\n      setSelectedStepSize(stepSize);\n    }\n    // Only on stepSize update\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stepSize]);\n\n  const {\n    data = [],\n    isLoading,\n    warning\n  } = useWidgetFetch(getTimeSeries, {\n    id,\n    dataSource,\n    params: {\n      column,\n      joinOperation,\n      stepSize: selectedStepSize,\n      operationColumn,\n      operation\n    },\n    global,\n    onError\n  });\n\n  const handleTimeWindowUpdate = useCallback(\n    (timeWindow) => {\n      if (!isLoading) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.TIME,\n            values: [timeWindow.map((date) => date.getTime?.() || date)],\n            owner: id\n          })\n        );\n\n        if (onTimeWindowUpdate) onTimeWindowUpdate(timeWindow);\n      }\n    },\n    [column, dataSource, isLoading, dispatch, id, onTimeWindowUpdate]\n  );\n\n  const handleTimelineUpdate = useCallback(\n    (timelinePosition) => {\n      if (!isLoading) {\n        const { name: moment } = data[timelinePosition];\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.TIME,\n            values: [[moment, moment + STEP_SIZE_RANGE_MAPPING[selectedStepSize]]],\n            owner: id\n          })\n        );\n\n        if (onTimelineUpdate) onTimelineUpdate(new Date(moment));\n      }\n    },\n    [\n      column,\n      dataSource,\n      isLoading,\n      dispatch,\n      id,\n      onTimelineUpdate,\n      selectedStepSize,\n      data\n    ]\n  );\n\n  const handleStop = useCallback(() => {\n    dispatch(\n      removeFilter({\n        id: dataSource,\n        column\n      })\n    );\n\n    if (onStop) onStop();\n  }, [column, dataSource, dispatch, onStop]);\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleOpenStepSizeMenu = (e) => {\n    if (e?.currentTarget) {\n      setAnchorEl(e.currentTarget);\n    }\n  };\n\n  const handleCloseStepSizeMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const handleStepSizeUpdate = (stepSize) => {\n    setSelectedStepSize(stepSize);\n    handleCloseStepSizeMenu();\n  };\n\n  return (\n    <>\n      <WrapperWidgetUI\n        title={title}\n        isLoading={isLoading}\n        {...wrapperProps}\n        actions={[\n          ...(wrapperProps?.actions || []),\n          ...(stepSizeOptions?.length\n            ? [\n                {\n                  id: 'a0',\n                  name: 'Bucket size',\n                  icon: <StepSizeIcon />,\n                  action: handleOpenStepSizeMenu\n                }\n              ]\n            : [])\n        ]}\n      >\n        <WidgetWithAlert\n          dataSource={dataSource}\n          warning={warning}\n          global={global}\n          droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n          noDataAlertProps={noDataAlertProps}\n        >\n          {(!!data.length || isLoading) && (\n            <TimeSeriesWidgetUI\n              data={data}\n              stepSize={selectedStepSize}\n              chartType={chartType}\n              tooltip={tooltip}\n              tooltipFormatter={tooltipFormatter}\n              formatter={formatter}\n              height={height}\n              showControls={showControls}\n              animation={animation}\n              isPlaying={isPlaying}\n              onPlay={onPlay}\n              isPaused={isPaused}\n              onPause={onPause}\n              onStop={handleStop}\n              // timelinePosition={timelinePosition}\n              onTimelineUpdate={handleTimelineUpdate}\n              timeWindow={timeWindow}\n              onTimeWindowUpdate={handleTimeWindowUpdate}\n            />\n          )}\n        </WidgetWithAlert>\n      </WrapperWidgetUI>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleCloseStepSizeMenu}\n      >\n        <MenuItem disabled>\n          <Typography variant='caption' color='textSecondary'>\n            Step size\n          </Typography>\n        </MenuItem>\n        {stepSizeOptions.map((stepSize) => (\n          <MenuItem\n            key={stepSize}\n            selected={selectedStepSize === stepSize}\n            onClick={() => handleStepSizeUpdate(stepSize)}\n          >\n            {capitalize(stepSize)}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  );\n}\n\nTimeSeriesWidget.propTypes = {\n  // Widget\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]),\n  joinOperation: columnAggregationOn('operationColumn'),\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  stepSizeOptions: PropTypes.arrayOf(PropTypes.oneOf(Object.values(GroupDateTypes))),\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object,\n  // UI\n  tooltip: PropTypes.bool,\n  tooltipFormatter: PropTypes.func,\n  formatter: PropTypes.func,\n  height: PropTypes.string,\n  animation: PropTypes.bool,\n  isPlaying: PropTypes.bool,\n  onPlay: PropTypes.func,\n  isPaused: PropTypes.bool,\n  onPause: PropTypes.func,\n  onStop: PropTypes.func,\n  onTimelineUpdate: PropTypes.func,\n  timeWindow: PropTypes.arrayOf(PropTypes.any),\n  onTimeWindowUpdate: PropTypes.func,\n  showControls: PropTypes.bool,\n  chartType: PropTypes.oneOf(Object.values(TIME_SERIES_CHART_TYPES)),\n  // Both\n  stepSize: PropTypes.oneOf(Object.values(GroupDateTypes)).isRequired\n};\n\nTimeSeriesWidget.defaultProps = {\n  // Widget\n  operation: AggregationTypes.COUNT,\n  stepSizeOptions: [],\n  wrapperProps: {},\n  noDataAlertProps: {},\n  // UI\n  tooltip: true,\n  formatter: (value) => value,\n  animation: true,\n  isPlaying: false,\n  isPaused: false,\n  // timelinePosition: 0,\n  timeWindow: [],\n  showControls: true,\n  chartType: TIME_SERIES_CHART_TYPES.LINE\n};\n\nexport default TimeSeriesWidget;\n\n// Aux\nfunction StepSizeIcon() {\n  return (\n    <SvgIcon>\n      <path\n        d='M19 14l.3 1.5c.32.12.614.278.883.475l.197.155 1.45-.49 1 1.73-1.14 1c.069.429.078.68.03 1.065l-.03.205 1.14 1-1 1.73-1.45-.49c-.256.216-.538.394-.845.533l-.235.097L19 24h-2l-.3-1.51c-.32-.12-.614-.278-.883-.475l-.197-.155-1.45.49-1-1.73 1.14-1c-.067-.417-.078-.667-.033-1.028l.033-.232-1.14-1 1-1.73 1.45.49c.256-.216.538-.394.845-.533l.235-.097L17 14h2zM8 2v2h8V2h2v2h1c1.05 0 1.918.82 1.994 1.851L21 6v6h-2v-2H5v10h6v2H5c-1.06 0-1.919-.82-1.995-1.851L3 20l.01-14c0-1.05.802-1.918 1.84-1.994L5 4h1V2h2zm10 15c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm1-11H5v2h14V6z'\n        id='-↳Color'\n        fill='inherit'\n      ></path>\n    </SvgIcon>\n  );\n}\n","import React, { useCallback, useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { BarWidgetUI, WrapperWidgetUI } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getCategories } from '../models';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\nimport { columnAggregationOn } from './utils/propTypesFns';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <BarWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string | string[]} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`. If multiples are provided, they will be merged into a single one using joinOperation property.\n * @param  {AggregationTypes} [props.joinOperation] - Operation applied to aggregate multiple operation columns into a single one.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.xAxisFormatter] - Function to format each value in the x axis.\n * @param  {Function} [props.yAxisFormatter] - Function to format each value in the y axis.\n * @param  {boolean} [props.tooltip=true] - Whether to show a tooltip or not\n * @param  {Function} [props.tooltipFormatter] - Function to return the HTML of the tooltip.\n * @param  {string[]} [props.order] - Set a custom order for the categories. By default, they are ordered by the axis Y.\n * @param  {Object} [props.labels] - Overwrite category labels.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {string} [props.height] - Static widget height\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n */\nfunction BarWidget({\n  id,\n  title,\n  dataSource,\n  column,\n  operationColumn,\n  joinOperation,\n  operation,\n  xAxisFormatter,\n  yAxisFormatter,\n  order = [],\n  labels,\n  tooltip,\n  tooltipFormatter,\n  height,\n  animation,\n  filterable,\n  global,\n  onError,\n  wrapperProps,\n  noDataAlertProps,\n  droppingFeaturesAlertProps\n}) {\n  const dispatch = useDispatch();\n\n  const {\n    data: _data = [],\n    isLoading,\n    warning\n  } = useWidgetFetch(getCategories, {\n    id,\n    dataSource,\n    params: {\n      column,\n      operationColumn,\n      joinOperation,\n      operation\n    },\n    global,\n    onError\n  });\n\n  const sortedData = useMemo(() => {\n    if (!_data.length) return _data;\n\n    const sortedByValue = _data.sort((a, b) => b.value - a.value);\n\n    if (order.length) {\n      return sortedByValue.sort((a, b) => {\n        const aIndex = order.indexOf(a.name);\n        const bIndex = order.indexOf(b.name);\n\n        return aIndex !== -1 && bIndex !== -1 ? aIndex - bIndex : bIndex - aIndex;\n      });\n    }\n\n    return sortedByValue;\n  }, [order, _data]);\n\n  // For selecting bars, BarWidgetUI uses the index of the bar\n  // so we need to process it before passing it to BarWidgetUI\n  const _selectedBars =\n    useWidgetFilterValues({ dataSource, id, column, type: FilterTypes.IN }) ||\n    EMPTY_ARRAY;\n\n  const selectedBars = useMemo(() => {\n    return _selectedBars.map((category) =>\n      sortedData.findIndex((d) => d.name === category)\n    );\n  }, [_selectedBars, sortedData]);\n\n  const handleSelectedBarsChange = useCallback(\n    (selectedBarsIdxs) => {\n      if (selectedBarsIdxs?.length) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.IN,\n            values: selectedBarsIdxs.map((idx) => sortedData[idx].name),\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch, sortedData]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n        noDataAlertProps={noDataAlertProps}\n      >\n        {(!!sortedData.length || isLoading) && (\n          <BarWidgetUI\n            xAxisData={sortedData.map((category) => category.name)}\n            yAxisData={sortedData.map((category) => category.value)}\n            xAxisFormatter={xAxisFormatter}\n            yAxisFormatter={yAxisFormatter}\n            labels={labels}\n            tooltip={tooltip}\n            tooltipFormatter={tooltipFormatter}\n            selectedBars={selectedBars}\n            onSelectedBarsChange={handleSelectedBarsChange}\n            height={height}\n            animation={animation}\n            filterable={filterable}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nBarWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]),\n  joinOperation: columnAggregationOn('operationColumn'),\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  xAxisFormatter: PropTypes.func,\n  yAxisFormatter: PropTypes.func,\n  order: PropTypes.arrayOf(PropTypes.string),\n  labels: PropTypes.object,\n  tooltip: PropTypes.bool,\n  tooltipFormatter: PropTypes.func,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  global: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object,\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\n\nBarWidget.defaultProps = {\n  order: [],\n  labels: {},\n  animation: true,\n  filterable: true,\n  tooltip: true,\n  global: false,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default BarWidget;\n","import { FeatureSelectionWidgetUI, featureSelectionIcons } from '@carto/react-ui';\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  setFeatureSelectionMode,\n  addSpatialFilter,\n  removeSpatialFilter,\n  setFeatureSelectionEnabled\n} from '@carto/react-redux';\nimport {\n  FEATURE_SELECTION_MODES,\n  EDIT_MODES as EDIT_MODES_KEYS\n} from '@carto/react-core';\n\nconst { PolygonIcon, RectangleIcon, CircleIcon, LassoIcon, CursorIcon } =\n  featureSelectionIcons;\n\nconst FEATURE_SELECTION_MODES_MAP = {\n  [FEATURE_SELECTION_MODES.POLYGON]: {\n    label: 'Polygon',\n    icon: <PolygonIcon />\n  },\n  [FEATURE_SELECTION_MODES.RECTANGLE]: {\n    label: 'Rectangle',\n    icon: <RectangleIcon />\n  },\n  [FEATURE_SELECTION_MODES.CIRCLE]: {\n    label: 'Circle',\n    icon: <CircleIcon />\n  },\n  [FEATURE_SELECTION_MODES.LASSO_TOOL]: {\n    label: 'Lasso tool',\n    icon: <LassoIcon />\n  }\n};\n\nconst EDIT_MODES_MAP = {\n  [EDIT_MODES_KEYS.EDIT]: {\n    label: 'Edit mask',\n    icon: <CursorIcon />\n  }\n};\n\nfunction FeatureSelectionWidget({\n  className,\n  selectionModes: selectionModesKeys,\n  editModes: editModesKeys,\n  tooltipPlacement\n}) {\n  const dispatch = useDispatch();\n  const geometry = useSelector((state) => state.carto.spatialFilter);\n  const selectedMode = useSelector((state) => state.carto.featureSelectionMode);\n  const enabled = useSelector((state) => state.carto.featureSelectionEnabled);\n\n  const selectionModes = useMemo(() => {\n    return selectionModesKeys\n      .filter((key) => FEATURE_SELECTION_MODES_MAP[key])\n      .map((key) => ({ id: key, ...FEATURE_SELECTION_MODES_MAP[key] }));\n  }, [selectionModesKeys]);\n\n  const editModes = useMemo(() => {\n    return editModesKeys\n      .filter((key) => EDIT_MODES_MAP[key])\n      .map((key) => ({ id: key, ...EDIT_MODES_MAP[key] }));\n  }, [editModesKeys]);\n\n  const handleEnabledChange = (newEnabled) => {\n    dispatch(setFeatureSelectionEnabled(newEnabled));\n  };\n\n  const handleSelectMode = (newSelectedMode) => {\n    dispatch(setFeatureSelectionMode(newSelectedMode));\n    // If the user update selectedMode, activate it by default\n    handleEnabledChange(true);\n  };\n\n  const handleSelectGeometry = () => {\n    dispatch(\n      addSpatialFilter({\n        geometry: {\n          ...geometry,\n          properties: {\n            ...geometry.properties,\n            disabled: !geometry.properties.disabled\n          }\n        }\n      })\n    );\n  };\n\n  const handleDeleteGeometry = () => {\n    dispatch(removeSpatialFilter());\n  };\n\n  return (\n    <FeatureSelectionWidgetUI\n      className={className}\n      selectionModes={selectionModes}\n      editModes={editModes}\n      selectedMode={selectedMode}\n      onSelectMode={handleSelectMode}\n      enabled={enabled}\n      onEnabledChange={handleEnabledChange}\n      tooltipPlacement={tooltipPlacement}\n      geometry={geometry}\n      onSelectGeometry={handleSelectGeometry}\n      onDeleteGeometry={handleDeleteGeometry}\n    />\n  );\n}\n\nFeatureSelectionWidget.defaultProps = {\n  selectionModes: Object.values(FEATURE_SELECTION_MODES),\n  editModes: Object.values(EDIT_MODES_KEYS),\n  defaultSelectedMode: Object.values(FEATURE_SELECTION_MODES)[0],\n  defaultEnabled: FeatureSelectionWidgetUI.defaultProps.enabled,\n  tooltipPlacement: FeatureSelectionWidgetUI.defaultProps.tooltipPlacement\n};\n\nFeatureSelectionWidget.propTypes = {\n  className: FeatureSelectionWidgetUI.propTypes.className,\n  selectionModes: PropTypes.arrayOf(\n    PropTypes.oneOf(Object.values(FEATURE_SELECTION_MODES))\n  ),\n  editModes: PropTypes.arrayOf(PropTypes.oneOf(Object.values(EDIT_MODES_KEYS))),\n  defaultEnabled: FeatureSelectionWidgetUI.propTypes.enabled,\n  defaultSelectedMode: PropTypes.oneOf([\n    ...Object.values(FEATURE_SELECTION_MODES),\n    ...Object.values(EDIT_MODES_KEYS)\n  ]),\n  tooltipPlacement: FeatureSelectionWidgetUI.propTypes.tooltipPlacement\n};\n\nexport default FeatureSelectionWidget;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { WrapperWidgetUI, TableWidgetUI } from '@carto/react-ui';\nimport { getTable } from '../models';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <TableWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {object[]} props.columns - List of data columns to display. If not specified, all the columns in the data source will be displayed.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {number} [props.initialPageSize] - Initial number of rows per page\n * @param  {Function} [props.onPageSizeChange] - Function called when the page size is changed internally\n * @param  {string} [props.height] - Static widget height, required for scrollable table content\n * @param  {boolean} [props.dense] - Whether the table should use a compact layout with smaller cell paddings\n * @param  {Object} [props.droppingFeaturesAlertProps] - Extra props to pass to [NoDataAlert]() when dropping feature\n * @param  {number} [props.pageSize] - Number of rows per page. This is used to manage internal state externally\n */\nfunction TableWidget({\n  id,\n  title,\n  dataSource,\n  columns,\n  wrapperProps,\n  noDataAlertProps,\n  onError,\n  initialPageSize = 10,\n  onPageSizeChange,\n  global,\n  height,\n  dense,\n  droppingFeaturesAlertProps,\n  // Internal state\n  pageSize\n}) {\n  const [rowsPerPage, setRowsPerPage] = useState(initialPageSize);\n  const [page, setPage] = useState(0);\n\n  const [sortBy, setSortBy] = useState(undefined);\n  const [sortDirection, setSortDirection] = useState('asc');\n\n  const {\n    data = { data: EMPTY_ARRAY, totalCount: 0 },\n    isLoading,\n    isSourceReady,\n    source,\n    warning\n  } = useWidgetFetch(getTable, {\n    id,\n    dataSource,\n    params: {\n      rowsPerPage,\n      page,\n      sortBy,\n      sortDirection\n    },\n    global,\n    onError\n  });\n\n  const { data: rows, totalCount } = data;\n\n  useEffect(() => {\n    if (pageSize !== undefined) setRowsPerPage(pageSize);\n  }, [pageSize]);\n\n  useEffect(() => {\n    // force reset the page to 0 when the viewport or filters change\n    setPage(0);\n  }, [dataSource, isSourceReady, source?.filters]);\n\n  const handleRowsPerPageChange = (newRowsPerPage) => {\n    setRowsPerPage(newRowsPerPage);\n    if (onPageSizeChange) onPageSizeChange(newRowsPerPage);\n  };\n\n  return (\n    <WrapperWidgetUI title={title} {...wrapperProps} isLoading={isLoading}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        droppingFeaturesAlertProps={droppingFeaturesAlertProps}\n        noDataAlertProps={noDataAlertProps}\n      >\n        {(!!rows.length || isLoading) && (\n          <TableWidgetUI\n            columns={columns}\n            rows={rows}\n            pagination\n            totalCount={totalCount}\n            page={page}\n            onSetPage={setPage}\n            onSetRowsPerPage={handleRowsPerPageChange}\n            rowsPerPage={rowsPerPage}\n            sorting\n            sortBy={sortBy}\n            sortDirection={sortDirection}\n            onSetSortBy={setSortBy}\n            onSetSortDirection={setSortDirection}\n            height={height}\n            dense={dense}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nTableWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      field: PropTypes.string.isRequired,\n      headerName: PropTypes.string.isRequired,\n      align: PropTypes.oneOf(['left', 'right'])\n    })\n  ).isRequired,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  droppingFeaturesAlertProps: PropTypes.object,\n  initialPageSize: PropTypes.number,\n  onPageSizeChange: PropTypes.func,\n  height: PropTypes.string,\n  dense: PropTypes.bool,\n  // Internal state\n  pageSize: PropTypes.number\n};\n\nexport default TableWidget;\n","import { _executeModel } from '@carto/react-api';\nimport { Methods, executeTask } from '@carto/react-workers';\nimport { normalizeObjectKeys, wrapModelCall } from './utils';\n\nexport function getRange(props) {\n  return wrapModelCall(props, fromLocal, fromRemote);\n}\n\n// From local\nfunction fromLocal(props) {\n  const { source, column } = props;\n\n  return executeTask(source.id, Methods.FEATURES_RANGE, {\n    filters: source.filters,\n    filtersLogicalOperator: source.filtersLogicalOperator,\n    column\n  });\n}\n\n// From remote\nfunction fromRemote(props) {\n  const { source, abortController, ...params } = props;\n  const { column } = params;\n\n  return _executeModel({\n    model: 'range',\n    source,\n    params: { column },\n    opts: { abortController }\n  }).then((res) => normalizeObjectKeys(res.rows[0]));\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport { _FilterTypes as FilterTypes } from '@carto/react-core';\nimport { WrapperWidgetUI } from '@carto/react-ui';\nimport { addFilter, selectSourceById } from '@carto/react-redux/';\nimport { getRange } from '../models/RangeModel';\nimport useWidgetFetch from '../hooks/useWidgetFetch';\nimport WidgetWithAlert from './utils/WidgetWithAlert';\nimport { RangeWidgetUI } from '@carto/react-ui';\nimport useStats from '../hooks/useStats';\n\n/**\n * Renders a <RangeWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column(s) to get the data from. If multiples are provided, they will be merged into a single one using joinOperation property.\n * @param  {number} [props.min] - Min value of the indicated column\n * @param  {number} [props.max] - Max value of the indicated column\n * @param  {boolean} [props.global] - Enable/disable the viewport filtering in the data fetching.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n */\nfunction RangeWidget({\n  id,\n  title,\n  dataSource,\n  column,\n  min: _min,\n  max: _max,\n  global,\n  onError,\n  wrapperProps\n}) {\n  const dispatch = useDispatch();\n  const { filters } = useSelector((state) => selectSourceById(state, dataSource) || {});\n  const [[min, max], setMinMax] = useState([_min, _max]);\n\n  const hasMinMax = Number.isFinite(min) && Number.isFinite(max);\n  const { stats, warning: _warning } = useStats({\n    id,\n    column,\n    dataSource,\n    customStats: hasMinMax,\n    onError\n  });\n\n  // For this widget we cannot use the useWidgetFilterValues hook because this hook\n  // take into account the owner to return the selected values but if two RangeWidget use\n  // the same column they share the selected value because this widget applies\n  // a filter at the time you load it. It doesn't have a \"no filter state\"\n  const selectedValues = useMemo(\n    () => filters?.[column]?.[FilterTypes.BETWEEN]?.values,\n    [column, filters]\n  );\n\n  const {\n    data = { min: undefined, max: undefined },\n    isLoading,\n    warning = _warning\n  } = useWidgetFetch(getRange, {\n    id,\n    dataSource,\n    params: {\n      column\n    },\n    global,\n    onError\n  });\n\n  const handleSelectedRangeChange = useCallback(\n    (range) => {\n      if (\n        range &&\n        range.length === 2 &&\n        Number.isFinite(range[0]) &&\n        Number.isFinite(range[1])\n      ) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.BETWEEN,\n            values: [range],\n            owner: id\n          })\n        );\n      }\n    },\n    [column, dataSource, dispatch, id]\n  );\n\n  useEffect(() => {\n    if (stats) {\n      const { min, max } = stats;\n      setMinMax([min, max]);\n    }\n  }, [stats]);\n\n  useEffect(() => {\n    if (Number.isFinite(_min) && Number.isFinite(_max)) {\n      setMinMax([_min, _max]);\n    }\n  }, [_max, _min]);\n\n  // The first time that you add the widget we apply the filter because this widget is a filter itself\n  // We also apply the filter if you receive new min and max properties and selectedValues is out of the min-max range\n  useEffect(() => {\n    if (!hasMinMax) {\n      return;\n    }\n    if (!selectedValues || selectedValues[0][0] < min || selectedValues[0][1] > max) {\n      dispatch(\n        addFilter({\n          id: dataSource,\n          column,\n          type: FilterTypes.BETWEEN,\n          values: [[min, max]],\n          owner: id\n        })\n      );\n    }\n  }, [column, dataSource, dispatch, hasMinMax, id, max, min, selectedValues]);\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <WidgetWithAlert\n        dataSource={dataSource}\n        warning={warning}\n        global={global}\n        showDroppingFeaturesAlert={false}\n      >\n        {min !== undefined && max !== undefined && (\n          <RangeWidgetUI\n            min={min}\n            max={max}\n            {...(selectedValues && selectedValues.length && { data: selectedValues[0] })}\n            {...(Number.isFinite(data.min) &&\n              Number.isFinite(data.max) && { limits: [data.min, data.max] })}\n            onSelectedRangeChange={handleSelectedRangeChange}\n          />\n        )}\n      </WidgetWithAlert>\n    </WrapperWidgetUI>\n  );\n}\n\nRangeWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  global: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object\n};\n\nRangeWidget.defaultProps = {\n  global: false,\n  wrapperProps: {}\n};\n\nexport default RangeWidget;\n","import { _getApplicableFilters as getApplicableFilters } from '@carto/react-core/';\nimport { selectSourceById } from '@carto/react-redux/';\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport useCustomCompareMemo from './useCustomCompareMemo';\nimport { dequal as deepEqual } from 'dequal';\n\n/**\n * Hook to obtain source's filters excluding the one from a certain widget\n * @param  {object} props\n * @param  {string} props.dataSource - ID of the source to get the filters from.\n * @param  {string} props.id - ID of the widget that apply the filter you want to exclude.\n */\nexport default function useSourceFilters({ dataSource, id }) {\n  const { filters, filtersLogicalOperator } = useSelector(\n    (state) => selectSourceById(state, dataSource) || {}\n  );\n\n  const applicableFilters = useMemo(\n    () => getApplicableFilters(filters, id),\n    [filters, id]\n  );\n\n  return useCustomCompareMemo(\n    {\n      filters: applicableFilters,\n      filtersLogicalOperator\n    },\n    deepEqual\n  );\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import { EditableGeoJsonLayer } from '@nebula.gl/layers';\n\n// EditableGeoJsonLayer extends EditableLayer and it's its code https://github.com/uber/nebula.gl/blob/master/modules/layers/src/layers/editable-layer.ts#L75\n// We've overwritten _addEventHandlers and _removeEventHandlers to be able to use an eventManager sent it as a property instead of use\n// the default (this.context.deck.eventManager). We need to do this to get the compatibility with Google maps because GoogleMapsOverlay\n// uses its own event system\n\nconst EVENT_TYPES = ['anyclick', 'pointermove', 'panstart', 'panmove', 'panend', 'keyup'];\n\nexport default class EditableCartoGeoJsonLayer extends EditableGeoJsonLayer {\n  updateState({ props, oldProps, context, changeFlags }) {\n    if (props.eventManager !== oldProps.eventManager) {\n      this._removeEventHandlers(props.eventManager);\n      this._removeEventHandlers(oldProps.eventManager);\n      this._addEventHandlers();\n    }\n    super.updateState({ props, oldProps, context, changeFlags });\n  }\n\n  _addEventHandlers() {\n    const eventManager = this._getEventManager();\n    const { eventHandler } = this.state._editableLayerState;\n\n    for (const eventType of EVENT_TYPES) {\n      eventManager.on(eventType, eventHandler, {\n        // give nebula a higher priority so that it can stop propagation to deck.gl's map panning handlers\n        priority: 100\n      });\n    }\n  }\n\n  _removeEventHandlers(_eventManager = undefined) {\n    const eventManager = _eventManager || this._getEventManager();\n    const { eventHandler } = this.state._editableLayerState;\n\n    for (const eventType of EVENT_TYPES) {\n      eventManager.off(eventType, eventHandler);\n    }\n  }\n\n  _getEventManager() {\n    return this.props.eventManager || this.context.deck.eventManager;\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","/**\n * This file contains overrides the default\n * hammer.js functions to add our own utility\n */\n/* eslint-disable */\n/* Hammer.js constants */\nconst INPUT_START = 1;\nconst INPUT_MOVE = 2;\nconst INPUT_END = 4;\nconst MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n/**\n * Helper function that returns true if any element in an array meets given criteria.\n * Because older browsers do not support `Array.prototype.some`\n * @params array {Array}\n * @params predict {Function}\n */\nfunction some(array, predict) {\n    for (let i = 0; i < array.length; i++) {\n        if (predict(array[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n/* eslint-disable no-invalid-this */\nexport function enhancePointerEventInput(PointerEventInput) {\n    const oldHandler = PointerEventInput.prototype.handler;\n    // overrides PointerEventInput.handler to accept right mouse button\n    PointerEventInput.prototype.handler = function handler(ev) {\n        const store = this.store;\n        // Allow non-left mouse buttons through\n        if (ev.button > 0 && ev.type === 'pointerdown') {\n            if (!some(store, e => e.pointerId === ev.pointerId)) {\n                store.push(ev);\n            }\n        }\n        oldHandler.call(this, ev);\n    };\n}\n// overrides MouseInput.handler to accept right mouse button\nexport function enhanceMouseInput(MouseInput) {\n    MouseInput.prototype.handler = function handler(ev) {\n        let eventType = MOUSE_INPUT_MAP[ev.type];\n        // on start we want to have the mouse button down\n        if (eventType & INPUT_START && ev.button >= 0) {\n            this.pressed = true;\n        }\n        if (eventType & INPUT_MOVE && ev.which === 0) {\n            eventType = INPUT_END;\n        }\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: 'mouse',\n            srcEvent: ev\n        });\n    };\n}\n//# sourceMappingURL=hammer-overrides.js.map","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport const Manager = hammerjs.Manager;\nexport default hammerjs;\n//# sourceMappingURL=hammer.browser.js.map","export default class Input {\n    constructor(element, callback, options) {\n        this.element = element;\n        this.callback = callback;\n        this.options = { enable: true, ...options };\n    }\n}\n//# sourceMappingURL=input.js.map","import Hammer from './utils/hammer';\n// This module contains constants that must be conditionally required\n// due to `window`/`document` references downstream.\nexport const RECOGNIZERS = Hammer\n    ? [\n        [Hammer.Pan, { event: 'tripan', pointers: 3, threshold: 0, enable: false }],\n        [Hammer.Rotate, { enable: false }],\n        [Hammer.Pinch, { enable: false }],\n        [Hammer.Swipe, { enable: false }],\n        [Hammer.Pan, { threshold: 0, enable: false }],\n        [Hammer.Press, { enable: false }],\n        [Hammer.Tap, { event: 'doubletap', taps: 2, enable: false }],\n        // TODO - rename to 'tap' and 'singletap' in the next major release\n        [Hammer.Tap, { event: 'anytap', enable: false }],\n        [Hammer.Tap, { enable: false }]\n    ]\n    : null;\n// Recognize the following gestures even if a given recognizer succeeds\nexport const RECOGNIZER_COMPATIBLE_MAP = {\n    tripan: ['rotate', 'pinch', 'pan'],\n    rotate: ['pinch'],\n    pinch: ['pan'],\n    pan: ['press', 'doubletap', 'anytap', 'tap'],\n    doubletap: ['anytap'],\n    anytap: ['tap']\n};\n// Recognize the folling gestures only if a given recognizer fails\nexport const RECOGNIZER_FALLBACK_MAP = {\n    doubletap: ['tap']\n};\n/**\n * Only one set of basic input events will be fired by Hammer.js:\n * either pointer, touch, or mouse, depending on system support.\n * In order to enable an application to be agnostic of system support,\n * alias basic input events into \"classes\" of events: down, move, and up.\n * See `_onBasicInput()` for usage of these aliases.\n */\nexport const BASIC_EVENT_ALIASES = {\n    pointerdown: 'pointerdown',\n    pointermove: 'pointermove',\n    pointerup: 'pointerup',\n    touchstart: 'pointerdown',\n    touchmove: 'pointermove',\n    touchend: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove',\n    mouseup: 'pointerup'\n};\nexport const INPUT_EVENT_TYPES = {\n    KEY_EVENTS: ['keydown', 'keyup'],\n    MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n    WHEEL_EVENTS: [\n        // Chrome, Safari\n        'wheel',\n        // IE\n        'mousewheel'\n    ]\n};\n/**\n * \"Gestural\" events are those that have semantic meaning beyond the basic input event,\n * e.g. a click or tap is a sequence of `down` and `up` events with no `move` event in between.\n * Hammer.js handles these with its Recognizer system;\n * this block maps event names to the Recognizers required to detect the events.\n */\nexport const EVENT_RECOGNIZER_MAP = {\n    tap: 'tap',\n    anytap: 'anytap',\n    doubletap: 'doubletap',\n    press: 'press',\n    pinch: 'pinch',\n    pinchin: 'pinch',\n    pinchout: 'pinch',\n    pinchstart: 'pinch',\n    pinchmove: 'pinch',\n    pinchend: 'pinch',\n    pinchcancel: 'pinch',\n    rotate: 'rotate',\n    rotatestart: 'rotate',\n    rotatemove: 'rotate',\n    rotateend: 'rotate',\n    rotatecancel: 'rotate',\n    tripan: 'tripan',\n    tripanstart: 'tripan',\n    tripanmove: 'tripan',\n    tripanup: 'tripan',\n    tripandown: 'tripan',\n    tripanleft: 'tripan',\n    tripanright: 'tripan',\n    tripanend: 'tripan',\n    tripancancel: 'tripan',\n    pan: 'pan',\n    panstart: 'pan',\n    panmove: 'pan',\n    panup: 'pan',\n    pandown: 'pan',\n    panleft: 'pan',\n    panright: 'pan',\n    panend: 'pan',\n    pancancel: 'pan',\n    swipe: 'swipe',\n    swipeleft: 'swipe',\n    swiperight: 'swipe',\n    swipeup: 'swipe',\n    swipedown: 'swipe'\n};\n/**\n * Map gestural events typically provided by browsers\n * that are not reported in 'hammer.input' events\n * to corresponding Hammer.js gestures.\n */\nexport const GESTURE_EVENT_ALIASES = {\n    click: 'tap',\n    anyclick: 'anytap',\n    dblclick: 'doubletap',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove',\n    mouseup: 'pointerup',\n    mouseover: 'pointerover',\n    mouseout: 'pointerout',\n    mouseleave: 'pointerleave'\n};\n//# sourceMappingURL=constants.js.map","// Purpose: include this in your module to avoids adding dependencies on\n// micro modules like 'global'\n/* global window, global, document, navigator */\nexport const userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nconst window_ = typeof window !== 'undefined' ? window : global;\nconst global_ = typeof global !== 'undefined' ? global : window;\nconst document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\n/*\n * Detect whether passive option is supported by the current browser.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   #Safely_detecting_option_support\n */\nlet passiveSupported = false;\n/* eslint-disable accessor-pairs, no-empty */\ntry {\n    const options = {\n        // This function will be called when the browser\n        // attempts to access the passive property.\n        get passive() {\n            passiveSupported = true;\n            return true;\n        }\n    };\n    window_.addEventListener('test', null, options);\n    window_.removeEventListener('test', null);\n}\ncatch (err) {\n    passiveSupported = false;\n}\nexport { passiveSupported };\n//# sourceMappingURL=globals.js.map","import Input from './input';\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nconst firefox = userAgent.indexOf('firefox') !== -1;\nconst { WHEEL_EVENTS } = INPUT_EVENT_TYPES;\nconst EVENT_TYPE = 'wheel';\n// Constants for normalizing input delta\nconst WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nconst WHEEL_DELTA_PER_LINE = 40;\n// Slow down zoom if shift key is held for more precise zooming\nconst SHIFT_MULTIPLIER = 0.25;\nexport default class WheelInput extends Input {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        /* eslint-disable complexity, max-statements */\n        this.handleEvent = (event) => {\n            if (!this.options.enable) {\n                return;\n            }\n            let value = event.deltaY;\n            if (window.WheelEvent) {\n                // Firefox doubles the values on retina screens...\n                if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n                    value /= window.devicePixelRatio;\n                }\n                if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n                    value *= WHEEL_DELTA_PER_LINE;\n                }\n            }\n            if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n                // This one is definitely a mouse wheel event.\n                // Normalize this value to match trackpad.\n                value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n            }\n            if (event.shiftKey && value) {\n                value = value * SHIFT_MULTIPLIER;\n            }\n            this.callback({\n                type: EVENT_TYPE,\n                center: {\n                    x: event.clientX,\n                    y: event.clientY\n                },\n                delta: -value,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n            });\n        };\n        this.events = (this.options.events || []).concat(WHEEL_EVENTS);\n        this.events.forEach(event => element.addEventListener(event, this.handleEvent, passiveSupported ? { passive: false } : false));\n    }\n    destroy() {\n        this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === EVENT_TYPE) {\n            this.options.enable = enabled;\n        }\n    }\n}\n//# sourceMappingURL=wheel-input.js.map","import Input from './input';\nimport { INPUT_EVENT_TYPES } from '../constants';\nconst { MOUSE_EVENTS } = INPUT_EVENT_TYPES;\nconst MOVE_EVENT_TYPE = 'pointermove';\nconst OVER_EVENT_TYPE = 'pointerover';\nconst OUT_EVENT_TYPE = 'pointerout';\nconst ENTER_EVENT_TYPE = 'pointerenter';\nconst LEAVE_EVENT_TYPE = 'pointerleave';\n/**\n * Hammer.js swallows 'move' events (for pointer/touch/mouse)\n * when the pointer is not down. This class sets up a handler\n * specifically for these events to work around this limitation.\n * Note that this could be extended to more intelligently handle\n * move events across input types, e.g. storing multiple simultaneous\n * pointer/touch events, calculating speed/direction, etc.\n */\nexport default class MoveInput extends Input {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        this.handleEvent = (event) => {\n            this.handleOverEvent(event);\n            this.handleOutEvent(event);\n            this.handleEnterEvent(event);\n            this.handleLeaveEvent(event);\n            this.handleMoveEvent(event);\n        };\n        this.pressed = false;\n        const { enable } = this.options;\n        this.enableMoveEvent = enable;\n        this.enableLeaveEvent = enable;\n        this.enableEnterEvent = enable;\n        this.enableOutEvent = enable;\n        this.enableOverEvent = enable;\n        this.events = (this.options.events || []).concat(MOUSE_EVENTS);\n        this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n    }\n    destroy() {\n        this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === MOVE_EVENT_TYPE) {\n            this.enableMoveEvent = enabled;\n        }\n        if (eventType === OVER_EVENT_TYPE) {\n            this.enableOverEvent = enabled;\n        }\n        if (eventType === OUT_EVENT_TYPE) {\n            this.enableOutEvent = enabled;\n        }\n        if (eventType === ENTER_EVENT_TYPE) {\n            this.enableEnterEvent = enabled;\n        }\n        if (eventType === LEAVE_EVENT_TYPE) {\n            this.enableLeaveEvent = enabled;\n        }\n    }\n    handleOverEvent(event) {\n        if (this.enableOverEvent) {\n            if (event.type === 'mouseover') {\n                this._emit(OVER_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleOutEvent(event) {\n        if (this.enableOutEvent) {\n            if (event.type === 'mouseout') {\n                this._emit(OUT_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleEnterEvent(event) {\n        if (this.enableEnterEvent) {\n            if (event.type === 'mouseenter') {\n                this._emit(ENTER_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleLeaveEvent(event) {\n        if (this.enableLeaveEvent) {\n            if (event.type === 'mouseleave') {\n                this._emit(LEAVE_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleMoveEvent(event) {\n        if (this.enableMoveEvent) {\n            switch (event.type) {\n                case 'mousedown':\n                    if (event.button >= 0) {\n                        // Button is down\n                        this.pressed = true;\n                    }\n                    break;\n                case 'mousemove':\n                    // Move events use `which` to track the button being pressed\n                    if (event.which === 0) {\n                        // Button is not down\n                        this.pressed = false;\n                    }\n                    if (!this.pressed) {\n                        // Drag events are emitted by hammer already\n                        // we just need to emit the move event on hover\n                        this._emit(MOVE_EVENT_TYPE, event);\n                    }\n                    break;\n                case 'mouseup':\n                    this.pressed = false;\n                    break;\n                default:\n            }\n        }\n    }\n    _emit(type, event) {\n        this.callback({\n            type,\n            center: {\n                x: event.clientX,\n                y: event.clientY\n            },\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n        });\n    }\n}\n//# sourceMappingURL=move-input.js.map","import Input from './input';\nimport { INPUT_EVENT_TYPES } from '../constants';\nconst { KEY_EVENTS } = INPUT_EVENT_TYPES;\nconst DOWN_EVENT_TYPE = 'keydown';\nconst UP_EVENT_TYPE = 'keyup';\nexport default class KeyInput extends Input {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        this.handleEvent = (event) => {\n            // Ignore if focused on text input\n            const targetElement = (event.target || event.srcElement);\n            if ((targetElement.tagName === 'INPUT' && targetElement.type === 'text') ||\n                targetElement.tagName === 'TEXTAREA') {\n                return;\n            }\n            if (this.enableDownEvent && event.type === 'keydown') {\n                this.callback({\n                    type: DOWN_EVENT_TYPE,\n                    srcEvent: event,\n                    key: event.key,\n                    target: event.target\n                });\n            }\n            if (this.enableUpEvent && event.type === 'keyup') {\n                this.callback({\n                    type: UP_EVENT_TYPE,\n                    srcEvent: event,\n                    key: event.key,\n                    target: event.target\n                });\n            }\n        };\n        this.enableDownEvent = this.options.enable;\n        this.enableUpEvent = this.options.enable;\n        this.events = (this.options.events || []).concat(KEY_EVENTS);\n        element.tabIndex = this.options.tabIndex || 0;\n        element.style.outline = 'none';\n        this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n    }\n    destroy() {\n        this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === DOWN_EVENT_TYPE) {\n            this.enableDownEvent = enabled;\n        }\n        if (eventType === UP_EVENT_TYPE) {\n            this.enableUpEvent = enabled;\n        }\n    }\n}\n//# sourceMappingURL=key-input.js.map","import Input from './input';\nconst EVENT_TYPE = 'contextmenu';\nexport default class ContextmenuInput extends Input {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        this.handleEvent = (event) => {\n            if (!this.options.enable) {\n                return;\n            }\n            this.callback({\n                type: EVENT_TYPE,\n                center: {\n                    x: event.clientX,\n                    y: event.clientY\n                },\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n            });\n        };\n        element.addEventListener('contextmenu', this.handleEvent);\n    }\n    destroy() {\n        this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === EVENT_TYPE) {\n            this.options.enable = enabled;\n        }\n    }\n}\n//# sourceMappingURL=contextmenu-input.js.map","/* Constants */\nconst DOWN_EVENT = 1;\nconst MOVE_EVENT = 2;\nconst UP_EVENT = 4;\nconst MOUSE_EVENTS = {\n    pointerdown: DOWN_EVENT,\n    pointermove: MOVE_EVENT,\n    pointerup: UP_EVENT,\n    mousedown: DOWN_EVENT,\n    mousemove: MOVE_EVENT,\n    mouseup: UP_EVENT\n};\n// MouseEvent.which https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\nconst MOUSE_EVENT_WHICH_LEFT = 1;\nconst MOUSE_EVENT_WHICH_MIDDLE = 2;\nconst MOUSE_EVENT_WHICH_RIGHT = 3;\n// MouseEvent.button https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\nconst MOUSE_EVENT_BUTTON_LEFT = 0;\nconst MOUSE_EVENT_BUTTON_MIDDLE = 1;\nconst MOUSE_EVENT_BUTTON_RIGHT = 2;\n// MouseEvent.buttons https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\nconst MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nconst MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nconst MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\n/**\n * Extract the involved mouse button\n */\nexport function whichButtons(event) {\n    const eventType = MOUSE_EVENTS[event.srcEvent.type];\n    if (!eventType) {\n        // Not a mouse evet\n        return null;\n    }\n    const { buttons, button, which } = event.srcEvent;\n    let leftButton = false;\n    let middleButton = false;\n    let rightButton = false;\n    if (\n    // button is up, need to find out which one was pressed before\n    eventType === UP_EVENT ||\n        // moving but does not support `buttons` API\n        (eventType === MOVE_EVENT && !Number.isFinite(buttons))) {\n        leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n        middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n        rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n    }\n    else if (eventType === MOVE_EVENT) {\n        leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n        middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n        rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n    }\n    else if (eventType === DOWN_EVENT) {\n        leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n        middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n        rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n    }\n    return { leftButton, middleButton, rightButton };\n}\n/**\n * Calculate event position relative to the root element\n */\nexport function getOffsetPosition(event, rootElement) {\n    const center = event.center;\n    // `center` is a hammer.js event property\n    if (!center) {\n        // Not a gestural event\n        return null;\n    }\n    const rect = rootElement.getBoundingClientRect();\n    // Fix scale for map affected by a CSS transform.\n    // See https://stackoverflow.com/a/26893663/3528533\n    const scaleX = rect.width / rootElement.offsetWidth || 1;\n    const scaleY = rect.height / rootElement.offsetHeight || 1;\n    // Calculate center relative to the root element\n    const offsetCenter = {\n        x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n        y: (center.y - rect.top - rootElement.clientTop) / scaleY\n    };\n    return { center, offsetCenter };\n}\n//# sourceMappingURL=event-utils.js.map","import { whichButtons, getOffsetPosition } from './event-utils';\nconst DEFAULT_OPTIONS = {\n    srcElement: 'root',\n    priority: 0\n};\nexport default class EventRegistrar {\n    constructor(eventManager) {\n        /**\n         * Handles hammerjs event\n         */\n        this.handleEvent = (event) => {\n            if (this.isEmpty()) {\n                return;\n            }\n            const mjolnirEvent = this._normalizeEvent(event);\n            let target = event.srcEvent.target;\n            while (target && target !== mjolnirEvent.rootElement) {\n                this._emit(mjolnirEvent, target);\n                if (mjolnirEvent.handled) {\n                    return;\n                }\n                target = target.parentNode;\n            }\n            this._emit(mjolnirEvent, 'root');\n        };\n        this.eventManager = eventManager;\n        this.handlers = [];\n        // Element -> handler map\n        this.handlersByElement = new Map();\n        this._active = false;\n    }\n    // Returns true if there are no non-passive handlers\n    isEmpty() {\n        return !this._active;\n    }\n    add(type, handler, options, once = false, passive = false) {\n        const { handlers, handlersByElement } = this;\n        let opts = DEFAULT_OPTIONS;\n        if (typeof options === 'string' || (options && options.addEventListener)) {\n            // is DOM element, backward compatibility\n            // @ts-ignore\n            opts = { ...DEFAULT_OPTIONS, srcElement: options };\n        }\n        else if (options) {\n            opts = { ...DEFAULT_OPTIONS, ...options };\n        }\n        let entries = handlersByElement.get(opts.srcElement);\n        if (!entries) {\n            entries = [];\n            handlersByElement.set(opts.srcElement, entries);\n        }\n        const entry = {\n            type,\n            handler,\n            srcElement: opts.srcElement,\n            priority: opts.priority\n        };\n        if (once) {\n            entry.once = true;\n        }\n        if (passive) {\n            entry.passive = true;\n        }\n        handlers.push(entry);\n        this._active = this._active || !entry.passive;\n        // Sort handlers by descending priority\n        // Handlers with the same priority are excuted in the order of registration\n        let insertPosition = entries.length - 1;\n        while (insertPosition >= 0) {\n            if (entries[insertPosition].priority >= entry.priority) {\n                break;\n            }\n            insertPosition--;\n        }\n        entries.splice(insertPosition + 1, 0, entry);\n    }\n    remove(type, handler) {\n        const { handlers, handlersByElement } = this;\n        for (let i = handlers.length - 1; i >= 0; i--) {\n            const entry = handlers[i];\n            if (entry.type === type && entry.handler === handler) {\n                handlers.splice(i, 1);\n                const entries = handlersByElement.get(entry.srcElement);\n                entries.splice(entries.indexOf(entry), 1);\n                if (entries.length === 0) {\n                    handlersByElement.delete(entry.srcElement);\n                }\n            }\n        }\n        this._active = handlers.some(entry => !entry.passive);\n    }\n    /**\n     * Invoke handlers on a particular element\n     */\n    _emit(event, srcElement) {\n        const entries = this.handlersByElement.get(srcElement);\n        if (entries) {\n            let immediatePropagationStopped = false;\n            // Prevents the current event from bubbling up\n            const stopPropagation = () => {\n                event.handled = true;\n            };\n            // Prevent any remaining listeners from being called\n            const stopImmediatePropagation = () => {\n                event.handled = true;\n                immediatePropagationStopped = true;\n            };\n            const entriesToRemove = [];\n            for (let i = 0; i < entries.length; i++) {\n                const { type, handler, once } = entries[i];\n                handler({\n                    ...event,\n                    // @ts-ignore\n                    type,\n                    stopPropagation,\n                    stopImmediatePropagation\n                });\n                if (once) {\n                    entriesToRemove.push(entries[i]);\n                }\n                if (immediatePropagationStopped) {\n                    break;\n                }\n            }\n            for (let i = 0; i < entriesToRemove.length; i++) {\n                const { type, handler } = entriesToRemove[i];\n                this.remove(type, handler);\n            }\n        }\n    }\n    /**\n     * Normalizes hammerjs and custom events to have predictable fields.\n     */\n    _normalizeEvent(event) {\n        const rootElement = this.eventManager.getElement();\n        return {\n            ...event,\n            ...whichButtons(event),\n            ...getOffsetPosition(event, rootElement),\n            preventDefault: () => {\n                event.srcEvent.preventDefault();\n            },\n            stopImmediatePropagation: null,\n            stopPropagation: null,\n            handled: false,\n            rootElement\n        };\n    }\n}\n//# sourceMappingURL=event-registrar.js.map","import { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nconst DEFAULT_OPTIONS = {\n    // event handlers\n    events: null,\n    // custom recognizers\n    recognizers: null,\n    recognizerOptions: {},\n    // Manager class\n    Manager,\n    // allow browser default touch action\n    // https://github.com/uber/react-map-gl/issues/506\n    touchAction: 'none',\n    tabIndex: 0\n};\n// Unified API for subscribing to events about both\n// basic input events (e.g. 'mousemove', 'touchstart', 'wheel')\n// and gestural input (e.g. 'click', 'tap', 'panstart').\n// Delegates gesture related event registration and handling to Hammer.js.\nexport default class EventManager {\n    constructor(element = null, options) {\n        /**\n         * Handle basic events using the 'hammer.input' Hammer.js API:\n         * Before running Recognizers, Hammer emits a 'hammer.input' event\n         * with the basic event info. This function emits all basic events\n         * aliased to the \"class\" of event received.\n         * See constants.BASIC_EVENT_CLASSES basic event class definitions.\n         */\n        this._onBasicInput = (event) => {\n            const { srcEvent } = event;\n            const alias = BASIC_EVENT_ALIASES[srcEvent.type];\n            if (alias) {\n                // fire all events aliased to srcEvent.type\n                this.manager.emit(alias, event);\n            }\n        };\n        /**\n         * Handle events not supported by Hammer.js,\n         * and pipe back out through same (Hammer) channel used by other events.\n         */\n        this._onOtherEvent = (event) => {\n            // console.log('onotherevent', event.type, event)\n            this.manager.emit(event.type, event);\n        };\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n        this.events = new Map();\n        this.setElement(element);\n        // Register all passed events.\n        const { events } = this.options;\n        if (events) {\n            this.on(events);\n        }\n    }\n    getElement() {\n        return this.element;\n    }\n    setElement(element) {\n        if (this.element) {\n            // unregister all events\n            this.destroy();\n        }\n        this.element = element;\n        if (!element) {\n            return;\n        }\n        const { options } = this;\n        const ManagerClass = options.Manager;\n        this.manager = new ManagerClass(element, {\n            touchAction: options.touchAction,\n            recognizers: options.recognizers || RECOGNIZERS\n        }).on('hammer.input', this._onBasicInput);\n        if (!options.recognizers) {\n            // Set default recognize withs\n            // http://hammerjs.github.io/recognize-with/\n            Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(name => {\n                const recognizer = this.manager.get(name);\n                if (recognizer) {\n                    RECOGNIZER_COMPATIBLE_MAP[name].forEach(otherName => {\n                        recognizer.recognizeWith(otherName);\n                    });\n                }\n            });\n        }\n        // Set recognizer options\n        for (const recognizerName in options.recognizerOptions) {\n            const recognizer = this.manager.get(recognizerName);\n            if (recognizer) {\n                const recognizerOption = options.recognizerOptions[recognizerName];\n                // `enable` is managed by the event registrations\n                delete recognizerOption.enable;\n                recognizer.set(recognizerOption);\n            }\n        }\n        // Handle events not handled by Hammer.js:\n        // - mouse wheel\n        // - pointer/touch/mouse move\n        this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n            enable: false\n        });\n        this.moveInput = new MoveInput(element, this._onOtherEvent, {\n            enable: false\n        });\n        this.keyInput = new KeyInput(element, this._onOtherEvent, {\n            enable: false,\n            tabIndex: options.tabIndex\n        });\n        this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n            enable: false\n        });\n        // Register all existing events\n        for (const [eventAlias, eventRegistrar] of this.events) {\n            if (!eventRegistrar.isEmpty()) {\n                // Enable recognizer for this event.\n                this._toggleRecognizer(eventRegistrar.recognizerName, true);\n                this.manager.on(eventAlias, eventRegistrar.handleEvent);\n            }\n        }\n    }\n    // Tear down internal event management implementations.\n    destroy() {\n        if (this.element) {\n            // wheelInput etc. are created in setElement() and therefore\n            // cannot exist if there is no element\n            this.wheelInput.destroy();\n            this.moveInput.destroy();\n            this.keyInput.destroy();\n            this.contextmenuInput.destroy();\n            this.manager.destroy();\n            this.wheelInput = null;\n            this.moveInput = null;\n            this.keyInput = null;\n            this.contextmenuInput = null;\n            this.manager = null;\n            this.element = null;\n        }\n    }\n    /** Register an event handler function to be called on `event` */\n    on(event, handler, opts) {\n        this._addEventHandler(event, handler, opts, false);\n    }\n    once(event, handler, opts) {\n        this._addEventHandler(event, handler, opts, true);\n    }\n    watch(event, handler, opts) {\n        this._addEventHandler(event, handler, opts, false, true);\n    }\n    off(event, handler) {\n        this._removeEventHandler(event, handler);\n    }\n    /*\n     * Enable/disable recognizer for the given event\n     */\n    _toggleRecognizer(name, enabled) {\n        const { manager } = this;\n        if (!manager) {\n            return;\n        }\n        const recognizer = manager.get(name);\n        // @ts-ignore\n        if (recognizer && recognizer.options.enable !== enabled) {\n            recognizer.set({ enable: enabled });\n            const fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n            if (fallbackRecognizers && !this.options.recognizers) {\n                // Set default require failures\n                // http://hammerjs.github.io/require-failure/\n                fallbackRecognizers.forEach(otherName => {\n                    const otherRecognizer = manager.get(otherName);\n                    if (enabled) {\n                        // Wait for this recognizer to fail\n                        otherRecognizer.requireFailure(name);\n                        /**\n                         * This seems to be a bug in hammerjs:\n                         * requireFailure() adds both ways\n                         * dropRequireFailure() only drops one way\n                         * https://github.com/hammerjs/hammer.js/blob/master/src/recognizerjs/\n                           recognizer-constructor.js#L136\n                         */\n                        recognizer.dropRequireFailure(otherName);\n                    }\n                    else {\n                        // Do not wait for this recognizer to fail\n                        otherRecognizer.dropRequireFailure(name);\n                    }\n                });\n            }\n        }\n        this.wheelInput.enableEventType(name, enabled);\n        this.moveInput.enableEventType(name, enabled);\n        this.keyInput.enableEventType(name, enabled);\n        this.contextmenuInput.enableEventType(name, enabled);\n    }\n    /**\n     * Process the event registration for a single event + handler.\n     */\n    _addEventHandler(event, handler, opts, once, passive) {\n        if (typeof event !== 'string') {\n            // @ts-ignore\n            opts = handler;\n            // If `event` is a map, call `on()` for each entry.\n            for (const eventName in event) {\n                this._addEventHandler(eventName, event[eventName], opts, once, passive);\n            }\n            return;\n        }\n        const { manager, events } = this;\n        // Alias to a recognized gesture as necessary.\n        const eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n        let eventRegistrar = events.get(eventAlias);\n        if (!eventRegistrar) {\n            eventRegistrar = new EventRegistrar(this);\n            events.set(eventAlias, eventRegistrar);\n            // Enable recognizer for this event.\n            eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n            // Listen to the event\n            if (manager) {\n                manager.on(eventAlias, eventRegistrar.handleEvent);\n            }\n        }\n        eventRegistrar.add(event, handler, opts, once, passive);\n        if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n        }\n    }\n    /**\n     * Process the event deregistration for a single event + handler.\n     */\n    _removeEventHandler(event, handler) {\n        if (typeof event !== 'string') {\n            // If `event` is a map, call `off()` for each entry.\n            for (const eventName in event) {\n                this._removeEventHandler(eventName, event[eventName]);\n            }\n            return;\n        }\n        const { events } = this;\n        // Alias to a recognized gesture as necessary.\n        const eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n        const eventRegistrar = events.get(eventAlias);\n        if (!eventRegistrar) {\n            return;\n        }\n        eventRegistrar.remove(event, handler);\n        if (eventRegistrar.isEmpty()) {\n            const { recognizerName } = eventRegistrar;\n            // Disable recognizer if no more handlers are attached to its events\n            let isRecognizerUsed = false;\n            for (const eh of events.values()) {\n                if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n                    isRecognizerUsed = true;\n                    break;\n                }\n            }\n            if (!isRecognizerUsed) {\n                this._toggleRecognizer(recognizerName, false);\n            }\n        }\n    }\n}\n//# sourceMappingURL=event-manager.js.map","import { EventManager } from 'mjolnir.js';\nimport { useEffect, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { BASEMAPS } from '@carto/react-basemaps/';\nimport { FEATURE_SELECTION_MODES } from '@carto/react-core/';\n\n// When we're using Google as a base map, Nebula layer doesn't work becase Nebula uses the Deck Gl eventManager\n// so in this case we're defining a new EventManager with the Google maps div. On the other hand, in Builder\n// we don't use the c4r GoogleMap component so we need to send a EventManager as parameter\nexport default function useEventManager({\n  eventManager,\n  isEdit,\n  isSelected,\n  selectedMode\n}) {\n  const isGmaps = useSelector((state) => BASEMAPS[state.carto.basemap].type === 'gmaps');\n  const cartoGmap = window.cartoGmap;\n\n  const customEventManager = useMemo(() => {\n    if (eventManager) {\n      return eventManager;\n    }\n\n    if (isGmaps && cartoGmap) {\n      return new EventManager(cartoGmap.getDiv());\n    }\n    // If Google is not the base map we use the default Nebula EventManager\n    return undefined;\n  }, [cartoGmap, eventManager, isGmaps]);\n\n  // Disable the map interactivity if we're using Google as a base map and we're editing\n  // the geometry or drawing a lasso. Nebula does it automatically when the base map is not Google\n  useEffect(() => {\n    if (isGmaps && cartoGmap) {\n      const disableDragAndDrop =\n        (isEdit && isSelected) || selectedMode === FEATURE_SELECTION_MODES.LASSO_TOOL;\n      cartoGmap.setOptions({ gestureHandling: disableDragAndDrop ? 'none' : 'auto' });\n    }\n  }, [cartoGmap, isEdit, isGmaps, isSelected, selectedMode]);\n\n  return customEventManager;\n}\n","import { useSelector } from 'react-redux';\nimport { OPERATION } from '@deck.gl/core';\nimport { SolidPolygonLayer } from '@deck.gl/layers';\nimport { MASK_ID } from '@carto/react-core/';\nimport { selectSpatialFilter } from '@carto/react-redux/';\n\nexport default function MaskLayer() {\n  const spatialFilterGeometry = useSelector((state) => selectSpatialFilter(state));\n  const maskData = !!spatialFilterGeometry\n    ? [{ polygon: spatialFilterGeometry?.geometry?.coordinates }]\n    : [];\n\n  return new SolidPolygonLayer({\n    id: MASK_ID,\n    operation: OPERATION.MASK,\n    data: maskData,\n    getFillColor: [255, 255, 255, 255]\n  });\n}\n","import { useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as nebulaModes from '@nebula.gl/edit-modes';\nimport {\n  addSpatialFilter,\n  selectSpatialFilter,\n  setFeatureSelectionEnabled,\n  selectFeatureSelectionMode\n} from '@carto/react-redux';\nimport { EDIT_MODES } from '@carto/react-core';\nimport { hexToRgb, useTheme } from '@material-ui/core';\nimport EditableCartoGeoJsonLayer from './EditableCartoGeoJsonLayer';\nimport useEventManager from './useEventManager';\nimport MaskLayer from './MaskLayer';\n\nconst { ViewMode, TranslateMode, ModifyMode, CompositeMode } = nebulaModes;\n\nconst EditMode = new CompositeMode([new TranslateMode(), new ModifyMode()]);\n\nexport default function FeatureSelectionLayer(\n  { eventManager, mask } = { eventManager: null, mask: true }\n) {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const [selectedFeatureIndex, setSelectedFeatureIndex] = useState(null);\n  const selectedMode = useSelector((state) => selectFeatureSelectionMode(state));\n  const spatialFilterGeometry = useSelector((state) => selectSpatialFilter(state));\n\n  const isEdit = isEditMode(selectedMode);\n  const hasGeometry = !!spatialFilterGeometry;\n  const isSelected = selectedFeatureIndex !== null;\n\n  const customEventManager = useEventManager({\n    eventManager,\n    isEdit,\n    isSelected,\n    selectedMode\n  });\n\n  useEffect(() => {\n    // When the user changes mode or finishes drawing a geometry, remove selected feature\n    if (!isEdit && isSelected) {\n      setSelectedFeatureIndex(null);\n    }\n  }, [isEdit, spatialFilterGeometry, isSelected]);\n\n  const mode = useMemo(() => {\n    if (selectedMode) {\n      if (isEdit && isSelected) {\n        return EditMode;\n      } else if (!isEdit && !isSelected) {\n        return nebulaModes[selectedMode];\n      }\n    }\n\n    return ViewMode;\n  }, [isSelected, isEdit, selectedMode]);\n\n  const primaryAsRgba = formatRGBA(hexToRgb(theme.palette.primary.main));\n  const secondaryAsRgba = formatRGBA(hexToRgb(theme.palette.secondary.main));\n\n  const mainColor = hasGeometry && !isSelected ? secondaryAsRgba : primaryAsRgba;\n\n  return [\n    mask && MaskLayer(),\n    // @ts-ignore\n    new EditableCartoGeoJsonLayer({\n      eventManager: customEventManager,\n      id: 'FeatureSelectionLayer',\n      // billboard need to be false to be compatible with Google Satellite\n      billboard: false,\n      pickable: !!selectedMode,\n      data: {\n        type: 'FeatureCollection',\n        features: spatialFilterGeometry ? [spatialFilterGeometry] : []\n      },\n      mode,\n      // @ts-ignore\n      selectedFeatureIndexes: isFinite(selectedFeatureIndex)\n        ? [selectedFeatureIndex]\n        : [],\n      onEdit: ({ updatedData, editType }) => {\n        // Once the geometry is drawed, disable the tool\n        if (editType === 'addFeature') {\n          dispatch(setFeatureSelectionEnabled(false));\n        }\n\n        // Do not update spatial filter if\n        //     1. updatedData is empty\n        //     2. editType includes tentative, that means it's being drawn\n        if (updatedData.features.length !== 0 && !editType.includes('Tentative')) {\n          const [lastFeature] = updatedData.features.slice(-1);\n          if (lastFeature) {\n            dispatch(\n              addSpatialFilter({\n                geometry: lastFeature\n              })\n            );\n          }\n        }\n      },\n      onClick: ({ index, object }) => {\n        if (isEdit && object?.geometry.type === 'Polygon') {\n          setSelectedFeatureIndex(index);\n        }\n      },\n      // Styles once geometry is created or it's being edited\n      getLineColor: mainColor,\n      getFillColor: isEdit ? [...mainColor.slice(0, 3), 255 * 0.08] : [0, 0, 0, 0],\n      // Styles while drawing geometry\n      getTentativeFillColor: [...primaryAsRgba.slice(0, 3), 255 * 0.08],\n      getTentativeLineColor: primaryAsRgba,\n      // Point styles while drawing\n      getEditHandlePointColor: [0xff, 0xff, 0xff],\n      getEditHandlePointOutlineColor: primaryAsRgba,\n      editHandlePointStrokeWidth: 5,\n      getEditHandlePointRadius: 2,\n      getLineWidth: 4\n    })\n  ];\n}\n\n// Aux\nfunction isEditMode(mode) {\n  return Object.values(EDIT_MODES).indexOf(mode) !== -1;\n}\n\nfunction formatRGBA(cssRgba) {\n  const [r, g, b, alpha] = cssRgba.replace(/[rgba() ]/g, '').split(',');\n\n  return [r, g, b, alpha ? alpha * 255 : 255].map(Number);\n}\n","import polygonClipping from 'polygon-clipping';\nimport { polygon, multiPolygon } from '@turf/helpers';\nimport { getGeom } from '@turf/invariant';\n\n/**\n * Finds the difference between two {@link Polygon|polygons} by clipping the second polygon from the first.\n *\n * @name difference\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\n * @example\n * var polygon1 = turf.polygon([[\n *   [128, -26],\n *   [141, -26],\n *   [141, -21],\n *   [128, -21],\n *   [128, -26]\n * ]], {\n *   \"fill\": \"#F00\",\n *   \"fill-opacity\": 0.1\n * });\n * var polygon2 = turf.polygon([[\n *   [126, -28],\n *   [140, -28],\n *   [140, -20],\n *   [126, -20],\n *   [126, -28]\n * ]], {\n *   \"fill\": \"#00F\",\n *   \"fill-opacity\": 0.1\n * });\n *\n * var difference = turf.difference(polygon1, polygon2);\n *\n * //addToMap\n * var addToMap = [polygon1, polygon2, difference];\n */\nfunction difference(polygon1, polygon2) {\n  var geom1 = getGeom(polygon1);\n  var geom2 = getGeom(polygon2);\n  var properties = polygon1.properties || {};\n\n  var differenced = polygonClipping.difference(\n    geom1.coordinates,\n    geom2.coordinates\n  );\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\n\nexport default difference;\n","// https://en.wikipedia.org/wiki/Rhumb_line\nimport { convertLength, earthRadius } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Calculates the distance along a rhumb line between two {@link Point|points} in degrees, radians,\n * miles, or kilometers.\n *\n * @name rhumbDistance\n * @param {Coord} from origin point\n * @param {Coord} to destination point\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.rhumbDistance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction rhumbDistance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var origin = getCoord(from);\n    var destination = getCoord(to);\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] +=\n        destination[0] - origin[0] > 180\n            ? -360\n            : origin[0] - destination[0] > 180\n                ? 360\n                : 0;\n    var distanceInMeters = calculateRhumbDistance(origin, destination);\n    var distance = convertLength(distanceInMeters, \"meters\", options.units);\n    return distance;\n}\n/**\n * Returns the distance travelling from ‘this’ point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} origin point.\n * @param   {Array<number>} destination point.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {number} Distance in km between this point and destination point (same units as radius).\n *\n * @example\n *     var p1 = new LatLon(51.127, 1.338);\n *     var p2 = new LatLon(50.964, 1.853);\n *     var d = p1.distanceTo(p2); // 40.31 km\n */\nfunction calculateRhumbDistance(origin, destination, radius) {\n    // φ => phi\n    // λ => lambda\n    // ψ => psi\n    // Δ => Delta\n    // δ => delta\n    // θ => theta\n    radius = radius === undefined ? earthRadius : Number(radius);\n    // see www.edwilliams.org/avform.htm#Rhumb\n    var R = radius;\n    var phi1 = (origin[1] * Math.PI) / 180;\n    var phi2 = (destination[1] * Math.PI) / 180;\n    var DeltaPhi = phi2 - phi1;\n    var DeltaLambda = (Math.abs(destination[0] - origin[0]) * Math.PI) / 180;\n    // if dLon over 180° take shorter rhumb line across the anti-meridian:\n    if (DeltaLambda > Math.PI) {\n        DeltaLambda -= 2 * Math.PI;\n    }\n    // on Mercator projection, longitude distances shrink by latitude; q is the 'stretch factor'\n    // q becomes ill-conditioned along E-W line (0/0); use empirical tolerance to avoid it\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n    // distance is pythagoras on 'stretched' Mercator projection\n    var delta = Math.sqrt(DeltaPhi * DeltaPhi + q * q * DeltaLambda * DeltaLambda); // angular distance in radians\n    var dist = delta * R;\n    return dist;\n}\nexport default rhumbDistance;\n","export {WebMercatorViewport as default} from '@math.gl/web-mercator';\nexport * from '@math.gl/web-mercator';\n","import { point, lineString as toLineString } from '@turf/helpers';\nimport {\n  recursivelyTraverseNestedArrays,\n  nearestPointOnProjectedLine,\n  nearestPointOnLine,\n  getEditHandlesForGeometry,\n  getPickedEditHandles,\n  getPickedEditHandle,\n  getPickedExistingEditHandle,\n  getPickedIntermediateEditHandle,\n  updateRectanglePosition,\n  NearestPointType,\n} from '../utils';\nimport { LineString, Point, Polygon, FeatureCollection, FeatureOf } from '../geojson-types';\nimport {\n  ModeProps,\n  ClickEvent,\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  Viewport,\n  GuideFeatureCollection,\n  EditHandleFeature,\n} from '../types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class ModifyMode extends GeoJsonEditMode {\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const handles = [];\n\n    const { data, lastPointerMoveEvent } = props;\n    const { features } = data;\n    const picks = lastPointerMoveEvent && lastPointerMoveEvent.picks;\n    const mapCoords = lastPointerMoveEvent && lastPointerMoveEvent.mapCoords;\n\n    for (const index of props.selectedIndexes) {\n      if (index < features.length) {\n        const { geometry } = features[index];\n        handles.push(...getEditHandlesForGeometry(geometry, index));\n      } else {\n        console.warn(`selectedFeatureIndexes out of range ${index}`); // eslint-disable-line no-console,no-undef\n      }\n    }\n\n    // intermediate edit handle\n    if (picks && picks.length && mapCoords) {\n      const existingEditHandle = getPickedExistingEditHandle(picks);\n      // don't show intermediate point when too close to an existing edit handle\n      const featureAsPick = !existingEditHandle && picks.find((pick) => !pick.isGuide);\n\n      // is the feature in the pick selected\n      if (\n        featureAsPick &&\n        !featureAsPick.object.geometry.type.includes('Point') &&\n        !(\n          props.modeConfig?.lockRectangles && featureAsPick.object.properties.shape === 'Rectangle'\n        ) &&\n        props.selectedIndexes.includes(featureAsPick.index)\n      ) {\n        let intermediatePoint: NearestPointType | null | undefined = null;\n        let positionIndexPrefix = [];\n        const referencePoint = point(mapCoords);\n        // process all lines of the (single) feature\n        recursivelyTraverseNestedArrays(\n          featureAsPick.object.geometry.coordinates,\n          [],\n          (lineString, prefix) => {\n            const lineStringFeature = toLineString(lineString);\n            const candidateIntermediatePoint = this.getNearestPoint(\n              // @ts-ignore\n              lineStringFeature,\n              referencePoint,\n              props.modeConfig && props.modeConfig.viewport\n            );\n            if (\n              !intermediatePoint ||\n              candidateIntermediatePoint.properties.dist < intermediatePoint.properties.dist\n            ) {\n              intermediatePoint = candidateIntermediatePoint;\n              positionIndexPrefix = prefix;\n            }\n          }\n        );\n        // tack on the lone intermediate point to the set of handles\n        if (intermediatePoint) {\n          const {\n            geometry: { coordinates: position },\n            properties: { index },\n          } = intermediatePoint;\n          handles.push({\n            type: 'Feature',\n            properties: {\n              guideType: 'editHandle',\n              editHandleType: 'intermediate',\n              featureIndex: featureAsPick.index,\n              positionIndexes: [...positionIndexPrefix, index + 1],\n            },\n            geometry: {\n              type: 'Point',\n              coordinates: position,\n            },\n          });\n        }\n      }\n    }\n\n    return {\n      type: 'FeatureCollection',\n      features: handles,\n    };\n  }\n\n  // turf.js does not support elevation for nearestPointOnLine\n  getNearestPoint(\n    line: FeatureOf<LineString>,\n    inPoint: FeatureOf<Point>,\n    viewport: Viewport | null | undefined\n  ): NearestPointType {\n    const { coordinates } = line.geometry;\n    if (coordinates.some((coord) => coord.length > 2)) {\n      if (viewport) {\n        // This line has elevation, we need to use alternative algorithm\n        return nearestPointOnProjectedLine(line, inPoint, viewport);\n      }\n      // eslint-disable-next-line no-console,no-undef\n      console.log(\n        'Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.'\n      );\n    }\n    return nearestPointOnLine(line, inPoint, viewport);\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const pickedExistingHandle = getPickedExistingEditHandle(event.picks);\n    const pickedIntermediateHandle = getPickedIntermediateEditHandle(event.picks);\n\n    if (pickedExistingHandle) {\n      const { featureIndex, positionIndexes } = pickedExistingHandle.properties;\n\n      let updatedData;\n      try {\n        updatedData = new ImmutableFeatureCollection(props.data)\n          .removePosition(featureIndex, positionIndexes)\n          .getObject();\n      } catch (ignored) {\n        // This happens if user attempts to remove the last point\n      }\n\n      if (updatedData) {\n        props.onEdit({\n          updatedData,\n          editType: 'removePosition',\n          editContext: {\n            featureIndexes: [featureIndex],\n            positionIndexes,\n            position: pickedExistingHandle.geometry.coordinates,\n          },\n        });\n      }\n    } else if (pickedIntermediateHandle) {\n      const { featureIndex, positionIndexes } = pickedIntermediateHandle.properties;\n\n      const feature = props.data.features[featureIndex];\n      const canAddPosition = !(\n        props.modeConfig?.lockRectangles && feature?.properties.shape === 'Rectangle'\n      );\n\n      if (canAddPosition) {\n        const updatedData = new ImmutableFeatureCollection(props.data)\n          .addPosition(featureIndex, positionIndexes, pickedIntermediateHandle.geometry.coordinates)\n          .getObject();\n\n        if (updatedData) {\n          props.onEdit({\n            updatedData,\n            editType: 'addPosition',\n            editContext: {\n              featureIndexes: [featureIndex],\n              positionIndexes,\n              position: pickedIntermediateHandle.geometry.coordinates,\n            },\n          });\n        }\n      }\n    }\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>): void {\n    const editHandle = getPickedEditHandle(event.pointerDownPicks);\n\n    if (editHandle) {\n      // Cancel map panning if pointer went down on an edit handle\n      event.cancelPan();\n\n      this._dragEditHandle('movePosition', props, editHandle, event);\n    }\n  }\n\n  _dragEditHandle(\n    editType: string,\n    props: ModeProps<FeatureCollection>,\n    editHandle: EditHandleFeature,\n    event: StopDraggingEvent | DraggingEvent\n  ) {\n    const editHandleProperties = editHandle.properties;\n    const editedFeature = props.data.features[editHandleProperties.featureIndex];\n\n    let updatedData;\n    if (props.modeConfig?.lockRectangles && editedFeature.properties.shape === 'Rectangle') {\n      const coordinates = updateRectanglePosition(\n        editedFeature as FeatureOf<Polygon>,\n        editHandleProperties.positionIndexes[1],\n        event.mapCoords\n      );\n\n      updatedData = new ImmutableFeatureCollection(props.data)\n        .replaceGeometry(editHandleProperties.featureIndex, { coordinates, type: 'Polygon' })\n        .getObject();\n    } else {\n      updatedData = new ImmutableFeatureCollection(props.data)\n        .replacePosition(\n          editHandleProperties.featureIndex,\n          editHandleProperties.positionIndexes,\n          event.mapCoords\n        )\n        .getObject();\n    }\n\n    props.onEdit({\n      updatedData,\n      editType,\n      editContext: {\n        featureIndexes: [editHandleProperties.featureIndex],\n        positionIndexes: editHandleProperties.positionIndexes,\n        position: event.mapCoords,\n      },\n    });\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>): void {\n    const cursor = this.getCursor(event);\n    props.onUpdateCursor(cursor);\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    const selectedFeatureIndexes = props.selectedIndexes;\n\n    const editHandle = getPickedIntermediateEditHandle(event.picks);\n    if (selectedFeatureIndexes.length && editHandle) {\n      const editHandleProperties = editHandle.properties;\n\n      const updatedData = new ImmutableFeatureCollection(props.data)\n        .addPosition(\n          editHandleProperties.featureIndex,\n          editHandleProperties.positionIndexes,\n          event.mapCoords\n        )\n        .getObject();\n\n      props.onEdit({\n        updatedData,\n        editType: 'addPosition',\n        editContext: {\n          featureIndexes: [editHandleProperties.featureIndex],\n          positionIndexes: editHandleProperties.positionIndexes,\n          position: event.mapCoords,\n        },\n      });\n    }\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    const selectedFeatureIndexes = props.selectedIndexes;\n    const editHandle = getPickedEditHandle(event.picks);\n    if (selectedFeatureIndexes.length && editHandle) {\n      this._dragEditHandle('finishMovePosition', props, editHandle, event);\n    }\n  }\n\n  getCursor(event: PointerMoveEvent): string | null | undefined {\n    const picks = (event && event.picks) || [];\n\n    const handlesPicked = getPickedEditHandles(picks);\n    if (handlesPicked.length) {\n      return 'cell';\n    }\n    return null;\n  }\n}\n","import destination from \"@turf/destination\";\nimport { polygon, } from \"@turf/helpers\";\n/**\n * Takes a {@link Point} and calculates the circle polygon given a radius in degrees, radians, miles, or kilometers; and steps for precision.\n *\n * @name circle\n * @param {Feature<Point>|number[]} center center point\n * @param {number} radius radius of the circle\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} circle polygon\n * @example\n * var center = [-75.343, 39.984];\n * var radius = 5;\n * var options = {steps: 10, units: 'kilometers', properties: {foo: 'bar'}};\n * var circle = turf.circle(center, radius, options);\n *\n * //addToMap\n * var addToMap = [turf.point(center), circle]\n */\nfunction circle(center, radius, options) {\n    if (options === void 0) { options = {}; }\n    // default params\n    var steps = options.steps || 64;\n    var properties = options.properties\n        ? options.properties\n        : !Array.isArray(center) && center.type === \"Feature\" && center.properties\n            ? center.properties\n            : {};\n    // main\n    var coordinates = [];\n    for (var i = 0; i < steps; i++) {\n        coordinates.push(destination(center, radius, (i * -360) / steps, options).geometry\n            .coordinates);\n    }\n    coordinates.push(coordinates[0]);\n    return polygon([coordinates], properties);\n}\nexport default circle;\n","import turfBearing from '@turf/bearing';\nimport turfDistance from '@turf/distance';\nimport turfTransformTranslate from '@turf/transform-translate';\nimport { point } from '@turf/helpers';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport { FeatureCollection, Position } from '../geojson-types';\nimport {\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  ModeProps,\n} from '../types';\nimport { mapCoords } from '../utils';\nimport { GeoJsonEditMode, GeoJsonEditAction } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class TranslateMode extends GeoJsonEditMode {\n  _geometryBeforeTranslate: FeatureCollection | null | undefined;\n  _isTranslatable: boolean;\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (!this._isTranslatable) {\n      // Nothing to do\n      return;\n    }\n\n    if (this._geometryBeforeTranslate) {\n      // Translate the geometry\n      const editAction = this.getTranslateAction(\n        event.pointerDownMapCoords,\n        event.mapCoords,\n        'translating',\n        props\n      );\n\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    }\n\n    // cancel map panning\n    event.cancelPan();\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    this._isTranslatable = this.isSelectionPicked(event.pointerDownPicks || event.picks, props);\n\n    this.updateCursor(props);\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (!this._isTranslatable) {\n      return;\n    }\n\n    this._geometryBeforeTranslate = this.getSelectedFeaturesAsFeatureCollection(props);\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._geometryBeforeTranslate) {\n      // Translate the geometry\n      const editAction = this.getTranslateAction(\n        event.pointerDownMapCoords,\n        event.mapCoords,\n        'translated',\n        props\n      );\n\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n\n      this._geometryBeforeTranslate = null;\n    }\n  }\n\n  updateCursor(props: ModeProps<FeatureCollection>) {\n    if (this._isTranslatable) {\n      props.onUpdateCursor('move');\n    } else {\n      props.onUpdateCursor(null);\n    }\n  }\n\n  getTranslateAction(\n    startDragPoint: Position,\n    currentPoint: Position,\n    editType: string,\n    props: ModeProps<FeatureCollection>\n  ): GeoJsonEditAction | null | undefined {\n    if (!this._geometryBeforeTranslate) {\n      return null;\n    }\n\n    let updatedData = new ImmutableFeatureCollection(props.data);\n    const selectedIndexes = props.selectedIndexes;\n\n    const { viewport: viewportDesc, screenSpace } = props.modeConfig || {};\n\n    if (viewportDesc && screenSpace) {\n      const viewport = viewportDesc.project ? viewportDesc : new WebMercatorViewport(viewportDesc);\n\n      const from = viewport.project(startDragPoint);\n      const to = viewport.project(currentPoint);\n      const dx = to[0] - from[0];\n      const dy = to[1] - from[1];\n\n      for (let i = 0; i < selectedIndexes.length; i++) {\n        const selectedIndex = selectedIndexes[i];\n        const feature = this._geometryBeforeTranslate.features[i];\n\n        let coordinates = feature.geometry.coordinates;\n        if (coordinates) {\n          coordinates = mapCoords(coordinates, (coord) => {\n            const pixels = viewport.project(coord);\n            if (pixels) {\n              pixels[0] += dx;\n              pixels[1] += dy;\n              return viewport.unproject(pixels);\n            }\n            return null;\n          });\n\n          // @ts-ignore\n          updatedData = updatedData.replaceGeometry(selectedIndex, {\n            type: feature.geometry.type,\n            coordinates,\n          });\n        }\n      }\n    } else {\n      const p1 = point(startDragPoint);\n      const p2 = point(currentPoint);\n\n      const distanceMoved = turfDistance(p1, p2);\n      const direction = turfBearing(p1, p2);\n\n      const movedFeatures = turfTransformTranslate(\n        // @ts-ignore\n        this._geometryBeforeTranslate,\n        distanceMoved,\n        direction\n      );\n\n      for (let i = 0; i < selectedIndexes.length; i++) {\n        const selectedIndex = selectedIndexes[i];\n        const movedFeature = movedFeatures.features[i];\n        updatedData = updatedData.replaceGeometry(selectedIndex, movedFeature.geometry);\n      }\n    }\n\n    return {\n      updatedData: updatedData.getObject(),\n      editType,\n      editContext: {\n        featureIndexes: selectedIndexes,\n      },\n    };\n  }\n}\n","import lineIntersect from '@turf/line-intersect';\nimport { lineString as turfLineString } from '@turf/helpers';\nimport {\n  ClickEvent,\n  PointerMoveEvent,\n  ModeProps,\n  GuideFeatureCollection,\n  TentativeFeature,\n} from '../types';\nimport { Polygon, FeatureCollection } from '../geojson-types';\nimport { getPickedEditHandle } from '../utils';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class DrawPolygonMode extends GeoJsonEditMode {\n  createTentativeFeature(props: ModeProps<FeatureCollection>): TentativeFeature {\n    const { lastPointerMoveEvent } = props;\n    const clickSequence = this.getClickSequence();\n\n    const lastCoords = lastPointerMoveEvent ? [lastPointerMoveEvent.mapCoords] : [];\n\n    let tentativeFeature;\n    if (clickSequence.length === 1 || clickSequence.length === 2) {\n      tentativeFeature = {\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'LineString',\n          coordinates: [...clickSequence, ...lastCoords],\n        },\n      };\n    } else if (clickSequence.length > 2) {\n      tentativeFeature = {\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'Polygon',\n          coordinates: [[...clickSequence, ...lastCoords, clickSequence[0]]],\n        },\n      };\n    }\n\n    return tentativeFeature;\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const clickSequence = this.getClickSequence();\n\n    const guides = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    const tentativeFeature = this.createTentativeFeature(props);\n    if (tentativeFeature) {\n      guides.features.push(tentativeFeature);\n    }\n\n    const editHandles = clickSequence.map((clickedCoord, index) => ({\n      type: 'Feature',\n      properties: {\n        guideType: 'editHandle',\n        editHandleType: 'existing',\n        featureIndex: -1,\n        positionIndexes: [index],\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: clickedCoord,\n      },\n    }));\n\n    guides.features.push(...editHandles);\n    // @ts-ignore\n    return guides;\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const { picks } = event;\n    const clickedEditHandle = getPickedEditHandle(picks);\n    const clickSequence = this.getClickSequence();\n\n    let overlappingLines = false;\n    if (clickSequence.length > 2 && props.modeConfig && props.modeConfig.preventOverlappingLines) {\n      const currentLine = turfLineString([\n        clickSequence[clickSequence.length - 1],\n        event.mapCoords,\n      ]);\n      const otherLines = turfLineString([...clickSequence.slice(0, clickSequence.length - 1)]);\n      const intersectingPoints = lineIntersect(currentLine, otherLines);\n      if (intersectingPoints.features.length > 0) {\n        overlappingLines = true;\n      }\n    }\n\n    let positionAdded = false;\n    if (!clickedEditHandle && !overlappingLines) {\n      // Don't add another point right next to an existing one\n      this.addClickSequence(event);\n      positionAdded = true;\n    }\n\n    if (\n      clickSequence.length > 2 &&\n      clickedEditHandle &&\n      Array.isArray(clickedEditHandle.properties.positionIndexes) &&\n      (clickedEditHandle.properties.positionIndexes[0] === 0 ||\n        clickedEditHandle.properties.positionIndexes[0] === clickSequence.length - 1)\n    ) {\n      // They clicked the first or last point (or double-clicked), so complete the polygon\n\n      // Remove the hovered position\n      const polygonToAdd: Polygon = {\n        type: 'Polygon',\n        coordinates: [[...clickSequence, clickSequence[0]]],\n      };\n\n      this.resetClickSequence();\n\n      const editAction = this.getAddFeatureOrBooleanPolygonAction(polygonToAdd, props);\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    } else if (positionAdded) {\n      // new tentative point\n      props.onEdit({\n        // data is the same\n        updatedData: props.data,\n        editType: 'addTentativePosition',\n        editContext: {\n          position: event.mapCoords,\n        },\n      });\n    }\n  }\n\n  handleKeyUp(event: KeyboardEvent, props: ModeProps<FeatureCollection>) {\n    if (event.key === 'Enter') {\n      const clickSequence = this.getClickSequence();\n      if (clickSequence.length > 2) {\n        const polygonToAdd: Polygon = {\n          type: 'Polygon',\n          coordinates: [[...clickSequence, clickSequence[0]]],\n        };\n        this.resetClickSequence();\n\n        const editAction = this.getAddFeatureOrBooleanPolygonAction(polygonToAdd, props);\n        if (editAction) {\n          props.onEdit(editAction);\n        }\n      }\n    }\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n    super.handlePointerMove(event, props);\n  }\n}\n","/* eslint-env browser */\n\nimport { RGBAColor } from '@deck.gl/core';\nimport { GeoJsonLayer, ScatterplotLayer, IconLayer, TextLayer } from '@deck.gl/layers';\n\nimport {\n  ViewMode,\n  ModifyMode,\n  TranslateMode,\n  ScaleMode,\n  RotateMode,\n  DuplicateMode,\n  SplitPolygonMode,\n  ExtrudeMode,\n  ElevationMode,\n  DrawPointMode,\n  DrawLineStringMode,\n  DrawPolygonMode,\n  DrawRectangleMode,\n  DrawSquareMode,\n  DrawRectangleFromCenterMode,\n  DrawSquareFromCenterMode,\n  DrawCircleFromCenterMode,\n  DrawCircleByDiameterMode,\n  DrawEllipseByBoundingBoxMode,\n  DrawRectangleUsingThreePointsMode,\n  DrawEllipseUsingThreePointsMode,\n  Draw90DegreePolygonMode,\n  DrawPolygonByDraggingMode,\n  SnappableMode,\n  TransformMode,\n  EditAction,\n  ClickEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  PointerMoveEvent,\n  GeoJsonEditModeType,\n  FeatureCollection,\n} from '@nebula.gl/edit-modes';\n\nimport { PROJECTED_PIXEL_SIZE_MULTIPLIER } from '../constants';\n\nimport EditableLayer, { EditableLayerProps } from './editable-layer';\nimport EditablePathLayer from './editable-path-layer';\n\nconst DEFAULT_LINE_COLOR: RGBAColor = [0x0, 0x0, 0x0, 0x99];\nconst DEFAULT_FILL_COLOR: RGBAColor = [0x0, 0x0, 0x0, 0x90];\nconst DEFAULT_SELECTED_LINE_COLOR: RGBAColor = [0x0, 0x0, 0x0, 0xff];\nconst DEFAULT_SELECTED_FILL_COLOR: RGBAColor = [0x0, 0x0, 0x90, 0x90];\nconst DEFAULT_TENTATIVE_LINE_COLOR: RGBAColor = [0x90, 0x90, 0x90, 0xff];\nconst DEFAULT_TENTATIVE_FILL_COLOR: RGBAColor = [0x90, 0x90, 0x90, 0x90];\nconst DEFAULT_EDITING_EXISTING_POINT_COLOR: RGBAColor = [0xc0, 0x0, 0x0, 0xff];\nconst DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR: RGBAColor = [0x0, 0x0, 0x0, 0x80];\nconst DEFAULT_EDITING_SNAP_POINT_COLOR: RGBAColor = [0x7c, 0x00, 0xc0, 0xff];\nconst DEFAULT_EDITING_POINT_OUTLINE_COLOR: RGBAColor = [0xff, 0xff, 0xff, 0xff];\nconst DEFAULT_EDITING_EXISTING_POINT_RADIUS = 5;\nconst DEFAULT_EDITING_INTERMEDIATE_POINT_RADIUS = 3;\nconst DEFAULT_EDITING_SNAP_POINT_RADIUS = 7;\nconst DEFAULT_TOOLTIP_FONT_SIZE = 32 * PROJECTED_PIXEL_SIZE_MULTIPLIER;\n\nconst DEFAULT_EDIT_MODE = DrawPolygonMode;\n\nfunction guideAccessor(accessor) {\n  if (!accessor || typeof accessor !== 'function') {\n    return accessor;\n  }\n  return (guideMaybeWrapped) => accessor(unwrapGuide(guideMaybeWrapped));\n}\n\n// The object handed to us from deck.gl is different depending on the version of deck.gl used, unwrap as necessary\nfunction unwrapGuide(guideMaybeWrapped) {\n  if (guideMaybeWrapped.__source) {\n    return guideMaybeWrapped.__source.object;\n  } else if (guideMaybeWrapped.sourceFeature) {\n    return guideMaybeWrapped.sourceFeature.feature;\n  }\n  // It is not wrapped, return as is\n  return guideMaybeWrapped;\n}\n\nfunction getEditHandleColor(handle) {\n  switch (handle.properties.editHandleType) {\n    case 'existing':\n      return DEFAULT_EDITING_EXISTING_POINT_COLOR;\n    case 'snap-source':\n      return DEFAULT_EDITING_SNAP_POINT_COLOR;\n    case 'intermediate':\n    default:\n      return DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR;\n  }\n}\n\nfunction getEditHandleOutlineColor(handle) {\n  return DEFAULT_EDITING_POINT_OUTLINE_COLOR;\n}\n\nfunction getEditHandleRadius(handle) {\n  switch (handle.properties.editHandleType) {\n    case 'existing':\n      return DEFAULT_EDITING_EXISTING_POINT_RADIUS;\n    case 'snap':\n      return DEFAULT_EDITING_SNAP_POINT_RADIUS;\n    case 'intermediate':\n    default:\n      return DEFAULT_EDITING_INTERMEDIATE_POINT_RADIUS;\n  }\n}\n\nexport interface EditableGeojsonLayerProps<D> extends EditableLayerProps<D> {\n  mode?: any;\n  modeConfig?: any;\n  selectedFeatureIndexes?: number[];\n  onEdit?: (updatedData?, editType?: string, featureIndexes?: number[], editContext?) => void;\n\n  pickable?: boolean;\n  pickingRadius?: number;\n  pickingDepth?: number;\n  fp64?: boolean;\n  filled?: boolean;\n  stroked?: boolean;\n  lineWidthScale?: number;\n  lineWidthMinPixels?: number;\n  lineWidthMaxPixels?: number;\n  pickingLineWidthExtraPixels?: number;\n  lineWidthUnits?: string;\n  lineJointRounded?: boolean;\n  lineCapRounded?: boolean;\n  lineMiterLimit?: number;\n  pointRadiusScale?: number;\n  pointRadiusMinPixels?: number;\n  pointRadiusMaxPixels?: number;\n\n  getLineColor?: RGBAColor | ((feature, isSelected, mode) => RGBAColor);\n  getFillColor?: RGBAColor | ((feature, isSelected, mode) => RGBAColor);\n  getRadius?: number | ((f) => number);\n  getLineWidth?: number | ((f) => number);\n\n  getTentativeLineColor?: RGBAColor | ((feature, isSelected, mode) => RGBAColor);\n  getTentativeFillColor?: RGBAColor | ((feature, isSelected, mode) => RGBAColor);\n  getTentativeLineWidth?: number | ((f) => number);\n\n  editHandleType?: string;\n\n  editHandlePointRadiusScale?: number;\n  editHandlePointOutline?: boolean;\n  editHandlePointStrokeWidth?: number;\n  editHandlePointRadiusUnits?: string;\n  editHandlePointRadiusMinPixels?: number;\n  editHandlePointRadiusMaxPixels?: number;\n  getEditHandlePointColor?: RGBAColor | ((handle) => RGBAColor);\n  getEditHandlePointOutlineColor?: RGBAColor | ((handle) => RGBAColor);\n  getEditHandlePointRadius?: number | ((handle) => number);\n\n  // icon handles\n  editHandleIconAtlas?: any;\n  editHandleIconMapping?: any;\n  editHandleIconSizeScale?: number;\n  editHandleIconSizeUnits?: string;\n  getEditHandleIcon?: (handle) => string;\n  getEditHandleIconSize?: number;\n  getEditHandleIconColor?: RGBAColor | ((handle) => RGBAColor);\n  getEditHandleIconAngle?: number | ((handle) => number);\n\n  // misc\n  billboard?: boolean;\n}\n\nconst defaultProps: EditableGeojsonLayerProps<any> = {\n  mode: DEFAULT_EDIT_MODE,\n\n  // Edit and interaction events\n  onEdit: () => {},\n\n  pickable: true,\n  pickingRadius: 10,\n  pickingDepth: 5,\n  fp64: false,\n  filled: true,\n  stroked: true,\n  lineWidthScale: PROJECTED_PIXEL_SIZE_MULTIPLIER,\n  lineWidthMinPixels: 1,\n  lineWidthMaxPixels: Number.MAX_SAFE_INTEGER,\n  pickingLineWidthExtraPixels: 0,\n  lineWidthUnits: 'pixels',\n  lineJointRounded: false,\n  lineCapRounded: false,\n  lineMiterLimit: 4,\n  pointRadiusScale: 1,\n  pointRadiusMinPixels: 2,\n  pointRadiusMaxPixels: Number.MAX_SAFE_INTEGER,\n  getLineColor: (feature, isSelected, mode) =>\n    isSelected ? DEFAULT_SELECTED_LINE_COLOR : DEFAULT_LINE_COLOR,\n  getFillColor: (feature, isSelected, mode) =>\n    isSelected ? DEFAULT_SELECTED_FILL_COLOR : DEFAULT_FILL_COLOR,\n  getRadius: (f) =>\n    (f && f.properties && f.properties.radius) || (f && f.properties && f.properties.size) || 1,\n  getLineWidth: (f) => (f && f.properties && f.properties.lineWidth) || 3,\n\n  // Tentative feature rendering\n  getTentativeLineColor: (f) => DEFAULT_TENTATIVE_LINE_COLOR,\n  getTentativeFillColor: (f) => DEFAULT_TENTATIVE_FILL_COLOR,\n  getTentativeLineWidth: (f) => (f && f.properties && f.properties.lineWidth) || 3,\n\n  editHandleType: 'point',\n\n  // point handles\n  editHandlePointRadiusScale: 1,\n  editHandlePointOutline: true,\n  editHandlePointStrokeWidth: 2,\n  editHandlePointRadiusUnits: 'pixels',\n  editHandlePointRadiusMinPixels: 4,\n  editHandlePointRadiusMaxPixels: 8,\n  getEditHandlePointColor: getEditHandleColor,\n  getEditHandlePointOutlineColor: getEditHandleOutlineColor,\n  getEditHandlePointRadius: getEditHandleRadius,\n\n  // icon handles\n  editHandleIconAtlas: null,\n  editHandleIconMapping: null,\n  editHandleIconSizeScale: 1,\n  editHandleIconSizeUnits: 'pixels',\n  getEditHandleIcon: (handle) => handle.properties.editHandleType,\n  getEditHandleIconSize: 10,\n  getEditHandleIconColor: getEditHandleColor,\n  getEditHandleIconAngle: 0,\n\n  // misc\n  billboard: true,\n};\n\n// Mapping of mode name to mode class (for legacy purposes)\nconst modeNameMapping = {\n  view: ViewMode,\n\n  // Alter modes\n  modify: ModifyMode,\n  translate: new SnappableMode(new TranslateMode()),\n\n  transform: new SnappableMode(new TransformMode()),\n  scale: ScaleMode,\n  rotate: RotateMode,\n  duplicate: DuplicateMode,\n  split: SplitPolygonMode,\n  extrude: ExtrudeMode,\n  elevation: ElevationMode,\n\n  // Draw modes\n  drawPoint: DrawPointMode,\n  drawLineString: DrawLineStringMode,\n  drawPolygon: DrawPolygonMode,\n  drawRectangle: DrawRectangleMode,\n  drawSquare: DrawSquareMode,\n  drawRectangleFromCenter: DrawRectangleFromCenterMode,\n  drawSquareFromCenter: DrawSquareFromCenterMode,\n  drawCircleFromCenter: DrawCircleFromCenterMode,\n  drawCircleByBoundingBox: DrawCircleByDiameterMode,\n  drawEllipseByBoundingBox: DrawEllipseByBoundingBoxMode,\n  drawRectangleUsing3Points: DrawRectangleUsingThreePointsMode,\n  drawEllipseUsing3Points: DrawEllipseUsingThreePointsMode,\n  draw90DegreePolygon: Draw90DegreePolygonMode,\n  drawPolygonByDragging: DrawPolygonByDraggingMode,\n};\n\n// type State = {\n//   mode: GeoJsonEditMode,\n//   tentativeFeature: ?Feature,\n//   editHandles: any[],\n//   selectedFeatures: Feature[]\n// };\n\nexport default class EditableGeoJsonLayer extends EditableLayer<\n  any,\n  EditableGeojsonLayerProps<any>\n> {\n  static layerName = 'EditableGeoJsonLayer';\n  static defaultProps = defaultProps;\n\n  // setState: ($Shape<State>) => void;\n  renderLayers() {\n    const subLayerProps = this.getSubLayerProps({\n      id: 'geojson',\n\n      // Proxy most GeoJsonLayer props as-is\n      data: this.props.data,\n      fp64: this.props.fp64,\n      filled: this.props.filled,\n      stroked: this.props.stroked,\n      lineWidthScale: this.props.lineWidthScale,\n      lineWidthMinPixels: this.props.lineWidthMinPixels,\n      lineWidthMaxPixels: this.props.lineWidthMaxPixels,\n      lineWidthUnits: this.props.lineWidthUnits,\n      lineJointRounded: this.props.lineJointRounded,\n      lineCapRounded: this.props.lineCapRounded,\n      lineMiterLimit: this.props.lineMiterLimit,\n      pointRadiusScale: this.props.pointRadiusScale,\n      pointRadiusMinPixels: this.props.pointRadiusMinPixels,\n      pointRadiusMaxPixels: this.props.pointRadiusMaxPixels,\n      getLineColor: this.selectionAwareAccessor(this.props.getLineColor),\n      getFillColor: this.selectionAwareAccessor(this.props.getFillColor),\n      getPointRadius: this.selectionAwareAccessor(this.props.getRadius),\n      getLineWidth: this.selectionAwareAccessor(this.props.getLineWidth),\n\n      _subLayerProps: {\n        linestrings: {\n          billboard: this.props.billboard,\n          updateTriggers: {\n            // required to update dashed array attribute\n            all: [this.props.selectedFeatureIndexes, this.props.mode],\n          },\n        },\n        'polygons-stroke': {\n          billboard: this.props.billboard,\n          pickingLineWidthExtraPixels: this.props.pickingLineWidthExtraPixels,\n          type: EditablePathLayer,\n          updateTriggers: {\n            // required to update dashed array attribute\n            all: [this.props.selectedFeatureIndexes, this.props.mode],\n          },\n        },\n      },\n\n      updateTriggers: {\n        getLineColor: [this.props.selectedFeatureIndexes, this.props.mode],\n        getFillColor: [this.props.selectedFeatureIndexes, this.props.mode],\n        getPointRadius: [this.props.selectedFeatureIndexes, this.props.mode],\n        getLineWidth: [this.props.selectedFeatureIndexes, this.props.mode],\n      },\n    });\n\n    let layers: any = [new GeoJsonLayer(subLayerProps)];\n\n    layers = layers.concat(this.createGuidesLayers(), this.createTooltipsLayers());\n\n    return layers;\n  }\n\n  initializeState() {\n    super.initializeState();\n\n    this.setState({\n      selectedFeatures: [],\n      editHandles: [],\n    });\n  }\n\n  // TODO: is this the best way to properly update state from an outside event handler?\n  shouldUpdateState(opts: any) {\n    // console.log(\n    //   'shouldUpdateState',\n    //   opts.changeFlags.propsOrDataChanged,\n    //   opts.changeFlags.stateChanged\n    // );\n    return super.shouldUpdateState(opts) || opts.changeFlags.stateChanged;\n  }\n\n  updateState({\n    props,\n    oldProps,\n    changeFlags,\n    context,\n  }: {\n    props: EditableGeojsonLayerProps<any>;\n    oldProps: EditableGeojsonLayerProps<any>;\n    changeFlags: any;\n    context: any;\n    s;\n  }) {\n    super.updateState({ oldProps, props, changeFlags, context });\n\n    if (changeFlags.propsOrDataChanged) {\n      const modePropChanged = Object.keys(oldProps).length === 0 || props.mode !== oldProps.mode;\n      if (modePropChanged) {\n        let mode;\n        if (typeof props.mode === 'function') {\n          // They passed a constructor/class, so new it up\n          const ModeConstructor = props.mode;\n          mode = new ModeConstructor();\n        } else if (typeof props.mode === 'string') {\n          // Lookup the mode based on its name (for backwards compatibility)\n          mode = modeNameMapping[props.mode];\n          // eslint-disable-next-line no-console\n          console.warn(\n            \"Deprecated use of passing `mode` as a string. Pass the mode's class constructor instead.\"\n          );\n        } else {\n          // Should be an instance of EditMode in this case\n          mode = props.mode;\n        }\n\n        if (!mode) {\n          console.warn(`No mode configured for ${String(props.mode)}`); // eslint-disable-line no-console,no-undef\n          // Use default mode\n          mode = new DEFAULT_EDIT_MODE();\n        }\n\n        if (mode !== this.state.mode) {\n          this.setState({ mode, cursor: null });\n        }\n      }\n    }\n\n    let selectedFeatures = [];\n    if (Array.isArray(props.selectedFeatureIndexes)) {\n      // TODO: needs improved testing, i.e. checking for duplicates, NaNs, out of range numbers, ...\n      selectedFeatures = props.selectedFeatureIndexes.map((elem) => props.data.features[elem]);\n    }\n\n    this.setState({ selectedFeatures });\n  }\n\n  getModeProps(props: EditableGeojsonLayerProps<any>) {\n    return {\n      modeConfig: props.modeConfig,\n      data: props.data,\n      selectedIndexes: props.selectedFeatureIndexes,\n      lastPointerMoveEvent: this.state.lastPointerMoveEvent,\n      cursor: this.state.cursor,\n      onEdit: (editAction: EditAction<FeatureCollection>) => {\n        // Force a re-render\n        // This supports double-click where we need to ensure that there's a re-render between the two clicks\n        // even though the data wasn't changed, just the internal tentative feature.\n        this.setNeedsUpdate();\n        props.onEdit(editAction);\n      },\n      onUpdateCursor: (cursor: string | null | undefined) => {\n        this.setState({ cursor });\n      },\n    };\n  }\n\n  selectionAwareAccessor(accessor: any) {\n    if (typeof accessor !== 'function') {\n      return accessor;\n    }\n    return (feature: Record<string, any>) =>\n      accessor(feature, this.isFeatureSelected(feature), this.props.mode);\n  }\n\n  isFeatureSelected(feature: Record<string, any>) {\n    if (!this.props.data || !this.props.selectedFeatureIndexes) {\n      return false;\n    }\n    if (!this.props.selectedFeatureIndexes.length) {\n      return false;\n    }\n    const featureIndex = this.props.data.features.indexOf(feature);\n    return this.props.selectedFeatureIndexes.includes(featureIndex);\n  }\n\n  getPickingInfo({ info, sourceLayer }: Record<string, any>) {\n    if (sourceLayer.id.endsWith('guides')) {\n      // If user is picking an editing handle, add additional data to the info\n      info.isGuide = true;\n    }\n\n    return info;\n  }\n\n  _updateAutoHighlight(info) {\n    // Extra handling for guides\n    if (info?.sourceLayer) {\n      if (info.isGuide) {\n        for (const layer of info.sourceLayer.getSubLayers()) {\n          layer.updateAutoHighlight(info);\n        }\n      } else {\n        info.sourceLayer.updateAutoHighlight(info);\n      }\n    }\n  }\n\n  createGuidesLayers() {\n    const mode = this.getActiveMode();\n    const guides: FeatureCollection = mode.getGuides(this.getModeProps(this.props));\n\n    if (!guides || !guides.features.length) {\n      return [];\n    }\n\n    const subLayerProps = {\n      linestrings: {\n        billboard: this.props.billboard,\n        autoHighlight: false,\n      },\n      'polygons-fill': {\n        autoHighlight: false,\n      },\n      'polygons-stroke': {\n        billboard: this.props.billboard,\n      },\n    };\n\n    if (this.props.editHandleType === 'icon') {\n      subLayerProps['points-icon'] = {\n        type: IconLayer,\n        iconAtlas: this.props.editHandleIconAtlas,\n        iconMapping: this.props.editHandleIconMapping,\n        sizeUnits: this.props.editHandleIconSizeUnits,\n        sizeScale: this.props.editHandleIconSizeScale,\n        getIcon: guideAccessor(this.props.getEditHandleIcon),\n        getSize: guideAccessor(this.props.getEditHandleIconSize),\n        getColor: guideAccessor(this.props.getEditHandleIconColor),\n        getAngle: guideAccessor(this.props.getEditHandleIconAngle),\n      };\n    } else {\n      subLayerProps['points-circle'] = {\n        type: ScatterplotLayer,\n        radiusScale: this.props.editHandlePointRadiusScale,\n        stroked: this.props.editHandlePointOutline,\n        getLineWidth: this.props.editHandlePointStrokeWidth,\n        radiusUnits: this.props.editHandlePointRadiusUnits,\n        radiusMinPixels: this.props.editHandlePointRadiusMinPixels,\n        radiusMaxPixels: this.props.editHandlePointRadiusMaxPixels,\n        getRadius: guideAccessor(this.props.getEditHandlePointRadius),\n        getFillColor: guideAccessor(this.props.getEditHandlePointColor),\n        getLineColor: guideAccessor(this.props.getEditHandlePointOutlineColor),\n      };\n    }\n\n    const layer = new GeoJsonLayer(\n      this.getSubLayerProps({\n        id: `guides`,\n        data: guides,\n        fp64: this.props.fp64,\n        _subLayerProps: subLayerProps,\n        lineWidthScale: this.props.lineWidthScale,\n        lineWidthMinPixels: this.props.lineWidthMinPixels,\n        lineWidthMaxPixels: this.props.lineWidthMaxPixels,\n        lineWidthUnits: this.props.lineWidthUnits,\n        lineJointRounded: this.props.lineJointRounded,\n        lineCapRounded: this.props.lineCapRounded,\n        lineMiterLimit: this.props.lineMiterLimit,\n        getLineColor: guideAccessor(this.props.getTentativeLineColor),\n        getLineWidth: guideAccessor(this.props.getTentativeLineWidth),\n        getFillColor: guideAccessor(this.props.getTentativeFillColor),\n        pointType: this.props.editHandleType === 'icon' ? 'icon' : 'circle',\n        iconAtlas: this.props.editHandleIconAtlas,\n      })\n    );\n\n    return [layer];\n  }\n\n  createTooltipsLayers() {\n    const mode = this.getActiveMode();\n    const tooltips = mode.getTooltips(this.getModeProps(this.props));\n\n    const layer = new TextLayer({\n      getSize: DEFAULT_TOOLTIP_FONT_SIZE,\n      ...this.getSubLayerProps({\n        id: `tooltips`,\n        data: tooltips,\n      }),\n    });\n\n    return [layer];\n  }\n\n  onLayerClick(event: ClickEvent) {\n    this.getActiveMode().handleClick(event, this.getModeProps(this.props));\n  }\n\n  onLayerKeyUp(event: KeyboardEvent) {\n    this.getActiveMode().handleKeyUp(event, this.getModeProps(this.props));\n  }\n\n  onStartDragging(event: StartDraggingEvent) {\n    this.getActiveMode().handleStartDragging(event, this.getModeProps(this.props));\n  }\n\n  onDragging(event: DraggingEvent) {\n    this.getActiveMode().handleDragging(event, this.getModeProps(this.props));\n  }\n\n  onStopDragging(event: StopDraggingEvent) {\n    this.getActiveMode().handleStopDragging(event, this.getModeProps(this.props));\n  }\n\n  onPointerMove(event: PointerMoveEvent) {\n    this.setState({ lastPointerMoveEvent: event });\n    this.getActiveMode().handlePointerMove(event, this.getModeProps(this.props));\n  }\n\n  getCursor({ isDragging }: { isDragging: boolean }) {\n    if (this.state === null || this.state === undefined) {\n      // Layer in 'Awaiting state'\n      return null;\n    }\n\n    let { cursor } = this.state;\n    if (!cursor) {\n      // default cursor\n      cursor = isDragging ? 'grabbing' : 'grab';\n    }\n    return cursor;\n  }\n\n  getActiveMode(): GeoJsonEditModeType {\n    return this.state.mode;\n  }\n}\n","///////////////////////////////////////////////////\n// Common.\n///////////////////////////////////////////////////\n\n// Injected at compile time, from $npm_package_version.\ndeclare const PACKAGE_VERSION: string;\n\nexport const KTX_WRITER = `KTX-Parse v${PACKAGE_VERSION}`;\n\nexport const NUL = new Uint8Array([0x00]);\n\n\n///////////////////////////////////////////////////\n// KTX2 Header.\n///////////////////////////////////////////////////\n\nexport const KTX2_ID = [\n\t// '´', 'K', 'T', 'X', '2', '0', 'ª', '\\r', '\\n', '\\x1A', '\\n'\n\t0xAB, 0x4B, 0x54, 0x58, 0x20, 0x32, 0x30, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A\n];\n\nexport const HEADER_BYTE_LENGTH = 68; // 13 * 4 + 2 * 8\n\nexport enum KTX2SupercompressionScheme {\n\tNONE = 0,\n\tBASISLZ = 1,\n\tZSTD = 2,\n\tZLIB = 3,\n};\n\n\n///////////////////////////////////////////////////\n// Data Format Descriptor (DFD).\n///////////////////////////////////////////////////\n\nexport enum KTX2DataFormatType {\n    BASICFORMAT = 0x00,\n};\n\nexport const KHR_DF_VENDORID_KHRONOS = 0;\n\nexport const KHR_DF_VERSION = 2;\n\nexport const KHR_DF_BLOCKSIZE = 40;\n\nexport const VK_FORMAT_UNDEFINED = 0;\n\nexport enum KTX2DataFormatModel {\n    UNSPECIFIED = 0,\n\tETC1S = 163,\n\tUASTC = 166,\n};\n\nexport enum KTX2DataFormatPrimaries {\n    UNSPECIFIED = 0,\n    SRGB = 1,\n};\n\nexport enum KTX2DataFormatTransfer {\n    UNSPECIFIED = 0,\n    LINEAR = 1,\n    SRGB = 2,\n    ITU = 3,\n    NTSC = 4,\n    SLOG = 5,\n    SLOG2 = 6,\n};\n\nexport enum KTX2DataFormatFlags {\n    ALPHA_STRAIGHT = 0,\n    ALPHA_PREMULTIPLIED = 1,\n};\n\nexport enum KTX2DataFormatChannelETC1S {\n    RGB = 0,\n    RRR = 3,\n    GGG = 4,\n    AAA = 15,\n};\n\nexport enum KTX2DataFormatChannelUASTC {\n    RGB = 0,\n    RGBA = 3,\n    RRR = 4,\n    RRRG = 5,\n};\n","// Taken from http://geomalgorithms.com/a02-_lines.html\nimport getDistance from \"@turf/distance\";\nimport { convertLength, feature, lineString, point, } from \"@turf/helpers\";\nimport { featureOf } from \"@turf/invariant\";\nimport { segmentEach } from \"@turf/meta\";\nimport getPlanarDistance from \"@turf/rhumb-distance\";\n/**\n * Returns the minimum distance between a {@link Point} and a {@link LineString}, being the distance from a line the\n * minimum distance between the point and any segment of the `LineString`.\n *\n * @name pointToLineDistance\n * @param {Feature<Point>|Array<number>} pt Feature or Geometry\n * @param {Feature<LineString>} line GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be anything supported by turf/convertLength\n * (ex: degrees, radians, miles, or kilometers)\n * @param {string} [options.method=\"geodesic\"] wether to calculate the distance based on geodesic (spheroid) or\n * planar (flat) method. Valid options are 'geodesic' or 'planar'.\n * @returns {number} distance between point and line\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[1, 1],[-1, 1]]);\n *\n * var distance = turf.pointToLineDistance(pt, line, {units: 'miles'});\n * //=69.11854715938406\n */\nfunction pointToLineDistance(pt, line, options) {\n    if (options === void 0) { options = {}; }\n    // Optional parameters\n    if (!options.method) {\n        options.method = \"geodesic\";\n    }\n    if (!options.units) {\n        options.units = \"kilometers\";\n    }\n    // validation\n    if (!pt) {\n        throw new Error(\"pt is required\");\n    }\n    if (Array.isArray(pt)) {\n        pt = point(pt);\n    }\n    else if (pt.type === \"Point\") {\n        pt = feature(pt);\n    }\n    else {\n        featureOf(pt, \"Point\", \"point\");\n    }\n    if (!line) {\n        throw new Error(\"line is required\");\n    }\n    if (Array.isArray(line)) {\n        line = lineString(line);\n    }\n    else if (line.type === \"LineString\") {\n        line = feature(line);\n    }\n    else {\n        featureOf(line, \"LineString\", \"line\");\n    }\n    var distance = Infinity;\n    var p = pt.geometry.coordinates;\n    segmentEach(line, function (segment) {\n        var a = segment.geometry.coordinates[0];\n        var b = segment.geometry.coordinates[1];\n        var d = distanceToSegment(p, a, b, options);\n        if (d < distance) {\n            distance = d;\n        }\n    });\n    return convertLength(distance, \"degrees\", options.units);\n}\n/**\n * Returns the distance between a point P on a segment AB.\n *\n * @private\n * @param {Array<number>} p external point\n * @param {Array<number>} a first segment point\n * @param {Array<number>} b second segment point\n * @param {Object} [options={}] Optional parameters\n * @returns {number} distance\n */\nfunction distanceToSegment(p, a, b, options) {\n    var v = [b[0] - a[0], b[1] - a[1]];\n    var w = [p[0] - a[0], p[1] - a[1]];\n    var c1 = dot(w, v);\n    if (c1 <= 0) {\n        return calcDistance(p, a, { method: options.method, units: \"degrees\" });\n    }\n    var c2 = dot(v, v);\n    if (c2 <= c1) {\n        return calcDistance(p, b, { method: options.method, units: \"degrees\" });\n    }\n    var b2 = c1 / c2;\n    var Pb = [a[0] + b2 * v[0], a[1] + b2 * v[1]];\n    return calcDistance(p, Pb, { method: options.method, units: \"degrees\" });\n}\nfunction dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n}\nfunction calcDistance(a, b, options) {\n    return options.method === \"planar\"\n        ? getPlanarDistance(a, b, options)\n        : getDistance(a, b, options);\n}\nexport default pointToLineDistance;\n","import bearing from \"@turf/bearing\";\nimport distance from \"@turf/distance\";\nimport destination from \"@turf/destination\";\nimport lineIntersects from \"@turf/line-intersect\";\nimport { flattenEach } from \"@turf/meta\";\nimport { point, lineString, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\n/**\n * Takes a {@link Point} and a {@link LineString} and calculates the closest Point on the (Multi)LineString.\n *\n * @name nearestPointOnLine\n * @param {Geometry|Feature<LineString|MultiLineString>} lines lines to snap to\n * @param {Geometry|Feature<Point>|number[]} pt point to snap from\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} closest point on the `line` to `point`. The properties object will contain three values: `index`: closest point was found on nth line part, `dist`: distance between pt and the closest point, `location`: distance along the line between start and the closest point.\n * @example\n * var line = turf.lineString([\n *     [-77.031669, 38.878605],\n *     [-77.029609, 38.881946],\n *     [-77.020339, 38.884084],\n *     [-77.025661, 38.885821],\n *     [-77.021884, 38.889563],\n *     [-77.019824, 38.892368]\n * ]);\n * var pt = turf.point([-77.037076, 38.884017]);\n *\n * var snapped = turf.nearestPointOnLine(line, pt, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line, pt, snapped];\n * snapped.properties['marker-color'] = '#00f';\n */\nfunction nearestPointOnLine(lines, pt, options) {\n    if (options === void 0) { options = {}; }\n    var closestPt = point([Infinity, Infinity], {\n        dist: Infinity,\n    });\n    var length = 0.0;\n    flattenEach(lines, function (line) {\n        var coords = getCoords(line);\n        for (var i = 0; i < coords.length - 1; i++) {\n            //start\n            var start = point(coords[i]);\n            start.properties.dist = distance(pt, start, options);\n            //stop\n            var stop_1 = point(coords[i + 1]);\n            stop_1.properties.dist = distance(pt, stop_1, options);\n            // sectionLength\n            var sectionLength = distance(start, stop_1, options);\n            //perpendicular\n            var heightDistance = Math.max(start.properties.dist, stop_1.properties.dist);\n            var direction = bearing(start, stop_1);\n            var perpendicularPt1 = destination(pt, heightDistance, direction + 90, options);\n            var perpendicularPt2 = destination(pt, heightDistance, direction - 90, options);\n            var intersect = lineIntersects(lineString([\n                perpendicularPt1.geometry.coordinates,\n                perpendicularPt2.geometry.coordinates,\n            ]), lineString([start.geometry.coordinates, stop_1.geometry.coordinates]));\n            var intersectPt = null;\n            if (intersect.features.length > 0) {\n                intersectPt = intersect.features[0];\n                intersectPt.properties.dist = distance(pt, intersectPt, options);\n                intersectPt.properties.location =\n                    length + distance(start, intersectPt, options);\n            }\n            if (start.properties.dist < closestPt.properties.dist) {\n                closestPt = start;\n                closestPt.properties.index = i;\n                closestPt.properties.location = length;\n            }\n            if (stop_1.properties.dist < closestPt.properties.dist) {\n                closestPt = stop_1;\n                closestPt.properties.index = i + 1;\n                closestPt.properties.location = length + sectionLength;\n            }\n            if (intersectPt &&\n                intersectPt.properties.dist < closestPt.properties.dist) {\n                closestPt = intersectPt;\n                closestPt.properties.index = i;\n            }\n            // update length\n            length += sectionLength;\n        }\n    });\n    return closestPt;\n}\nexport default nearestPointOnLine;\n","/* eslint-disable prettier/prettier */\nimport bbox from '@turf/bbox';\nimport turfCentroid from '@turf/centroid';\nimport turfBearing from '@turf/bearing';\nimport bboxPolygon from '@turf/bbox-polygon';\nimport { point, featureCollection } from '@turf/helpers';\nimport polygonToLine from '@turf/polygon-to-line';\nimport { coordEach } from '@turf/meta';\nimport turfDistance from '@turf/distance';\nimport turfTransformScale from '@turf/transform-scale';\nimport { getCoord, getGeom } from '@turf/invariant';\nimport { FeatureCollection, Position } from '../geojson-types';\nimport {\n  ModeProps,\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  EditHandleFeature,\n  GuideFeatureCollection,\n} from '../types';\nimport { getPickedEditHandle } from '../utils';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class ScaleMode extends GeoJsonEditMode {\n  _geometryBeingScaled: FeatureCollection | null | undefined;\n  _selectedEditHandle: EditHandleFeature | null | undefined;\n  _cornerGuidePoints: Array<EditHandleFeature>;\n  _cursor: string | null | undefined;\n  _isScaling = false;\n\n  _isSinglePointGeometrySelected = (geometry: FeatureCollection | null | undefined): boolean => {\n    const { features } = geometry || {};\n    if (Array.isArray(features) && features.length === 1) {\n      // @ts-ignore\n      const { type } = getGeom(features[0]);\n      return type === 'Point';\n    }\n    return false;\n  };\n\n  _getOppositeScaleHandle = (selectedHandle: EditHandleFeature) => {\n    const selectedHandleIndex =\n      selectedHandle &&\n      selectedHandle.properties &&\n      Array.isArray(selectedHandle.properties.positionIndexes) &&\n      selectedHandle.properties.positionIndexes[0];\n\n    if (typeof selectedHandleIndex !== 'number') {\n      return null;\n    }\n    const guidePointCount = this._cornerGuidePoints.length;\n    const oppositeIndex = (selectedHandleIndex + guidePointCount / 2) % guidePointCount;\n    return this._cornerGuidePoints.find((p) => {\n      if (!Array.isArray(p.properties.positionIndexes)) {\n        return false;\n      }\n      return p.properties.positionIndexes[0] === oppositeIndex;\n    });\n  };\n\n  _getUpdatedData = (props: ModeProps<FeatureCollection>, editedData: FeatureCollection) => {\n    let updatedData = new ImmutableFeatureCollection(props.data);\n    const selectedIndexes = props.selectedIndexes;\n    for (let i = 0; i < selectedIndexes.length; i++) {\n      const selectedIndex = selectedIndexes[i];\n      const movedFeature = editedData.features[i];\n      updatedData = updatedData.replaceGeometry(selectedIndex, movedFeature.geometry);\n    }\n    return updatedData.getObject();\n  };\n\n  isEditHandleSelected = (): boolean => Boolean(this._selectedEditHandle);\n\n  getScaleAction = (\n    startDragPoint: Position,\n    currentPoint: Position,\n    editType: string,\n    props: ModeProps<FeatureCollection>\n  ) => {\n    if (!this._selectedEditHandle) {\n      return null;\n    }\n\n    const oppositeHandle = this._getOppositeScaleHandle(this._selectedEditHandle);\n    const origin = getCoord(oppositeHandle);\n    // @ts-ignore\n    const scaleFactor = getScaleFactor(origin, startDragPoint, currentPoint);\n    // @ts-ignore\n    const scaledFeatures: FeatureCollection = turfTransformScale(\n      // @ts-ignore\n      this._geometryBeingScaled,\n      scaleFactor,\n      { origin }\n    );\n\n    return {\n      updatedData: this._getUpdatedData(props, scaledFeatures),\n      editType,\n      editContext: {\n        featureIndexes: props.selectedIndexes,\n      },\n    };\n  };\n\n  updateCursor = (props: ModeProps<FeatureCollection>) => {\n    if (this._selectedEditHandle) {\n      if (this._cursor) {\n        props.onUpdateCursor(this._cursor);\n      }\n      const cursorGeometry = this.getSelectedFeaturesAsFeatureCollection(props);\n\n      // Get resize cursor direction from the hovered scale editHandle (e.g. nesw or nwse)\n      const centroid = turfCentroid(cursorGeometry);\n      const bearing = turfBearing(centroid, this._selectedEditHandle);\n      const positiveBearing = bearing < 0 ? bearing + 180 : bearing;\n      if (\n        (positiveBearing >= 0 && positiveBearing <= 90) ||\n        (positiveBearing >= 180 && positiveBearing <= 270)\n      ) {\n        this._cursor = 'nesw-resize';\n        props.onUpdateCursor('nesw-resize');\n      } else {\n        this._cursor = 'nwse-resize';\n        props.onUpdateCursor('nwse-resize');\n      }\n    } else {\n      props.onUpdateCursor(null);\n      this._cursor = null;\n    }\n  };\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    if (!this._isScaling) {\n      const selectedEditHandle = getPickedEditHandle(event.picks);\n      this._selectedEditHandle =\n        selectedEditHandle && selectedEditHandle.properties.editHandleType === 'scale'\n          ? selectedEditHandle\n          : null;\n\n      this.updateCursor(props);\n    }\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._selectedEditHandle) {\n      this._isScaling = true;\n      this._geometryBeingScaled = this.getSelectedFeaturesAsFeatureCollection(props);\n    }\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (!this._isScaling) {\n      return;\n    }\n\n    props.onUpdateCursor(this._cursor);\n\n    const scaleAction = this.getScaleAction(\n      event.pointerDownMapCoords,\n      event.mapCoords,\n      'scaling',\n      props\n    );\n    if (scaleAction) {\n      props.onEdit(scaleAction);\n    }\n\n    event.cancelPan();\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._isScaling) {\n      // Scale the geometry\n      const scaleAction = this.getScaleAction(\n        event.pointerDownMapCoords,\n        event.mapCoords,\n        'scaled',\n        props\n      );\n      if (scaleAction) {\n        props.onEdit(scaleAction);\n      }\n\n      props.onUpdateCursor(null);\n\n      this._geometryBeingScaled = null;\n      this._selectedEditHandle = null;\n      this._cursor = null;\n      this._isScaling = false;\n    }\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    this._cornerGuidePoints = [];\n    const selectedGeometry = this.getSelectedFeaturesAsFeatureCollection(props);\n\n    // Add buffer to the enveloping box if a single Point feature is selected\n    if (this._isSinglePointGeometrySelected(selectedGeometry)) {\n      return { type: 'FeatureCollection', features: [] };\n    }\n\n    const boundingBox = bboxPolygon(bbox(selectedGeometry));\n    boundingBox.properties.mode = 'scale';\n    const cornerGuidePoints = [];\n\n    coordEach(boundingBox, (coord, coordIndex) => {\n      if (coordIndex < 4) {\n        // Get corner midpoint guides from the enveloping box\n        const cornerPoint = point(coord, {\n          guideType: 'editHandle',\n          editHandleType: 'scale',\n          positionIndexes: [coordIndex],\n        });\n        cornerGuidePoints.push(cornerPoint);\n      }\n    });\n\n    this._cornerGuidePoints = cornerGuidePoints;\n    // @ts-ignore\n    return featureCollection([polygonToLine(boundingBox), ...this._cornerGuidePoints]);\n  }\n}\n\nfunction getScaleFactor(centroid: Position, startDragPoint: Position, currentPoint: Position) {\n  const startDistance = turfDistance(centroid, startDragPoint);\n  const endDistance = turfDistance(centroid, currentPoint);\n  return endDistance / startDistance;\n}\n","// https://en.wikipedia.org/wiki/Rhumb_line\nimport { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Takes two {@link Point|points} and finds the bearing angle between them along a Rhumb line\n * i.e. the angle measured in degrees start the north line (0 degrees)\n *\n * @name rhumbBearing\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @param {Object} [options] Optional parameters\n * @param {boolean} [options.final=false] calculates the final bearing if true\n * @returns {number} bearing from north in decimal degrees, between -180 and 180 degrees (positive clockwise)\n * @example\n * var point1 = turf.point([-75.343, 39.984], {\"marker-color\": \"#F00\"});\n * var point2 = turf.point([-75.534, 39.123], {\"marker-color\": \"#00F\"});\n *\n * var bearing = turf.rhumbBearing(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2];\n * point1.properties.bearing = bearing;\n * point2.properties.bearing = bearing;\n */\nfunction rhumbBearing(start, end, options) {\n    if (options === void 0) { options = {}; }\n    var bear360;\n    if (options.final) {\n        bear360 = calculateRhumbBearing(getCoord(end), getCoord(start));\n    }\n    else {\n        bear360 = calculateRhumbBearing(getCoord(start), getCoord(end));\n    }\n    var bear180 = bear360 > 180 ? -(360 - bear360) : bear360;\n    return bear180;\n}\n/**\n * Returns the bearing from ‘this’ point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} from - origin point.\n * @param   {Array<number>} to - destination point.\n * @returns {number} Bearing in degrees from north.\n * @example\n * var p1 = new LatLon(51.127, 1.338);\n * var p2 = new LatLon(50.964, 1.853);\n * var d = p1.rhumbBearingTo(p2); // 116.7 m\n */\nfunction calculateRhumbBearing(from, to) {\n    // φ => phi\n    // Δλ => deltaLambda\n    // Δψ => deltaPsi\n    // θ => theta\n    var phi1 = degreesToRadians(from[1]);\n    var phi2 = degreesToRadians(to[1]);\n    var deltaLambda = degreesToRadians(to[0] - from[0]);\n    // if deltaLambdaon over 180° take shorter rhumb line across the anti-meridian:\n    if (deltaLambda > Math.PI) {\n        deltaLambda -= 2 * Math.PI;\n    }\n    if (deltaLambda < -Math.PI) {\n        deltaLambda += 2 * Math.PI;\n    }\n    var deltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var theta = Math.atan2(deltaLambda, deltaPsi);\n    return (radiansToDegrees(theta) + 360) % 360;\n}\nexport default rhumbBearing;\n","/* eslint-disable prettier/prettier */\nimport bbox from '@turf/bbox';\nimport turfCentroid from '@turf/centroid';\nimport turfBearing from '@turf/bearing';\nimport bboxPolygon from '@turf/bbox-polygon';\nimport turfDistance from '@turf/distance';\nimport { coordEach } from '@turf/meta';\nimport { getGeom } from '@turf/invariant';\nimport { point, featureCollection, lineString } from '@turf/helpers';\nimport turfTransformRotate from '@turf/transform-rotate';\nimport polygonToLine from '@turf/polygon-to-line';\nimport {\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  ModeProps,\n  EditHandleFeature,\n  GuideFeatureCollection,\n} from '../types';\nimport { getPickedEditHandle } from '../utils';\nimport { FeatureCollection, Position } from '../geojson-types';\nimport { GeoJsonEditMode, GeoJsonEditAction, getIntermediatePosition } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class RotateMode extends GeoJsonEditMode {\n  _selectedEditHandle: EditHandleFeature | null | undefined;\n  _geometryBeingRotated: FeatureCollection | null | undefined;\n  _isRotating = false;\n\n  _isSinglePointGeometrySelected = (geometry: FeatureCollection | null | undefined): boolean => {\n    const { features } = geometry || {};\n    if (Array.isArray(features) && features.length === 1) {\n      // @ts-ignore\n      const { type } = getGeom(features[0]);\n      return type === 'Point';\n    }\n    return false;\n  };\n\n  getIsRotating = () => this._isRotating;\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const selectedGeometry =\n      this._geometryBeingRotated || this.getSelectedFeaturesAsFeatureCollection(props);\n\n    if (this._isSinglePointGeometrySelected(selectedGeometry)) {\n      return { type: 'FeatureCollection', features: [] };\n    }\n\n    if (this._isRotating) {\n      // Display rotate pivot\n      return featureCollection([turfCentroid(selectedGeometry)]) as GuideFeatureCollection;\n    }\n\n    const boundingBox = bboxPolygon(bbox(selectedGeometry));\n\n    let previousCoord = null;\n    let topEdgeMidpointCoords = null;\n    let longestEdgeLength = 0;\n\n    coordEach(boundingBox, (coord) => {\n      if (previousCoord) {\n        // @ts-ignore\n        const edgeMidpoint = getIntermediatePosition(coord, previousCoord);\n        if (!topEdgeMidpointCoords || edgeMidpoint[1] > topEdgeMidpointCoords[1]) {\n          // Get the top edge midpoint of the enveloping box\n          topEdgeMidpointCoords = edgeMidpoint;\n        }\n        // Get the length of the longest edge of the enveloping box\n        const edgeDistance = turfDistance(coord, previousCoord);\n        longestEdgeLength = Math.max(longestEdgeLength, edgeDistance);\n      }\n      previousCoord = coord;\n    });\n\n    // Scale the length of the line between the rotate handler and the enveloping box\n    // relative to the length of the longest edge of the enveloping box\n    const rotateHandleCoords = topEdgeMidpointCoords && [\n      topEdgeMidpointCoords[0],\n      topEdgeMidpointCoords[1] + longestEdgeLength / 1000,\n    ];\n\n    const lineFromEnvelopeToRotateHandle = lineString([topEdgeMidpointCoords, rotateHandleCoords]);\n    const rotateHandle = point(rotateHandleCoords, {\n      guideType: 'editHandle',\n      editHandleType: 'rotate',\n    });\n    // @ts-ignore\n    return featureCollection([\n      // @ts-ignore\n      polygonToLine(boundingBox),\n      // @ts-ignore\n      rotateHandle,\n      // @ts-ignore\n      lineFromEnvelopeToRotateHandle,\n    ]);\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (!this._isRotating) {\n      return;\n    }\n\n    const rotateAction = this.getRotateAction(\n      event.pointerDownMapCoords,\n      event.mapCoords,\n      'rotating',\n      props\n    );\n    if (rotateAction) {\n      props.onEdit(rotateAction);\n    }\n\n    event.cancelPan();\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    if (!this._isRotating) {\n      const selectedEditHandle = getPickedEditHandle(event.picks);\n      this._selectedEditHandle =\n        selectedEditHandle && selectedEditHandle.properties.editHandleType === 'rotate'\n          ? selectedEditHandle\n          : null;\n    }\n\n    this.updateCursor(props);\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._selectedEditHandle) {\n      this._isRotating = true;\n      this._geometryBeingRotated = this.getSelectedFeaturesAsFeatureCollection(props);\n    }\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._isRotating) {\n      // Rotate the geometry\n      const rotateAction = this.getRotateAction(\n        event.pointerDownMapCoords,\n        event.mapCoords,\n        'rotated',\n        props\n      );\n\n      if (rotateAction) {\n        props.onEdit(rotateAction);\n      }\n\n      this._geometryBeingRotated = null;\n      this._selectedEditHandle = null;\n      this._isRotating = false;\n    }\n  }\n\n  updateCursor(props: ModeProps<FeatureCollection>) {\n    if (this._selectedEditHandle) {\n      // TODO: look at doing SVG cursors to get a better \"rotate\" cursor\n      props.onUpdateCursor('crosshair');\n    } else {\n      props.onUpdateCursor(null);\n    }\n  }\n\n  getRotateAction(\n    startDragPoint: Position,\n    currentPoint: Position,\n    editType: string,\n    props: ModeProps<FeatureCollection>\n  ): GeoJsonEditAction | null | undefined {\n    if (!this._geometryBeingRotated) {\n      return null;\n    }\n\n    const centroid = turfCentroid(this._geometryBeingRotated);\n    const angle = getRotationAngle(centroid, startDragPoint, currentPoint);\n    // @ts-ignore\n    const rotatedFeatures: FeatureCollection = turfTransformRotate(\n      // @ts-ignore\n      this._geometryBeingRotated,\n      angle,\n      {\n        pivot: centroid,\n      }\n    );\n\n    let updatedData = new ImmutableFeatureCollection(props.data);\n\n    const selectedIndexes = props.selectedIndexes;\n    for (let i = 0; i < selectedIndexes.length; i++) {\n      const selectedIndex = selectedIndexes[i];\n      const movedFeature = rotatedFeatures.features[i];\n      updatedData = updatedData.replaceGeometry(selectedIndex, movedFeature.geometry);\n    }\n\n    return {\n      updatedData: updatedData.getObject(),\n      editType,\n      editContext: {\n        featureIndexes: selectedIndexes,\n      },\n    };\n  }\n}\n\nfunction getRotationAngle(centroid: Position, startDragPoint: Position, currentPoint: Position) {\n  const bearing1 = turfBearing(centroid, startDragPoint);\n  const bearing2 = turfBearing(centroid, currentPoint);\n  return bearing2 - bearing1;\n}\n","import centroid from '@turf/centroid';\nimport rhumbBearing from '@turf/rhumb-bearing';\nimport rhumbDistance from '@turf/rhumb-distance';\nimport rhumbDestination from '@turf/rhumb-destination';\nimport clone from '@turf/clone';\nimport { coordEach } from '@turf/meta';\nimport { getCoords } from '@turf/invariant';\nimport { isObject } from '@turf/helpers';\n\n/**\n * Rotates any geojson Feature or Geometry of a specified angle, around its `centroid` or a given `pivot` point.\n *\n * @name transformRotate\n * @param {GeoJSON} geojson object to be rotated\n * @param {number} angle of rotation in decimal degrees, positive clockwise\n * @param {Object} [options={}] Optional parameters\n * @param {Coord} [options.pivot='centroid'] point around which the rotation will be performed\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} the rotated GeoJSON feature\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var options = {pivot: [0, 25]};\n * var rotatedPoly = turf.transformRotate(poly, 10, options);\n *\n * //addToMap\n * var addToMap = [poly, rotatedPoly];\n * rotatedPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformRotate(geojson, angle, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var pivot = options.pivot;\n  var mutate = options.mutate;\n\n  // Input validation\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (angle === undefined || angle === null || isNaN(angle))\n    throw new Error(\"angle is required\");\n\n  // Shortcut no-rotation\n  if (angle === 0) return geojson;\n\n  // Use centroid of GeoJSON if pivot is not provided\n  if (!pivot) pivot = centroid(geojson);\n\n  // Clone geojson to avoid side effects\n  if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n  // Rotate each coordinate\n  coordEach(geojson, function (pointCoords) {\n    var initialAngle = rhumbBearing(pivot, pointCoords);\n    var finalAngle = initialAngle + angle;\n    var distance = rhumbDistance(pivot, pointCoords);\n    var newCoords = getCoords(rhumbDestination(pivot, distance, finalAngle));\n    pointCoords[0] = newCoords[0];\n    pointCoords[1] = newCoords[1];\n  });\n  return geojson;\n}\n\nexport default transformRotate;\n","import { FeatureCollection } from '../geojson-types';\nimport {\n  ModeProps,\n  ClickEvent,\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  GuideFeatureCollection,\n} from '../types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class CompositeMode extends GeoJsonEditMode {\n  _modes: Array<GeoJsonEditMode>;\n\n  constructor(modes: Array<GeoJsonEditMode>) {\n    super();\n    this._modes = modes;\n  }\n\n  _coalesce<T>(\n    callback: (arg0: GeoJsonEditMode) => T,\n    resultEval: (arg0: T) => boolean | null | undefined = null\n  ): T {\n    let result: T;\n\n    for (let i = 0; i < this._modes.length; i++) {\n      result = callback(this._modes[i]);\n      if (resultEval ? resultEval(result) : result) {\n        break;\n      }\n    }\n\n    return result as any;\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>): void {\n    this._coalesce((handler) => handler.handleClick(event, props));\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>): void {\n    return this._coalesce((handler) => handler.handlePointerMove(event, props));\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>): void {\n    return this._coalesce((handler) => handler.handleStartDragging(event, props));\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>): void {\n    return this._coalesce((handler) => handler.handleStopDragging(event, props));\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>): void {\n    return this._coalesce((handler) => handler.handleDragging(event, props));\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    // TODO: Combine the guides *BUT* make sure if none of the results have\n    // changed to return the same object so that \"guides !== this.state.guides\"\n    // in editable-geojson-layer works.\n\n    const allGuides = [];\n    for (const mode of this._modes) {\n      allGuides.push(...mode.getGuides(props).features);\n    }\n\n    return {\n      type: 'FeatureCollection',\n      features: allGuides,\n    };\n  }\n}\n","import bearing from \"@turf/bearing\";\nimport destination from \"@turf/destination\";\nimport measureDistance from \"@turf/distance\";\nimport { point } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\n/**\n * Takes a {@link LineString} and returns a {@link Point} at a specified distance along the line.\n *\n * @name along\n * @param {Feature<LineString>} line input line\n * @param {number} distance distance along the line\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} Point `distance` `units` along the line\n * @example\n * var line = turf.lineString([[-83, 30], [-84, 36], [-78, 41]]);\n * var options = {units: 'miles'};\n *\n * var along = turf.along(line, 200, options);\n *\n * //addToMap\n * var addToMap = [along, line]\n */\nexport default function along(line, distance, options) {\n    if (options === void 0) { options = {}; }\n    // Get Coords\n    var geom = getGeom(line);\n    var coords = geom.coordinates;\n    var travelled = 0;\n    for (var i = 0; i < coords.length; i++) {\n        if (distance >= travelled && i === coords.length - 1) {\n            break;\n        }\n        else if (travelled >= distance) {\n            var overshot = distance - travelled;\n            if (!overshot) {\n                return point(coords[i]);\n            }\n            else {\n                var direction = bearing(coords[i], coords[i - 1]) - 180;\n                var interpolated = destination(coords[i], overshot, direction, options);\n                return interpolated;\n            }\n        }\n        else {\n            travelled += measureDistance(coords[i], coords[i + 1], options);\n        }\n    }\n    return point(coords[coords.length - 1]);\n}\n","import { isObject, isNumber, degreesToRadians, polygon } from '@turf/helpers';\nimport rhumbDestination from '@turf/rhumb-destination';\nimport transformRotate from '@turf/transform-rotate';\nimport { getCoord } from '@turf/invariant';\n\n/**\n * Takes a {@link Point} and calculates the ellipse polygon given two semi-axes expressed in variable units and steps for precision.\n *\n * @param {Coord} center center point\n * @param {number} xSemiAxis semi (major) axis of the ellipse along the x-axis\n * @param {number} ySemiAxis semi (minor) axis of the ellipse along the y-axis\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.angle=0] angle of rotation in decimal degrees, positive clockwise\n * @param {Coord} [options.pivot='origin'] point around which the rotation will be performed\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] unit of measurement for axes\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} ellipse polygon\n * @example\n * var center = [-75, 40];\n * var xSemiAxis = 5;\n * var ySemiAxis = 2;\n * var ellipse = turf.ellipse(center, xSemiAxis, ySemiAxis);\n *\n * //addToMap\n * var addToMap = [turf.point(center), ellipse]\n */\nfunction ellipse(center, xSemiAxis, ySemiAxis, options) {\n  // Optional params\n  options = options || {};\n  var steps = options.steps || 64;\n  var units = options.units || \"kilometers\";\n  var angle = options.angle || 0;\n  var pivot = options.pivot || center;\n  var properties = options.properties || center.properties || {};\n\n  // validation\n  if (!center) throw new Error(\"center is required\");\n  if (!xSemiAxis) throw new Error(\"xSemiAxis is required\");\n  if (!ySemiAxis) throw new Error(\"ySemiAxis is required\");\n  if (!isObject(options)) throw new Error(\"options must be an object\");\n  if (!isNumber(steps)) throw new Error(\"steps must be a number\");\n  if (!isNumber(angle)) throw new Error(\"angle must be a number\");\n\n  var centerCoords = getCoord(center);\n  if (units === \"degrees\") {\n    var angleRad = degreesToRadians(angle);\n  } else {\n    xSemiAxis = rhumbDestination(center, xSemiAxis, 90, { units: units });\n    ySemiAxis = rhumbDestination(center, ySemiAxis, 0, { units: units });\n    xSemiAxis = getCoord(xSemiAxis)[0] - centerCoords[0];\n    ySemiAxis = getCoord(ySemiAxis)[1] - centerCoords[1];\n  }\n\n  var coordinates = [];\n  for (var i = 0; i < steps; i += 1) {\n    var stepAngle = (i * -360) / steps;\n    var x =\n      (xSemiAxis * ySemiAxis) /\n      Math.sqrt(\n        Math.pow(ySemiAxis, 2) +\n          Math.pow(xSemiAxis, 2) * Math.pow(getTanDeg(stepAngle), 2)\n      );\n    var y =\n      (xSemiAxis * ySemiAxis) /\n      Math.sqrt(\n        Math.pow(xSemiAxis, 2) +\n          Math.pow(ySemiAxis, 2) / Math.pow(getTanDeg(stepAngle), 2)\n      );\n\n    if (stepAngle < -90 && stepAngle >= -270) x = -x;\n    if (stepAngle < -180 && stepAngle >= -360) y = -y;\n    if (units === \"degrees\") {\n      var newx = x * Math.cos(angleRad) + y * Math.sin(angleRad);\n      var newy = y * Math.cos(angleRad) - x * Math.sin(angleRad);\n      x = newx;\n      y = newy;\n    }\n\n    coordinates.push([x + centerCoords[0], y + centerCoords[1]]);\n  }\n  coordinates.push(coordinates[0]);\n  if (units === \"degrees\") {\n    return polygon([coordinates], properties);\n  } else {\n    return transformRotate(polygon([coordinates], properties), angle, {\n      pivot: pivot,\n    });\n  }\n}\n\n/**\n * Get Tan Degrees\n *\n * @private\n * @param {number} deg Degrees\n * @returns {number} Tan Degrees\n */\nfunction getTanDeg(deg) {\n  var rad = (deg * Math.PI) / 180;\n  return Math.tan(rad);\n}\n\nexport default ellipse;\n","import {\n  ClickEvent,\n  PointerMoveEvent,\n  ModeProps,\n  GuideFeatureCollection,\n  TentativeFeature,\n} from '../types';\nimport { Position, Polygon, FeatureOf, FeatureCollection } from '../geojson-types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class ThreeClickPolygonMode extends GeoJsonEditMode {\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    this.addClickSequence(event);\n    const clickSequence = this.getClickSequence();\n    const tentativeFeature = this.getTentativeGuide(props);\n\n    if (\n      clickSequence.length > 2 &&\n      tentativeFeature &&\n      tentativeFeature.geometry.type === 'Polygon'\n    ) {\n      const editAction = this.getAddFeatureOrBooleanPolygonAction(tentativeFeature.geometry, props);\n      this.resetClickSequence();\n\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    }\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const { lastPointerMoveEvent, modeConfig } = props;\n    const clickSequence = this.getClickSequence();\n\n    const guides: GuideFeatureCollection = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    if (clickSequence.length === 0) {\n      // nothing to do yet\n      return guides;\n    }\n\n    const hoveredCoord = lastPointerMoveEvent.mapCoords;\n\n    if (clickSequence.length === 1) {\n      guides.features.push({\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'LineString',\n          coordinates: [clickSequence[0], hoveredCoord],\n        },\n      });\n    } else {\n      const polygon = this.getThreeClickPolygon(\n        clickSequence[0],\n        clickSequence[1],\n        hoveredCoord,\n        modeConfig\n      );\n      if (polygon) {\n        guides.features.push({\n          type: 'Feature',\n          properties: {\n            guideType: 'tentative',\n          },\n          geometry: polygon.geometry,\n        });\n      }\n    }\n\n    return guides;\n  }\n\n  getThreeClickPolygon(\n    coord1: Position,\n    coord2: Position,\n    coord3: Position,\n    modeConfig: any\n  ): FeatureOf<Polygon> | null | undefined {\n    return null;\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n    super.handlePointerMove(event, props);\n  }\n\n  createTentativeFeature(props: ModeProps<FeatureCollection>): TentativeFeature {\n    const { lastPointerMoveEvent } = props;\n    const clickSequence = this.getClickSequence();\n\n    const lastCoords = lastPointerMoveEvent ? [lastPointerMoveEvent.mapCoords] : [];\n\n    let tentativeFeature;\n    if (clickSequence.length === 2) {\n      tentativeFeature = this.getThreeClickPolygon(\n        clickSequence[0],\n        clickSequence[1],\n        lastCoords[0],\n        props.modeConfig\n      );\n    }\n\n    return tentativeFeature;\n  }\n}\n","// port from @deck.gl/core\nfunction isEqual(a: any, b: any) {\n  if (a === b) {\n    return true;\n  }\n  if (Array.isArray(a)) {\n    // Special treatment for arrays: compare 1-level deep\n    // This is to support equality of matrix/coordinate props\n    const len = a.length;\n    if (!b || b.length !== len) {\n      return false;\n    }\n\n    for (let i = 0; i < len; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\n/**\n * Speed up consecutive function calls by caching the result of calls with identical input\n * https://en.wikipedia.org/wiki/Memoization\n * @param {function} compute - the function to be memoized\n */\nexport default function memoize(compute: Function) {\n  let cachedArgs = {};\n  let cachedResult;\n\n  return (args: any) => {\n    for (const key in args) {\n      if (!isEqual(args[key], cachedArgs[key])) {\n        cachedResult = compute(args);\n        cachedArgs = args;\n        break;\n      }\n    }\n    return cachedResult;\n  };\n}\n","/* eslint-env browser */\n\nimport { CompositeLayer } from '@deck.gl/core';\nimport { CompositeLayerProps } from '@deck.gl/core/lib/composite-layer';\nimport {\n  ClickEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  PointerMoveEvent,\n  Position,\n} from '@nebula.gl/edit-modes';\n\nconst EVENT_TYPES = ['anyclick', 'pointermove', 'panstart', 'panmove', 'panend', 'keyup'];\n\nexport interface EditableLayerProps<D> extends CompositeLayerProps<D> {\n  pickingRadius?: number;\n  pickingDepth?: number;\n}\n\nexport default class EditableLayer<\n  D,\n  P extends EditableLayerProps<D> = EditableLayerProps<D>\n> extends CompositeLayer<D, P> {\n  static layerName = 'EditableLayer';\n\n  // Overridable interaction event handlers\n  onLayerClick(event: ClickEvent) {\n    // default implementation - do nothing\n  }\n\n  onStartDragging(event: StartDraggingEvent) {\n    // default implementation - do nothing\n  }\n\n  onStopDragging(event: StopDraggingEvent) {\n    // default implementation - do nothing\n  }\n\n  onDragging(event: DraggingEvent) {\n    // default implementation - do nothing\n  }\n\n  onPointerMove(event: PointerMoveEvent) {\n    // default implementation - do nothing\n  }\n\n  onLayerKeyUp(event: KeyboardEvent): void {\n    // default implementation - do nothing;\n  }\n  // TODO: implement onCancelDragging (e.g. drag off screen)\n\n  initializeState() {\n    this.setState({\n      _editableLayerState: {\n        // Picked objects at the time the pointer went down\n        pointerDownPicks: null,\n        // Screen coordinates where the pointer went down\n        pointerDownScreenCoords: null,\n        // Ground coordinates where the pointer went down\n        pointerDownMapCoords: null,\n\n        // Keep track of the mjolnir.js event handler so it can be deregistered\n        eventHandler: this._forwardEventToCurrentLayer.bind(this),\n      },\n    });\n\n    this._addEventHandlers();\n  }\n\n  finalizeState() {\n    this._removeEventHandlers();\n  }\n\n  _addEventHandlers() {\n    // @ts-ignore\n    const { eventManager } = this.context.deck;\n    const { eventHandler } = this.state._editableLayerState;\n\n    for (const eventType of EVENT_TYPES) {\n      eventManager.on(eventType, eventHandler, {\n        // give nebula a higher priority so that it can stop propagation to deck.gl's map panning handlers\n        priority: 100,\n      });\n    }\n  }\n\n  _removeEventHandlers() {\n    // @ts-ignore\n    const { eventManager } = this.context.deck;\n    const { eventHandler } = this.state._editableLayerState;\n\n    for (const eventType of EVENT_TYPES) {\n      eventManager.off(eventType, eventHandler);\n    }\n  }\n\n  // A new layer instance is created on every render, so forward the event to the current layer\n  // This means that the first layer instance will stick around to be the event listener, but will forward the event\n  // to the latest layer instance.\n  _forwardEventToCurrentLayer(event: any) {\n    const currentLayer = this.getCurrentLayer();\n\n    // Use a naming convention to find the event handling function for this event type\n    const func = currentLayer[`_on${event.type}`].bind(currentLayer);\n    if (!func) {\n      console.warn(`no handler for mjolnir.js event ${event.type}`); // eslint-disable-line\n      return;\n    }\n    func(event);\n  }\n\n  _onanyclick({ srcEvent }: any) {\n    const screenCoords = this.getScreenCoords(srcEvent);\n    const mapCoords = this.getMapCoords(screenCoords);\n    // @ts-ignore\n    const picks = this.getPicks(screenCoords);\n\n    this.onLayerClick({\n      mapCoords,\n      // @ts-ignore\n      screenCoords,\n      picks,\n      sourceEvent: srcEvent,\n    });\n  }\n\n  _onkeyup({ srcEvent }: { srcEvent: KeyboardEvent }) {\n    this.onLayerKeyUp(srcEvent);\n  }\n\n  _onpanstart(event: any) {\n    const screenCoords = this.getScreenCoords(event.srcEvent);\n    const mapCoords = this.getMapCoords(screenCoords);\n    // @ts-ignore\n    const picks = this.getPicks(screenCoords);\n\n    this.setState({\n      _editableLayerState: {\n        ...this.state._editableLayerState,\n        pointerDownScreenCoords: screenCoords,\n        pointerDownMapCoords: mapCoords,\n        pointerDownPicks: picks,\n      },\n    });\n\n    this.onStartDragging({\n      picks,\n      // @ts-ignore\n      screenCoords,\n      // @ts-ignore\n      mapCoords,\n      // @ts-ignore\n      pointerDownScreenCoords: screenCoords,\n      pointerDownMapCoords: mapCoords,\n      cancelPan: event.stopImmediatePropagation,\n      sourceEvent: event.srcEvent,\n    });\n  }\n\n  _onpanmove(event: any) {\n    const { srcEvent } = event;\n    const screenCoords = this.getScreenCoords(srcEvent);\n    const mapCoords = this.getMapCoords(screenCoords);\n\n    const {\n      pointerDownPicks,\n      pointerDownScreenCoords,\n      pointerDownMapCoords,\n    } = this.state._editableLayerState;\n    // @ts-ignore\n    const picks = this.getPicks(screenCoords);\n\n    this.onDragging({\n      // @ts-ignore\n      screenCoords,\n      mapCoords,\n      picks,\n      pointerDownPicks,\n      pointerDownScreenCoords,\n      pointerDownMapCoords,\n      sourceEvent: srcEvent,\n      cancelPan: event.stopImmediatePropagation,\n      // another (hacky) approach for cancelling map panning\n      // const controller = this.context.deck.viewManager.controllers[\n      //   Object.keys(this.context.deck.viewManager.controllers)[0]\n      // ];\n      // controller._state.isDragging = false;\n    });\n  }\n\n  _onpanend({ srcEvent }: any) {\n    const screenCoords = this.getScreenCoords(srcEvent);\n    const mapCoords = this.getMapCoords(screenCoords);\n\n    const {\n      pointerDownPicks,\n      pointerDownScreenCoords,\n      pointerDownMapCoords,\n    } = this.state._editableLayerState;\n    // @ts-ignore\n    const picks = this.getPicks(screenCoords);\n\n    this.onStopDragging({\n      picks,\n      // @ts-ignore\n      screenCoords,\n      mapCoords,\n      pointerDownPicks,\n      pointerDownScreenCoords,\n      pointerDownMapCoords,\n      sourceEvent: srcEvent,\n    });\n\n    this.setState({\n      _editableLayerState: {\n        ...this.state._editableLayerState,\n        pointerDownScreenCoords: null,\n        pointerDownMapCoords: null,\n        pointerDownPicks: null,\n      },\n    });\n  }\n\n  _onpointermove(event: any) {\n    const { srcEvent } = event;\n    const screenCoords = this.getScreenCoords(srcEvent);\n    const mapCoords = this.getMapCoords(screenCoords);\n\n    const {\n      pointerDownPicks,\n      pointerDownScreenCoords,\n      pointerDownMapCoords,\n    } = this.state._editableLayerState;\n    // @ts-ignore\n    const picks = this.getPicks(screenCoords);\n\n    this.onPointerMove({\n      // @ts-ignore\n      screenCoords,\n      mapCoords,\n      picks,\n      pointerDownPicks,\n      pointerDownScreenCoords,\n      pointerDownMapCoords,\n      sourceEvent: srcEvent,\n    });\n  }\n\n  getPicks(screenCoords: [number, number]) {\n    // @ts-ignore\n    return this.context.deck.pickMultipleObjects({\n      x: screenCoords[0],\n      y: screenCoords[1],\n      layerIds: [this.props.id],\n      radius: this.props.pickingRadius,\n      depth: this.props.pickingDepth,\n    });\n  }\n\n  getScreenCoords(pointerEvent: any): Position {\n    return [\n      pointerEvent.clientX -\n        (this.context.gl.canvas as HTMLCanvasElement).getBoundingClientRect().left,\n      pointerEvent.clientY -\n        (this.context.gl.canvas as HTMLCanvasElement).getBoundingClientRect().top,\n    ];\n  }\n\n  getMapCoords(screenCoords: Position): Position {\n    // @ts-ignore\n    return this.context.viewport.unproject([screenCoords[0], screenCoords[1]]);\n  }\n}\n","/*\r\n Copyright 2013 Daniel Wirtz <dcode@dcode.io>\r\n Copyright 2009 The Closure Library Authors. All Rights Reserved.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS-IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.\r\n */\r\n\r\n/**\r\n * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>\r\n * Released under the Apache License, Version 2.0\r\n * see: https://github.com/dcodeIO/long.js for details\r\n */\r\n(function(global, factory) {\r\n\r\n    /* AMD */ if (typeof define === 'function' && define[\"amd\"])\r\n        define([], factory);\r\n    /* CommonJS */ else if (typeof require === 'function' && typeof module === \"object\" && module && module[\"exports\"])\r\n        module[\"exports\"] = factory();\r\n    /* Global */ else\r\n        (global[\"dcodeIO\"] = global[\"dcodeIO\"] || {})[\"Long\"] = factory();\r\n\r\n})(this, function() {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n     *  See the from* functions below for more convenient ways of constructing Longs.\r\n     * @exports Long\r\n     * @class A Long class for representing a 64 bit two's-complement integer value.\r\n     * @param {number} low The low (signed) 32 bits of the long\r\n     * @param {number} high The high (signed) 32 bits of the long\r\n     * @param {boolean=} unsigned Whether unsigned or not, defaults to `false` for signed\r\n     * @constructor\r\n     */\r\n    function Long(low, high, unsigned) {\r\n\r\n        /**\r\n         * The low 32 bits as a signed value.\r\n         * @type {number}\r\n         */\r\n        this.low = low | 0;\r\n\r\n        /**\r\n         * The high 32 bits as a signed value.\r\n         * @type {number}\r\n         */\r\n        this.high = high | 0;\r\n\r\n        /**\r\n         * Whether unsigned or not.\r\n         * @type {boolean}\r\n         */\r\n        this.unsigned = !!unsigned;\r\n    }\r\n\r\n    // The internal representation of a long is the two given signed, 32-bit values.\r\n    // We use 32-bit pieces because these are the size of integers on which\r\n    // Javascript performs bit-operations.  For operations like addition and\r\n    // multiplication, we split each number into 16 bit pieces, which can easily be\r\n    // multiplied within Javascript's floating-point representation without overflow\r\n    // or change in sign.\r\n    //\r\n    // In the algorithms below, we frequently reduce the negative case to the\r\n    // positive case by negating the input(s) and then post-processing the result.\r\n    // Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n    // (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n    // a positive number, it overflows back into a negative).  Not handling this\r\n    // case would often result in infinite recursion.\r\n    //\r\n    // Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n    // methods on which they depend.\r\n\r\n    /**\r\n     * An indicator used to reliably determine if an object is a Long or not.\r\n     * @type {boolean}\r\n     * @const\r\n     * @private\r\n     */\r\n    Long.prototype.__isLong__;\r\n\r\n    Object.defineProperty(Long.prototype, \"__isLong__\", {\r\n        value: true,\r\n        enumerable: false,\r\n        configurable: false\r\n    });\r\n\r\n    /**\r\n     * @function\r\n     * @param {*} obj Object\r\n     * @returns {boolean}\r\n     * @inner\r\n     */\r\n    function isLong(obj) {\r\n        return (obj && obj[\"__isLong__\"]) === true;\r\n    }\r\n\r\n    /**\r\n     * Tests if the specified object is a Long.\r\n     * @function\r\n     * @param {*} obj Object\r\n     * @returns {boolean}\r\n     */\r\n    Long.isLong = isLong;\r\n\r\n    /**\r\n     * A cache of the Long representations of small integer values.\r\n     * @type {!Object}\r\n     * @inner\r\n     */\r\n    var INT_CACHE = {};\r\n\r\n    /**\r\n     * A cache of the Long representations of small unsigned integer values.\r\n     * @type {!Object}\r\n     * @inner\r\n     */\r\n    var UINT_CACHE = {};\r\n\r\n    /**\r\n     * @param {number} value\r\n     * @param {boolean=} unsigned\r\n     * @returns {!Long}\r\n     * @inner\r\n     */\r\n    function fromInt(value, unsigned) {\r\n        var obj, cachedObj, cache;\r\n        if (unsigned) {\r\n            value >>>= 0;\r\n            if (cache = (0 <= value && value < 256)) {\r\n                cachedObj = UINT_CACHE[value];\r\n                if (cachedObj)\r\n                    return cachedObj;\r\n            }\r\n            obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n            if (cache)\r\n                UINT_CACHE[value] = obj;\r\n            return obj;\r\n        } else {\r\n            value |= 0;\r\n            if (cache = (-128 <= value && value < 128)) {\r\n                cachedObj = INT_CACHE[value];\r\n                if (cachedObj)\r\n                    return cachedObj;\r\n            }\r\n            obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n            if (cache)\r\n                INT_CACHE[value] = obj;\r\n            return obj;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns a Long representing the given 32 bit integer value.\r\n     * @function\r\n     * @param {number} value The 32 bit integer in question\r\n     * @param {boolean=} unsigned Whether unsigned or not, defaults to `false` for signed\r\n     * @returns {!Long} The corresponding Long value\r\n     */\r\n    Long.fromInt = fromInt;\r\n\r\n    /**\r\n     * @param {number} value\r\n     * @param {boolean=} unsigned\r\n     * @returns {!Long}\r\n     * @inner\r\n     */\r\n    function fromNumber(value, unsigned) {\r\n        if (isNaN(value) || !isFinite(value))\r\n            return unsigned ? UZERO : ZERO;\r\n        if (unsigned) {\r\n            if (value < 0)\r\n                return UZERO;\r\n            if (value >= TWO_PWR_64_DBL)\r\n                return MAX_UNSIGNED_VALUE;\r\n        } else {\r\n            if (value <= -TWO_PWR_63_DBL)\r\n                return MIN_VALUE;\r\n            if (value + 1 >= TWO_PWR_63_DBL)\r\n                return MAX_VALUE;\r\n        }\r\n        if (value < 0)\r\n            return fromNumber(-value, unsigned).neg();\r\n        return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n    }\r\n\r\n    /**\r\n     * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n     * @function\r\n     * @param {number} value The number in question\r\n     * @param {boolean=} unsigned Whether unsigned or not, defaults to `false` for signed\r\n     * @returns {!Long} The corresponding Long value\r\n     */\r\n    Long.fromNumber = fromNumber;\r\n\r\n    /**\r\n     * @param {number} lowBits\r\n     * @param {number} highBits\r\n     * @param {boolean=} unsigned\r\n     * @returns {!Long}\r\n     * @inner\r\n     */\r\n    function fromBits(lowBits, highBits, unsigned) {\r\n        return new Long(lowBits, highBits, unsigned);\r\n    }\r\n\r\n    /**\r\n     * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n     *  assumed to use 32 bits.\r\n     * @function\r\n     * @param {number} lowBits The low 32 bits\r\n     * @param {number} highBits The high 32 bits\r\n     * @param {boolean=} unsigned Whether unsigned or not, defaults to `false` for signed\r\n     * @returns {!Long} The corresponding Long value\r\n     */\r\n    Long.fromBits = fromBits;\r\n\r\n    /**\r\n     * @function\r\n     * @param {number} base\r\n     * @param {number} exponent\r\n     * @returns {number}\r\n     * @inner\r\n     */\r\n    var pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n    /**\r\n     * @param {string} str\r\n     * @param {(boolean|number)=} unsigned\r\n     * @param {number=} radix\r\n     * @returns {!Long}\r\n     * @inner\r\n     */\r\n    function fromString(str, unsigned, radix) {\r\n        if (str.length === 0)\r\n            throw Error('empty string');\r\n        if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n            return ZERO;\r\n        if (typeof unsigned === 'number') {\r\n            // For goog.math.long compatibility\r\n            radix = unsigned,\r\n            unsigned = false;\r\n        } else {\r\n            unsigned = !! unsigned;\r\n        }\r\n        radix = radix || 10;\r\n        if (radix < 2 || 36 < radix)\r\n            throw RangeError('radix');\r\n\r\n        var p;\r\n        if ((p = str.indexOf('-')) > 0)\r\n            throw Error('interior hyphen');\r\n        else if (p === 0) {\r\n            return fromString(str.substring(1), unsigned, radix).neg();\r\n        }\r\n\r\n        // Do several (8) digits each time through the loop, so as to\r\n        // minimize the calls to the very expensive emulated div.\r\n        var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n        var result = ZERO;\r\n        for (var i = 0; i < str.length; i += 8) {\r\n            var size = Math.min(8, str.length - i),\r\n                value = parseInt(str.substring(i, i + size), radix);\r\n            if (size < 8) {\r\n                var power = fromNumber(pow_dbl(radix, size));\r\n                result = result.mul(power).add(fromNumber(value));\r\n            } else {\r\n                result = result.mul(radixToPower);\r\n                result = result.add(fromNumber(value));\r\n            }\r\n        }\r\n        result.unsigned = unsigned;\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Returns a Long representation of the given string, written using the specified radix.\r\n     * @function\r\n     * @param {string} str The textual representation of the Long\r\n     * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to `false` for signed\r\n     * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n     * @returns {!Long} The corresponding Long value\r\n     */\r\n    Long.fromString = fromString;\r\n\r\n    /**\r\n     * @function\r\n     * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n     * @returns {!Long}\r\n     * @inner\r\n     */\r\n    function fromValue(val) {\r\n        if (val /* is compatible */ instanceof Long)\r\n            return val;\r\n        if (typeof val === 'number')\r\n            return fromNumber(val);\r\n        if (typeof val === 'string')\r\n            return fromString(val);\r\n        // Throws for non-objects, converts non-instanceof Long:\r\n        return fromBits(val.low, val.high, val.unsigned);\r\n    }\r\n\r\n    /**\r\n     * Converts the specified value to a Long.\r\n     * @function\r\n     * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n     * @returns {!Long}\r\n     */\r\n    Long.fromValue = fromValue;\r\n\r\n    // NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n    // no runtime penalty for these.\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var TWO_PWR_16_DBL = 1 << 16;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var TWO_PWR_24_DBL = 1 << 24;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var ZERO = fromInt(0);\r\n\r\n    /**\r\n     * Signed zero.\r\n     * @type {!Long}\r\n     */\r\n    Long.ZERO = ZERO;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var UZERO = fromInt(0, true);\r\n\r\n    /**\r\n     * Unsigned zero.\r\n     * @type {!Long}\r\n     */\r\n    Long.UZERO = UZERO;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var ONE = fromInt(1);\r\n\r\n    /**\r\n     * Signed one.\r\n     * @type {!Long}\r\n     */\r\n    Long.ONE = ONE;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var UONE = fromInt(1, true);\r\n\r\n    /**\r\n     * Unsigned one.\r\n     * @type {!Long}\r\n     */\r\n    Long.UONE = UONE;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var NEG_ONE = fromInt(-1);\r\n\r\n    /**\r\n     * Signed negative one.\r\n     * @type {!Long}\r\n     */\r\n    Long.NEG_ONE = NEG_ONE;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n    /**\r\n     * Maximum signed value.\r\n     * @type {!Long}\r\n     */\r\n    Long.MAX_VALUE = MAX_VALUE;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n    /**\r\n     * Maximum unsigned value.\r\n     * @type {!Long}\r\n     */\r\n    Long.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n    /**\r\n     * @type {!Long}\r\n     * @inner\r\n     */\r\n    var MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n    /**\r\n     * Minimum signed value.\r\n     * @type {!Long}\r\n     */\r\n    Long.MIN_VALUE = MIN_VALUE;\r\n\r\n    /**\r\n     * @alias Long.prototype\r\n     * @inner\r\n     */\r\n    var LongPrototype = Long.prototype;\r\n\r\n    /**\r\n     * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n     * @returns {number}\r\n     */\r\n    LongPrototype.toInt = function toInt() {\r\n        return this.unsigned ? this.low >>> 0 : this.low;\r\n    };\r\n\r\n    /**\r\n     * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n     * @returns {number}\r\n     */\r\n    LongPrototype.toNumber = function toNumber() {\r\n        if (this.unsigned)\r\n            return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n        return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n    };\r\n\r\n    /**\r\n     * Converts the Long to a string written in the specified radix.\r\n     * @param {number=} radix Radix (2-36), defaults to 10\r\n     * @returns {string}\r\n     * @override\r\n     * @throws {RangeError} If `radix` is out of range\r\n     */\r\n    LongPrototype.toString = function toString(radix) {\r\n        radix = radix || 10;\r\n        if (radix < 2 || 36 < radix)\r\n            throw RangeError('radix');\r\n        if (this.isZero())\r\n            return '0';\r\n        if (this.isNegative()) { // Unsigned Longs are never negative\r\n            if (this.eq(MIN_VALUE)) {\r\n                // We need to change the Long value before it can be negated, so we remove\r\n                // the bottom-most digit in this base and then recurse to do the rest.\r\n                var radixLong = fromNumber(radix),\r\n                    div = this.div(radixLong),\r\n                    rem1 = div.mul(radixLong).sub(this);\r\n                return div.toString(radix) + rem1.toInt().toString(radix);\r\n            } else\r\n                return '-' + this.neg().toString(radix);\r\n        }\r\n\r\n        // Do several (6) digits each time through the loop, so as to\r\n        // minimize the calls to the very expensive emulated div.\r\n        var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n            rem = this;\r\n        var result = '';\r\n        while (true) {\r\n            var remDiv = rem.div(radixToPower),\r\n                intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n                digits = intval.toString(radix);\r\n            rem = remDiv;\r\n            if (rem.isZero())\r\n                return digits + result;\r\n            else {\r\n                while (digits.length < 6)\r\n                    digits = '0' + digits;\r\n                result = '' + digits + result;\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Gets the high 32 bits as a signed integer.\r\n     * @returns {number} Signed high bits\r\n     */\r\n    LongPrototype.getHighBits = function getHighBits() {\r\n        return this.high;\r\n    };\r\n\r\n    /**\r\n     * Gets the high 32 bits as an unsigned integer.\r\n     * @returns {number} Unsigned high bits\r\n     */\r\n    LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n        return this.high >>> 0;\r\n    };\r\n\r\n    /**\r\n     * Gets the low 32 bits as a signed integer.\r\n     * @returns {number} Signed low bits\r\n     */\r\n    LongPrototype.getLowBits = function getLowBits() {\r\n        return this.low;\r\n    };\r\n\r\n    /**\r\n     * Gets the low 32 bits as an unsigned integer.\r\n     * @returns {number} Unsigned low bits\r\n     */\r\n    LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n        return this.low >>> 0;\r\n    };\r\n\r\n    /**\r\n     * Gets the number of bits needed to represent the absolute value of this Long.\r\n     * @returns {number}\r\n     */\r\n    LongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n        if (this.isNegative()) // Unsigned Longs are never negative\r\n            return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n        var val = this.high != 0 ? this.high : this.low;\r\n        for (var bit = 31; bit > 0; bit--)\r\n            if ((val & (1 << bit)) != 0)\r\n                break;\r\n        return this.high != 0 ? bit + 33 : bit + 1;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value equals zero.\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.isZero = function isZero() {\r\n        return this.high === 0 && this.low === 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is negative.\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.isNegative = function isNegative() {\r\n        return !this.unsigned && this.high < 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is positive.\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.isPositive = function isPositive() {\r\n        return this.unsigned || this.high >= 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is odd.\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.isOdd = function isOdd() {\r\n        return (this.low & 1) === 1;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is even.\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.isEven = function isEven() {\r\n        return (this.low & 1) === 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value equals the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.equals = function equals(other) {\r\n        if (!isLong(other))\r\n            other = fromValue(other);\r\n        if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n            return false;\r\n        return this.high === other.high && this.low === other.low;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.eq = LongPrototype.equals;\r\n\r\n    /**\r\n     * Tests if this Long's value differs from the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.notEquals = function notEquals(other) {\r\n        return !this.eq(/* validates */ other);\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.neq = LongPrototype.notEquals;\r\n\r\n    /**\r\n     * Tests if this Long's value is less than the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.lessThan = function lessThan(other) {\r\n        return this.comp(/* validates */ other) < 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.lt = LongPrototype.lessThan;\r\n\r\n    /**\r\n     * Tests if this Long's value is less than or equal the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n        return this.comp(/* validates */ other) <= 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n    /**\r\n     * Tests if this Long's value is greater than the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.greaterThan = function greaterThan(other) {\r\n        return this.comp(/* validates */ other) > 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n    /**\r\n     * Tests if this Long's value is greater than or equal the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n        return this.comp(/* validates */ other) >= 0;\r\n    };\r\n\r\n    /**\r\n     * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {boolean}\r\n     */\r\n    LongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n    /**\r\n     * Compares this Long's value with the specified's.\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n     *  if the given one is greater\r\n     */\r\n    LongPrototype.compare = function compare(other) {\r\n        if (!isLong(other))\r\n            other = fromValue(other);\r\n        if (this.eq(other))\r\n            return 0;\r\n        var thisNeg = this.isNegative(),\r\n            otherNeg = other.isNegative();\r\n        if (thisNeg && !otherNeg)\r\n            return -1;\r\n        if (!thisNeg && otherNeg)\r\n            return 1;\r\n        // At this point the sign bits are the same\r\n        if (!this.unsigned)\r\n            return this.sub(other).isNegative() ? -1 : 1;\r\n        // Both are positive if at least one is unsigned\r\n        return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n    };\r\n\r\n    /**\r\n     * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n     * @function\r\n     * @param {!Long|number|string} other Other value\r\n     * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n     *  if the given one is greater\r\n     */\r\n    LongPrototype.comp = LongPrototype.compare;\r\n\r\n    /**\r\n     * Negates this Long's value.\r\n     * @returns {!Long} Negated Long\r\n     */\r\n    LongPrototype.negate = function negate() {\r\n        if (!this.unsigned && this.eq(MIN_VALUE))\r\n            return MIN_VALUE;\r\n        return this.not().add(ONE);\r\n    };\r\n\r\n    /**\r\n     * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n     * @function\r\n     * @returns {!Long} Negated Long\r\n     */\r\n    LongPrototype.neg = LongPrototype.negate;\r\n\r\n    /**\r\n     * Returns the sum of this and the specified Long.\r\n     * @param {!Long|number|string} addend Addend\r\n     * @returns {!Long} Sum\r\n     */\r\n    LongPrototype.add = function add(addend) {\r\n        if (!isLong(addend))\r\n            addend = fromValue(addend);\r\n\r\n        // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n        var a48 = this.high >>> 16;\r\n        var a32 = this.high & 0xFFFF;\r\n        var a16 = this.low >>> 16;\r\n        var a00 = this.low & 0xFFFF;\r\n\r\n        var b48 = addend.high >>> 16;\r\n        var b32 = addend.high & 0xFFFF;\r\n        var b16 = addend.low >>> 16;\r\n        var b00 = addend.low & 0xFFFF;\r\n\r\n        var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n        c00 += a00 + b00;\r\n        c16 += c00 >>> 16;\r\n        c00 &= 0xFFFF;\r\n        c16 += a16 + b16;\r\n        c32 += c16 >>> 16;\r\n        c16 &= 0xFFFF;\r\n        c32 += a32 + b32;\r\n        c48 += c32 >>> 16;\r\n        c32 &= 0xFFFF;\r\n        c48 += a48 + b48;\r\n        c48 &= 0xFFFF;\r\n        return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns the difference of this and the specified Long.\r\n     * @param {!Long|number|string} subtrahend Subtrahend\r\n     * @returns {!Long} Difference\r\n     */\r\n    LongPrototype.subtract = function subtract(subtrahend) {\r\n        if (!isLong(subtrahend))\r\n            subtrahend = fromValue(subtrahend);\r\n        return this.add(subtrahend.neg());\r\n    };\r\n\r\n    /**\r\n     * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n     * @function\r\n     * @param {!Long|number|string} subtrahend Subtrahend\r\n     * @returns {!Long} Difference\r\n     */\r\n    LongPrototype.sub = LongPrototype.subtract;\r\n\r\n    /**\r\n     * Returns the product of this and the specified Long.\r\n     * @param {!Long|number|string} multiplier Multiplier\r\n     * @returns {!Long} Product\r\n     */\r\n    LongPrototype.multiply = function multiply(multiplier) {\r\n        if (this.isZero())\r\n            return ZERO;\r\n        if (!isLong(multiplier))\r\n            multiplier = fromValue(multiplier);\r\n        if (multiplier.isZero())\r\n            return ZERO;\r\n        if (this.eq(MIN_VALUE))\r\n            return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n        if (multiplier.eq(MIN_VALUE))\r\n            return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n        if (this.isNegative()) {\r\n            if (multiplier.isNegative())\r\n                return this.neg().mul(multiplier.neg());\r\n            else\r\n                return this.neg().mul(multiplier).neg();\r\n        } else if (multiplier.isNegative())\r\n            return this.mul(multiplier.neg()).neg();\r\n\r\n        // If both longs are small, use float multiplication\r\n        if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n            return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n        // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n        // We can skip products that would overflow.\r\n\r\n        var a48 = this.high >>> 16;\r\n        var a32 = this.high & 0xFFFF;\r\n        var a16 = this.low >>> 16;\r\n        var a00 = this.low & 0xFFFF;\r\n\r\n        var b48 = multiplier.high >>> 16;\r\n        var b32 = multiplier.high & 0xFFFF;\r\n        var b16 = multiplier.low >>> 16;\r\n        var b00 = multiplier.low & 0xFFFF;\r\n\r\n        var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n        c00 += a00 * b00;\r\n        c16 += c00 >>> 16;\r\n        c00 &= 0xFFFF;\r\n        c16 += a16 * b00;\r\n        c32 += c16 >>> 16;\r\n        c16 &= 0xFFFF;\r\n        c16 += a00 * b16;\r\n        c32 += c16 >>> 16;\r\n        c16 &= 0xFFFF;\r\n        c32 += a32 * b00;\r\n        c48 += c32 >>> 16;\r\n        c32 &= 0xFFFF;\r\n        c32 += a16 * b16;\r\n        c48 += c32 >>> 16;\r\n        c32 &= 0xFFFF;\r\n        c32 += a00 * b32;\r\n        c48 += c32 >>> 16;\r\n        c32 &= 0xFFFF;\r\n        c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n        c48 &= 0xFFFF;\r\n        return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n     * @function\r\n     * @param {!Long|number|string} multiplier Multiplier\r\n     * @returns {!Long} Product\r\n     */\r\n    LongPrototype.mul = LongPrototype.multiply;\r\n\r\n    /**\r\n     * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n     *  unsigned if this Long is unsigned.\r\n     * @param {!Long|number|string} divisor Divisor\r\n     * @returns {!Long} Quotient\r\n     */\r\n    LongPrototype.divide = function divide(divisor) {\r\n        if (!isLong(divisor))\r\n            divisor = fromValue(divisor);\r\n        if (divisor.isZero())\r\n            throw Error('division by zero');\r\n        if (this.isZero())\r\n            return this.unsigned ? UZERO : ZERO;\r\n        var approx, rem, res;\r\n        if (!this.unsigned) {\r\n            // This section is only relevant for signed longs and is derived from the\r\n            // closure library as a whole.\r\n            if (this.eq(MIN_VALUE)) {\r\n                if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                    return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n                else if (divisor.eq(MIN_VALUE))\r\n                    return ONE;\r\n                else {\r\n                    // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                    var halfThis = this.shr(1);\r\n                    approx = halfThis.div(divisor).shl(1);\r\n                    if (approx.eq(ZERO)) {\r\n                        return divisor.isNegative() ? ONE : NEG_ONE;\r\n                    } else {\r\n                        rem = this.sub(divisor.mul(approx));\r\n                        res = approx.add(rem.div(divisor));\r\n                        return res;\r\n                    }\r\n                }\r\n            } else if (divisor.eq(MIN_VALUE))\r\n                return this.unsigned ? UZERO : ZERO;\r\n            if (this.isNegative()) {\r\n                if (divisor.isNegative())\r\n                    return this.neg().div(divisor.neg());\r\n                return this.neg().div(divisor).neg();\r\n            } else if (divisor.isNegative())\r\n                return this.div(divisor.neg()).neg();\r\n            res = ZERO;\r\n        } else {\r\n            // The algorithm below has not been made for unsigned longs. It's therefore\r\n            // required to take special care of the MSB prior to running it.\r\n            if (!divisor.unsigned)\r\n                divisor = divisor.toUnsigned();\r\n            if (divisor.gt(this))\r\n                return UZERO;\r\n            if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n                return UONE;\r\n            res = UZERO;\r\n        }\r\n\r\n        // Repeat the following until the remainder is less than other:  find a\r\n        // floating-point that approximates remainder / other *from below*, add this\r\n        // into the result, and subtract it from the remainder.  It is critical that\r\n        // the approximate value is less than or equal to the real value so that the\r\n        // remainder never becomes negative.\r\n        rem = this;\r\n        while (rem.gte(divisor)) {\r\n            // Approximate the result of division. This may be a little greater or\r\n            // smaller than the actual value.\r\n            approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n            // We will tweak the approximate result by changing it in the 48-th digit or\r\n            // the smallest non-fractional digit, whichever is larger.\r\n            var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n                delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n            // Decrease the approximation until it is smaller than the remainder.  Note\r\n            // that if it is too large, the product overflows and is negative.\r\n                approxRes = fromNumber(approx),\r\n                approxRem = approxRes.mul(divisor);\r\n            while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n                approx -= delta;\r\n                approxRes = fromNumber(approx, this.unsigned);\r\n                approxRem = approxRes.mul(divisor);\r\n            }\r\n\r\n            // We know the answer can't be zero... and actually, zero would cause\r\n            // infinite recursion since we would make no progress.\r\n            if (approxRes.isZero())\r\n                approxRes = ONE;\r\n\r\n            res = res.add(approxRes);\r\n            rem = rem.sub(approxRem);\r\n        }\r\n        return res;\r\n    };\r\n\r\n    /**\r\n     * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n     * @function\r\n     * @param {!Long|number|string} divisor Divisor\r\n     * @returns {!Long} Quotient\r\n     */\r\n    LongPrototype.div = LongPrototype.divide;\r\n\r\n    /**\r\n     * Returns this Long modulo the specified.\r\n     * @param {!Long|number|string} divisor Divisor\r\n     * @returns {!Long} Remainder\r\n     */\r\n    LongPrototype.modulo = function modulo(divisor) {\r\n        if (!isLong(divisor))\r\n            divisor = fromValue(divisor);\r\n        return this.sub(this.div(divisor).mul(divisor));\r\n    };\r\n\r\n    /**\r\n     * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n     * @function\r\n     * @param {!Long|number|string} divisor Divisor\r\n     * @returns {!Long} Remainder\r\n     */\r\n    LongPrototype.mod = LongPrototype.modulo;\r\n\r\n    /**\r\n     * Returns the bitwise NOT of this Long.\r\n     * @returns {!Long}\r\n     */\r\n    LongPrototype.not = function not() {\r\n        return fromBits(~this.low, ~this.high, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns the bitwise AND of this Long and the specified.\r\n     * @param {!Long|number|string} other Other Long\r\n     * @returns {!Long}\r\n     */\r\n    LongPrototype.and = function and(other) {\r\n        if (!isLong(other))\r\n            other = fromValue(other);\r\n        return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns the bitwise OR of this Long and the specified.\r\n     * @param {!Long|number|string} other Other Long\r\n     * @returns {!Long}\r\n     */\r\n    LongPrototype.or = function or(other) {\r\n        if (!isLong(other))\r\n            other = fromValue(other);\r\n        return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns the bitwise XOR of this Long and the given one.\r\n     * @param {!Long|number|string} other Other Long\r\n     * @returns {!Long}\r\n     */\r\n    LongPrototype.xor = function xor(other) {\r\n        if (!isLong(other))\r\n            other = fromValue(other);\r\n        return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns this Long with bits shifted to the left by the given amount.\r\n     * @param {number|!Long} numBits Number of bits\r\n     * @returns {!Long} Shifted Long\r\n     */\r\n    LongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n        if (isLong(numBits))\r\n            numBits = numBits.toInt();\r\n        if ((numBits &= 63) === 0)\r\n            return this;\r\n        else if (numBits < 32)\r\n            return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n        else\r\n            return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n     * @function\r\n     * @param {number|!Long} numBits Number of bits\r\n     * @returns {!Long} Shifted Long\r\n     */\r\n    LongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n    /**\r\n     * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n     * @param {number|!Long} numBits Number of bits\r\n     * @returns {!Long} Shifted Long\r\n     */\r\n    LongPrototype.shiftRight = function shiftRight(numBits) {\r\n        if (isLong(numBits))\r\n            numBits = numBits.toInt();\r\n        if ((numBits &= 63) === 0)\r\n            return this;\r\n        else if (numBits < 32)\r\n            return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n        else\r\n            return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n    };\r\n\r\n    /**\r\n     * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n     * @function\r\n     * @param {number|!Long} numBits Number of bits\r\n     * @returns {!Long} Shifted Long\r\n     */\r\n    LongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n    /**\r\n     * Returns this Long with bits logically shifted to the right by the given amount.\r\n     * @param {number|!Long} numBits Number of bits\r\n     * @returns {!Long} Shifted Long\r\n     */\r\n    LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n        if (isLong(numBits))\r\n            numBits = numBits.toInt();\r\n        numBits &= 63;\r\n        if (numBits === 0)\r\n            return this;\r\n        else {\r\n            var high = this.high;\r\n            if (numBits < 32) {\r\n                var low = this.low;\r\n                return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n            } else if (numBits === 32)\r\n                return fromBits(high, 0, this.unsigned);\r\n            else\r\n                return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n     * @function\r\n     * @param {number|!Long} numBits Number of bits\r\n     * @returns {!Long} Shifted Long\r\n     */\r\n    LongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n    /**\r\n     * Converts this Long to signed.\r\n     * @returns {!Long} Signed long\r\n     */\r\n    LongPrototype.toSigned = function toSigned() {\r\n        if (!this.unsigned)\r\n            return this;\r\n        return fromBits(this.low, this.high, false);\r\n    };\r\n\r\n    /**\r\n     * Converts this Long to unsigned.\r\n     * @returns {!Long} Unsigned long\r\n     */\r\n    LongPrototype.toUnsigned = function toUnsigned() {\r\n        if (this.unsigned)\r\n            return this;\r\n        return fromBits(this.low, this.high, true);\r\n    };\r\n\r\n    /**\r\n     * Converts this Long to its byte representation.\r\n     * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n     * @returns {!Array.<number>} Byte representation\r\n     */\r\n    LongPrototype.toBytes = function(le) {\r\n        return le ? this.toBytesLE() : this.toBytesBE();\r\n    }\r\n\r\n    /**\r\n     * Converts this Long to its little endian byte representation.\r\n     * @returns {!Array.<number>} Little endian byte representation\r\n     */\r\n    LongPrototype.toBytesLE = function() {\r\n        var hi = this.high,\r\n            lo = this.low;\r\n        return [\r\n             lo         & 0xff,\r\n            (lo >>>  8) & 0xff,\r\n            (lo >>> 16) & 0xff,\r\n            (lo >>> 24) & 0xff,\r\n             hi         & 0xff,\r\n            (hi >>>  8) & 0xff,\r\n            (hi >>> 16) & 0xff,\r\n            (hi >>> 24) & 0xff\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Converts this Long to its big endian byte representation.\r\n     * @returns {!Array.<number>} Big endian byte representation\r\n     */\r\n    LongPrototype.toBytesBE = function() {\r\n        var hi = this.high,\r\n            lo = this.low;\r\n        return [\r\n            (hi >>> 24) & 0xff,\r\n            (hi >>> 16) & 0xff,\r\n            (hi >>>  8) & 0xff,\r\n             hi         & 0xff,\r\n            (lo >>> 24) & 0xff,\r\n            (lo >>> 16) & 0xff,\r\n            (lo >>>  8) & 0xff,\r\n             lo         & 0xff\r\n        ];\r\n    }\r\n\r\n    return Long;\r\n});\r\n","import {COORDINATE_SYSTEM, createIterable} from '@deck.gl/core';\n\n/* eslint-disable max-statements, complexity, camelcase */\nconst RADIAN_PER_DEGREE = Math.PI / 180;\nconst modelMatrix = new Float32Array(16);\nconst valueArray = new Float32Array(12);\n\nfunction calculateTransformMatrix(targetMatrix, orientation, scale) {\n  const pitch = orientation[0] * RADIAN_PER_DEGREE;\n  const yaw = orientation[1] * RADIAN_PER_DEGREE;\n  const roll = orientation[2] * RADIAN_PER_DEGREE;\n\n  const sr = Math.sin(roll);\n  const sp = Math.sin(pitch);\n  const sw = Math.sin(yaw);\n\n  const cr = Math.cos(roll);\n  const cp = Math.cos(pitch);\n  const cw = Math.cos(yaw);\n\n  const scx = scale[0];\n  const scy = scale[1];\n  const scz = scale[2];\n\n  targetMatrix[0] = scx * cw * cp; // 0,0\n  targetMatrix[1] = scx * sw * cp; // 1,0\n  targetMatrix[2] = scx * -sp; // 2,0\n  targetMatrix[3] = scy * (-sw * cr + cw * sp * sr); // 0,1\n  targetMatrix[4] = scy * (cw * cr + sw * sp * sr); // 1,1\n  targetMatrix[5] = scy * cp * sr; // 2,1\n  targetMatrix[6] = scz * (sw * sr + cw * sp * cr); // 0,2\n  targetMatrix[7] = scz * (-cw * sr + sw * sp * cr); // 1,2\n  targetMatrix[8] = scz * cp * cr; // 2,2\n}\n\nfunction getExtendedMat3FromMat4(mat4) {\n  mat4[0] = mat4[0];\n  mat4[1] = mat4[1];\n  mat4[2] = mat4[2];\n  mat4[3] = mat4[4];\n  mat4[4] = mat4[5];\n  mat4[5] = mat4[6];\n  mat4[6] = mat4[8];\n  mat4[7] = mat4[9];\n  mat4[8] = mat4[10];\n  mat4[9] = mat4[12];\n  mat4[10] = mat4[13];\n  mat4[11] = mat4[14];\n\n  return mat4.subarray(0, 12);\n}\n\nexport const MATRIX_ATTRIBUTES = {\n  size: 12,\n  accessor: ['getOrientation', 'getScale', 'getTranslation', 'getTransformMatrix'],\n  shaderAttributes: {\n    instanceModelMatrix__LOCATION_0: {\n      size: 3,\n      elementOffset: 0\n    },\n    instanceModelMatrix__LOCATION_1: {\n      size: 3,\n      elementOffset: 3\n    },\n    instanceModelMatrix__LOCATION_2: {\n      size: 3,\n      elementOffset: 6\n    },\n    instanceTranslation: {\n      size: 3,\n      elementOffset: 9\n    }\n  } as const,\n\n  update(attribute, {startRow, endRow}) {\n    // @ts-expect-error: \"this\" will be bound to a layer when this function is called\n    const {data, getOrientation, getScale, getTranslation, getTransformMatrix} = this.props;\n\n    const arrayMatrix = Array.isArray(getTransformMatrix);\n    const constantMatrix = arrayMatrix && getTransformMatrix.length === 16;\n    const constantScale = Array.isArray(getScale);\n    const constantOrientation = Array.isArray(getOrientation);\n    const constantTranslation = Array.isArray(getTranslation);\n\n    const hasMatrix = constantMatrix || (!arrayMatrix && Boolean(getTransformMatrix(data[0])));\n\n    if (hasMatrix) {\n      attribute.constant = constantMatrix;\n    } else {\n      attribute.constant = constantOrientation && constantScale && constantTranslation;\n    }\n\n    const instanceModelMatrixData = attribute.value;\n\n    if (attribute.constant) {\n      let matrix;\n\n      if (hasMatrix) {\n        modelMatrix.set(getTransformMatrix);\n        matrix = getExtendedMat3FromMat4(modelMatrix);\n      } else {\n        matrix = valueArray;\n\n        const orientation = getOrientation;\n        const scale = getScale;\n\n        calculateTransformMatrix(matrix, orientation, scale);\n        matrix.set(getTranslation, 9);\n      }\n\n      attribute.value = new Float32Array(matrix);\n    } else {\n      let i = startRow * attribute.size;\n      const {iterable, objectInfo} = createIterable(data, startRow, endRow);\n      for (const object of iterable) {\n        objectInfo.index++;\n        let matrix;\n\n        if (hasMatrix) {\n          modelMatrix.set(\n            constantMatrix ? getTransformMatrix : getTransformMatrix(object, objectInfo)\n          );\n          matrix = getExtendedMat3FromMat4(modelMatrix);\n        } else {\n          matrix = valueArray;\n\n          const orientation = constantOrientation\n            ? getOrientation\n            : getOrientation(object, objectInfo);\n          const scale = constantScale ? getScale : getScale(object, objectInfo);\n\n          calculateTransformMatrix(matrix, orientation, scale);\n          matrix.set(constantTranslation ? getTranslation : getTranslation(object, objectInfo), 9);\n        }\n\n        instanceModelMatrixData[i++] = matrix[0];\n        instanceModelMatrixData[i++] = matrix[1];\n        instanceModelMatrixData[i++] = matrix[2];\n        instanceModelMatrixData[i++] = matrix[3];\n        instanceModelMatrixData[i++] = matrix[4];\n        instanceModelMatrixData[i++] = matrix[5];\n        instanceModelMatrixData[i++] = matrix[6];\n        instanceModelMatrixData[i++] = matrix[7];\n        instanceModelMatrixData[i++] = matrix[8];\n        instanceModelMatrixData[i++] = matrix[9];\n        instanceModelMatrixData[i++] = matrix[10];\n        instanceModelMatrixData[i++] = matrix[11];\n      }\n    }\n  }\n};\n\n// only apply composeModelMatrix when in cartesian or meter_offsets coordinate system\n// with `composeModelMatrix` enabled, the rotation part of the layer's modelMatrix will be composed to instance's transformations\n// since rotating latitude and longitude can not provide meaningful results, hence `composeModelMatrix` is disabled\n// when in LNGLAT and LNGLAT_OFFSET coordinates.\nexport function shouldComposeModelMatrix(viewport, coordinateSystem) {\n  return (\n    coordinateSystem === COORDINATE_SYSTEM.CARTESIAN ||\n    coordinateSystem === COORDINATE_SYSTEM.METER_OFFSETS ||\n    (coordinateSystem === COORDINATE_SYSTEM.DEFAULT && !viewport.isGeospatial)\n  );\n}\n","import { PathLayer } from '@deck.gl/layers';\nimport { PathLayerProps } from '@deck.gl/layers/path-layer/path-layer';\nimport GL from '@luma.gl/constants';\nimport { Framebuffer, Texture2D } from '@luma.gl/core';\nimport outline from '../../shaderlib/outline/outline';\nimport { UNIT } from '../../constants';\n\n// TODO - this should be built into assembleShaders\nfunction injectShaderCode({ source, code = '' }) {\n  const INJECT_CODE = /}[^{}]*$/;\n  return source.replace(INJECT_CODE, code.concat('\\n}\\n'));\n}\n\nconst VS_CODE = `\\\n  outline_setUV(gl_Position);\n  outline_setZLevel(instanceZLevel);\n`;\n\nconst FS_CODE = `\\\n  gl_FragColor = outline_filterColor(gl_FragColor);\n`;\n\nexport interface PathOutlineLayerProps<D> extends PathLayerProps<D> {\n  dashJustified?: boolean;\n  getDashArray?: [number, number] | ((d: D) => [number, number] | null);\n  getZLevel?: (d: D, index: number) => number;\n}\n\nconst defaultProps: PathOutlineLayerProps<any> = {\n  getZLevel: () => 0,\n};\n\nexport default class PathOutlineLayer<\n  D,\n  P extends PathOutlineLayerProps<D> = PathOutlineLayerProps<D>\n> extends PathLayer<D, P> {\n  static layerName = 'PathOutlineLayer';\n  static defaultProps = defaultProps;\n\n  // Override getShaders to inject the outline module\n  getShaders() {\n    const shaders = super.getShaders();\n    return Object.assign({}, shaders, {\n      modules: shaders.modules.concat([outline]),\n      vs: injectShaderCode({ source: shaders.vs, code: VS_CODE }),\n      fs: injectShaderCode({ source: shaders.fs, code: FS_CODE }),\n    });\n  }\n\n  initializeState(context: any) {\n    super.initializeState(context);\n\n    // Create an outline \"shadow\" map\n    // TODO - we should create a single outlineMap for all layers\n    this.setState({\n      outlineFramebuffer: new Framebuffer(context.gl),\n      dummyTexture: new Texture2D(context.gl),\n    });\n\n    // Create an attribute manager\n    this.state.attributeManager.addInstanced({\n      instanceZLevel: {\n        size: 1,\n        type: GL.UNSIGNED_BYTE,\n        accessor: 'getZLevel',\n      },\n    });\n  }\n\n  // Override draw to add render module\n  draw({ moduleParameters = {}, parameters, uniforms, context }) {\n    // Need to calculate same uniforms as base layer\n    const {\n      jointRounded,\n      capRounded,\n      billboard,\n      miterLimit,\n      widthUnits,\n      widthScale,\n      widthMinPixels,\n      widthMaxPixels,\n    } = this.props;\n\n    uniforms = Object.assign({}, uniforms, {\n      jointType: Number(jointRounded),\n      capType: Number(capRounded),\n      billboard,\n      widthUnits: UNIT[widthUnits],\n      widthScale,\n      miterLimit,\n      widthMinPixels,\n      widthMaxPixels,\n    });\n\n    // Render the outline shadowmap (based on segment z orders)\n    const { outlineFramebuffer, dummyTexture } = this.state;\n    outlineFramebuffer.resize();\n    outlineFramebuffer.clear({ color: true, depth: true });\n\n    this.state.model.updateModuleSettings({\n      outlineEnabled: true,\n      outlineRenderShadowmap: true,\n      outlineShadowmap: dummyTexture,\n    });\n\n    this.state.model.draw({\n      uniforms: Object.assign({}, uniforms, {\n        jointType: 0,\n        widthScale: this.props.widthScale * 1.3,\n      }),\n      parameters: {\n        depthTest: false,\n        // Biggest value needs to go into buffer\n        blendEquation: GL.MAX,\n      },\n      framebuffer: outlineFramebuffer,\n    });\n\n    // Now use the outline shadowmap to render the lines (with outlines)\n    this.state.model.updateModuleSettings({\n      outlineEnabled: true,\n      outlineRenderShadowmap: false,\n      outlineShadowmap: outlineFramebuffer,\n    });\n    this.state.model.draw({\n      uniforms: Object.assign({}, uniforms, {\n        jointType: Number(jointRounded),\n        capType: Number(capRounded),\n        widthScale: this.props.widthScale,\n      }),\n      parameters: {\n        depthTest: false,\n      },\n    });\n  }\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose\";\nimport {asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipPolygon from \"./polygon\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport function clipExtent(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipExtent(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default function(x) {\n  return x;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {tau} from \"../math\";\nimport noop from \"../noop\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity\";\nimport stream from \"../stream\";\nimport pathArea from \"./area\";\nimport pathBounds from \"./bounds\";\nimport pathCentroid from \"./centroid\";\nimport PathContext from \"./context\";\nimport pathMeasure from \"./measure\";\nimport PathString from \"./string\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import clipBuffer from \"./buffer\";\nimport clipPolygon from \"./polygon\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(rotate, sink) {\n    var line = clipLine(sink),\n        rotatedStart = rotate.invert(start[0], start[1]),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, rotatedStart);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      var point = rotate(lambda, phi);\n      if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      var point = rotate(lambda, phi);\n      line.point(point[0], point[1]);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      var point = rotate(lambda, phi);\n      ringSink.point(point[0], point[1]);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius, delta) {\n  var cr = cos(radius),\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nexport function fitExtent(projection, extent, object) {\n  var w = extent[1][0] - extent[0][0],\n      h = extent[1][1] - extent[0][1],\n      clip = projection.clipExtent && projection.clipExtent();\n\n  projection\n      .scale(150)\n      .translate([0, 0]);\n\n  if (clip != null) projection.clipExtent(null);\n\n  geoStream(object, projection.stream(boundsStream));\n\n  var b = boundsStream.result(),\n      k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n      x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n      y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n  if (clip != null) projection.clipExtent(clip);\n\n  return projection\n      .scale(k * 150)\n      .translate([x, y]);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport {clipExtent} from \"../clip/extent\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {degrees, radians, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math\";\nimport rotation from \"../rotation\";\nimport projection from \"./index\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import projection from \"./index\";\nimport {abs, epsilon} from \"../math\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math\";\nimport {mercatorProjection} from \"./mercator\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","import center from '@turf/center';\nimport { GeoJSONReader, BufferOp, GeoJSONWriter } from 'turf-jsts';\nimport { featureEach, geomEach } from '@turf/meta';\nimport { geoAzimuthalEquidistant } from 'd3-geo';\nimport { featureCollection, earthRadius, radiansToLength, lengthToRadians, feature } from '@turf/helpers';\n\n/**\n * Calculates a buffer for input features for a given radius. Units supported are miles, kilometers, and degrees.\n *\n * When using a negative radius, the resulting geometry may be invalid if\n * it's too small compared to the radius magnitude. If the input is a\n * FeatureCollection, only valid members will be returned in the output\n * FeatureCollection - i.e., the output collection may have fewer members than\n * the input, or even be empty.\n *\n * @name buffer\n * @param {FeatureCollection|Geometry|Feature<any>} geojson input to be buffered\n * @param {number} radius distance to draw the buffer (negative values are allowed)\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=\"kilometers\"] any of the options supported by turf units\n * @param {number} [options.steps=8] number of steps\n * @returns {FeatureCollection|Feature<Polygon|MultiPolygon>|undefined} buffered features\n * @example\n * var point = turf.point([-90.548630, 14.616599]);\n * var buffered = turf.buffer(point, 500, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [point, buffered]\n */\nfunction buffer(geojson, radius, options) {\n  // Optional params\n  options = options || {};\n\n  // use user supplied options or default values\n  var units = options.units || \"kilometers\";\n  var steps = options.steps || 8;\n\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (typeof options !== \"object\") throw new Error(\"options must be an object\");\n  if (typeof steps !== \"number\") throw new Error(\"steps must be an number\");\n\n  // Allow negative buffers (\"erosion\") or zero-sized buffers (\"repair geometry\")\n  if (radius === undefined) throw new Error(\"radius is required\");\n  if (steps <= 0) throw new Error(\"steps must be greater than 0\");\n\n  var results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        var buffered = bufferFeature(geometry, radius, units, steps);\n        if (buffered) results.push(buffered);\n      });\n      return featureCollection(results);\n    case \"FeatureCollection\":\n      featureEach(geojson, function (feature) {\n        var multiBuffered = bufferFeature(feature, radius, units, steps);\n        if (multiBuffered) {\n          featureEach(multiBuffered, function (buffered) {\n            if (buffered) results.push(buffered);\n          });\n        }\n      });\n      return featureCollection(results);\n  }\n  return bufferFeature(geojson, radius, units, steps);\n}\n\n/**\n * Buffer single Feature/Geometry\n *\n * @private\n * @param {Feature<any>} geojson input to be buffered\n * @param {number} radius distance to draw the buffer\n * @param {string} [units='kilometers'] any of the options supported by turf units\n * @param {number} [steps=8] number of steps\n * @returns {Feature<Polygon|MultiPolygon>} buffered feature\n */\nfunction bufferFeature(geojson, radius, units, steps) {\n  var properties = geojson.properties || {};\n  var geometry = geojson.type === \"Feature\" ? geojson.geometry : geojson;\n\n  // Geometry Types faster than jsts\n  if (geometry.type === \"GeometryCollection\") {\n    var results = [];\n    geomEach(geojson, function (geometry) {\n      var buffered = bufferFeature(geometry, radius, units, steps);\n      if (buffered) results.push(buffered);\n    });\n    return featureCollection(results);\n  }\n\n  // Project GeoJSON to Azimuthal Equidistant projection (convert to Meters)\n  var projection = defineProjection(geometry);\n  var projected = {\n    type: geometry.type,\n    coordinates: projectCoords(geometry.coordinates, projection),\n  };\n\n  // JSTS buffer operation\n  var reader = new GeoJSONReader();\n  var geom = reader.read(projected);\n  var distance = radiansToLength(lengthToRadians(radius, units), \"meters\");\n  var buffered = BufferOp.bufferOp(geom, distance, steps);\n  var writer = new GeoJSONWriter();\n  buffered = writer.write(buffered);\n\n  // Detect if empty geometries\n  if (coordsIsNaN(buffered.coordinates)) return undefined;\n\n  // Unproject coordinates (convert to Degrees)\n  var result = {\n    type: buffered.type,\n    coordinates: unprojectCoords(buffered.coordinates, projection),\n  };\n\n  return feature(result, properties);\n}\n\n/**\n * Coordinates isNaN\n *\n * @private\n * @param {Array<any>} coords GeoJSON Coordinates\n * @returns {boolean} if NaN exists\n */\nfunction coordsIsNaN(coords) {\n  if (Array.isArray(coords[0])) return coordsIsNaN(coords[0]);\n  return isNaN(coords[0]);\n}\n\n/**\n * Project coordinates to projection\n *\n * @private\n * @param {Array<any>} coords to project\n * @param {GeoProjection} proj D3 Geo Projection\n * @returns {Array<any>} projected coordinates\n */\nfunction projectCoords(coords, proj) {\n  if (typeof coords[0] !== \"object\") return proj(coords);\n  return coords.map(function (coord) {\n    return projectCoords(coord, proj);\n  });\n}\n\n/**\n * Un-Project coordinates to projection\n *\n * @private\n * @param {Array<any>} coords to un-project\n * @param {GeoProjection} proj D3 Geo Projection\n * @returns {Array<any>} un-projected coordinates\n */\nfunction unprojectCoords(coords, proj) {\n  if (typeof coords[0] !== \"object\") return proj.invert(coords);\n  return coords.map(function (coord) {\n    return unprojectCoords(coord, proj);\n  });\n}\n\n/**\n * Define Azimuthal Equidistant projection\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Base projection on center of GeoJSON\n * @returns {GeoProjection} D3 Geo Azimuthal Equidistant Projection\n */\nfunction defineProjection(geojson) {\n  var coords = center(geojson).geometry.coordinates;\n  var rotation = [-coords[0], -coords[1]];\n  return geoAzimuthalEquidistant().rotate(rotation).scale(earthRadius);\n}\n\nexport default buffer;\n","import type {Loader, LoaderOptions} from '@loaders.gl/loader-utils';\nimport type {DracoParseOptions} from './lib/draco-parser';\n// import type {DracoMeshData} from './types';\nimport {VERSION} from './lib/utils/version';\n\nexport type DracoLoaderOptions = LoaderOptions & {\n  draco?: DracoParseOptions & {\n    decoderType?: 'wasm' | 'js';\n    libraryPath?: string;\n    extraAttributes?;\n    attributeNameEntry?: string;\n  };\n};\n\nconst DEFAULT_DRACO_OPTIONS: DracoLoaderOptions = {\n  draco: {\n    decoderType: typeof WebAssembly === 'object' ? 'wasm' : 'js', // 'js' for IE11\n    libraryPath: 'libs/',\n    extraAttributes: {},\n    attributeNameEntry: undefined\n  }\n};\n\n/**\n * Worker loader for Draco3D compressed geometries\n */\nexport const DracoLoader = {\n  name: 'Draco',\n  id: 'draco',\n  module: 'draco',\n  shapes: ['mesh'],\n  version: VERSION,\n  worker: true,\n  extensions: ['drc'],\n  mimeTypes: ['application/octet-stream'],\n  binary: true,\n  tests: ['DRACO'],\n  options: DEFAULT_DRACO_OPTIONS\n};\n\nexport const _TypecheckDracoLoader: Loader = DracoLoader;\n","import {assert} from '../../utils/assert';\nimport Field from './field';\n\nexport type SchemaMetadata = Map<string, any>;\n\n/**\n * ArrowJS `Schema` API-compatible class for row-based tables (returned from `DataTable`)\n * https://loaders.gl/arrowjs/docs/api-reference/schema\n */\nexport default class Schema {\n  fields: Field[];\n  // TODO - Arrow just allows Map<string, string>\n  metadata: SchemaMetadata;\n\n  constructor(fields: Field[], metadata?: SchemaMetadata) {\n    assert(Array.isArray(fields));\n    checkNames(fields);\n    // For kepler fields, create arrow compatible `Fields` that have kepler fields as `metadata`\n    this.fields = fields;\n    this.metadata = metadata || new Map();\n  }\n\n  // TODO - arrow only seems to compare fields, not metadata\n  compareTo(other: Schema): boolean {\n    if (this.metadata !== other.metadata) {\n      return false;\n    }\n    if (this.fields.length !== other.fields.length) {\n      return false;\n    }\n    for (let i = 0; i < this.fields.length; ++i) {\n      if (!this.fields[i].compareTo(other.fields[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  select(...columnNames: string[]): Schema {\n    // Ensure column names reference valid fields\n    const nameMap = Object.create(null);\n    for (const name of columnNames) {\n      nameMap[name] = true;\n    }\n    const selectedFields = this.fields.filter((field) => nameMap[field.name]);\n    return new Schema(selectedFields, this.metadata);\n  }\n\n  selectAt(...columnIndices: number[]): Schema {\n    // Ensure column indices reference valid fields\n    const selectedFields = columnIndices.map((index) => this.fields[index]).filter(Boolean);\n    return new Schema(selectedFields, this.metadata);\n  }\n\n  assign(schemaOrFields: Schema | Field[]): Schema {\n    let fields: Field[];\n    let metadata: SchemaMetadata = this.metadata;\n\n    if (schemaOrFields instanceof Schema) {\n      const otherSchema = schemaOrFields;\n      fields = otherSchema.fields;\n      metadata = mergeMaps(mergeMaps(new Map(), this.metadata), otherSchema.metadata);\n    } else {\n      fields = schemaOrFields;\n    }\n\n    // Create a merged list of fields, overwrite fields in place, new fields at end\n    const fieldMap: {[key: string]: Field} = Object.create(null);\n\n    for (const field of this.fields) {\n      fieldMap[field.name] = field;\n    }\n\n    for (const field of fields) {\n      fieldMap[field.name] = field;\n    }\n\n    const mergedFields = Object.values(fieldMap);\n\n    return new Schema(mergedFields, metadata);\n  }\n}\n\n// Warn if any duplicated field names\nfunction checkNames(fields: Field[]): void {\n  const usedNames: Record<string, boolean> = {};\n  for (const field of fields) {\n    if (usedNames[field.name]) {\n      // eslint-disable-next-line\n      console.warn('Schema: duplicated field name', field.name, field);\n    }\n    usedNames[field.name] = true;\n  }\n}\n\nfunction mergeMaps<T>(m1: T, m2: T): T {\n  // @ts-ignore\n  return new Map([...(m1 || new Map()), ...(m2 || new Map())]);\n}\n","// Replacement for the external assert method to reduce bundle size\n// Note: We don't use the second \"message\" argument in calling code,\n// so no need to support it here\nexport function assert(condition: unknown, message?: string): void {\n  if (!condition) {\n    throw new Error(message || 'assert failed: gltf');\n  }\n}\n","import {DataType} from './type';\n\n/**\n * ArrowJS `Field` API-compatible class for row-based tables\n * https://loaders.gl/arrowjs/docs/api-reference/field\n * A field holds name, nullable, and metadata information about a table \"column\"\n * A Schema is essentially a list of fields\n */\nexport default class Field {\n  name: string;\n  type: DataType;\n  nullable: boolean;\n  metadata: Map<string, string>;\n\n  constructor(\n    name: string,\n    type: DataType,\n    nullable = false,\n    metadata: Map<string, string> = new Map()\n  ) {\n    this.name = name;\n    this.type = type;\n    this.nullable = nullable;\n    this.metadata = metadata;\n  }\n\n  get typeId(): number {\n    return this.type && this.type.typeId;\n  }\n\n  clone(): Field {\n    return new Field(this.name, this.type, this.nullable, this.metadata);\n  }\n\n  compareTo(other: this): boolean {\n    return (\n      this.name === other.name &&\n      this.type === other.type &&\n      this.nullable === other.nullable &&\n      this.metadata === other.metadata\n    );\n  }\n\n  toString(): string {\n    return `${this.type}${this.nullable ? ', nullable' : ''}${\n      this.metadata ? `, metadata: ${this.metadata}` : ''\n    }`;\n  }\n}\n","// This code is adapted from ArrowJS https://github.com/apache/arrow\n// under Apache license http://www.apache.org/licenses/LICENSE-2.0\n\n/**\n * Main data type enumeration.\n *\n * Data types in this library are all *logical*. They can be expressed as\n * either a primitive physical type (bytes or bits of some fixed size), a\n * nested type consisting of other data types, or another data type (e.g. a\n * timestamp encoded as an int64).\n *\n * **Note**: Only enum values 0-17 (NONE through Map) are written to an Arrow\n * IPC payload.\n *\n * The rest of the values are specified here so TypeScript can narrow the type\n * signatures further beyond the base Arrow Types. The Arrow DataTypes include\n * metadata like `bitWidth` that impact the type signatures of the values we\n * accept and return.\n *\n * For example, the `Int8Vector` reads 1-byte numbers from an `Int8Array`, an\n * `Int32Vector` reads a 4-byte number from an `Int32Array`, and an `Int64Vector`\n * reads a pair of 4-byte lo, hi 32-bit integers as a zero-copy slice from the\n * underlying `Int32Array`.\n *\n * Library consumers benefit by knowing the narrowest type, since we can ensure\n * the types across all public methods are propagated, and never bail to `any`.\n * These values are _never_ used at runtime, and they will _never_ be written\n * to the flatbuffers metadata of serialized Arrow IPC payloads.\n */\nexport enum Type {\n  /** The default placeholder type */\n  NONE = 0,\n  /** A NULL type having no physical storage */\n  Null = 1,\n  /** Signed or unsigned 8, 16, 32, or 64-bit little-endian integer */\n  Int = 2,\n  /** 2, 4, or 8-byte floating point value */\n  Float = 3,\n  /** Variable-length bytes (no guarantee of UTF8-ness) */\n  Binary = 4,\n  /** UTF8 variable-length string as List<Char> */\n  Utf8 = 5,\n  /** Boolean as 1 bit, LSB bit-packed ordering */\n  Bool = 6,\n  /** Precision-and-scale-based decimal type. Storage type depends on the parameters. */\n  Decimal = 7,\n  /** int32_t days or int64_t milliseconds since the UNIX epoch */\n  Date = 8,\n  /** Time as signed 32 or 64-bit integer, representing either seconds, milliseconds, microseconds, or nanoseconds since midnight since midnight */\n  Time = 9,\n  /** Exact timestamp encoded with int64 since UNIX epoch (Default unit millisecond) */\n  Timestamp = 10,\n  /** YEAR_MONTH or DAY_TIME interval in SQL style */\n  Interval = 11,\n  /** A list of some logical data type */\n  List = 12,\n  /** Struct of logical types */\n  Struct = 13,\n  /** Union of logical types */\n  Union = 14,\n  /** Fixed-size binary. Each value occupies the same number of bytes */\n  FixedSizeBinary = 15,\n  /** Fixed-size list. Each value occupies the same number of bytes */\n  FixedSizeList = 16,\n  /** Map of named logical types */\n  Map = 17,\n\n  /** Dictionary aka Category type */\n  Dictionary = -1,\n  Int8 = -2,\n  Int16 = -3,\n  Int32 = -4,\n  Int64 = -5,\n  Uint8 = -6,\n  Uint16 = -7,\n  Uint32 = -8,\n  Uint64 = -9,\n  Float16 = -10,\n  Float32 = -11,\n  Float64 = -12,\n  DateDay = -13,\n  DateMillisecond = -14,\n  TimestampSecond = -15,\n  TimestampMillisecond = -16,\n  TimestampMicrosecond = -17,\n  TimestampNanosecond = -18,\n  TimeSecond = -19,\n  TimeMillisecond = -20,\n  TimeMicrosecond = -21,\n  TimeNanosecond = -22,\n  DenseUnion = -23,\n  SparseUnion = -24,\n  IntervalDayTime = -25,\n  IntervalYearMonth = -26\n}\n","// This code is adapted from ArrowJS https://github.com/apache/arrow\n// under Apache license http://www.apache.org/licenses/LICENSE-2.0\n\nimport {Type} from './enum';\n\nimport Field from './field';\n\nexport {Type} from './enum';\n\nexport type TypedIntArray =\n  | Int8Array\n  | Uint8Array\n  | Int16Array\n  | Uint16Array\n  | Int32Array\n  | Uint32Array\n  | Int32Array\n  | Uint32Array\n  | Uint8ClampedArray;\n\nexport type TypedFloatArray = Float32Array | Float64Array;\n\nexport type TypedArray = TypedIntArray | TypedFloatArray;\n\nexport type AnyArrayType = Array<any> | TypedIntArray | TypedFloatArray;\n\nexport class DataType {\n  static isNull(x: any): boolean {\n    return x && x.typeId === Type.Null;\n  }\n  static isInt(x: any): boolean {\n    return x && x.typeId === Type.Int;\n  }\n  static isFloat(x: any): boolean {\n    return x && x.typeId === Type.Float;\n  }\n  static isBinary(x: any): boolean {\n    return x && x.typeId === Type.Binary;\n  }\n  static isUtf8(x: any): boolean {\n    return x && x.typeId === Type.Utf8;\n  }\n  static isBool(x: any): boolean {\n    return x && x.typeId === Type.Bool;\n  }\n  static isDecimal(x: any): boolean {\n    return x && x.typeId === Type.Decimal;\n  }\n  static isDate(x: any): boolean {\n    return x && x.typeId === Type.Date;\n  }\n  static isTime(x: any): boolean {\n    return x && x.typeId === Type.Time;\n  }\n  static isTimestamp(x: any): boolean {\n    return x && x.typeId === Type.Timestamp;\n  }\n  static isInterval(x: any): boolean {\n    return x && x.typeId === Type.Interval;\n  }\n  static isList(x: any): boolean {\n    return x && x.typeId === Type.List;\n  }\n  static isStruct(x: any): boolean {\n    return x && x.typeId === Type.Struct;\n  }\n  static isUnion(x: any): boolean {\n    return x && x.typeId === Type.Union;\n  }\n  static isFixedSizeBinary(x: any): boolean {\n    return x && x.typeId === Type.FixedSizeBinary;\n  }\n  static isFixedSizeList(x: any): boolean {\n    return x && x.typeId === Type.FixedSizeList;\n  }\n  static isMap(x: any): boolean {\n    return x && x.typeId === Type.Map;\n  }\n  static isDictionary(x: any): boolean {\n    return x && x.typeId === Type.Dictionary;\n  }\n\n  get typeId(): Type {\n    return Type.NONE;\n  }\n\n  // get ArrayType(): AnyArrayType {\n  //   return Int8Array;\n  // }\n\n  // get ArrayType() { return Array; }\n  compareTo(other: DataType): boolean {\n    // TODO\n    return this === other; // comparer.visit(this, other);\n  }\n}\n\n// NULL\n\nexport class Null extends DataType {\n  get typeId(): Type {\n    return Type.Null;\n  }\n  get [Symbol.toStringTag](): string {\n    return 'Null';\n  }\n  toString(): string {\n    return 'Null';\n  }\n}\n\n// BOOLEANS\n\nexport class Bool extends DataType {\n  get typeId(): Type {\n    return Type.Bool;\n  }\n  // get ArrayType() {\n  //   return Uint8Array;\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Bool';\n  }\n  toString(): string {\n    return 'Bool';\n  }\n}\n\n// INTS\n\nexport class Int extends DataType {\n  readonly isSigned: boolean;\n  readonly bitWidth: number;\n  constructor(isSigned, bitWidth) {\n    super();\n    this.isSigned = isSigned;\n    this.bitWidth = bitWidth;\n  }\n  get typeId(): Type {\n    return Type.Int;\n  }\n  // get ArrayType() {\n  //   switch (this.bitWidth) {\n  //     case 8:\n  //       return this.isSigned ? Int8Array : Uint8Array;\n  //     case 16:\n  //       return this.isSigned ? Int16Array : Uint16Array;\n  //     case 32:\n  //       return this.isSigned ? Int32Array : Uint32Array;\n  //     case 64:\n  //       return this.isSigned ? Int32Array : Uint32Array;\n  //     default:\n  //       throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\n  //   }\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Int';\n  }\n  toString(): string {\n    return `${this.isSigned ? 'I' : 'Ui'}nt${this.bitWidth}`;\n  }\n}\n\nexport class Int8 extends Int {\n  constructor() {\n    super(true, 8);\n  }\n}\nexport class Int16 extends Int {\n  constructor() {\n    super(true, 16);\n  }\n}\nexport class Int32 extends Int {\n  constructor() {\n    super(true, 32);\n  }\n}\nexport class Int64 extends Int {\n  constructor() {\n    super(true, 64);\n  }\n}\nexport class Uint8 extends Int {\n  constructor() {\n    super(false, 8);\n  }\n}\nexport class Uint16 extends Int {\n  constructor() {\n    super(false, 16);\n  }\n}\nexport class Uint32 extends Int {\n  constructor() {\n    super(false, 32);\n  }\n}\nexport class Uint64 extends Int {\n  constructor() {\n    super(false, 64);\n  }\n}\n\n// FLOATS\n\nconst Precision = {\n  HALF: 16,\n  SINGLE: 32,\n  DOUBLE: 64\n};\n\nexport class Float extends DataType {\n  readonly precision: number;\n  constructor(precision) {\n    super();\n    this.precision = precision;\n  }\n  get typeId(): Type {\n    return Type.Float;\n  }\n  // get ArrayType() {\n  //   switch (this.precision) {\n  //     case Precision.HALF:\n  //       return Uint16Array;\n  //     case Precision.SINGLE:\n  //       return Float32Array;\n  //     case Precision.DOUBLE:\n  //       return Float64Array;\n  //     default:\n  //       throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\n  //   }\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Float';\n  }\n  toString(): string {\n    return `Float${this.precision}`;\n  }\n}\n\nexport class Float16 extends Float {\n  constructor() {\n    super(Precision.HALF);\n  }\n}\nexport class Float32 extends Float {\n  constructor() {\n    super(Precision.SINGLE);\n  }\n}\nexport class Float64 extends Float {\n  constructor() {\n    super(Precision.DOUBLE);\n  }\n}\n\nexport class Binary extends DataType {\n  constructor() {\n    super();\n  }\n  get typeId() {\n    return Type.Binary;\n  }\n  toString() {\n    return 'Binary';\n  }\n  get [Symbol.toStringTag]() {\n    return 'Binary';\n  }\n}\n\n// STRINGS\n\nexport class Utf8 extends DataType {\n  get typeId(): Type {\n    return Type.Utf8;\n  }\n  // get ArrayType() {\n  //   return Uint8Array;\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Utf8';\n  }\n  toString(): string {\n    return 'Utf8';\n  }\n}\n\n// DATES, TIMES AND INTERVALS\n\nconst DateUnit = {\n  DAY: 0,\n  MILLISECOND: 1\n};\n\nexport class Date extends DataType {\n  readonly unit: number;\n  constructor(unit) {\n    super();\n    this.unit = unit;\n  }\n  get typeId(): Type {\n    return Type.Date;\n  }\n  // get ArrayType() {\n  //   return Int32Array;\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Date';\n  }\n  toString(): string {\n    return `Date${(this.unit + 1) * 32}<${DateUnit[this.unit]}>`;\n  }\n}\n\nexport class DateDay extends Date {\n  constructor() {\n    super(DateUnit.DAY);\n  }\n}\nexport class DateMillisecond extends Date {\n  constructor() {\n    super(DateUnit.MILLISECOND);\n  }\n}\n\nconst TimeUnit = {\n  SECOND: 1,\n  MILLISECOND: 1e3,\n  MICROSECOND: 1e6,\n  NANOSECOND: 1e9\n};\n\nexport class Time extends DataType {\n  readonly unit: any;\n  readonly bitWidth: number;\n\n  constructor(unit: any, bitWidth: number) {\n    super();\n    this.unit = unit;\n    this.bitWidth = bitWidth;\n  }\n  get typeId(): Type {\n    return Type.Time;\n  }\n  toString(): string {\n    return `Time${this.bitWidth}<${TimeUnit[this.unit]}>`;\n  }\n  get [Symbol.toStringTag](): string {\n    return 'Time';\n  }\n  // get ArrayType() {\n  //   return Int32Array;\n  // }\n}\n\nexport class TimeSecond extends Time {\n  constructor() {\n    super(TimeUnit.SECOND, 32);\n  }\n}\nexport class TimeMillisecond extends Time {\n  constructor() {\n    super(TimeUnit.MILLISECOND, 32);\n  }\n}\n// export class TimeMicrosecond extends Time { constructor() { super(TimeUnit.MICROSECOND, 64); } }\n// export class TimeNanosecond extends Time { constructor() { super(TimeUnit.NANOSECOND, 64); } }\n\nexport class Timestamp extends DataType {\n  readonly unit: any;\n  readonly timezone: any;\n\n  constructor(unit: any, timezone = null) {\n    super();\n    this.unit = unit;\n    this.timezone = timezone;\n  }\n  get typeId(): Type {\n    return Type.Timestamp;\n  }\n  // get ArrayType() {\n  //   return Int32Array;\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Timestamp';\n  }\n  toString(): string {\n    return `Timestamp<${TimeUnit[this.unit]}${this.timezone ? `, ${this.timezone}` : ''}>`;\n  }\n}\n\nexport class TimestampSecond extends Timestamp {\n  constructor(timezone = null) {\n    super(TimeUnit.SECOND, timezone);\n  }\n}\nexport class TimestampMillisecond extends Timestamp {\n  constructor(timezone = null) {\n    super(TimeUnit.MILLISECOND, timezone);\n  }\n}\nexport class TimestampMicrosecond extends Timestamp {\n  constructor(timezone = null) {\n    super(TimeUnit.MICROSECOND, timezone);\n  }\n}\nexport class TimestampNanosecond extends Timestamp {\n  constructor(timezone = null) {\n    super(TimeUnit.NANOSECOND, timezone);\n  }\n}\n\nconst IntervalUnit = {\n  DAY_TIME: 0,\n  YEAR_MONTH: 1\n};\n\nexport class Interval extends DataType {\n  readonly unit: number;\n  constructor(unit: number) {\n    super();\n    this.unit = unit;\n  }\n  get typeId(): Type {\n    return Type.Interval;\n  }\n  // get ArrayType() {\n  //   return Int32Array;\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'Interval';\n  }\n  toString(): string {\n    return `Interval<${IntervalUnit[this.unit]}>`;\n  }\n}\n\nexport class IntervalDayTime extends Interval {\n  constructor() {\n    super(IntervalUnit.DAY_TIME);\n  }\n}\nexport class IntervalYearMonth extends Interval {\n  constructor() {\n    super(IntervalUnit.YEAR_MONTH);\n  }\n}\n\nexport class FixedSizeList extends DataType {\n  readonly listSize: number;\n  readonly children: Field[];\n\n  constructor(listSize: number, child: Field) {\n    super();\n    this.listSize = listSize;\n    this.children = [child];\n  }\n  get typeId(): Type {\n    return Type.FixedSizeList;\n  }\n  get valueType() {\n    return this.children[0].type;\n  }\n  get valueField() {\n    return this.children[0];\n  }\n  // get ArrayType() {\n  //   return this.valueType.ArrayType;\n  // }\n  get [Symbol.toStringTag](): string {\n    return 'FixedSizeList';\n  }\n  toString(): string {\n    return `FixedSizeList[${this.listSize}]<${this.valueType}>`;\n  }\n}\n\nexport class Struct extends DataType {\n  public readonly children: Field[];\n\n  constructor(children: Field[]) {\n    super();\n    this.children = children;\n  }\n\n  public get typeId() {\n    return Type.Struct;\n  }\n  public toString() {\n    return `Struct<{${this.children.map((f) => `${f.name}:${f.type}`).join(', ')}}>`;\n  }\n  get [Symbol.toStringTag](): string {\n    return 'Struct';\n  }\n}\n","import {MeshAttribute, MeshAttributes} from './mesh-types';\nimport {Schema, Field, FixedSizeList} from '../../lib/schema/schema';\nimport {getArrowTypeFromTypedArray} from '../../lib/arrow/arrow-like-type-utils';\n\n/**\n * Create a schema for mesh attributes data\n * @param attributes\n * @param metadata\n * @returns\n */\nexport function deduceMeshSchema(\n  attributes: MeshAttributes,\n  metadata?: Map<string, string>\n): Schema {\n  const fields = deduceMeshFields(attributes);\n  return new Schema(fields, metadata);\n}\n\n/**\n * Create arrow-like schema field for mesh attribute\n * @param attributeName\n * @param attribute\n * @param optionalMetadata\n * @returns\n */\nexport function deduceMeshField(\n  attributeName: string,\n  attribute: MeshAttribute,\n  optionalMetadata?: Map<string, string>\n): Field {\n  const type = getArrowTypeFromTypedArray(attribute.value);\n  const metadata = optionalMetadata ? optionalMetadata : makeMeshAttributeMetadata(attribute);\n  const field = new Field(\n    attributeName,\n    new FixedSizeList(attribute.size, new Field('value', type)),\n    false,\n    metadata\n  );\n  return field;\n}\n\n/**\n * Create fields array for mesh attributes\n * @param attributes\n * @returns\n */\nfunction deduceMeshFields(attributes: MeshAttributes): Field[] {\n  const fields: Field[] = [];\n  for (const attributeName in attributes) {\n    const attribute: MeshAttribute = attributes[attributeName];\n    fields.push(deduceMeshField(attributeName, attribute));\n  }\n  return fields;\n}\n\n/**\n * Make metadata by mesh attribute properties\n * @param attribute\n * @returns\n */\nexport function makeMeshAttributeMetadata(attribute: MeshAttribute): Map<string, string> {\n  const result = new Map();\n  if ('byteOffset' in attribute) {\n    result.set('byteOffset', attribute.byteOffset!.toString(10));\n  }\n  if ('byteStride' in attribute) {\n    result.set('byteStride', attribute.byteStride!.toString(10));\n  }\n  if ('normalized' in attribute) {\n    result.set('normalized', attribute.normalized!.toString());\n  }\n  return result;\n}\n","import type {TypedArray} from '../../types';\nimport {\n  DataType,\n  Float32,\n  Float64,\n  Int16,\n  Int32,\n  Int8,\n  Uint16,\n  Uint32,\n  Uint8\n} from '../schema/schema';\n\nexport function getArrowTypeFromTypedArray(array: TypedArray): DataType {\n  switch (array.constructor) {\n    case Int8Array:\n      return new Int8();\n    case Uint8Array:\n      return new Uint8();\n    case Int16Array:\n      return new Int16();\n    case Uint16Array:\n      return new Uint16();\n    case Int32Array:\n      return new Int32();\n    case Uint32Array:\n      return new Uint32();\n    case Float32Array:\n      return new Float32();\n    case Float64Array:\n      return new Float64();\n    default:\n      throw new Error('array type not supported');\n  }\n}\n","import {deduceMeshField, MeshAttribute} from '@loaders.gl/schema';\nimport {Schema, Field} from '@loaders.gl/schema';\nimport type {DracoAttribute, DracoLoaderData, DracoMetadataEntry} from '../draco-types';\n\n/** Extract an arrow-like schema from a Draco mesh */\nexport function getDracoSchema(\n  attributes: {[attributeName: string]: MeshAttribute},\n  loaderData: DracoLoaderData,\n  indices?: MeshAttribute\n): Schema {\n  const metadataMap = makeMetadata(loaderData.metadata);\n  const fields: Field[] = [];\n  const namedLoaderDataAttributes = transformAttributesLoaderData(loaderData.attributes);\n  for (const attributeName in attributes) {\n    const attribute = attributes[attributeName];\n    const field = getArrowFieldFromAttribute(\n      attributeName,\n      attribute,\n      namedLoaderDataAttributes[attributeName]\n    );\n    fields.push(field);\n  }\n  if (indices) {\n    const indicesField = getArrowFieldFromAttribute('indices', indices);\n    fields.push(indicesField);\n  }\n  return new Schema(fields, metadataMap);\n}\n\nfunction transformAttributesLoaderData(loaderData: {[key: number]: DracoAttribute}): {\n  [attributeName: string]: DracoAttribute;\n} {\n  const result: {[attributeName: string]: DracoAttribute} = {};\n  for (const key in loaderData) {\n    const dracoAttribute = loaderData[key];\n    result[dracoAttribute.name || 'undefined'] = dracoAttribute;\n  }\n  return result;\n}\n\nfunction getArrowFieldFromAttribute(\n  attributeName: string,\n  attribute: MeshAttribute,\n  loaderData?: DracoAttribute\n): Field {\n  const metadataMap = loaderData ? makeMetadata(loaderData.metadata) : undefined;\n  const field = deduceMeshField(attributeName, attribute, metadataMap);\n  return field;\n}\n\nfunction makeMetadata(metadata: {[key: string]: DracoMetadataEntry}): Map<string, string> {\n  const metadataMap = new Map();\n  for (const key in metadata) {\n    metadataMap.set(`${key}.string`, JSON.stringify(metadata[key]));\n  }\n  return metadataMap;\n}\n","/* eslint-disable camelcase */\n\nimport type {TypedArray, MeshAttribute, MeshGeometry} from '@loaders.gl/schema';\n\n// Draco types (input)\nimport type {\n  Draco3D,\n  Decoder,\n  Mesh,\n  PointCloud,\n  PointAttribute,\n  Metadata,\n  MetadataQuerier,\n  DracoInt32Array,\n  draco_DataType\n} from '../draco3d/draco3d-types';\n\n// Parsed data types (output)\nimport type {\n  DracoMesh,\n  DracoLoaderData,\n  DracoAttribute,\n  DracoMetadataEntry,\n  DracoQuantizationTransform,\n  DracoOctahedronTransform\n} from './draco-types';\n\nimport {getMeshBoundingBox} from '@loaders.gl/schema';\nimport {getDracoSchema} from './utils/get-draco-schema';\n\n/**\n * @param topology - How triangle indices should be generated (mesh only)\n * @param attributeNameEntry\n * @param extraAttributes\n * @param quantizedAttributes\n * @param octahedronAttributes\n */\nexport type DracoParseOptions = {\n  topology?: 'triangle-list' | 'triangle-strip';\n  attributeNameEntry?: string;\n  extraAttributes?: {[uniqueId: string]: number};\n  quantizedAttributes?: ('POSITION' | 'NORMAL' | 'COLOR' | 'TEX_COORD' | 'GENERIC')[];\n  octahedronAttributes?: ('POSITION' | 'NORMAL' | 'COLOR' | 'TEX_COORD' | 'GENERIC')[];\n};\n\n// @ts-ignore\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst GEOMETRY_TYPE = {\n  TRIANGULAR_MESH: 0,\n  POINT_CLOUD: 1\n};\n\n// Native Draco attribute names to GLTF attribute names.\nconst DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP = {\n  POSITION: 'POSITION',\n  NORMAL: 'NORMAL',\n  COLOR: 'COLOR_0',\n  TEX_COORD: 'TEXCOORD_0'\n};\n\nconst DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP = {\n  1: Int8Array,\n  2: Uint8Array,\n  3: Int16Array,\n  4: Uint16Array,\n  5: Int32Array,\n  6: Uint32Array,\n  9: Float32Array\n};\n\nconst INDEX_ITEM_SIZE = 4;\n\nexport default class DracoParser {\n  draco: Draco3D;\n  decoder: Decoder;\n  metadataQuerier: MetadataQuerier;\n\n  // draco - the draco decoder, either import `draco3d` or load dynamically\n  constructor(draco: Draco3D) {\n    this.draco = draco;\n    this.decoder = new this.draco.Decoder();\n    this.metadataQuerier = new this.draco.MetadataQuerier();\n  }\n\n  /**\n   * Destroy draco resources\n   */\n  destroy(): void {\n    this.draco.destroy(this.decoder);\n    this.draco.destroy(this.metadataQuerier);\n  }\n\n  /**\n   * NOTE: caller must call `destroyGeometry` on the return value after using it\n   * @param arrayBuffer\n   * @param options\n   */\n  parseSync(arrayBuffer: ArrayBuffer, options: DracoParseOptions = {}): DracoMesh {\n    const buffer = new this.draco.DecoderBuffer();\n    buffer.Init(new Int8Array(arrayBuffer), arrayBuffer.byteLength);\n\n    this._disableAttributeTransforms(options);\n\n    const geometry_type = this.decoder.GetEncodedGeometryType(buffer);\n    const dracoGeometry =\n      geometry_type === this.draco.TRIANGULAR_MESH\n        ? new this.draco.Mesh()\n        : new this.draco.PointCloud();\n\n    try {\n      let dracoStatus;\n      switch (geometry_type) {\n        case this.draco.TRIANGULAR_MESH:\n          dracoStatus = this.decoder.DecodeBufferToMesh(buffer, dracoGeometry as Mesh);\n          break;\n\n        case this.draco.POINT_CLOUD:\n          dracoStatus = this.decoder.DecodeBufferToPointCloud(buffer, dracoGeometry);\n          break;\n\n        default:\n          throw new Error('DRACO: Unknown geometry type.');\n      }\n\n      if (!dracoStatus.ok() || !dracoGeometry.ptr) {\n        const message = `DRACO decompression failed: ${dracoStatus.error_msg()}`;\n        // console.error(message);\n        throw new Error(message);\n      }\n\n      const loaderData = this._getDracoLoaderData(dracoGeometry, geometry_type, options);\n\n      const geometry = this._getMeshData(dracoGeometry, loaderData, options);\n\n      const boundingBox = getMeshBoundingBox(geometry.attributes);\n\n      const schema = getDracoSchema(geometry.attributes, loaderData, geometry.indices);\n\n      const data: DracoMesh = {\n        loader: 'draco',\n        loaderData,\n        header: {\n          vertexCount: dracoGeometry.num_points(),\n          boundingBox\n        },\n        ...geometry,\n        schema\n      };\n      return data;\n    } finally {\n      this.draco.destroy(buffer);\n      if (dracoGeometry) {\n        this.draco.destroy(dracoGeometry);\n      }\n    }\n  }\n\n  // Draco specific \"loader data\"\n\n  /**\n   * Extract\n   * @param dracoGeometry\n   * @param geometry_type\n   * @param options\n   * @returns\n   */\n  _getDracoLoaderData(\n    dracoGeometry: Mesh | PointCloud,\n    geometry_type,\n    options: DracoParseOptions\n  ): DracoLoaderData {\n    const metadata = this._getTopLevelMetadata(dracoGeometry);\n    const attributes = this._getDracoAttributes(dracoGeometry, options);\n\n    return {\n      geometry_type,\n      num_attributes: dracoGeometry.num_attributes(),\n      num_points: dracoGeometry.num_points(),\n      num_faces: dracoGeometry instanceof this.draco.Mesh ? dracoGeometry.num_faces() : 0,\n      metadata,\n      attributes\n    };\n  }\n\n  /**\n   * Extract all draco provided information and metadata for each attribute\n   * @param dracoGeometry\n   * @param options\n   * @returns\n   */\n  _getDracoAttributes(\n    dracoGeometry: Mesh | PointCloud,\n    options: DracoParseOptions\n  ): {[unique_id: number]: DracoAttribute} {\n    const dracoAttributes: {[unique_id: number]: DracoAttribute} = {};\n\n    for (let attributeId = 0; attributeId < dracoGeometry.num_attributes(); attributeId++) {\n      // Note: Draco docs do not seem clear on `GetAttribute` ids just being a zero-based index,\n      // but it does seems to work this way\n      const dracoAttribute = this.decoder.GetAttribute(dracoGeometry, attributeId);\n\n      const metadata = this._getAttributeMetadata(dracoGeometry, attributeId);\n\n      dracoAttributes[dracoAttribute.unique_id()] = {\n        unique_id: dracoAttribute.unique_id(),\n        attribute_type: dracoAttribute.attribute_type(),\n        data_type: dracoAttribute.data_type(),\n        num_components: dracoAttribute.num_components(),\n\n        byte_offset: dracoAttribute.byte_offset(),\n        byte_stride: dracoAttribute.byte_stride(),\n        normalized: dracoAttribute.normalized(),\n        attribute_index: attributeId,\n\n        metadata\n      };\n\n      // Add transformation parameters for any attributes app wants untransformed\n      const quantization = this._getQuantizationTransform(dracoAttribute, options);\n      if (quantization) {\n        dracoAttributes[dracoAttribute.unique_id()].quantization_transform = quantization;\n      }\n\n      const octahedron = this._getOctahedronTransform(dracoAttribute, options);\n      if (octahedron) {\n        dracoAttributes[dracoAttribute.unique_id()].octahedron_transform = octahedron;\n      }\n    }\n\n    return dracoAttributes;\n  }\n\n  /**\n   * Get standard loaders.gl mesh category data\n   * Extracts the geometry from draco\n   * @param dracoGeometry\n   * @param options\n   */\n  _getMeshData(\n    dracoGeometry: Mesh | PointCloud,\n    loaderData: DracoLoaderData,\n    options: DracoParseOptions\n  ): MeshGeometry {\n    const attributes = this._getMeshAttributes(loaderData, dracoGeometry, options);\n\n    const positionAttribute = attributes.POSITION;\n    if (!positionAttribute) {\n      throw new Error('DRACO: No position attribute found.');\n    }\n\n    // For meshes, we need indices to define the faces.\n    if (dracoGeometry instanceof this.draco.Mesh) {\n      switch (options.topology) {\n        case 'triangle-strip':\n          return {\n            topology: 'triangle-strip',\n            mode: 4, // GL.TRIANGLES\n            attributes,\n            indices: {\n              value: this._getTriangleStripIndices(dracoGeometry),\n              size: 1\n            }\n          };\n        case 'triangle-list':\n        default:\n          return {\n            topology: 'triangle-list',\n            mode: 5, // GL.TRIANGLE_STRIP\n            attributes,\n            indices: {\n              value: this._getTriangleListIndices(dracoGeometry),\n              size: 1\n            }\n          };\n      }\n    }\n\n    // PointCloud - must come last as Mesh inherits from PointCloud\n    return {\n      topology: 'point-list',\n      mode: 0, // GL.POINTS\n      attributes\n    };\n  }\n\n  _getMeshAttributes(\n    loaderData: DracoLoaderData,\n    dracoGeometry: Mesh | PointCloud,\n    options: DracoParseOptions\n  ): {[attributeName: string]: MeshAttribute} {\n    const attributes: {[key: string]: MeshAttribute} = {};\n\n    for (const loaderAttribute of Object.values(loaderData.attributes)) {\n      const attributeName = this._deduceAttributeName(loaderAttribute, options);\n      loaderAttribute.name = attributeName;\n      const {value, size} = this._getAttributeValues(dracoGeometry, loaderAttribute);\n      attributes[attributeName] = {\n        value,\n        size,\n        byteOffset: loaderAttribute.byte_offset,\n        byteStride: loaderAttribute.byte_stride,\n        normalized: loaderAttribute.normalized\n      };\n    }\n\n    return attributes;\n  }\n\n  // MESH INDICES EXTRACTION\n\n  /**\n   * For meshes, we need indices to define the faces.\n   * @param dracoGeometry\n   */\n  _getTriangleListIndices(dracoGeometry: Mesh) {\n    // Example on how to retrieve mesh and attributes.\n    const numFaces = dracoGeometry.num_faces();\n    const numIndices = numFaces * 3;\n    const byteLength = numIndices * INDEX_ITEM_SIZE;\n\n    const ptr = this.draco._malloc(byteLength);\n    try {\n      this.decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr);\n      return new Uint32Array(this.draco.HEAPF32.buffer, ptr, numIndices).slice();\n    } finally {\n      this.draco._free(ptr);\n    }\n  }\n\n  /**\n   * For meshes, we need indices to define the faces.\n   * @param dracoGeometry\n   */\n  _getTriangleStripIndices(dracoGeometry: Mesh) {\n    const dracoArray = new this.draco.DracoInt32Array();\n    try {\n      /* const numStrips = */ this.decoder.GetTriangleStripsFromMesh(dracoGeometry, dracoArray);\n      return getUint32Array(dracoArray);\n    } finally {\n      this.draco.destroy(dracoArray);\n    }\n  }\n\n  /**\n   *\n   * @param dracoGeometry\n   * @param dracoAttribute\n   * @param attributeName\n   */\n  _getAttributeValues(\n    dracoGeometry: Mesh | PointCloud,\n    attribute: DracoAttribute\n  ): {value: TypedArray; size: number} {\n    const TypedArrayCtor = DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP[attribute.data_type];\n    const numComponents = attribute.num_components;\n    const numPoints = dracoGeometry.num_points();\n    const numValues = numPoints * numComponents;\n\n    const byteLength = numValues * TypedArrayCtor.BYTES_PER_ELEMENT;\n    const dataType = getDracoDataType(this.draco, TypedArrayCtor);\n\n    let value: TypedArray;\n\n    const ptr = this.draco._malloc(byteLength);\n    try {\n      const dracoAttribute = this.decoder.GetAttribute(dracoGeometry, attribute.attribute_index);\n      this.decoder.GetAttributeDataArrayForAllPoints(\n        dracoGeometry,\n        dracoAttribute,\n        dataType,\n        byteLength,\n        ptr\n      );\n      value = new TypedArrayCtor(this.draco.HEAPF32.buffer, ptr, numValues).slice();\n    } finally {\n      this.draco._free(ptr);\n    }\n\n    return {value, size: numComponents};\n  }\n\n  // Attribute names\n\n  /** \n   * DRACO does not store attribute names - We need to deduce an attribute name\n   * for each attribute\n  _getAttributeNames(\n    dracoGeometry: Mesh | PointCloud,\n    options: DracoParseOptions\n  ): {[unique_id: number]: string} {\n    const attributeNames: {[unique_id: number]: string} = {};\n    for (let attributeId = 0; attributeId < dracoGeometry.num_attributes(); attributeId++) {\n      const dracoAttribute = this.decoder.GetAttribute(dracoGeometry, attributeId);\n      const attributeName = this._deduceAttributeName(dracoAttribute, options);\n      attributeNames[attributeName] = attributeName;\n    }\n    return attributeNames;\n  }\n   */\n\n  /**\n   * Deduce an attribute name.\n   * @note DRACO does not save attribute names, just general type (POSITION, COLOR)\n   * to help optimize compression. We generate GLTF compatible names for the Draco-recognized\n   * types\n   * @param attributeData\n   */\n  _deduceAttributeName(attribute: DracoAttribute, options: DracoParseOptions): string {\n    // Deduce name based on application provided map\n    const uniqueId = attribute.unique_id;\n    for (const [attributeName, attributeUniqueId] of Object.entries(\n      options.extraAttributes || {}\n    )) {\n      if (attributeUniqueId === uniqueId) {\n        return attributeName;\n      }\n    }\n\n    // Deduce name based on attribute type\n    const thisAttributeType = attribute.attribute_type;\n    for (const dracoAttributeConstant in DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP) {\n      const attributeType = this.draco[dracoAttributeConstant];\n      if (attributeType === thisAttributeType) {\n        // TODO - Return unique names if there multiple attributes per type\n        // (e.g. multiple TEX_COORDS or COLORS)\n        return DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP[dracoAttributeConstant];\n      }\n    }\n\n    // Look up in metadata\n    // TODO - shouldn't this have priority?\n    const entryName = options.attributeNameEntry || 'name';\n    if (attribute.metadata[entryName]) {\n      return attribute.metadata[entryName].string;\n    }\n\n    // Attribute of \"GENERIC\" type, we need to assign some name\n    return `CUSTOM_ATTRIBUTE_${uniqueId}`;\n  }\n\n  // METADATA EXTRACTION\n\n  /** Get top level metadata */\n  _getTopLevelMetadata(dracoGeometry: Mesh | PointCloud) {\n    const dracoMetadata = this.decoder.GetMetadata(dracoGeometry);\n    return this._getDracoMetadata(dracoMetadata);\n  }\n\n  /** Get per attribute metadata */\n  _getAttributeMetadata(dracoGeometry: Mesh | PointCloud, attributeId: number) {\n    const dracoMetadata = this.decoder.GetAttributeMetadata(dracoGeometry, attributeId);\n    return this._getDracoMetadata(dracoMetadata);\n  }\n\n  /**\n   * Extract metadata field values\n   * @param dracoMetadata\n   * @returns\n   */\n  _getDracoMetadata(dracoMetadata: Metadata): {[entry: string]: DracoMetadataEntry} {\n    // The not so wonderful world of undocumented Draco APIs :(\n    if (!dracoMetadata || !dracoMetadata.ptr) {\n      return {};\n    }\n    const result = {};\n    const numEntries = this.metadataQuerier.NumEntries(dracoMetadata);\n    for (let entryIndex = 0; entryIndex < numEntries; entryIndex++) {\n      const entryName = this.metadataQuerier.GetEntryName(dracoMetadata, entryIndex);\n      result[entryName] = this._getDracoMetadataField(dracoMetadata, entryName);\n    }\n    return result;\n  }\n\n  /**\n   * Extracts possible values for one metadata entry by name\n   * @param dracoMetadata\n   * @param entryName\n   */\n  _getDracoMetadataField(dracoMetadata: Metadata, entryName: string): DracoMetadataEntry {\n    const dracoArray = new this.draco.DracoInt32Array();\n    try {\n      // Draco metadata fields can hold int32 arrays\n      this.metadataQuerier.GetIntEntryArray(dracoMetadata, entryName, dracoArray);\n      const intArray = getInt32Array(dracoArray);\n      return {\n        int: this.metadataQuerier.GetIntEntry(dracoMetadata, entryName),\n        string: this.metadataQuerier.GetStringEntry(dracoMetadata, entryName),\n        double: this.metadataQuerier.GetDoubleEntry(dracoMetadata, entryName),\n        intArray\n      };\n    } finally {\n      this.draco.destroy(dracoArray);\n    }\n  }\n\n  // QUANTIZED ATTRIBUTE SUPPORT (NO DECOMPRESSION)\n\n  /** Skip transforms for specific attribute types */\n  _disableAttributeTransforms(options: DracoParseOptions) {\n    const {quantizedAttributes = [], octahedronAttributes = []} = options;\n    const skipAttributes = [...quantizedAttributes, ...octahedronAttributes];\n    for (const dracoAttributeName of skipAttributes) {\n      this.decoder.SkipAttributeTransform(this.draco[dracoAttributeName]);\n    }\n  }\n\n  /**\n   * Extract (and apply?) Position Transform\n   * @todo not used\n   */\n  _getQuantizationTransform(\n    dracoAttribute: PointAttribute,\n    options: DracoParseOptions\n  ): DracoQuantizationTransform | null {\n    const {quantizedAttributes = []} = options;\n    const attribute_type = dracoAttribute.attribute_type();\n    const skip = quantizedAttributes.map((type) => this.decoder[type]).includes(attribute_type);\n    if (skip) {\n      const transform = new this.draco.AttributeQuantizationTransform();\n      try {\n        if (transform.InitFromAttribute(dracoAttribute)) {\n          return {\n            quantization_bits: transform.quantization_bits(),\n            range: transform.range(),\n            min_values: new Float32Array([1, 2, 3]).map((i) => transform.min_value(i))\n          };\n        }\n      } finally {\n        this.draco.destroy(transform);\n      }\n    }\n    return null;\n  }\n\n  _getOctahedronTransform(\n    dracoAttribute: PointAttribute,\n    options: DracoParseOptions\n  ): DracoOctahedronTransform | null {\n    const {octahedronAttributes = []} = options;\n    const attribute_type = dracoAttribute.attribute_type();\n    const octahedron = octahedronAttributes\n      .map((type) => this.decoder[type])\n      .includes(attribute_type);\n    if (octahedron) {\n      const transform = new this.draco.AttributeQuantizationTransform();\n      try {\n        if (transform.InitFromAttribute(dracoAttribute)) {\n          return {\n            quantization_bits: transform.quantization_bits()\n          };\n        }\n      } finally {\n        this.draco.destroy(transform);\n      }\n    }\n    return null;\n  }\n\n  // HELPERS\n}\n\n/**\n * Get draco specific data type by TypedArray constructor type\n * @param attributeType\n * @returns draco specific data type\n */\nfunction getDracoDataType(draco: Draco3D, attributeType: any): draco_DataType {\n  switch (attributeType) {\n    case Float32Array:\n      return draco.DT_FLOAT32;\n    case Int8Array:\n      return draco.DT_INT8;\n    case Int16Array:\n      return draco.DT_INT16;\n    case Int32Array:\n      return draco.DT_INT32;\n    case Uint8Array:\n      return draco.DT_UINT8;\n    case Uint16Array:\n      return draco.DT_UINT16;\n    case Uint32Array:\n      return draco.DT_UINT32;\n    default:\n      return draco.DT_INVALID;\n  }\n}\n\n/**\n * Copy a Draco int32 array into a JS typed array\n */\nfunction getInt32Array(dracoArray: DracoInt32Array): Int32Array {\n  const numValues = dracoArray.size();\n  const intArray = new Int32Array(numValues);\n  for (let i = 0; i < numValues; i++) {\n    intArray[i] = dracoArray.GetValue(i);\n  }\n  return intArray;\n}\n\n/**\n * Copy a Draco int32 array into a JS typed array\n */\nfunction getUint32Array(dracoArray: DracoInt32Array): Int32Array {\n  const numValues = dracoArray.size();\n  const intArray = new Int32Array(numValues);\n  for (let i = 0; i < numValues; i++) {\n    intArray[i] = dracoArray.GetValue(i);\n  }\n  return intArray;\n}\n","// Mesh category utilities\n// TODO - move to mesh category module, or to math.gl/geometry module\nimport {TypedArray} from '../../types';\nimport {MeshAttributes} from './mesh-types';\n\ntype TypedArrays = {[key: string]: TypedArray};\n\n/**\n * Holds an axis aligned bounding box\n * TODO - make sure AxisAlignedBoundingBox in math.gl/culling understands this format (or change this format)\n */\ntype BoundingBox = [[number, number, number], [number, number, number]];\n\n/**\n * Get number of vertices in mesh\n * @param attributes\n */\nexport function getMeshSize(attributes: TypedArrays): number {\n  let size = 0;\n  for (const attributeName in attributes) {\n    const attribute = attributes[attributeName];\n    if (ArrayBuffer.isView(attribute)) {\n      // @ts-ignore DataView doesn't have BYTES_PER_ELEMENT\n      size += attribute.byteLength * attribute.BYTES_PER_ELEMENT;\n    }\n  }\n  return size;\n}\n\n/**\n * Get the (axis aligned) bounding box of a mesh\n * @param attributes\n * @returns array of two vectors representing the axis aligned bounding box\n */\n// eslint-disable-next-line complexity\nexport function getMeshBoundingBox(attributes: MeshAttributes): BoundingBox {\n  let minX = Infinity;\n  let minY = Infinity;\n  let minZ = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n  let maxZ = -Infinity;\n\n  const positions = attributes.POSITION ? attributes.POSITION.value : [];\n  const len = positions && positions.length;\n\n  for (let i = 0; i < len; i += 3) {\n    const x = positions[i];\n    const y = positions[i + 1];\n    const z = positions[i + 2];\n\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    minZ = z < minZ ? z : minZ;\n\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    maxZ = z > maxZ ? z : maxZ;\n  }\n  return [\n    [minX, minY, minZ],\n    [maxX, maxY, maxZ]\n  ];\n}\n","// Dynamic DRACO module loading inspired by THREE.DRACOLoader\n// https://github.com/mrdoob/three.js/blob/398c4f39ebdb8b23eefd4a7a5ec49ec0c96c7462/examples/jsm/loaders/DRACOLoader.js\n// by Don McCurdy / https://www.donmccurdy.com / MIT license\n\nimport {loadLibrary} from '@loaders.gl/worker-utils';\n\nconst DRACO_VERSION = '1.4.1';\nconst DRACO_JS_DECODER_URL = `https://www.gstatic.com/draco/versioned/decoders/${DRACO_VERSION}/draco_decoder.js`;\nconst DRACO_WASM_WRAPPER_URL = `https://www.gstatic.com/draco/versioned/decoders/${DRACO_VERSION}/draco_wasm_wrapper.js`;\nconst DRACO_WASM_DECODER_URL = `https://www.gstatic.com/draco/versioned/decoders/${DRACO_VERSION}/draco_decoder.wasm`;\n\nconst DRACO_ENCODER_URL = `https://raw.githubusercontent.com/google/draco/${DRACO_VERSION}/javascript/draco_encoder.js`;\n\nlet loadDecoderPromise;\nlet loadEncoderPromise;\n\nexport async function loadDracoDecoderModule(options) {\n  const modules = options.modules || {};\n\n  // Check if a bundled draco3d library has been supplied by application\n  if (modules.draco3d) {\n    loadDecoderPromise =\n      loadDecoderPromise ||\n      modules.draco3d.createDecoderModule({}).then((draco) => {\n        return {draco};\n      });\n  } else {\n    // If not, dynamically load the WASM script from our CDN\n    loadDecoderPromise = loadDecoderPromise || loadDracoDecoder(options);\n  }\n  return await loadDecoderPromise;\n}\n\nexport async function loadDracoEncoderModule(options) {\n  const modules = options.modules || {};\n\n  // Check if a bundled draco3d library has been supplied by application\n  if (modules.draco3d) {\n    loadEncoderPromise =\n      loadEncoderPromise ||\n      modules.draco3d.createEncoderModule({}).then((draco) => {\n        return {draco};\n      });\n  } else {\n    // If not, dynamically load the WASM script from our CDN\n    loadEncoderPromise = loadEncoderPromise || loadDracoEncoder(options);\n  }\n  return await loadEncoderPromise;\n}\n\n// DRACO DECODER LOADING\n\nasync function loadDracoDecoder(options) {\n  let DracoDecoderModule;\n  let wasmBinary;\n  switch (options.draco && options.draco.decoderType) {\n    case 'js':\n      DracoDecoderModule = await loadLibrary(DRACO_JS_DECODER_URL, 'draco', options);\n      break;\n\n    case 'wasm':\n    default:\n      [DracoDecoderModule, wasmBinary] = await Promise.all([\n        await loadLibrary(DRACO_WASM_WRAPPER_URL, 'draco', options),\n        await loadLibrary(DRACO_WASM_DECODER_URL, 'draco', options)\n      ]);\n  }\n  // Depends on how import happened...\n  // @ts-ignore\n  DracoDecoderModule = DracoDecoderModule || globalThis.DracoDecoderModule;\n  return await initializeDracoDecoder(DracoDecoderModule, wasmBinary);\n}\n\nfunction initializeDracoDecoder(DracoDecoderModule, wasmBinary) {\n  const options: {wasmBinary?: any} = {};\n  if (wasmBinary) {\n    options.wasmBinary = wasmBinary;\n  }\n\n  return new Promise((resolve) => {\n    DracoDecoderModule({\n      ...options,\n      onModuleLoaded: (draco) => resolve({draco}) // Module is Promise-like. Wrap in object to avoid loop.\n    });\n  });\n}\n\n// ENCODER\n\nasync function loadDracoEncoder(options) {\n  let DracoEncoderModule = await loadLibrary(DRACO_ENCODER_URL, 'draco', options);\n  // @ts-ignore\n  DracoEncoderModule = DracoEncoderModule || globalThis.DracoEncoderModule;\n\n  return new Promise((resolve) => {\n    DracoEncoderModule({\n      onModuleLoaded: (draco) => resolve({draco}) // Module is Promise-like. Wrap in object to avoid loop.\n    });\n  });\n}\n","import {Vector3, Matrix4} from '@math.gl/core';\nimport {assert, uid} from '@luma.gl/webgl';\n\nexport default class ScenegraphNode {\n  constructor(props = {}) {\n    const {id} = props;\n\n    this.id = id || uid(this.constructor.name);\n\n    this.display = true; // whether to display the object at all\n    this.position = new Vector3();\n    this.rotation = new Vector3();\n    this.scale = new Vector3(1, 1, 1);\n    this.matrix = new Matrix4();\n    this.userData = {};\n\n    this.props = {};\n    this._setScenegraphNodeProps(props);\n  }\n\n  delete() {}\n\n  setProps(props) {\n    this._setScenegraphNodeProps(props);\n    return this;\n  }\n\n  toString() {\n    return `{type: ScenegraphNode, id: ${this.id})}`;\n  }\n\n  setPosition(position) {\n    assert(position.length === 3, 'setPosition requires vector argument');\n    this.position = position;\n    return this;\n  }\n\n  setRotation(rotation) {\n    assert(rotation.length === 3, 'setRotation requires vector argument');\n    this.rotation = rotation;\n    return this;\n  }\n\n  setScale(scale) {\n    assert(scale.length === 3, 'setScale requires vector argument');\n    this.scale = scale;\n    return this;\n  }\n\n  setMatrix(matrix, copyMatrix = true) {\n    if (copyMatrix) {\n      this.matrix.copy(matrix);\n    } else {\n      this.matrix = matrix;\n    }\n  }\n\n  setMatrixComponents({position, rotation, scale, update = true}) {\n    if (position) {\n      this.setPosition(position);\n    }\n    if (rotation) {\n      this.setRotation(rotation);\n    }\n    if (scale) {\n      this.setScale(scale);\n    }\n    if (update) {\n      this.updateMatrix();\n    }\n    return this;\n  }\n\n  updateMatrix() {\n    const pos = this.position;\n    const rot = this.rotation;\n    const scale = this.scale;\n\n    this.matrix.identity();\n    this.matrix.translate(pos);\n    this.matrix.rotateXYZ(rot);\n    this.matrix.scale(scale);\n    return this;\n  }\n\n  update(options = {}) {\n    const {position, rotation, scale} = options;\n    if (position) {\n      this.setPosition(position);\n    }\n    if (rotation) {\n      this.setRotation(rotation);\n    }\n    if (scale) {\n      this.setScale(scale);\n    }\n    this.updateMatrix();\n    return this;\n  }\n\n  getCoordinateUniforms(viewMatrix, modelMatrix) {\n    // TODO - solve multiple class problem\n    // assert(viewMatrix instanceof Matrix4);\n    assert(viewMatrix);\n    modelMatrix = modelMatrix || this.matrix;\n    const worldMatrix = new Matrix4(viewMatrix).multiplyRight(modelMatrix);\n    const worldInverse = worldMatrix.invert();\n    const worldInverseTranspose = worldInverse.transpose();\n\n    return {\n      viewMatrix,\n      modelMatrix,\n      objectMatrix: modelMatrix,\n      worldMatrix,\n      worldInverseMatrix: worldInverse,\n      worldInverseTransposeMatrix: worldInverseTranspose\n    };\n  }\n\n  // TODO - copied code, not yet vetted\n  /*\n  transform() {\n    if (!this.parent) {\n      this.endPosition.set(this.position);\n      this.endRotation.set(this.rotation);\n      this.endScale.set(this.scale);\n    } else {\n      const parent = this.parent;\n      this.endPosition.set(this.position.add(parent.endPosition));\n      this.endRotation.set(this.rotation.add(parent.endRotation));\n      this.endScale.set(this.scale.add(parent.endScale));\n    }\n\n    const ch = this.children;\n    for (let i = 0; i < ch.length; ++i) {\n      ch[i].transform();\n    }\n\n    return this;\n  }\n  */\n\n  _setScenegraphNodeProps(props) {\n    if ('display' in props) {\n      this.display = props.display;\n    }\n\n    if ('position' in props) {\n      this.setPosition(props.position);\n    }\n    if ('rotation' in props) {\n      this.setRotation(props.rotation);\n    }\n    if ('scale' in props) {\n      this.setScale(props.scale);\n    }\n\n    // Matrix overwrites other props\n    if ('matrix' in props) {\n      this.setMatrix(props.matrix);\n    }\n\n    Object.assign(this.props, props);\n  }\n}\n","import {Matrix4} from '@math.gl/core';\nimport {log} from '@luma.gl/webgl';\nimport ScenegraphNode from './scenegraph-node';\n\nexport default class GroupNode extends ScenegraphNode {\n  constructor(props = {}) {\n    props = Array.isArray(props) ? {children: props} : props;\n    const {children = []} = props;\n    log.assert(\n      children.every(child => child instanceof ScenegraphNode),\n      'every child must an instance of ScenegraphNode'\n    );\n    super(props);\n    this.children = children;\n  }\n\n  // Unpacks arrays and nested arrays of children\n  add(...children) {\n    for (const child of children) {\n      if (Array.isArray(child)) {\n        this.add(...child);\n      } else {\n        this.children.push(child);\n      }\n    }\n    return this;\n  }\n\n  remove(child) {\n    const children = this.children;\n    const indexOf = children.indexOf(child);\n    if (indexOf > -1) {\n      children.splice(indexOf, 1);\n    }\n    return this;\n  }\n\n  removeAll() {\n    this.children = [];\n    return this;\n  }\n\n  delete() {\n    this.children.forEach(child => child.delete());\n    this.removeAll();\n    super.delete();\n  }\n\n  traverse(visitor, {worldMatrix = new Matrix4()} = {}) {\n    const modelMatrix = new Matrix4(worldMatrix).multiplyRight(this.matrix);\n\n    for (const child of this.children) {\n      if (child instanceof GroupNode) {\n        child.traverse(visitor, {worldMatrix: modelMatrix});\n      } else {\n        visitor(child, {worldMatrix: modelMatrix});\n      }\n    }\n  }\n}\n","import {assert, log} from '@luma.gl/webgl';\nimport {Matrix4, Quaternion} from '@math.gl/core';\n\n// TODO: import from loaders.gl?\nexport const ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\n//\n\nfunction accessorToJsArray(accessor) {\n  if (!accessor._animation) {\n    const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType];\n    const components = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n    const length = components * accessor.count;\n    const {buffer, byteOffset} = accessor.bufferView.data;\n\n    const array = new ArrayType(buffer, byteOffset + (accessor.byteOffset || 0), length);\n\n    if (components === 1) {\n      accessor._animation = Array.from(array);\n    } else {\n      // Slice array\n      const slicedArray = [];\n      for (let i = 0; i < array.length; i += components) {\n        slicedArray.push(Array.from(array.slice(i, i + components)));\n      }\n      accessor._animation = slicedArray;\n    }\n  }\n\n  return accessor._animation;\n}\n\n// TODO: share with GLTFInstantiator\nconst helperMatrix = new Matrix4();\nfunction applyTranslationRotationScale(gltfNode, node) {\n  node.matrix.identity();\n\n  if (gltfNode.translation) {\n    node.matrix.translate(gltfNode.translation);\n  }\n\n  if (gltfNode.rotation) {\n    const rotationMatrix = helperMatrix.fromQuaternion(gltfNode.rotation);\n    node.matrix.multiplyRight(rotationMatrix);\n  }\n\n  if (gltfNode.scale) {\n    node.matrix.scale(gltfNode.scale);\n  }\n}\n\nconst quaternion = new Quaternion();\nfunction linearInterpolate(target, path, start, stop, ratio) {\n  if (path === 'rotation') {\n    // SLERP when path is rotation\n    quaternion.slerp({start, target: stop, ratio});\n    for (let i = 0; i < quaternion.length; i++) {\n      target[path][i] = quaternion[i];\n    }\n  } else {\n    // regular interpolation\n    for (let i = 0; i < start.length; i++) {\n      target[path][i] = ratio * stop[i] + (1 - ratio) * start[i];\n    }\n  }\n}\n\nfunction cubicsplineInterpolate(target, path, {p0, outTangent0, inTangent1, p1, tDiff, ratio: t}) {\n  // TODO: Quaternion might need normalization\n  for (let i = 0; i < target[path].length; i++) {\n    const m0 = outTangent0[i] * tDiff;\n    const m1 = inTangent1[i] * tDiff;\n    target[path][i] =\n      (2 * Math.pow(t, 3) - 3 * Math.pow(t, 2) + 1) * p0[i] +\n      (Math.pow(t, 3) - 2 * Math.pow(t, 2) + t) * m0 +\n      (-2 * Math.pow(t, 3) + 3 * Math.pow(t, 2)) * p1[i] +\n      (Math.pow(t, 3) - Math.pow(t, 2)) * m1;\n  }\n}\n\nfunction stepInterpolate(target, path, value) {\n  for (let i = 0; i < value.length; i++) {\n    target[path][i] = value[i];\n  }\n}\n\nfunction interpolate(time, {input, interpolation, output}, target, path) {\n  const maxTime = input[input.length - 1];\n  const animationTime = time % maxTime;\n\n  const nextIndex = input.findIndex(t => t >= animationTime);\n  const previousIndex = Math.max(0, nextIndex - 1);\n\n  if (!Array.isArray(target[path])) {\n    switch (path) {\n      case 'translation':\n        target[path] = [0, 0, 0];\n        break;\n\n      case 'rotation':\n        target[path] = [0, 0, 0, 1];\n        break;\n\n      case 'scale':\n        target[path] = [1, 1, 1];\n        break;\n\n      default:\n        log.warn(`Bad animation path ${path}`)();\n    }\n  }\n\n  assert(target[path].length === output[previousIndex].length);\n  const previousTime = input[previousIndex];\n  const nextTime = input[nextIndex];\n\n  switch (interpolation) {\n    case 'STEP':\n      stepInterpolate(target, path, output[previousIndex]);\n      break;\n\n    case 'LINEAR':\n      if (nextTime > previousTime) {\n        const ratio = (animationTime - previousTime) / (nextTime - previousTime);\n        linearInterpolate(target, path, output[previousIndex], output[nextIndex], ratio);\n      }\n      break;\n\n    case 'CUBICSPLINE':\n      if (nextTime > previousTime) {\n        const ratio = (animationTime - previousTime) / (nextTime - previousTime);\n        const tDiff = nextTime - previousTime;\n\n        const p0 = output[3 * previousIndex + 1];\n        const outTangent0 = output[3 * previousIndex + 2];\n        const inTangent1 = output[3 * nextIndex + 0];\n        const p1 = output[3 * nextIndex + 1];\n\n        cubicsplineInterpolate(target, path, {p0, outTangent0, inTangent1, p1, tDiff, ratio});\n      }\n      break;\n\n    default:\n      log.warn(`Interpolation ${interpolation} not supported`)();\n      break;\n  }\n}\n\nclass GLTFAnimation {\n  constructor(props) {\n    this.startTime = 0;\n    this.playing = true;\n    this.speed = 1;\n    this.channels = [];\n\n    Object.assign(this, props);\n  }\n\n  animate(timeMs) {\n    if (!this.playing) {\n      return;\n    }\n\n    const absTime = timeMs / 1000;\n    const time = (absTime - this.startTime) * this.speed;\n\n    this.channels.forEach(({sampler, target, path}) => {\n      interpolate(time, sampler, target, path);\n      applyTranslationRotationScale(target, target._node);\n    });\n  }\n}\n\nexport default class GLTFAnimator {\n  constructor(gltf) {\n    this.animations = gltf.animations.map((animation, index) => {\n      const name = animation.name || `Animation-${index}`;\n      const samplers = animation.samplers.map(({input, interpolation = 'LINEAR', output}) => ({\n        input: accessorToJsArray(gltf.accessors[input]),\n        interpolation,\n        output: accessorToJsArray(gltf.accessors[output])\n      }));\n      const channels = animation.channels.map(({sampler, target}) => ({\n        sampler: samplers[sampler],\n        target: gltf.nodes[target.node],\n        path: target.path\n      }));\n      return new GLTFAnimation({name, channels});\n    });\n  }\n\n  // TODO(Tarek): This should be removed? (deck.gl is using this)\n  animate(time) {\n    this.setTime(time);\n  }\n\n  setTime(time) {\n    this.animations.forEach(animation => animation.animate(time));\n  }\n\n  getAnimations() {\n    return this.animations;\n  }\n}\n","import {Model} from '@luma.gl/engine';\nimport ScenegraphNode from './scenegraph-node';\n\nexport default class ModelNode extends ScenegraphNode {\n  constructor(gl, props = {}) {\n    super(props);\n\n    // pverride callbacks to make sure we call them with this\n    this.onBeforeRender = null;\n    this.AfterRender = null;\n\n    // Create new Model or used supplied Model\n    if (gl instanceof Model) {\n      this.model = gl;\n      this._setModelNodeProps(props);\n    } else {\n      this.model = new Model(gl, props);\n    }\n\n    this.managedResources = props.managedResources || [];\n  }\n\n  setProps(props) {\n    super.setProps(props);\n    this._setModelNodeProps(props);\n    return this;\n  }\n\n  delete() {\n    if (this.model) {\n      this.model.delete();\n      this.model = null;\n    }\n\n    this.managedResources.forEach(resource => resource.delete());\n    this.managedResources = [];\n  }\n\n  // Forward node methods\n  draw(...args) {\n    // Return value indicates if something was actually drawn\n    return this.model.draw(...args);\n  }\n\n  setUniforms(...args) {\n    this.model.setUniforms(...args);\n    return this;\n  }\n\n  setAttributes(...args) {\n    this.model.setAttributes(...args);\n    return this;\n  }\n\n  updateModuleSettings(...args) {\n    this.model.updateModuleSettings(...args);\n    return this;\n  }\n\n  // PRIVATE\n\n  _setModelNodeProps(props) {\n    this.model.setProps(props);\n  }\n}\n","import {isWebGL2} from '@luma.gl/gltools';\nimport {log} from '@luma.gl/webgl';\nimport {pbr} from '@luma.gl/shadertools';\nimport ModelNode from '../scenegraph/model-node';\nimport GLTFMaterialParser from './gltf-material-parser';\n\nconst vs = `\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n`;\n\nconst fs = `\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n`;\n\nfunction addVersionToShader(gl, source) {\n  if (isWebGL2(gl)) {\n    return `#version 300 es\\n${source}`;\n  }\n\n  return source;\n}\n\nexport default function createGLTFModel(gl, options) {\n  const {id, drawMode, vertexCount, attributes, modelOptions} = options;\n  const materialParser = new GLTFMaterialParser(gl, options);\n\n  log.info(4, 'createGLTFModel defines: ', materialParser.defines)();\n\n  // Calculate managedResources\n  // TODO: Implement resource management logic that will\n  // not deallocate resources/textures/buffers that are shared\n  const managedResources = [];\n  managedResources.push(...materialParser.generatedTextures);\n  managedResources.push(...Object.values(attributes).map(attribute => attribute.buffer));\n\n  const model = new ModelNode(\n    gl,\n    Object.assign(\n      {\n        id,\n        drawMode,\n        vertexCount,\n        modules: [pbr],\n        defines: materialParser.defines,\n        parameters: materialParser.parameters,\n        vs: addVersionToShader(gl, vs),\n        fs: addVersionToShader(gl, fs),\n        managedResources\n      },\n      modelOptions\n    )\n  );\n\n  model.setProps({attributes});\n  model.setUniforms(materialParser.uniforms);\n\n  return model;\n}\n","import {Matrix4} from '@math.gl/core';\nimport {Buffer, Accessor, log} from '@luma.gl/webgl';\nimport GroupNode from '../scenegraph/group-node';\n\nimport GLTFAnimator from './gltf-animator';\nimport createGLTFModel from './create-gltf-model';\n\n// TODO: import {ATTRIBUTE_TYPE_TO_COMPONENTS} from '@loaders.gl/gltf';\nconst ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nconst DEFAULT_OPTIONS = {\n  modelOptions: {},\n  pbrDebug: false,\n  imageBasedLightingEnvironment: null,\n  lights: true,\n  useTangents: false\n};\n\n// GLTF instantiator for luma.gl\n// Walks the parsed and resolved glTF structure and builds a luma.gl scenegraph\nexport default class GLTFInstantiator {\n  constructor(gl, options = {}) {\n    this.gl = gl;\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n  }\n\n  instantiate(gltf) {\n    this.gltf = gltf;\n    const scenes = (gltf.scenes || []).map(scene => this.createScene(scene));\n    return scenes;\n  }\n\n  createAnimator() {\n    if (Array.isArray(this.gltf.animations)) {\n      return new GLTFAnimator(this.gltf);\n    }\n\n    return null;\n  }\n\n  createScene(gltfScene) {\n    const gltfNodes = gltfScene.nodes || [];\n    const nodes = gltfNodes.map(node => this.createNode(node));\n    const scene = new GroupNode({\n      id: gltfScene.name || gltfScene.id,\n      children: nodes\n    });\n    return scene;\n  }\n\n  createNode(gltfNode) {\n    if (!gltfNode._node) {\n      const gltfChildren = gltfNode.children || [];\n      const children = gltfChildren.map(child => this.createNode(child));\n\n      // Node can have children nodes and meshes at the same time\n      if (gltfNode.mesh) {\n        children.push(this.createMesh(gltfNode.mesh));\n      }\n\n      const node = new GroupNode({\n        id: gltfNode.name || gltfNode.id,\n        children\n      });\n\n      if (gltfNode.matrix) {\n        node.setMatrix(gltfNode.matrix);\n      } else {\n        node.matrix.identity();\n\n        if (gltfNode.translation) {\n          node.matrix.translate(gltfNode.translation);\n        }\n\n        if (gltfNode.rotation) {\n          const rotationMatrix = new Matrix4().fromQuaternion(gltfNode.rotation);\n          node.matrix.multiplyRight(rotationMatrix);\n        }\n\n        if (gltfNode.scale) {\n          node.matrix.scale(gltfNode.scale);\n        }\n      }\n      gltfNode._node = node;\n    }\n\n    return gltfNode._node;\n  }\n\n  createMesh(gltfMesh) {\n    // TODO: avoid changing the gltf\n    if (!gltfMesh._mesh) {\n      const gltfPrimitives = gltfMesh.primitives || [];\n      const primitives = gltfPrimitives.map((gltfPrimitive, i) =>\n        this.createPrimitive(gltfPrimitive, i, gltfMesh)\n      );\n      const mesh = new GroupNode({\n        id: gltfMesh.name || gltfMesh.id,\n        children: primitives\n      });\n      gltfMesh._mesh = mesh;\n    }\n\n    return gltfMesh._mesh;\n  }\n\n  getVertexCount(attributes) {\n    // TODO: implement this\n    log.warn('getVertexCount() not found')();\n  }\n\n  createPrimitive(gltfPrimitive, i, gltfMesh) {\n    return createGLTFModel(\n      this.gl,\n      Object.assign(\n        {\n          id: gltfPrimitive.name || `${gltfMesh.name || gltfMesh.id}-primitive-${i}`,\n          drawMode: gltfPrimitive.mode || 4,\n          vertexCount: gltfPrimitive.indices\n            ? gltfPrimitive.indices.count\n            : this.getVertexCount(gltfPrimitive.attributes),\n          attributes: this.createAttributes(gltfPrimitive.attributes, gltfPrimitive.indices),\n          material: gltfPrimitive.material\n        },\n        this.options\n      )\n    );\n  }\n\n  createAttributes(attributes, indices) {\n    const loadedAttributes = {};\n\n    Object.keys(attributes).forEach(attrName => {\n      loadedAttributes[attrName] = this.createAccessor(\n        attributes[attrName],\n        this.createBuffer(attributes[attrName], this.gl.ARRAY_BUFFER)\n      );\n    });\n\n    if (indices) {\n      loadedAttributes.indices = this.createAccessor(\n        indices,\n        this.createBuffer(indices, this.gl.ELEMENT_ARRAY_BUFFER)\n      );\n    }\n\n    log.info(4, 'glTF Attributes', {attributes, indices, generated: loadedAttributes})();\n\n    return loadedAttributes;\n  }\n\n  createBuffer(attribute, target) {\n    if (!attribute.bufferView) {\n      // Draco decoded files do not have a bufferView\n      attribute.bufferView = {};\n    }\n\n    const {bufferView} = attribute;\n    if (!bufferView.lumaBuffers) {\n      bufferView.lumaBuffers = {};\n    }\n\n    if (!bufferView.lumaBuffers[target]) {\n      bufferView.lumaBuffers[target] = new Buffer(this.gl, {\n        id: `from-${bufferView.id}`,\n        // Draco decoded files have attribute.value\n        data: bufferView.data || attribute.value,\n        target\n      });\n    }\n\n    return bufferView.lumaBuffers[target];\n  }\n\n  createAccessor(accessor, buffer) {\n    return new Accessor({\n      buffer,\n      offset: accessor.byteOffset || 0,\n      stride: accessor.bufferView.byteStride || 0,\n      type: accessor.componentType,\n      size: ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type]\n    });\n  }\n\n  // TODO - create sampler in WebGL2\n  createSampler(gltfSampler) {\n    return gltfSampler;\n  }\n\n  // Helper methods (move to GLTFLoader.resolve...?)\n\n  needsPOT() {\n    // Has a wrapping mode (either wrapS or wrapT) equal to REPEAT or MIRRORED_REPEAT, or\n    // Has a minification filter (minFilter) that uses mipmapping\n    // (NEAREST_MIPMAP_NEAREST, NEAREST_MIPMAP_LINEAR,\n    // LINEAR_MIPMAP_NEAREST, or LINEAR_MIPMAP_LINEAR).\n    return false;\n  }\n}\n","/* global requestAnimationFrame */\nimport type {GroupNode, ModelNode} from '@luma.gl/experimental';\n\nexport async function waitForGLTFAssets(gltfObjects: {scenes: GroupNode[]}): Promise<void> {\n  const remaining: any[] = [];\n\n  gltfObjects.scenes.forEach(scene => {\n    scene.traverse((model: ModelNode) => {\n      Object.values(model.model.getUniforms()).forEach((uniform: any) => {\n        if (uniform.loaded === false) {\n          remaining.push(uniform);\n        }\n      });\n    });\n  });\n\n  return await waitWhileCondition(() => remaining.some(uniform => !uniform.loaded));\n}\n\nasync function waitWhileCondition(condition: () => boolean): Promise<void> {\n  while (condition()) {\n    await new Promise(resolve => requestAnimationFrame(resolve));\n  }\n}\n","// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Layer, project32, picking, log} from '@deck.gl/core';\nimport {isWebGL2} from '@luma.gl/core';\nimport {pbr} from '@luma.gl/shadertools';\nimport {\n  ScenegraphNode,\n  GroupNode,\n  GLTFAnimator,\n  GLTFEnvironment,\n  createGLTFObjects\n} from '@luma.gl/experimental';\nimport GL from '@luma.gl/constants';\nimport {GLTFLoader} from '@loaders.gl/gltf';\nimport {waitForGLTFAssets} from './gltf-utils';\n\nimport {MATRIX_ATTRIBUTES, shouldComposeModelMatrix} from '../utils/matrix';\n\nimport vs from './scenegraph-layer-vertex.glsl';\nimport fs from './scenegraph-layer-fragment.glsl';\n\nimport type {\n  UpdateParameters,\n  LayerContext,\n  LayerProps,\n  Position,\n  Color,\n  Accessor,\n  DefaultProps\n} from '@deck.gl/core';\n\nconst DEFAULT_COLOR: [number, number, number, number] = [255, 255, 255, 255];\n\nexport type ScenegraphLayerProps<DataT = any> = _ScenegraphLayerProps<DataT> & LayerProps<DataT>;\n\ntype _ScenegraphLayerProps<DataT> = {\n  // TODO - define in luma.gl\n  /**\n   * A url for a glTF model or scenegraph loaded via a [scenegraph loader](https://loaders.gl/docs/specifications/category-scenegraph)\n   */\n  scenegraph: any;\n  /**\n   * Create a luma.gl GroupNode from the resolved scenegraph prop\n   */\n  getScene?: (\n    scenegraph: any,\n    context: {gl: WebGLRenderingContext; layer: ScenegraphLayer<DataT>}\n  ) => GroupNode;\n  /**\n   * Create a luma.gl GLTFAnimator from the resolved scenegraph prop\n   */\n  getAnimator?: (\n    scenegraph: any,\n    context: {gl: WebGLRenderingContext; layer: ScenegraphLayer<DataT>}\n  ) => GLTFAnimator;\n  /**\n   * (Experimental) animation configurations. Requires `_animate` on deck object.\n   */\n  _animations?: {\n    [name: number | string | '*']: {\n      /** If the animation is playing */\n      playing?: boolean;\n      /** Start time of the animation, default `0` */\n      startTime?: number;\n      /** Speed multiplier of the animation, default `1` */\n      speed?: number;\n    };\n  } | null;\n  /**\n   * (Experimental) lighting mode\n   * @default 'flat'\n   */\n  _lighting?: 'flat' | 'pbr';\n  /**\n   * (Experimental) lighting environment. Requires `_lighting` to be `'pbr'`.\n   */\n  _imageBasedLightingEnvironment?:\n    | null\n    | GLTFEnvironment\n    | ((context: {gl: WebGLRenderingContext; layer: ScenegraphLayer<DataT>}) => GLTFEnvironment);\n\n  /** Anchor position accessor. */\n  getPosition?: Accessor<DataT, Position>;\n  /** Color value or accessor.\n   * @default [255, 255, 255, 255]\n   */\n  getColor?: Accessor<DataT, Color>;\n  /**\n   * Orientation in [pitch, yaw, roll] in degrees.\n   * @see https://en.wikipedia.org/wiki/Euler_angles\n   * @default [0, 0, 0]\n   */\n  getOrientation?: Accessor<DataT, [number, number, number]>;\n  /**\n   * Scaling factor of the model along each axis.\n   * @default [1, 1, 1]\n   */\n  getScale?: Accessor<DataT, [number, number, number]>;\n  /**\n   * Translation from the anchor point, [x, y, z] in meters.\n   * @default [0, 0, 0]\n   */\n  getTranslation?: Accessor<DataT, [number, number, number]>;\n  /**\n   * TransformMatrix. If specified, `getOrientation`, `getScale` and `getTranslation` are ignored.\n   */\n  getTransformMatrix?: Accessor<DataT, number[]>;\n  /**\n   * Multiplier to scale each geometry by.\n   * @default 1\n   */\n  sizeScale?: number;\n  /**\n   * The minimum size in pixels for one unit of the scene.\n   * @default 0\n   */\n  sizeMinPixels?: number;\n  /**\n   * The maximum size in pixels for one unit of the scene.\n   * @default Number.MAX_SAFE_INTEGER\n   */\n  sizeMaxPixels?: number;\n};\n\nconst defaultProps: DefaultProps<ScenegraphLayerProps> = {\n  scenegraph: {type: 'object', value: null, async: true},\n  getScene: gltf => {\n    if (gltf && gltf.scenes) {\n      // gltf post processor replaces `gltf.scene` number with the scene `object`\n      return typeof gltf.scene === 'object' ? gltf.scene : gltf.scenes[gltf.scene || 0];\n    }\n    return gltf;\n  },\n  getAnimator: scenegraph => scenegraph && scenegraph.animator,\n  _animations: null,\n\n  sizeScale: {type: 'number', value: 1, min: 0},\n  sizeMinPixels: {type: 'number', min: 0, value: 0},\n  sizeMaxPixels: {type: 'number', min: 0, value: Number.MAX_SAFE_INTEGER},\n\n  getPosition: {type: 'accessor', value: x => x.position},\n  getColor: {type: 'accessor', value: DEFAULT_COLOR},\n\n  // flat or pbr\n  _lighting: 'flat',\n  // _lighting must be pbr for this to work\n  _imageBasedLightingEnvironment: null,\n\n  // yaw, pitch and roll are in degrees\n  // https://en.wikipedia.org/wiki/Euler_angles\n  // [pitch, yaw, roll]\n  getOrientation: {type: 'accessor', value: [0, 0, 0]},\n  getScale: {type: 'accessor', value: [1, 1, 1]},\n  getTranslation: {type: 'accessor', value: [0, 0, 0]},\n  // 4x4 matrix\n  getTransformMatrix: {type: 'accessor', value: []},\n\n  loaders: [GLTFLoader]\n};\n\n/** Render a number of instances of a complete glTF scenegraph. */\nexport default class ScenegraphLayer<DataT = any, ExtraPropsT = {}> extends Layer<\n  ExtraPropsT & Required<_ScenegraphLayerProps<DataT>>\n> {\n  static defaultProps = defaultProps;\n  static layerName = 'ScenegraphLayer';\n\n  state!: {\n    scenegraph: GroupNode;\n    animator: GLTFAnimator;\n    attributesAvailable?: boolean;\n  };\n\n  getShaders() {\n    const modules = [project32, picking];\n\n    if (this.props._lighting === 'pbr') {\n      modules.push(pbr);\n    }\n\n    return {vs, fs, modules};\n  }\n\n  initializeState() {\n    const attributeManager = this.getAttributeManager();\n    // attributeManager is always defined for primitive layers\n    attributeManager!.addInstanced({\n      instancePositions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        accessor: 'getPosition',\n        transition: true\n      },\n      instanceColors: {\n        type: GL.UNSIGNED_BYTE,\n        size: this.props.colorFormat.length,\n        accessor: 'getColor',\n        normalized: true,\n        defaultValue: DEFAULT_COLOR,\n        transition: true\n      },\n      instanceModelMatrix: MATRIX_ATTRIBUTES\n    });\n  }\n\n  updateState(params: UpdateParameters<this>) {\n    super.updateState(params);\n    const {props, oldProps} = params;\n\n    if (props.scenegraph !== oldProps.scenegraph) {\n      this._updateScenegraph();\n    } else if (props._animations !== oldProps._animations) {\n      this._applyAnimationsProp(this.state.scenegraph, this.state.animator, props._animations);\n    }\n  }\n\n  finalizeState(context: LayerContext) {\n    super.finalizeState(context);\n    this._deleteScenegraph();\n  }\n\n  private _updateScenegraph(): void {\n    const props = this.props;\n    const {gl} = this.context;\n    let scenegraphData: any = null;\n    if (props.scenegraph instanceof ScenegraphNode) {\n      // Signature 1: props.scenegraph is a proper luma.gl Scenegraph\n      scenegraphData = {scenes: [props.scenegraph]};\n    } else if (props.scenegraph && !props.scenegraph.gltf) {\n      // Converts loaders.gl gltf to luma.gl scenegraph using the undocumented @luma.gl/experimental function\n      const gltf = props.scenegraph;\n      const gltfObjects = createGLTFObjects(gl, gltf, this._getModelOptions());\n      scenegraphData = {gltf, ...gltfObjects};\n\n      waitForGLTFAssets(gltfObjects).then(() => this.setNeedsRedraw()); // eslint-disable-line @typescript-eslint/no-floating-promises\n    } else if (props.scenegraph) {\n      // DEPRECATED PATH: Assumes this data was loaded through GLTFScenegraphLoader\n      log.deprecated(\n        'ScenegraphLayer.props.scenegraph',\n        'Use GLTFLoader instead of GLTFScenegraphLoader'\n      )();\n      scenegraphData = props.scenegraph;\n    }\n\n    const options = {layer: this, gl};\n    const scenegraph = props.getScene(scenegraphData, options);\n    const animator = props.getAnimator(scenegraphData, options);\n\n    if (scenegraph instanceof ScenegraphNode) {\n      this._deleteScenegraph();\n      this._applyAllAttributes(scenegraph);\n      this._applyAnimationsProp(scenegraph, animator, props._animations);\n      this.setState({scenegraph, animator});\n    } else if (scenegraph !== null) {\n      log.warn('invalid scenegraph:', scenegraph)();\n    }\n  }\n\n  private _applyAllAttributes(scenegraph: GroupNode): void {\n    if (this.state.attributesAvailable) {\n      // attributeManager is always defined for primitive layers\n      const allAttributes = this.getAttributeManager()!.getAttributes();\n      scenegraph.traverse(model => {\n        this._setModelAttributes(model.model, allAttributes);\n      });\n    }\n  }\n\n  private _applyAnimationsProp(\n    scenegraph: GroupNode,\n    animator: GLTFAnimator,\n    animationsProp: any\n  ): void {\n    if (!scenegraph || !animator || !animationsProp) {\n      return;\n    }\n\n    const animations = animator.getAnimations();\n\n    // sort() to ensure '*' comes first so that other values can override\n    Object.keys(animationsProp)\n      .sort()\n      .forEach(key => {\n        // Key can be:\n        //  - number for index number\n        //  - name for animation name\n        //  - * to affect all animations\n        const value = animationsProp[key];\n\n        if (key === '*') {\n          animations.forEach(animation => {\n            Object.assign(animation, value);\n          });\n        } else if (Number.isFinite(Number(key))) {\n          const number = Number(key);\n          if (number >= 0 && number < animations.length) {\n            Object.assign(animations[number], value);\n          } else {\n            log.warn(`animation ${key} not found`)();\n          }\n        } else {\n          const findResult = animations.find(({name}) => name === key);\n          if (findResult) {\n            Object.assign(findResult, value);\n          } else {\n            log.warn(`animation ${key} not found`)();\n          }\n        }\n      });\n  }\n\n  private _deleteScenegraph(): void {\n    const {scenegraph} = this.state;\n    if (scenegraph instanceof ScenegraphNode) {\n      scenegraph.delete();\n    }\n  }\n\n  private _getModelOptions(): any {\n    const {_imageBasedLightingEnvironment} = this.props;\n\n    let env: GLTFEnvironment | null = null;\n    if (_imageBasedLightingEnvironment) {\n      if (typeof _imageBasedLightingEnvironment === 'function') {\n        env = _imageBasedLightingEnvironment({gl: this.context.gl, layer: this});\n      } else {\n        env = _imageBasedLightingEnvironment;\n      }\n    }\n\n    return {\n      gl: this.context.gl,\n      waitForFullLoad: true,\n      imageBasedLightingEnvironment: env,\n      modelOptions: {\n        isInstanced: true,\n        transpileToGLSL100: !isWebGL2(this.context.gl),\n        ...this.getShaders()\n      },\n      // tangents are not supported\n      useTangents: false\n    };\n  }\n\n  updateAttributes(changedAttributes) {\n    this.setState({attributesAvailable: true});\n    if (!this.state.scenegraph) return;\n\n    this.state.scenegraph.traverse(model => {\n      this._setModelAttributes(model.model, changedAttributes);\n    });\n  }\n\n  draw({moduleParameters = null, parameters = {}, context}) {\n    if (!this.state.scenegraph) return;\n\n    if (this.props._animations && this.state.animator) {\n      this.state.animator.animate(context.timeline.getTime());\n      this.setNeedsRedraw();\n    }\n\n    const {viewport} = this.context;\n    const {sizeScale, sizeMinPixels, sizeMaxPixels, opacity, coordinateSystem} = this.props;\n    const numInstances = this.getNumInstances();\n    this.state.scenegraph.traverse((model, {worldMatrix}) => {\n      model.model.setInstanceCount(numInstances);\n      model.updateModuleSettings(moduleParameters);\n      model.draw({\n        parameters,\n        uniforms: {\n          sizeScale,\n          opacity,\n          sizeMinPixels,\n          sizeMaxPixels,\n          composeModelMatrix: shouldComposeModelMatrix(viewport, coordinateSystem),\n          sceneModelMatrix: worldMatrix,\n          // Needed for PBR (TODO: find better way to get it)\n          // eslint-disable-next-line camelcase\n          u_Camera: model.model.getUniforms().project_uCameraPosition\n        }\n      });\n    });\n  }\n}\n","export default `\\\n#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n","export default `\\\n#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n`;\n","import GLTFInstantiator from './gltf-instantiator';\n\nexport default function createGLTFObjects(gl, gltf, options) {\n  const instantiator = new GLTFInstantiator(gl, options);\n  const scenes = instantiator.instantiate(gltf);\n  const animator = instantiator.createAnimator();\n\n  return {scenes, animator};\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {\n  Layer,\n  project32,\n  picking,\n  UNIT,\n  UpdateParameters,\n  LayerProps,\n  Unit,\n  AccessorFunction,\n  Position,\n  Accessor,\n  Color,\n  DefaultProps\n} from '@deck.gl/core';\n\nimport GL from '@luma.gl/constants';\nimport {Model, Geometry} from '@luma.gl/core';\n\nimport vs from './arc-layer-vertex.glsl';\nimport fs from './arc-layer-fragment.glsl';\n\nconst DEFAULT_COLOR: [number, number, number, number] = [0, 0, 0, 255];\n\nconst defaultProps: DefaultProps<ArcLayerProps> = {\n  getSourcePosition: {type: 'accessor', value: x => x.sourcePosition},\n  getTargetPosition: {type: 'accessor', value: x => x.targetPosition},\n  getSourceColor: {type: 'accessor', value: DEFAULT_COLOR},\n  getTargetColor: {type: 'accessor', value: DEFAULT_COLOR},\n  getWidth: {type: 'accessor', value: 1},\n  getHeight: {type: 'accessor', value: 1},\n  getTilt: {type: 'accessor', value: 0},\n\n  greatCircle: false,\n\n  widthUnits: 'pixels',\n  widthScale: {type: 'number', value: 1, min: 0},\n  widthMinPixels: {type: 'number', value: 0, min: 0},\n  widthMaxPixels: {type: 'number', value: Number.MAX_SAFE_INTEGER, min: 0}\n};\n\n/** All properties supported by ArcLayer. */\nexport type ArcLayerProps<DataT = any> = _ArcLayerProps<DataT> & LayerProps<DataT>;\n\n/** Properties added by ArcLayer. */\ntype _ArcLayerProps<DataT> = {\n  /**\n   * If `true`, create the arc along the shortest path on the earth surface.\n   * @default false\n   */\n  greatCircle?: boolean;\n\n  /**\n   * The units of the line width, one of `'meters'`, `'common'`, and `'pixels'`\n   * @default 'pixels'\n   */\n  widthUnits?: Unit;\n\n  /**\n   * The scaling multiplier for the width of each line.\n   * @default 1\n   */\n  widthScale?: number;\n\n  /**\n   * The minimum line width in pixels.\n   * @default 0\n   */\n  widthMinPixels?: number;\n\n  /**\n   * The maximum line width in pixels.\n   * @default Number.MAX_SAFE_INTEGER\n   */\n  widthMaxPixels?: number;\n\n  /**\n   * Method called to retrieve the source position of each object.\n   * @default object => object.sourcePosition\n   */\n  getSourcePosition?: AccessorFunction<DataT, Position>;\n\n  /**\n   * Method called to retrieve the target position of each object.\n   * @default object => object.targetPosition\n   */\n  getTargetPosition?: AccessorFunction<DataT, Position>;\n\n  /**\n   * The rgba color is in the format of `[r, g, b, [a]]`.\n   * @default [0, 0, 0, 255]\n   */\n  getSourceColor?: Accessor<DataT, Color>;\n\n  /**\n   * The rgba color is in the format of `[r, g, b, [a]]`.\n   * @default [0, 0, 0, 255]\n   */\n  getTargetColor?: Accessor<DataT, Color>;\n\n  /**\n   * The line width of each object, in units specified by `widthUnits`.\n   * @default 1\n   */\n  getWidth?: Accessor<DataT, number>;\n\n  /**\n   * Multiplier of layer height. `0` will make the layer flat.\n   * @default 1\n   */\n  getHeight?: Accessor<DataT, number>;\n\n  /**\n   * Use to tilt the arc to the side if you have multiple arcs with the same source and target positions.\n   * @default 0\n   */\n  getTilt?: Accessor<DataT, number>;\n};\n\n/** Render raised arcs joining pairs of source and target coordinates. */\nexport default class ArcLayer<DataT = any, ExtraPropsT = {}> extends Layer<\n  ExtraPropsT & Required<_ArcLayerProps<DataT>>\n> {\n  static layerName = 'ArcLayer';\n  static defaultProps = defaultProps;\n\n  state!: Layer['state'] & {\n    model?: Model;\n  };\n\n  getShaders() {\n    return super.getShaders({vs, fs, modules: [project32, picking]}); // 'project' module added by default.\n  }\n\n  // This layer has its own wrapLongitude logic\n  get wrapLongitude() {\n    return false;\n  }\n\n  initializeState() {\n    const attributeManager = this.getAttributeManager()!;\n\n    /* eslint-disable max-len */\n    attributeManager.addInstanced({\n      instanceSourcePositions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        transition: true,\n        accessor: 'getSourcePosition'\n      },\n      instanceTargetPositions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        transition: true,\n        accessor: 'getTargetPosition'\n      },\n      instanceSourceColors: {\n        size: this.props.colorFormat.length,\n        type: GL.UNSIGNED_BYTE,\n        normalized: true,\n        transition: true,\n        accessor: 'getSourceColor',\n        defaultValue: DEFAULT_COLOR\n      },\n      instanceTargetColors: {\n        size: this.props.colorFormat.length,\n        type: GL.UNSIGNED_BYTE,\n        normalized: true,\n        transition: true,\n        accessor: 'getTargetColor',\n        defaultValue: DEFAULT_COLOR\n      },\n      instanceWidths: {\n        size: 1,\n        transition: true,\n        accessor: 'getWidth',\n        defaultValue: 1\n      },\n      instanceHeights: {\n        size: 1,\n        transition: true,\n        accessor: 'getHeight',\n        defaultValue: 1\n      },\n      instanceTilts: {\n        size: 1,\n        transition: true,\n        accessor: 'getTilt',\n        defaultValue: 0\n      }\n    });\n    /* eslint-enable max-len */\n  }\n\n  updateState(opts: UpdateParameters<this>): void {\n    super.updateState(opts);\n    // Re-generate model if geometry changed\n    if (opts.changeFlags.extensionsChanged) {\n      const {gl} = this.context;\n      this.state.model?.delete();\n      this.state.model = this._getModel(gl);\n      this.getAttributeManager()!.invalidateAll();\n    }\n  }\n\n  draw({uniforms}) {\n    const {widthUnits, widthScale, widthMinPixels, widthMaxPixels, greatCircle, wrapLongitude} =\n      this.props;\n\n    this.state.model\n      .setUniforms(uniforms)\n      .setUniforms({\n        greatCircle,\n        widthUnits: UNIT[widthUnits],\n        widthScale,\n        widthMinPixels,\n        widthMaxPixels,\n        useShortestPath: wrapLongitude\n      })\n      .draw();\n  }\n\n  protected _getModel(gl: WebGLRenderingContext): Model {\n    let positions: number[] = [];\n    const NUM_SEGMENTS = 50;\n    /*\n     *  (0, -1)-------------_(1, -1)\n     *       |          _,-\"  |\n     *       o      _,-\"      o\n     *       |  _,-\"          |\n     *   (0, 1)\"-------------(1, 1)\n     */\n    for (let i = 0; i < NUM_SEGMENTS; i++) {\n      positions = positions.concat([i, 1, 0, i, -1, 0]);\n    }\n\n    const model = new Model(gl, {\n      ...this.getShaders(),\n      id: this.props.id,\n      geometry: new Geometry({\n        drawMode: GL.TRIANGLE_STRIP,\n        attributes: {\n          positions: new Float32Array(positions)\n        }\n      }),\n      isInstanced: true\n    });\n\n    model.setUniforms({numSegments: NUM_SEGMENTS});\n\n    return model;\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n  // d: distance on the xy plane\n  // r: ratio of the current point\n  // p: ratio of the peak of the arc\n  // h: height multiplier\n  // z = f(r) = sqrt(r * (p * 2 - r)) * d * h\n  // f(0) = 0\n  // f(1) = dz\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n\n  // sqrt does not deal with negative values, manually flip source and target if delta.z < 0\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\n\n/* Great circle interpolation\n * http://www.movable-type.co.uk/scripts/latlong.html\n */\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\n/* END GREAT CIRCLE */\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      // split at the 180th meridian\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n\n    // common x at longitude=-180\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n\n  // Multiply out width and clamp to limits\n  // mercator pixels are interpreted as screen pixels\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {\n  Layer,\n  project32,\n  gouraudLighting,\n  picking,\n  UNIT,\n  LayerProps,\n  UpdateParameters,\n  Unit,\n  AccessorFunction,\n  Position,\n  Accessor,\n  Color,\n  Material,\n  DefaultProps\n} from '@deck.gl/core';\nimport GL from '@luma.gl/constants';\nimport {Model, Geometry} from '@luma.gl/core';\n\nimport vs from './point-cloud-layer-vertex.glsl';\nimport fs from './point-cloud-layer-fragment.glsl';\n\nconst DEFAULT_COLOR: [number, number, number, number] = [0, 0, 0, 255];\nconst DEFAULT_NORMAL: [number, number, number] = [0, 0, 1];\n\nconst defaultProps: DefaultProps<PointCloudLayerProps> = {\n  sizeUnits: 'pixels',\n  pointSize: {type: 'number', min: 0, value: 10}, //  point radius in pixels\n\n  getPosition: {type: 'accessor', value: x => x.position},\n  getNormal: {type: 'accessor', value: DEFAULT_NORMAL},\n  getColor: {type: 'accessor', value: DEFAULT_COLOR},\n\n  material: true,\n\n  // Depreated\n  radiusPixels: {deprecatedFor: 'pointSize'}\n};\n\n// support loaders.gl point cloud format\nfunction normalizeData(data) {\n  const {header, attributes} = data;\n  if (!header || !attributes) {\n    return;\n  }\n\n  data.length = header.vertexCount;\n\n  if (attributes.POSITION) {\n    attributes.instancePositions = attributes.POSITION;\n  }\n  if (attributes.NORMAL) {\n    attributes.instanceNormals = attributes.NORMAL;\n  }\n  if (attributes.COLOR_0) {\n    attributes.instanceColors = attributes.COLOR_0;\n  }\n}\n\n/** All properties supported by PointCloudLayer. */\nexport type PointCloudLayerProps<DataT = any> = _PointCloudLayerProps<DataT> & LayerProps<DataT>;\n\n/** Properties added by PointCloudLayer. */\ntype _PointCloudLayerProps<DataT> = {\n  /**\n   * The units of the point size, one of `'meters'`, `'common'`, and `'pixels'`.\n   * @default 'pixels'\n   */\n  sizeUnits?: Unit;\n\n  /**\n   * Global radius of all points, in units specified by `sizeUnits`\n   * @default 10\n   */\n  pointSize?: number;\n\n  /**\n   * @deprecated Use `pointSize` instead\n   */\n  radiusPixels?: number;\n\n  /**\n   * Material settings for lighting effect.\n   *\n   * @default true\n   * @see https://deck.gl/docs/developer-guide/using-lighting\n   */\n  material?: Material;\n\n  /**\n   * Method called to retrieve the position of each object.\n   * @default object => object.position\n   */\n  getPosition?: AccessorFunction<DataT, Position>;\n\n  /**\n   * The normal of each object, in `[nx, ny, nz]`.\n   * @default [0, 0, 1]\n   */\n  getNormal?: Accessor<DataT, [number, number, number]>;\n\n  /**\n   * The rgba color is in the format of `[r, g, b, [a]]`\n   * @default [0, 0, 0, 255]\n   */\n  getColor?: Accessor<DataT, Color>;\n};\n\n/** Render a point cloud with 3D positions, normals and colors. */\nexport default class PointCloudLayer<DataT = any, ExtraPropsT = {}> extends Layer<\n  ExtraPropsT & Required<_PointCloudLayerProps<DataT>>\n> {\n  static layerName = 'PointCloudLayer';\n  static defaultProps = defaultProps;\n\n  getShaders() {\n    return super.getShaders({vs, fs, modules: [project32, gouraudLighting, picking]});\n  }\n\n  initializeState() {\n    this.getAttributeManager()!.addInstanced({\n      instancePositions: {\n        size: 3,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        transition: true,\n        accessor: 'getPosition'\n      },\n      instanceNormals: {\n        size: 3,\n        transition: true,\n        accessor: 'getNormal',\n        defaultValue: DEFAULT_NORMAL\n      },\n      instanceColors: {\n        size: this.props.colorFormat.length,\n        type: GL.UNSIGNED_BYTE,\n        normalized: true,\n        transition: true,\n        accessor: 'getColor',\n        defaultValue: DEFAULT_COLOR\n      }\n    });\n  }\n\n  updateState(params: UpdateParameters<this>): void {\n    const {changeFlags, props} = params;\n    super.updateState(params);\n    if (changeFlags.extensionsChanged) {\n      const {gl} = this.context;\n      this.state.model?.delete();\n      this.state.model = this._getModel(gl);\n      this.getAttributeManager()!.invalidateAll();\n    }\n    if (changeFlags.dataChanged) {\n      normalizeData(props.data);\n    }\n  }\n\n  draw({uniforms}) {\n    const {pointSize, sizeUnits} = this.props;\n\n    this.state.model\n      .setUniforms(uniforms)\n      .setUniforms({\n        sizeUnits: UNIT[sizeUnits],\n        radiusPixels: pointSize\n      })\n      .draw();\n  }\n\n  protected _getModel(gl: WebGLRenderingContext): Model {\n    // a triangle that minimally cover the unit circle\n    const positions: number[] = [];\n    for (let i = 0; i < 3; i++) {\n      const angle = (i / 3) * Math.PI * 2;\n      positions.push(Math.cos(angle) * 2, Math.sin(angle) * 2, 0);\n    }\n\n    return new Model(gl, {\n      ...this.getShaders(),\n      id: this.props.id,\n      geometry: new Geometry({\n        drawMode: GL.TRIANGLES,\n        attributes: {\n          positions: new Float32Array(positions)\n        }\n      }),\n      isInstanced: true\n    });\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  // Find the center of the point and add the current vertex\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply lighting\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n`;\n","// Note: This file will either be moved back to deck.gl or reformatted to web-monorepo standards\n// Disabling lint temporarily to facilitate copying code in and out of this repo\n/* eslint-disable */\n\n// Copyright (c) 2015 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {\n  Layer,\n  project32,\n  phongLighting,\n  picking,\n  DefaultProps,\n  log,\n  LayerContext,\n  Material\n} from '@deck.gl/core';\nimport GL from '@luma.gl/constants';\nimport {Model, Geometry, Texture2D, isWebGL2} from '@luma.gl/core';\nimport {hasFeature, FEATURES} from '@luma.gl/webgl';\n\nimport {MATRIX_ATTRIBUTES, shouldComposeModelMatrix} from '../utils/matrix';\n\nimport vs from './simple-mesh-layer-vertex.glsl';\nimport fs from './simple-mesh-layer-fragment.glsl';\n\nimport type {LayerProps, UpdateParameters, Accessor, Position, Color, Texture} from '@deck.gl/core';\nimport type {MeshAttribute, MeshAttributes} from '@loaders.gl/schema';\nimport type {Geometry as GeometryType} from '@luma.gl/engine';\nimport {GLTFMaterialParser} from '@luma.gl/experimental';\n\nfunction validateGeometryAttributes(attributes: Record<string, any>, useMeshColors: boolean): void {\n  const hasColorAttribute = attributes.COLOR_0 || attributes.colors;\n  const useColorAttribute = hasColorAttribute && useMeshColors;\n  if (!useColorAttribute) {\n    attributes.colors = {constant: true, value: new Float32Array([1, 1, 1])};\n  }\n  log.assert(\n    attributes.positions || attributes.POSITION,\n    'no \"postions\" or \"POSITION\" attribute in mesh'\n  );\n}\n\n/*\n * Convert mesh data into geometry\n * @returns {Geometry} geometry\n */\nfunction getGeometry(data: Mesh, useMeshColors: boolean): Geometry {\n  if ((data as any).attributes) {\n    validateGeometryAttributes((data as any).attributes, useMeshColors);\n    if (data instanceof Geometry) {\n      return data;\n    } else {\n      return new Geometry(data);\n    }\n  } else if ((data as MeshAttributes).positions || (data as MeshAttributes).POSITION) {\n    validateGeometryAttributes(data, useMeshColors);\n    return new Geometry({\n      attributes: data\n    });\n  }\n  throw Error('Invalid mesh');\n}\n\nconst DEFAULT_COLOR: [number, number, number, number] = [0, 0, 0, 255];\n\ntype Mesh =\n  | GeometryType\n  | {\n      attributes: MeshAttributes;\n      indices?: MeshAttribute;\n    }\n  | MeshAttributes;\n\ntype _SimpleMeshLayerProps<DataT> = {\n  mesh: string | Mesh | Promise<Mesh> | null;\n  texture?: string | Texture | Promise<Texture>;\n  /** Customize the [texture parameters](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter). */\n  textureParameters?: Record<number, number> | null;\n\n  /** Anchor position accessor. */\n  getPosition?: Accessor<DataT, Position>;\n  /** Color value or accessor.\n   * If `mesh` does not contain vertex colors, use this color to render each object.\n   * If `mesh` contains vertex colors, then the two colors are mixed together.\n   * Use `[255, 255, 255]` to use the original mesh colors.\n   * If `texture` is assigned, then both colors will be ignored.\n   * @default [0, 0, 0, 255]\n   */\n  getColor?: Accessor<DataT, Color>;\n  /**\n   * Orientation in [pitch, yaw, roll] in degrees.\n   * @see https://en.wikipedia.org/wiki/Euler_angles\n   * @default [0, 0, 0]\n   */\n  getOrientation?: Accessor<DataT, [number, number, number]>;\n  /**\n   * Scaling factor of the model along each axis.\n   * @default [1, 1, 1]\n   */\n  getScale?: Accessor<DataT, [number, number, number]>;\n  /**\n   * Translation from the anchor point, [x, y, z] in meters.\n   * @default [0, 0, 0]\n   */\n  getTranslation?: Accessor<DataT, [number, number, number]>;\n  /**\n   * TransformMatrix. If specified, `getOrientation`, `getScale` and `getTranslation` are ignored.\n   */\n  getTransformMatrix?: Accessor<DataT, number[]>;\n  /**\n   * Multiplier to scale each geometry by.\n   * @default 1\n   */\n  sizeScale?: number;\n  /**\n   * @deprecated Whether to color pixels using vertex colors supplied in the mesh (the `COLOR_0` or `colors` attribute).\n   * If set to `false` vertex colors will be ignored.\n   * This prop will be removed and set to always true in the next major release.\n   * @default false\n   */\n  _useMeshColors?: boolean;\n\n  /**\n   * (Experimental) If rendering only one instance of the mesh, set this to false to treat mesh positions\n   * as deltas of the world coordinates of the anchor.\n   * E.g. in LNGLAT coordinates, mesh positions are interpreted as meter offsets by default.\n   * setting _instanced to false interpreted mesh positions as lnglat deltas.\n   * @default true\n   */\n  _instanced?: true; // TODO - formalize API\n  /**\n   * Whether to render the mesh in wireframe mode.\n   * @default false\n   */\n  wireframe?: false;\n  /**\n   * Material props for lighting effect.\n   *\n   * @default true\n   * @see https://deck.gl/docs/developer-guide/using-lighting#constructing-a-material-instance\n   */\n  material?: Material;\n};\n\nexport type SimpleMeshLayerProps<DataT = any> = _SimpleMeshLayerProps<DataT> & LayerProps<DataT>;\n\nconst defaultProps: DefaultProps<SimpleMeshLayerProps> = {\n  mesh: {type: 'object', value: null, async: true},\n  texture: {type: 'image', value: null, async: true},\n  sizeScale: {type: 'number', value: 1, min: 0},\n  // Whether the color attribute in a mesh will be used\n  // This prop will be removed and set to true in next major release\n  _useMeshColors: {type: 'boolean', value: false},\n\n  // _instanced is a hack to use world position instead of meter offsets in mesh\n  // TODO - formalize API\n  _instanced: true,\n  // NOTE(Tarek): Quick and dirty wireframe. Just draws\n  // the same mesh with LINE_STRIPS. Won't follow edges\n  // of the original mesh.\n  wireframe: false,\n  // Optional material for 'lighting' shader module\n  material: true,\n  getPosition: {type: 'accessor', value: x => x.position},\n  getColor: {type: 'accessor', value: DEFAULT_COLOR},\n\n  // yaw, pitch and roll are in degrees\n  // https://en.wikipedia.org/wiki/Euler_angles\n  // [pitch, yaw, roll]\n  getOrientation: {type: 'accessor', value: [0, 0, 0]},\n  getScale: {type: 'accessor', value: [1, 1, 1]},\n  getTranslation: {type: 'accessor', value: [0, 0, 0]},\n  // 4x4 matrix\n  getTransformMatrix: {type: 'accessor', value: []}\n};\n\n/** Render a number of instances of an arbitrary 3D geometry. */\nexport default class SimpleMeshLayer<DataT = any, ExtraPropsT = {}> extends Layer<\n  ExtraPropsT & Required<_SimpleMeshLayerProps<DataT>>\n> {\n  static defaultProps = defaultProps;\n  static layerName = 'SimpleMeshLayer';\n\n  state!: {\n    materialParser?: GLTFMaterialParser;\n    model?: Model;\n    emptyTexture: Texture2D;\n    hasNormals?: boolean;\n  };\n\n  getShaders() {\n    const transpileToGLSL100 = !isWebGL2(this.context.gl);\n\n    const defines: any = {};\n\n    if (hasFeature(this.context.gl, FEATURES.GLSL_DERIVATIVES)) {\n      defines.DERIVATIVES_AVAILABLE = 1;\n    }\n\n    return super.getShaders({\n      vs,\n      fs,\n      modules: [project32, phongLighting, picking],\n      transpileToGLSL100,\n      defines\n    });\n  }\n\n  initializeState() {\n    const attributeManager = this.getAttributeManager();\n    // attributeManager is always defined in a primitive layer\n    attributeManager!.addInstanced({\n      instancePositions: {\n        transition: true,\n        type: GL.DOUBLE,\n        fp64: this.use64bitPositions(),\n        size: 3,\n        accessor: 'getPosition'\n      },\n      instanceColors: {\n        type: GL.UNSIGNED_BYTE,\n        transition: true,\n        size: this.props.colorFormat.length,\n        normalized: true,\n        accessor: 'getColor',\n        defaultValue: [0, 0, 0, 255]\n      },\n      instanceModelMatrix: MATRIX_ATTRIBUTES\n    });\n\n    this.setState({\n      // Avoid luma.gl's missing uniform warning\n      // TODO - add feature to luma.gl to specify ignored uniforms?\n      emptyTexture: new Texture2D(this.context.gl, {\n        data: new Uint8Array(4),\n        width: 1,\n        height: 1\n      })\n    });\n  }\n\n  updateState(params: UpdateParameters<this>) {\n    super.updateState(params);\n\n    const {props, oldProps, changeFlags} = params;\n    if (props.mesh !== oldProps.mesh || changeFlags.extensionsChanged) {\n      this.state.model?.delete();\n      if (props.mesh) {\n        this.state.model = this.getModel(props.mesh as Mesh);\n\n        const attributes = (props.mesh as any).attributes || props.mesh;\n        this.setState({\n          hasNormals: Boolean(attributes.NORMAL || attributes.normals)\n        });\n      }\n      // attributeManager is always defined in a primitive layer\n      this.getAttributeManager()!.invalidateAll();\n    }\n\n    if (props.texture !== oldProps.texture) {\n      this.setTexture(props.texture);\n    }\n\n    if (this.state.model) {\n      this.state.model.setDrawMode(this.props.wireframe ? GL.LINE_STRIP : GL.TRIANGLES);\n    }\n  }\n\n  finalizeState(context: LayerContext) {\n    super.finalizeState(context);\n\n    this.state.emptyTexture.delete();\n  }\n\n  draw({uniforms}) {\n    if (!this.state.model) {\n      return;\n    }\n\n    const {viewport} = this.context;\n    const {sizeScale, coordinateSystem, _instanced} = this.props;\n\n    this.state.model\n      .setUniforms(uniforms)\n      .setUniforms({\n        sizeScale,\n        composeModelMatrix: !_instanced || shouldComposeModelMatrix(viewport, coordinateSystem),\n        flatShading: !this.state.hasNormals\n      })\n      .draw();\n  }\n\n  protected getModel(mesh: Mesh): Model {\n    const model = new Model(this.context.gl, {\n      ...this.getShaders(),\n      id: this.props.id,\n      geometry: getGeometry(mesh, this.props._useMeshColors),\n      isInstanced: true\n    });\n\n    const {texture} = this.props;\n    const {emptyTexture} = this.state;\n    model.setUniforms({\n      sampler: texture || emptyTexture,\n      hasTexture: Boolean(texture)\n    });\n\n    return model;\n  }\n\n  private setTexture(texture: Texture2D): void {\n    const {emptyTexture, model} = this.state;\n\n    // props.mesh may not be ready at this time.\n    // The sampler will be set when `getModel` is called\n    if (model) {\n      model.setUniforms({\n        sampler: texture || emptyTexture,\n        hasTexture: Boolean(texture)\n      });\n    }\n  }\n}\n","export default `#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n","export default `#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n`;\n","import polygonClipping from \"polygon-clipping\";\nimport { getGeom } from \"@turf/invariant\";\nimport { multiPolygon, polygon } from \"@turf/helpers\";\n/**\n * Takes two {@link (Multi)Polygon(s)} and returns a combined polygon. If the input polygons are not contiguous, this function returns a {@link MultiPolygon} feature.\n *\n * @name union\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to output Feature\n * @returns {Feature<(Polygon|MultiPolygon)>} a combined {@link Polygon} or {@link MultiPolygon} feature, or null if the inputs are empty\n * @example\n * var poly1 = turf.polygon([[\n *     [-82.574787, 35.594087],\n *     [-82.574787, 35.615581],\n *     [-82.545261, 35.615581],\n *     [-82.545261, 35.594087],\n *     [-82.574787, 35.594087]\n * ]], {\"fill\": \"#0f0\"});\n * var poly2 = turf.polygon([[\n *     [-82.560024, 35.585153],\n *     [-82.560024, 35.602602],\n *     [-82.52964, 35.602602],\n *     [-82.52964, 35.585153],\n *     [-82.560024, 35.585153]\n * ]], {\"fill\": \"#00f\"});\n *\n * var union = turf.union(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, union];\n */\nfunction union(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var unioned = polygonClipping.union(geom1.coordinates, geom2.coordinates);\n    if (unioned.length === 0)\n        return null;\n    if (unioned.length === 1)\n        return polygon(unioned[0], options.properties);\n    else\n        return multiPolygon(unioned, options.properties);\n}\nexport default union;\n","import nearestPointOnLine from '@turf/nearest-point-on-line';\nimport { point, lineString as toLineString } from '@turf/helpers';\nimport circle from '@turf/circle';\nimport distance from '@turf/distance';\nimport turfCenter from '@turf/center';\nimport {\n  recursivelyTraverseNestedArrays,\n  nearestPointOnProjectedLine,\n  getPickedEditHandles,\n  getPickedEditHandle,\n  NearestPointType,\n} from '../utils';\nimport { LineString, Point, FeatureCollection, FeatureOf } from '../geojson-types';\nimport {\n  ModeProps,\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  Viewport,\n  EditHandleFeature,\n  GuideFeatureCollection,\n} from '../types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class ResizeCircleMode extends GeoJsonEditMode {\n  _selectedEditHandle: EditHandleFeature | null | undefined;\n  _isResizing = false;\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const handles = [];\n    const selectedFeatureIndexes = props.selectedIndexes;\n\n    const { lastPointerMoveEvent } = props;\n    const picks = lastPointerMoveEvent && lastPointerMoveEvent.picks;\n    const mapCoords = lastPointerMoveEvent && lastPointerMoveEvent.mapCoords;\n\n    // intermediate edit handle\n    if (\n      picks &&\n      picks.length &&\n      mapCoords &&\n      selectedFeatureIndexes.length === 1 &&\n      !this._isResizing\n    ) {\n      const featureAsPick = picks.find((pick) => !pick.isGuide);\n\n      // is the feature in the pick selected\n      if (\n        featureAsPick &&\n        featureAsPick.object.properties.shape &&\n        featureAsPick.object.properties.shape.includes('Circle') &&\n        props.selectedIndexes.includes(featureAsPick.index)\n      ) {\n        let intermediatePoint: NearestPointType | null | undefined = null;\n        let positionIndexPrefix = [];\n        const referencePoint = point(mapCoords);\n        // process all lines of the (single) feature\n        recursivelyTraverseNestedArrays(\n          featureAsPick.object.geometry.coordinates,\n          [],\n          (lineString, prefix) => {\n            const lineStringFeature = toLineString(lineString);\n            const candidateIntermediatePoint = this.getNearestPoint(\n              // @ts-ignore\n              lineStringFeature,\n              referencePoint,\n              props.modeConfig && props.modeConfig.viewport\n            );\n            if (\n              !intermediatePoint ||\n              candidateIntermediatePoint.properties.dist < intermediatePoint.properties.dist\n            ) {\n              intermediatePoint = candidateIntermediatePoint;\n              positionIndexPrefix = prefix;\n            }\n          }\n        );\n        // tack on the lone intermediate point to the set of handles\n        if (intermediatePoint) {\n          const {\n            geometry: { coordinates: position },\n            properties: { index },\n          } = intermediatePoint;\n          handles.push({\n            type: 'Feature',\n            properties: {\n              guideType: 'editHandle',\n              editHandleType: 'intermediate',\n              featureIndex: featureAsPick.index,\n              positionIndexes: [...positionIndexPrefix, index + 1],\n            },\n            geometry: {\n              type: 'Point',\n              coordinates: position,\n            },\n          });\n        }\n      }\n    }\n\n    return {\n      type: 'FeatureCollection',\n      features: handles,\n    };\n  }\n\n  // turf.js does not support elevation for nearestPointOnLine\n  getNearestPoint(\n    line: FeatureOf<LineString>,\n    inPoint: FeatureOf<Point>,\n    viewport: Viewport | null | undefined\n  ): NearestPointType {\n    const { coordinates } = line.geometry;\n    if (coordinates.some((coord) => coord.length > 2)) {\n      if (viewport) {\n        // This line has elevation, we need to use alternative algorithm\n        return nearestPointOnProjectedLine(line, inPoint, viewport);\n      }\n      // eslint-disable-next-line no-console,no-undef\n      console.log(\n        'Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.'\n      );\n    }\n\n    return nearestPointOnLine(line, inPoint);\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>): void {\n    const editHandle = getPickedEditHandle(event.pointerDownPicks);\n\n    if (editHandle) {\n      // Cancel map panning if pointer went down on an edit handle\n      event.cancelPan();\n\n      const editHandleProperties = editHandle.properties;\n\n      const feature = this.getSelectedFeature(props);\n      const center = turfCenter(feature).geometry.coordinates;\n      const numberOfSteps = Object.entries(feature.geometry.coordinates[0]).length - 1;\n      const radius = Math.max(distance(center, event.mapCoords), 0.001);\n\n      const { steps = numberOfSteps } = {};\n      const options = { steps };\n      const updatedFeature = circle(center, radius, options);\n      const geometry = updatedFeature.geometry;\n\n      const updatedData = new ImmutableFeatureCollection(props.data)\n        .replaceGeometry(editHandleProperties.featureIndex, geometry)\n        .getObject();\n\n      props.onEdit({\n        updatedData,\n        editType: 'unionGeometry',\n        editContext: {\n          featureIndexes: [editHandleProperties.featureIndex],\n        },\n      });\n    }\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>): void {\n    if (!this._isResizing) {\n      const selectedEditHandle = getPickedEditHandle(event.picks);\n      this._selectedEditHandle =\n        selectedEditHandle && selectedEditHandle.properties.editHandleType === 'intermediate'\n          ? selectedEditHandle\n          : null;\n    }\n\n    const cursor = this.getCursor(event);\n    props.onUpdateCursor(cursor);\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._selectedEditHandle) {\n      this._isResizing = true;\n    }\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this._isResizing) {\n      this._selectedEditHandle = null;\n      this._isResizing = false;\n    }\n  }\n\n  getCursor(event: PointerMoveEvent): string | null | undefined {\n    const picks = (event && event.picks) || [];\n\n    const handlesPicked = getPickedEditHandles(picks);\n    if (handlesPicked.length) {\n      return 'cell';\n    }\n    return null;\n  }\n}\n","import { coordEach } from '@turf/meta';\nimport { isObject } from '@turf/helpers';\nimport { getCoords } from '@turf/invariant';\nimport clone from '@turf/clone';\nimport rhumbDestination from '@turf/rhumb-destination';\n\n/**\n * Moves any geojson Feature or Geometry of a specified distance along a Rhumb Line\n * on the provided direction angle.\n *\n * @name transformTranslate\n * @param {GeoJSON} geojson object to be translated\n * @param {number} distance length of the motion; negative values determine motion in opposite direction\n * @param {number} direction of the motion; angle from North in decimal degrees, positive clockwise\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] in which `distance` will be express; miles, kilometers, degrees, or radians\n * @param {number} [options.zTranslation=0] length of the vertical motion, same unit of distance\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} the translated GeoJSON object\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var translatedPoly = turf.transformTranslate(poly, 100, 35);\n *\n * //addToMap\n * var addToMap = [poly, translatedPoly];\n * translatedPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformTranslate(geojson, distance, direction, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var units = options.units;\n  var zTranslation = options.zTranslation;\n  var mutate = options.mutate;\n\n  // Input validation\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (distance === undefined || distance === null || isNaN(distance))\n    throw new Error(\"distance is required\");\n  if (zTranslation && typeof zTranslation !== \"number\" && isNaN(zTranslation))\n    throw new Error(\"zTranslation is not a number\");\n\n  // Shortcut no-motion\n  zTranslation = zTranslation !== undefined ? zTranslation : 0;\n  if (distance === 0 && zTranslation === 0) return geojson;\n\n  if (direction === undefined || direction === null || isNaN(direction))\n    throw new Error(\"direction is required\");\n\n  // Invert with negative distances\n  if (distance < 0) {\n    distance = -distance;\n    direction = direction + 180;\n  }\n\n  // Clone geojson to avoid side effects\n  if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n  // Translate each coordinate\n  coordEach(geojson, function (pointCoords) {\n    var newCoords = getCoords(\n      rhumbDestination(pointCoords, distance, direction, { units: units })\n    );\n    pointCoords[0] = newCoords[0];\n    pointCoords[1] = newCoords[1];\n    if (zTranslation && pointCoords.length === 3)\n      pointCoords[2] += zTranslation;\n  });\n  return geojson;\n}\n\nexport default transformTranslate;\n","import clone from '@turf/clone';\nimport center from '@turf/center';\nimport centroid from '@turf/centroid';\nimport turfBBox from '@turf/bbox';\nimport rhumbBearing from '@turf/rhumb-bearing';\nimport rhumbDistance from '@turf/rhumb-distance';\nimport rhumbDestination from '@turf/rhumb-destination';\nimport { featureEach, coordEach } from '@turf/meta';\nimport { isObject, point } from '@turf/helpers';\nimport { getType, getCoords, getCoord } from '@turf/invariant';\n\n/**\n * Scale a GeoJSON from a given point by a factor of scaling (ex: factor=2 would make the GeoJSON 200% larger).\n * If a FeatureCollection is provided, the origin point will be calculated based on each individual Feature.\n *\n * @name transformScale\n * @param {GeoJSON} geojson GeoJSON to be scaled\n * @param {number} factor of scaling, positive or negative values greater than 0\n * @param {Object} [options={}] Optional parameters\n * @param {string|Coord} [options.origin='centroid'] Point from which the scaling will occur (string options: sw/se/nw/ne/center/centroid)\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} scaled GeoJSON\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var scaledPoly = turf.transformScale(poly, 3);\n *\n * //addToMap\n * var addToMap = [poly, scaledPoly];\n * scaledPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformScale(geojson, factor, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var origin = options.origin;\n  var mutate = options.mutate;\n\n  // Input validation\n  if (!geojson) throw new Error(\"geojson required\");\n  if (typeof factor !== \"number\" || factor === 0)\n    throw new Error(\"invalid factor\");\n  var originIsPoint = Array.isArray(origin) || typeof origin === \"object\";\n\n  // Clone geojson to avoid side effects\n  if (mutate !== true) geojson = clone(geojson);\n\n  // Scale each Feature separately\n  if (geojson.type === \"FeatureCollection\" && !originIsPoint) {\n    featureEach(geojson, function (feature, index) {\n      geojson.features[index] = scale(feature, factor, origin);\n    });\n    return geojson;\n  }\n  // Scale Feature/Geometry\n  return scale(geojson, factor, origin);\n}\n\n/**\n * Scale Feature/Geometry\n *\n * @private\n * @param {Feature|Geometry} feature GeoJSON Feature/Geometry\n * @param {number} factor of scaling, positive or negative values greater than 0\n * @param {string|Coord} [origin=\"centroid\"] Point from which the scaling will occur (string options: sw/se/nw/ne/center/centroid)\n * @returns {Feature|Geometry} scaled GeoJSON Feature/Geometry\n */\nfunction scale(feature, factor, origin) {\n  // Default params\n  var isPoint = getType(feature) === \"Point\";\n  origin = defineOrigin(feature, origin);\n\n  // Shortcut no-scaling\n  if (factor === 1 || isPoint) return feature;\n\n  // Scale each coordinate\n  coordEach(feature, function (coord) {\n    var originalDistance = rhumbDistance(origin, coord);\n    var bearing = rhumbBearing(origin, coord);\n    var newDistance = originalDistance * factor;\n    var newCoord = getCoords(rhumbDestination(origin, newDistance, bearing));\n    coord[0] = newCoord[0];\n    coord[1] = newCoord[1];\n    if (coord.length === 3) coord[2] *= factor;\n  });\n\n  return feature;\n}\n\n/**\n * Define Origin\n *\n * @private\n * @param {GeoJSON} geojson GeoJSON\n * @param {string|Coord} origin sw/se/nw/ne/center/centroid\n * @returns {Feature<Point>} Point origin\n */\nfunction defineOrigin(geojson, origin) {\n  // Default params\n  if (origin === undefined || origin === null) origin = \"centroid\";\n\n  // Input Coord\n  if (Array.isArray(origin) || typeof origin === \"object\")\n    return getCoord(origin);\n\n  // Define BBox\n  var bbox = geojson.bbox ? geojson.bbox : turfBBox(geojson);\n  var west = bbox[0];\n  var south = bbox[1];\n  var east = bbox[2];\n  var north = bbox[3];\n\n  switch (origin) {\n    case \"sw\":\n    case \"southwest\":\n    case \"westsouth\":\n    case \"bottomleft\":\n      return point([west, south]);\n    case \"se\":\n    case \"southeast\":\n    case \"eastsouth\":\n    case \"bottomright\":\n      return point([east, south]);\n    case \"nw\":\n    case \"northwest\":\n    case \"westnorth\":\n    case \"topleft\":\n      return point([west, north]);\n    case \"ne\":\n    case \"northeast\":\n    case \"eastnorth\":\n    case \"topright\":\n      return point([east, north]);\n    case \"center\":\n      return center(geojson);\n    case undefined:\n    case null:\n    case \"centroid\":\n      return centroid(geojson);\n    default:\n      throw new Error(\"invalid origin\");\n  }\n}\n\nexport default transformScale;\n","import { StartDraggingEvent, ModeProps } from '../types';\nimport { FeatureCollection } from '../geojson-types';\nimport { TranslateMode } from './translate-mode';\n\nexport class DuplicateMode extends TranslateMode {\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    super.handleStartDragging(event, props);\n\n    if (this._geometryBeforeTranslate) {\n      props.onEdit(this.getAddManyFeaturesAction(this._geometryBeforeTranslate, props.data));\n    }\n  }\n\n  updateCursor(props: ModeProps<FeatureCollection>) {\n    if (this._isTranslatable) {\n      props.onUpdateCursor('copy');\n    } else {\n      props.onUpdateCursor(null);\n    }\n  }\n}\n","import { Position, LineString, FeatureCollection } from '../geojson-types';\nimport { ClickEvent, PointerMoveEvent, ModeProps, GuideFeatureCollection } from '../types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class ExtendLineStringMode extends GeoJsonEditMode {\n  getSingleSelectedLineString(props: ModeProps<FeatureCollection>): LineString | null | undefined {\n    const selectedGeometry = this.getSelectedGeometry(props);\n\n    if (selectedGeometry && selectedGeometry.type === 'LineString') {\n      return selectedGeometry;\n    }\n    return null;\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const { selectedIndexes } = props;\n    const selectedLineString = this.getSingleSelectedLineString(props);\n\n    if (!selectedLineString) {\n      console.warn(`ExtendLineStringMode only supported for single LineString selection`); // eslint-disable-line\n      return;\n    }\n\n    // Extend the LineString\n    let positionIndexes = [selectedLineString.coordinates.length];\n\n    const modeConfig = props.modeConfig;\n    if (modeConfig && modeConfig.drawAtFront) {\n      positionIndexes = [0];\n    }\n    const featureIndex = selectedIndexes[0];\n    const updatedData = new ImmutableFeatureCollection(props.data)\n      .addPosition(featureIndex, positionIndexes, event.mapCoords)\n      .getObject();\n\n    props.onEdit({\n      updatedData,\n      editType: 'addPosition',\n      editContext: {\n        featureIndexes: [featureIndex],\n        positionIndexes,\n        position: event.mapCoords,\n      },\n    });\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const guides = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    const selectedLineString = this.getSingleSelectedLineString(props);\n    if (!selectedLineString) {\n      // nothing to do\n      // @ts-ignore\n      return guides;\n    }\n\n    const mapCoords = props.lastPointerMoveEvent && props.lastPointerMoveEvent.mapCoords;\n\n    // Draw an extension line starting from one end of the selected LineString to the cursor\n    let startPosition: Position | null | undefined = null;\n    const { modeConfig } = props;\n    if (modeConfig && modeConfig.drawAtFront) {\n      startPosition = selectedLineString.coordinates[0];\n    } else {\n      startPosition = selectedLineString.coordinates[selectedLineString.coordinates.length - 1];\n    }\n\n    guides.features.push({\n      type: 'Feature',\n      properties: {\n        guideType: 'tentative',\n      },\n      geometry: {\n        type: 'LineString',\n        coordinates: [startPosition, mapCoords],\n      },\n    });\n    // @ts-ignore\n    return guides;\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n  }\n}\n","import booleanPointInPolygon from '@turf/boolean-point-in-polygon';\nimport turfDifference from '@turf/difference';\nimport turfBuffer from '@turf/buffer';\nimport lineIntersect from '@turf/line-intersect';\nimport { lineString } from '@turf/helpers';\nimport turfBearing from '@turf/bearing';\nimport turfDistance from '@turf/distance';\nimport turfDestination from '@turf/destination';\nimport turfPolygonToLine from '@turf/polygon-to-line';\nimport nearestPointOnLine from '@turf/nearest-point-on-line';\nimport { generatePointsParallelToLinePoints } from '../utils';\nimport { FeatureCollection } from '../geojson-types';\nimport {\n  ClickEvent,\n  PointerMoveEvent,\n  ModeProps,\n  GuideFeatureCollection,\n  TentativeFeature,\n} from '../types';\nimport { GeoJsonEditMode, GeoJsonEditAction } from './geojson-edit-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class SplitPolygonMode extends GeoJsonEditMode {\n  calculateMapCoords(clickSequence: any, mapCoords: any, props: ModeProps<FeatureCollection>) {\n    const modeConfig = props.modeConfig;\n    if (!modeConfig || !modeConfig.lock90Degree || !clickSequence.length) {\n      return mapCoords;\n    }\n    if (clickSequence.length === 1) {\n      // if first point is clicked, then find closest polygon point and build ~90deg vector\n      const firstPoint = clickSequence[0];\n      const selectedGeometry = this.getSelectedGeometry(props);\n      // @ts-ignore\n      const feature = turfPolygonToLine(selectedGeometry);\n\n      const lines = feature.type === 'FeatureCollection' ? feature.features : [feature];\n      let minDistance = Number.MAX_SAFE_INTEGER;\n      let closestPoint = null;\n      // If Multipolygon, then we should find nearest polygon line and stick split to it.\n      lines.forEach((line) => {\n        const snapPoint = nearestPointOnLine(line, firstPoint);\n        const distanceFromOrigin = turfDistance(snapPoint, firstPoint);\n        if (minDistance > distanceFromOrigin) {\n          minDistance = distanceFromOrigin;\n          closestPoint = snapPoint;\n        }\n      });\n\n      if (closestPoint) {\n        // closest point is used as 90degree entry to the polygon\n        const lastBearing = turfBearing(firstPoint, closestPoint);\n        const currentDistance = turfDistance(firstPoint, mapCoords, { units: 'meters' });\n        return turfDestination(firstPoint, currentDistance, lastBearing, {\n          units: 'meters',\n        }).geometry.coordinates;\n      }\n      return mapCoords;\n    }\n    // Allow only 90 degree turns\n    const lastPoint = clickSequence[clickSequence.length - 1];\n    const [approximatePoint] = generatePointsParallelToLinePoints(\n      clickSequence[clickSequence.length - 2],\n      lastPoint,\n      mapCoords\n    );\n    // align point with current ground\n    const nearestPt = nearestPointOnLine(lineString([lastPoint, approximatePoint]), mapCoords)\n      .geometry.coordinates;\n    return nearestPt;\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const clickSequence = this.getClickSequence();\n\n    const guides: GuideFeatureCollection = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    if (clickSequence.length === 0 || !props.lastPointerMoveEvent) {\n      // nothing to do yet\n      return guides;\n    }\n\n    const { mapCoords } = props.lastPointerMoveEvent;\n\n    guides.features.push({\n      type: 'Feature',\n      properties: {\n        guideType: 'tentative',\n      },\n      geometry: {\n        type: 'LineString',\n        coordinates: [...clickSequence, this.calculateMapCoords(clickSequence, mapCoords, props)],\n      },\n    });\n\n    return guides;\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const tentativeFeature = this.getTentativeGuide(props);\n\n    const selectedGeometry = this.getSelectedGeometry(props);\n\n    if (!selectedGeometry) {\n      // eslint-disable-next-line no-console,no-undef\n      console.warn('A polygon must be selected for splitting');\n      return;\n    }\n\n    const clickSequence = this.getClickSequence();\n    if (tentativeFeature && tentativeFeature.geometry.type === 'LineString') {\n      clickSequence.push(\n        tentativeFeature.geometry.coordinates[tentativeFeature.geometry.coordinates.length - 1]\n      );\n    } else {\n      this.addClickSequence(event);\n    }\n\n    const pt = {\n      type: 'Point',\n      coordinates: clickSequence[clickSequence.length - 1],\n    };\n    // @ts-ignore\n    const isPointInPolygon = booleanPointInPolygon(pt, selectedGeometry);\n    if (clickSequence.length > 1 && tentativeFeature && !isPointInPolygon) {\n      this.resetClickSequence();\n      // @ts-ignore\n      const isLineInterectingWithPolygon = lineIntersect(tentativeFeature, selectedGeometry);\n      if (isLineInterectingWithPolygon.features.length === 0) {\n        return;\n      }\n\n      const editAction = this.splitPolygon(tentativeFeature, props);\n\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    }\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n  }\n\n  splitPolygon(tentativeFeature: TentativeFeature, props: ModeProps<FeatureCollection>) {\n    const selectedGeometry = this.getSelectedGeometry(props);\n    const featureIndex = props.selectedIndexes[0];\n    const modeConfig = props.modeConfig || {};\n\n    // Default gap in between the polygon\n    let { gap = 0.1, units = 'centimeters' } = modeConfig;\n    if (gap === 0) {\n      gap = 0.1;\n      units = 'centimeters';\n    }\n\n    const buffer = turfBuffer(tentativeFeature, gap, { units });\n    // @ts-ignore\n    const updatedGeometry = turfDifference(selectedGeometry, buffer);\n    if (!updatedGeometry) {\n      // eslint-disable-next-line no-console,no-undef\n      console.warn('Canceling edit. Split Polygon erased');\n      return null;\n    }\n\n    const { type, coordinates } = updatedGeometry.geometry;\n    let updatedCoordinates = [];\n    if (type === 'Polygon') {\n      // Update the coordinates as per Multipolygon\n      // @ts-ignore\n      updatedCoordinates = coordinates.map((c) => [c]);\n    } else {\n      // Handle Case when Multipolygon has holes\n      // @ts-ignore\n      updatedCoordinates = coordinates.reduce((agg, prev) => {\n        prev.forEach((p) => {\n          agg.push([p]);\n        });\n        return agg;\n      }, []);\n    }\n\n    // Update the type to Mulitpolygon\n    const updatedData = new ImmutableFeatureCollection(props.data).replaceGeometry(featureIndex, {\n      type: 'MultiPolygon',\n      coordinates: updatedCoordinates,\n    });\n\n    const editAction: GeoJsonEditAction = {\n      updatedData: updatedData.getObject(),\n      editType: 'split',\n      editContext: {\n        featureIndexes: [featureIndex],\n      },\n    };\n\n    return editAction;\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.jsts={})}(this,function(t){\"use strict\";function e(){}function n(t){this.message=t||\"\"}function i(t){this.message=t||\"\"}function r(t){this.message=t||\"\"}function o(){}function s(t){return null===t?Mt:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function l(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function p(){this.root_=null,this.size_=0}function h(){}function f(){this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}function g(){}function d(t){this.message=t||\"\"}function y(){this.array_=[]}\"fill\"in Array.prototype||Object.defineProperty(Array.prototype,\"fill\",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+\" is not an object\");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return\"number\"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var _=function(){};_.prototype.interfaces_=function(){return[]},_.prototype.getClass=function(){return _},_.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var m=function(t){function e(e){t.call(this,e),this.name=\"IllegalArgumentException\",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(){},I={MAX_VALUE:{configurable:!0}};v.isNaN=function(t){return Number.isNaN(t)},v.doubleToLongBits=function(t){return t},v.longBitsToDouble=function(t){return t},v.isInfinite=function(t){return!Number.isFinite(t)},I.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(v,I);var E=function(){},x=function(){},N=function(){},C=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},S={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};C.prototype.setOrdinate=function(t,e){switch(t){case C.X:this.x=e;break;case C.Y:this.y=e;break;case C.Z:this.z=e;break;default:throw new m(\"Invalid ordinate index: \"+t)}},C.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!_.equalsWithTolerance(this.x,e.x,n)&&!!_.equalsWithTolerance(this.y,e.y,n)}},C.prototype.getOrdinate=function(t){switch(t){case C.X:return this.x;case C.Y:return this.y;case C.Z:return this.z}throw new m(\"Invalid ordinate index: \"+t)},C.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||v.isNaN(this.z))&&v.isNaN(t.z)},C.prototype.equals=function(t){return t instanceof C&&this.equals2D(t)},C.prototype.equalInZ=function(t,e){return _.equalsWithTolerance(this.z,t.z,e)},C.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},C.prototype.clone=function(){},C.prototype.copy=function(){return new C(this)},C.prototype.toString=function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.z+\")\"},C.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},C.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},C.prototype.hashCode=function(){var t=17;return t=37*t+C.hashCode(this.x),t=37*t+C.hashCode(this.y)},C.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},C.prototype.interfaces_=function(){return[E,x,e]},C.prototype.getClass=function(){return C},C.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=v.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},S.DimensionalComparator.get=function(){return L},S.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},S.NULL_ORDINATE.get=function(){return v.NaN},S.X.get=function(){return 0},S.Y.get=function(){return 1},S.Z.get=function(){return 2},Object.defineProperties(C,S);var L=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new m(\"only 2 or 3 dimensions may be specified\");this._dimensionsToTest=e}};L.prototype.compare=function(t,e){var n=t,i=e,r=L.compare(n.x,i.x);if(0!==r)return r;var o=L.compare(n.y,i.y);if(0!==o)return o;if(this._dimensionsToTest<=2)return 0;return L.compare(n.z,i.z)},L.prototype.interfaces_=function(){return[N]},L.prototype.getClass=function(){return L},L.compare=function(t,e){return t<e?-1:t>e?1:v.isNaN(t)?v.isNaN(e)?0:-1:v.isNaN(e)?1:0};var b=function(){};b.prototype.create=function(){},b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b};var w=function(){},O={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};w.prototype.interfaces_=function(){return[]},w.prototype.getClass=function(){return w},w.toLocationSymbol=function(t){switch(t){case w.EXTERIOR:return\"e\";case w.BOUNDARY:return\"b\";case w.INTERIOR:return\"i\";case w.NONE:return\"-\"}throw new m(\"Unknown location value: \"+t)},O.INTERIOR.get=function(){return 0},O.BOUNDARY.get=function(){return 1},O.EXTERIOR.get=function(){return 2},O.NONE.get=function(){return-1},Object.defineProperties(w,O);var T=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},R=function(){},P={LOG_10:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.log10=function(t){var e=Math.log(t);return v.isInfinite(e)?e:v.isNaN(e)?e:e/R.LOG_10},R.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},R.clamp=function(){if(\"number\"==typeof arguments[2]&&\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},R.wrap=function(t,e){return t<0?e- -t%e:t%e},R.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=r;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},R.average=function(t,e){return(t+e)/2},P.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(R,P);var D=function(t){this.str=t};D.prototype.append=function(t){this.str+=t},D.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},D.prototype.toString=function(t){return this.str};var M=function(t){this.value=t};M.prototype.intValue=function(){return this.value},M.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},M.isNaN=function(t){return Number.isNaN(t)};var A=function(){};A.isWhitespace=function(t){return t<=32&&t>=0||127===t},A.toUpperCase=function(t){return t.toUpperCase()};var F=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if(\"number\"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if(\"string\"==typeof arguments[0]){var i=arguments[0];t.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},G={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};F.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},F.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=F.magnitude(n._hi),r=F.TEN.pow(i);(n=n.divide(r)).gt(F.TEN)?(n=n.divide(F.TEN),i+=1):n.lt(F.ONE)&&(n=n.multiply(F.TEN),i-=1);for(var o=i+1,s=new D,a=F.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(\".\");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,p=0;l>9?(c=!0,p=\"9\"):p=\"0\"+l,s.append(p),n=n.subtract(F.valueOf(l)).multiply(F.TEN),c&&n.selfAdd(F.TEN);var h=!0,f=F.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-u&&(h=!1),!h)break}return e[0]=i,s.toString()},F.prototype.sqr=function(){return this.multiply(this)},F.prototype.doubleValue=function(){return this._hi+this._lo},F.prototype.subtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.add(t.negate())}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},F.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},F.prototype.isZero=function(){return 0===this._hi&&0===this._lo},F.prototype.selfSubtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},F.prototype.getSpecialNumberString=function(){return this.isZero()?\"0.0\":this.isNaN()?\"NaN \":null},F.prototype.min=function(t){return this.le(t)?this:t},F.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null,c=null,p=null;return u=this._hi/n,l=F.SPLIT*u,r=l-u,p=F.SPLIT*n,r=l-r,o=u-r,s=p-n,c=u*n,s=p-s,a=n-s,p=r*s-c+r*a+o*s+o*a,l=(this._hi-c-p+this._lo-u*i)/n,p=u+l,this._hi=p,this._lo=u-p+l,this}},F.prototype.dump=function(){return\"DD<\"+this._hi+\", \"+this._lo+\">\"},F.prototype.divide=function(){if(arguments[0]instanceof F){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,u=null;n=(o=this._hi/t._hi)-(e=(s=F.SPLIT*o)-(e=s-o)),u=e*(i=(u=F.SPLIT*t._hi)-(i=u-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi;return new F(u=o+s,o-u+s)}if(\"number\"==typeof arguments[0]){var l=arguments[0];return v.isNaN(l)?F.createNaN():F.copy(this).selfDivide(l,0)}},F.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},F.prototype.pow=function(t){if(0===t)return F.valueOf(1);var e=new F(this),n=F.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},F.prototype.ceil=function(){if(this.isNaN())return F.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new F(t,e)},F.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},F.prototype.rint=function(){if(this.isNaN())return this;return this.add(.5).floor()},F.prototype.setValue=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.init(t),this}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},F.prototype.max=function(t){return this.ge(t)?this:t},F.prototype.sqrt=function(){if(this.isZero())return F.valueOf(0);if(this.isNegative())return F.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=F.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},F.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return r=this._hi+e,s=r-this._hi,o=r-s,o=e-s+(this._hi-o),a=o+this._lo,n=r+a,i=a+(r-n),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,p=null,h=null,f=null,g=null,d=null,y=null;f=this._hi+u,p=this._lo+l,g=f-(d=f-this._hi),h=p-(y=p-this._lo);var _=(c=f+(d=(g=u-d+(this._hi-g))+p))+(d=(h=l-y+(this._lo-h))+(d+(f-c))),m=d+(c-_);return this._hi=_,this._lo=m,this}},F.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null;r=(u=F.SPLIT*this._hi)-this._hi,l=F.SPLIT*n,r=u-r,o=this._hi-r,s=l-n;var c=(u=this._hi*n)+(l=r*(s=l-s)-u+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),p=l+(r=u-c);return this._hi=c,this._lo=p,this}},F.prototype.selfSqr=function(){return this.selfMultiply(this)},F.prototype.floor=function(){if(this.isNaN())return F.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new F(t,e)},F.prototype.negate=function(){return this.isNaN()?this:new F(-this._hi,-this._lo)},F.prototype.clone=function(){},F.prototype.multiply=function(){if(arguments[0]instanceof F){var t=arguments[0];return t.isNaN()?F.createNaN():F.copy(this).selfMultiply(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return v.isNaN(e)?F.createNaN():F.copy(this).selfMultiply(e,0)}},F.prototype.isNaN=function(){return v.isNaN(this._hi)},F.prototype.intValue=function(){return Math.trunc(this._hi)},F.prototype.toString=function(){var t=F.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},F.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if(\".\"===n.charAt(0))r=\"0\"+n;else if(i<0)r=\"0.\"+F.stringOfChar(\"0\",-i)+n;else if(-1===n.indexOf(\".\")){var o=i-n.length;r=n+F.stringOfChar(\"0\",o)+\".0\"}return this.isNegative()?\"-\"+r:r},F.prototype.reciprocal=function(){var t=null,e=null,n=null,i=null,r=null,o=null,s=null,a=null;e=(r=1/this._hi)-(t=(o=F.SPLIT*r)-(t=o-r)),n=(a=F.SPLIT*this._hi)-this._hi;var u=r+(o=(1-(s=r*this._hi)-(a=t*(n=a-n)-s+t*(i=this._hi-n)+e*n+e*i)-r*this._lo)/this._hi);return new F(u,r-u+o)},F.prototype.toSciNotation=function(){if(this.isZero())return F.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=F.SCI_NOT_EXPONENT_CHAR+e[0];if(\"0\"===n.charAt(0))throw new Error(\"Found leading zero: \"+n);var r=\"\";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+\".\"+r;return this.isNegative()?\"-\"+o+i:o+i},F.prototype.abs=function(){return this.isNaN()?F.NaN:this.isNegative()?this.negate():new F(this)},F.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},F.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},F.prototype.add=function(){if(arguments[0]instanceof F){var t=arguments[0];return F.copy(this).selfAdd(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return F.copy(this).selfAdd(e)}},F.prototype.init=function(){if(1===arguments.length){if(\"number\"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof F){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},F.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},F.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},F.prototype.trunc=function(){return this.isNaN()?F.NaN:this.isPositive()?this.floor():this.ceil()},F.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},F.prototype.interfaces_=function(){return[e,E,x]},F.prototype.getClass=function(){return F},F.sqr=function(t){return F.valueOf(t).selfMultiply(t)},F.valueOf=function(){if(\"string\"==typeof arguments[0]){var t=arguments[0];return F.parse(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return new F(e)}},F.sqrt=function(t){return F.valueOf(t).sqrt()},F.parse=function(t){for(var e=0,n=t.length;A.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);\"-\"!==r&&\"+\"!==r||(e++,\"-\"===r&&(i=!0))}for(var o=new F,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,A.isDigit(l)){var c=l-\"0\";o.selfMultiply(F.TEN),o.selfAdd(c),s++}else{if(\".\"!==l){if(\"e\"===l||\"E\"===l){var p=t.substring(e);try{u=M.parseInt(p)}catch(e){throw e instanceof Error?new Error(\"Invalid exponent \"+p+\" in string \"+t):e}break}throw new Error(\"Unexpected character '\"+l+\"' at position \"+e+\" in string \"+t)}a=s}}var h=o,f=s-a-u;if(0===f)h=o;else if(f>0){var g=F.TEN.pow(f);h=o.divide(g)}else if(f<0){var d=F.TEN.pow(-f);h=o.multiply(d)}return i?h.negate():h},F.createNaN=function(){return new F(v.NaN,v.NaN)},F.copy=function(t){return new F(t)},F.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},F.stringOfChar=function(t,e){for(var n=new D,i=0;i<e;i++)n.append(t);return n.toString()},G.PI.get=function(){return new F(3.141592653589793,1.2246467991473532e-16)},G.TWO_PI.get=function(){return new F(6.283185307179586,2.4492935982947064e-16)},G.PI_2.get=function(){return new F(1.5707963267948966,6.123233995736766e-17)},G.E.get=function(){return new F(2.718281828459045,1.4456468917292502e-16)},G.NaN.get=function(){return new F(v.NaN,v.NaN)},G.EPS.get=function(){return 1.23259516440783e-32},G.SPLIT.get=function(){return 134217729},G.MAX_PRINT_DIGITS.get=function(){return 32},G.TEN.get=function(){return F.valueOf(10)},G.ONE.get=function(){return F.valueOf(1)},G.SCI_NOT_EXPONENT_CHAR.get=function(){return\"E\"},G.SCI_NOT_ZERO.get=function(){return\"0.0E0\"},Object.defineProperties(F,G);var q=function(){},B={DP_SAFE_EPSILON:{configurable:!0}};q.prototype.interfaces_=function(){return[]},q.prototype.getClass=function(){return q},q.orientationIndex=function(t,e,n){var i=q.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=F.valueOf(e.x).selfAdd(-t.x),o=F.valueOf(e.y).selfAdd(-t.y),s=F.valueOf(n.x).selfAdd(-e.x),a=F.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},q.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},q.intersection=function(t,e,n,i){var r=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(e.x).selfSubtract(t.x)),o=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),u=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=F.valueOf(t.x).selfAdd(F.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),p=F.valueOf(e.x).selfSubtract(t.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),h=F.valueOf(e.y).selfSubtract(t.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),f=p.subtract(h).selfDivide(s).doubleValue(),g=F.valueOf(n.y).selfAdd(F.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new C(c,g)},q.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return q.signum(s);i=r+o}else{if(!(r<0))return q.signum(s);if(o>=0)return q.signum(s);i=-r-o}var a=q.DP_SAFE_EPSILON*i;return s>=a||-s>=a?q.signum(s):2},q.signum=function(t){return t>0?1:t<0?-1:0},B.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(q,B);var V=function(){},U={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};U.X.get=function(){return 0},U.Y.get=function(){return 1},U.Z.get=function(){return 2},U.M.get=function(){return 3},V.prototype.setOrdinate=function(t,e,n){},V.prototype.size=function(){},V.prototype.getOrdinate=function(t,e){},V.prototype.getCoordinate=function(){},V.prototype.getCoordinateCopy=function(t){},V.prototype.getDimension=function(){},V.prototype.getX=function(t){},V.prototype.clone=function(){},V.prototype.expandEnvelope=function(t){},V.prototype.copy=function(){},V.prototype.getY=function(t){},V.prototype.toCoordinateArray=function(){},V.prototype.interfaces_=function(){return[x]},V.prototype.getClass=function(){return V},Object.defineProperties(V,U);var z=function(){},X=function(t){function e(){t.call(this,\"Projective point not representable on the Cartesian plane.\")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(z),Y=function(){};Y.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},Y.getProperty=function(t){return{\"line.separator\":\"\\n\"}[t]};var k=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof C&&arguments[1]instanceof C){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var p=arguments[0],h=arguments[1],f=arguments[2],g=arguments[3],d=p.y-h.y,y=h.x-p.x,_=p.x*h.y-h.x*p.y,m=f.y-g.y,v=g.x-f.x,I=f.x*g.y-g.x*f.y;this.x=y*I-v*_,this.y=m*_-d*I,this.w=d*v-m*y}};k.prototype.getY=function(){var t=this.y/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new X;return t},k.prototype.getX=function(){var t=this.x/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new X;return t},k.prototype.getCoordinate=function(){var t=new C;return t.x=this.getX(),t.y=this.getY(),t},k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,u=i.x-n.x,l=n.x*i.y-i.x*n.y,c=r*u-a*o,p=(o*l-u*s)/c,h=(a*s-r*l)/c;if(v.isNaN(p)||v.isInfinite(p)||v.isNaN(h)||v.isInfinite(h))throw new X;return new C(p,h)};var j=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof C){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},H={serialVersionUID:{configurable:!0}};j.prototype.getArea=function(){return this.getWidth()*this.getHeight()},j.prototype.equals=function(t){if(!(t instanceof j))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},j.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new j;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new j(e,i,n,r)},j.prototype.isNull=function(){return this._maxx<this._minx},j.prototype.getMaxX=function(){return this._maxx},j.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof j){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&(n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy)}},j.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof C){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},j.prototype.getMinY=function(){return this._miny},j.prototype.getMinX=function(){return this._minx},j.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof j){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},j.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},j.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},j.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},j.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},j.prototype.toString=function(){return\"Env[\"+this._minx+\" : \"+this._maxx+\", \"+this._miny+\" : \"+this._maxy+\"]\"},j.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},j.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},j.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},j.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},j.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof C){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},j.prototype.centre=function(){return this.isNull()?null:new C((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},j.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof j){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},j.prototype.getMaxY=function(){return this._maxy},j.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},j.prototype.hashCode=function(){var t=17;return t=37*t+C.hashCode(this._minx),t=37*t+C.hashCode(this._maxx),t=37*t+C.hashCode(this._miny),t=37*t+C.hashCode(this._maxy)},j.prototype.interfaces_=function(){return[E,e]},j.prototype.getClass=function(){return j},j.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u)&&(!(c<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),!(l>u)&&!(c<a)))}},H.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(j,H);var W={typeStr:/^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,emptyTypeStr:/^\\s*(\\w+)\\s*EMPTY\\s*$/,spaces:/\\s+/,parenComma:/\\)\\s*,\\s*\\(/,doubleParenComma:/\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,trimParens:/^\\s*\\(?(.*?)\\)?\\s*$/},K=function(t){this.geometryFactory=t||new _e};K.prototype.read=function(t){var e,n,i;t=t.replace(/[\\n\\r]/g,\" \");var r=W.typeStr.exec(t);if(-1!==t.search(\"EMPTY\")&&((r=W.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Q[n]&&(e=Q[n].apply(this,[i]))),void 0===e)throw new Error(\"Could not parse WKT \"+t);return e},K.prototype.write=function(t){return this.extractGeometry(t)},K.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!J[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+\" EMPTY\":n+\"(\"+J[e].apply(this,[t])+\")\"};var J={coordinate:function(t){return t.x+\" \"+t.y},point:function(t){return J.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(\"(\"+J.point.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(\",\")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(\",\")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(\"(\"+J.linestring.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},polygon:function(t){var e=[];e.push(\"(\"+J.linestring.apply(this,[t._shell])+\")\");for(var n=0,i=t._holes.length;n<i;++n)e.push(\"(\"+J.linestring.apply(this,[t._holes[n]])+\")\");return e.join(\",\")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(\"(\"+J.polygon.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(\",\")}},Q={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(W.spaces);return this.geometryFactory.createPoint(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(\",\"),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,\"$1\"),i.push(Q.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(\",\"),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(\",\"),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(W.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,\"$1\"),i.push(Q.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(W.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(W.trimParens,\"$1\"),n=Q.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(W.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,\"$1\"),i.push(Q.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\\s*([A-Za-z])/g,\"|$1\")).trim().split(\"|\"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Z=function(t){this.parser=new K(t)};Z.prototype.write=function(t){return this.parser.write(t)},Z.toLineString=function(t,e){if(2!==arguments.length)throw new Error(\"Not implemented\");return\"LINESTRING ( \"+t.x+\" \"+t.y+\", \"+e.x+\" \"+e.y+\" )\"};var $=function(t){function e(e){t.call(this,e),this.name=\"RuntimeException\",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt(\"Should never reach here\"+(null!==t?\": \"+t:\"\"))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new tt(\"Expected \"+t+\" but encountered \"+e+(null!==n?\": \"+n:\"\"))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new C,this._intPt[1]=new C,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},it={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new D;return this.isEndPoint()&&t.append(\" endpoint\"),this._isProper&&t.append(\" proper\"),this.isCollinear()&&t.append(\" collinear\"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Z.toLineString(this._inputLines[0][0],this._inputLines[0][1])+\" - \"+Z.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),\"Bad distance calculation\"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return et.isTrue(!(0===o&&!t.equals(e)),\"Invalid distance calculation\"),o},it.DONT_INTERSECT.get=function(){return 0},it.DO_INTERSECT.get=function(){return 1},it.COLLINEAR.get=function(){return 2},it.NO_INTERSECTION.get=function(){return 0},it.POINT_INTERSECTION.get=function(){return 1},it.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,it);var rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new j(this._inputLines[0][0],this._inputLines[0][1]),n=new j(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,j.intersects(n,i,e)&&0===at.orientationIndex(n,i,e)&&0===at.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=k.intersection(t,n,i,r)}catch(s){if(!(s instanceof X))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new C(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=q.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);Y.out.println(\"DD in env = \"+s+\"  --------------------- \"+o),r.distance(o)>1e-4&&Y.out.println(\"Distance = \"+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new C(t),o=new C(e),s=new C(n),a=new C(i),u=new C;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=j.intersects(e,n,i),s=j.intersects(e,n,r),a=j.intersects(i,r,e),u=j.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,p=n.x>i.x?n.x:i.x,h=n.y>i.y?n.y:i.y,f=((o>l?o:l)+(a<p?a:p))/2,g=((s>c?s:c)+(u<h?u:h))/2;r.x=f,r.y=g,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!j.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,i),s=at.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(i,r,e),u=at.orientationIndex(i,r,n);if(a>0&&u>0||a<0&&u<0)return t.NO_INTERSECTION;return 0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new C(i):0===s?this._intPt[0]=new C(r):0===a?this._intPt[0]=new C(e):0===u&&(this._intPt[0]=new C(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=at.distancePointLine(t,n,i),s=at.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=at.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(i,r,o,s)},ot.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(s=Math.floor(n/t),n-=s*t,(i-=s*e)<0)return-r;if(i>e)return r;if(t>n+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(s=Math.floor(t/n),t-=s*n,(e-=s*i)<0)return r;if(e>i)return-r;if(n>t+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ot.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==w.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?w.BOUNDARY:this._crossingCount%2==1?w.INTERIOR:w.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof C&&T(arguments[1],V)){for(var t=arguments[0],e=arguments[1],n=new st(t),i=new C,r=new C,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof C&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new st(s),l=1;l<a.length;l++){var c=a[l],p=a[l-1];if(u.countSegment(c,p),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return q.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(T(arguments[0],V)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new C,l=new C,c=new C;s.getCoordinate(0,l),s.getCoordinate(1,c);var p=l.x;c.x-=p;for(var h=0,f=1;f<a-1;f++)u.y=l.y,l.x=c.x,l.y=c.y,s.getCoordinate(f+1,c),c.x-=p,h+=l.x*(u.y-c.y);return h/2}},at.distanceLineLine=function(t,e,n,i){if(t.equals(e))return at.distancePointLine(t,n,i);if(n.equals(i))return at.distancePointLine(i,t,e);var r=!1;if(j.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?R.min(at.distancePointLine(t,n,i),at.distancePointLine(e,n,i),at.distancePointLine(n,t,e),at.distancePointLine(i,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==w.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new C;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new m(\"Ring has fewer than 4 points, so orientation cannot be determined\");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=at.computeOrientation(u,n,l),p=!1;return p=0===c?u.x>l.x:c>0,p},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new m(\"Line array must contain at least one vertex\");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=at.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new rt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var lt=function(){};lt.prototype.filter=function(t){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},pt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ct))return!1;var n=e;return this.equalsExact(n)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new m(\"This method does not support GeometryCollection arguments\")},ct.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new j(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[x,E,e]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},pt.serialVersionUID.get=function(){return 0x799ea46522854c00},pt.SORTINDEX_POINT.get=function(){return 0},pt.SORTINDEX_MULTIPOINT.get=function(){return 1},pt.SORTINDEX_LINESTRING.get=function(){return 2},pt.SORTINDEX_LINEARRING.get=function(){return 3},pt.SORTINDEX_MULTILINESTRING.get=function(){return 4},pt.SORTINDEX_POLYGON.get=function(){return 5},pt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pt.geometryChangedFilter.get=function(){return ht},Object.defineProperties(ct,pt);var ht=function(){};ht.interfaces_=function(){return[lt]},ht.filter=function(t){t.geometryChangedAction()};var ft=function(){};ft.prototype.filter=function(t){},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft};var gt=function(){},dt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};gt.prototype.isInBoundary=function(t){},gt.prototype.interfaces_=function(){return[]},gt.prototype.getClass=function(){return gt},dt.Mod2BoundaryNodeRule.get=function(){return yt},dt.EndPointBoundaryNodeRule.get=function(){return _t},dt.MultiValentEndPointBoundaryNodeRule.get=function(){return mt},dt.MonoValentEndPointBoundaryNodeRule.get=function(){return vt},dt.MOD2_BOUNDARY_RULE.get=function(){return new yt},dt.ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},dt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},dt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},dt.OGC_SFS_BOUNDARY_RULE.get=function(){return gt.MOD2_BOUNDARY_RULE},Object.defineProperties(gt,dt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[gt]},yt.prototype.getClass=function(){return yt};var _t=function(){};_t.prototype.isInBoundary=function(t){return t>0},_t.prototype.interfaces_=function(){return[gt]},_t.prototype.getClass=function(){return _t};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>1},mt.prototype.interfaces_=function(){return[gt]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.isInBoundary=function(t){return 1===t},vt.prototype.interfaces_=function(){return[gt]},vt.prototype.getClass=function(){return vt};var It=function(){};It.prototype.add=function(){},It.prototype.addAll=function(){},It.prototype.isEmpty=function(){},It.prototype.iterator=function(){},It.prototype.size=function(){},It.prototype.toArray=function(){},It.prototype.remove=function(){},(n.prototype=new Error).name=\"IndexOutOfBoundsException\";var Et=function(){};Et.prototype.hasNext=function(){},Et.prototype.next=function(){},Et.prototype.remove=function(){};var xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(It);(i.prototype=new Error).name=\"NoSuchElementException\";var Nt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,It]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Ct(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xt),Ct=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new i;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Et),St=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=!1,r=e.iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof C&&\"boolean\"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1){if(this.get(this.size()-1).equals2D(r))return null}t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&\"boolean\"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<a.length;l++)this.add(a[l],u);else for(var c=a.length-1;c>=0;c--)this.add(a[c],u);return!0}if(\"boolean\"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(p>0){if(this.get(p-1).equals2D(h))return null}if(p<f){if(this.get(p).equals2D(h))return null}}}t.prototype.add.call(this,p,h)}}else if(4===arguments.length){var g=arguments[0],d=arguments[1],y=arguments[2],_=arguments[3],m=1;y>_&&(m=-1);for(var v=y;v!==_;v+=m)this.add(g[v],d);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new C(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Nt),Lt=function(){},bt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};bt.ForwardComparator.get=function(){return wt},bt.BidirectionalComparator.get=function(){return Ot},bt.coordArrayType.get=function(){return new Array(0).fill(null)},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Lt.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(Lt.indexOf(i,e)<0)return i}return null},Lt.scroll=function(t,e){var n=Lt.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);Y.arraycopy(t,n,i,0,t.length-n),Y.arraycopy(t,0,i,t.length-n,n),Y.arraycopy(i,0,t,0,t.length)},Lt.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},Lt.intersection=function(t,e){for(var n=new St,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},Lt.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Lt.removeRepeatedPoints=function(t){if(!Lt.hasRepeatedPoints(t))return t;return new St(t,!1).toCoordinateArray()},Lt.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},Lt.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},Lt.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new C(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new C(i[r+u])},Lt.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},Lt.envelope=function(t){for(var e=new j,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Lt.toCoordinateArray=function(t){return t.toArray(Lt.coordArrayType)},Lt.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Lt.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Lt.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},Lt.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},Lt.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Lt.extract=function(t,e,n){e=R.clamp(e,0,t.length);var i=(n=R.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(Lt,bt);var wt=function(){};wt.prototype.compare=function(t,e){return Lt.compare(t,e)},wt.prototype.interfaces_=function(){return[N]},wt.prototype.getClass=function(){return wt};var Ot=function(){};Ot.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Lt.compare(n,i);return Lt.isEqualReversed(n,i)?0:r},Ot.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Lt.increasingDirection(n),o=Lt.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(i[a]);if(0!==l)return l;s+=r,a+=o}return 0},Ot.prototype.interfaces_=function(){return[N]},Ot.prototype.getClass=function(){return Ot};var Tt=function(){};Tt.prototype.get=function(){},Tt.prototype.put=function(){},Tt.prototype.size=function(){},Tt.prototype.values=function(){},Tt.prototype.entrySet=function(){};var Rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tt);(r.prototype=new Error).name=\"OperationNotSupported\",(o.prototype=new It).contains=function(){};var Pt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Dt(this)},e}(o),Dt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new r},e}(Et),Mt=0;(p.prototype=new Rt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},p.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},p.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===l(a(a(t)))){var e=c(a(a(t)));1===s(e)?(u(a(t),Mt),u(e,Mt),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),Mt),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=l(a(a(t)));1===s(n)?(u(a(t),Mt),u(n,Mt),u(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),Mt),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Mt},p.prototype.values=function(){var t=new Nt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=p.successor(e));)t.add(e.value);return t},p.prototype.entrySet=function(){var t=new Pt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=p.successor(e));)t.add(e);return t},p.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},p.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},p.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},p.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},p.prototype.size=function(){return this.size_};var At=function(){};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},h.prototype=new o,(f.prototype=new h).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},f.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},f.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},f.prototype.remove=function(t){throw new r},f.prototype.size=function(){return this.array_.length},f.prototype.isEmpty=function(){return 0===this.array_.length},f.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},f.prototype.iterator=function(){return new Ft(this)};var Ft=function(t){this.treeSet_=t,this.position_=0};Ft.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i;return this.treeSet_.array_[this.position_++]},Ft.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ft.prototype.remove=function(){throw new r};var Gt=function(){};Gt.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},Gt.asList=function(t){for(var e=new Nt,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var qt=function(){},Bt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Bt.P.get=function(){return 0},Bt.L.get=function(){return 1},Bt.A.get=function(){return 2},Bt.FALSE.get=function(){return-1},Bt.TRUE.get=function(){return-2},Bt.DONTCARE.get=function(){return-3},Bt.SYM_FALSE.get=function(){return\"F\"},Bt.SYM_TRUE.get=function(){return\"T\"},Bt.SYM_DONTCARE.get=function(){return\"*\"},Bt.SYM_P.get=function(){return\"0\"},Bt.SYM_L.get=function(){return\"1\"},Bt.SYM_A.get=function(){return\"2\"},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.toDimensionSymbol=function(t){switch(t){case qt.FALSE:return qt.SYM_FALSE;case qt.TRUE:return qt.SYM_TRUE;case qt.DONTCARE:return qt.SYM_DONTCARE;case qt.P:return qt.SYM_P;case qt.L:return qt.SYM_L;case qt.A:return qt.SYM_A}throw new m(\"Unknown dimension value: \"+t)},qt.toDimensionValue=function(t){switch(A.toUpperCase(t)){case qt.SYM_FALSE:return qt.FALSE;case qt.SYM_TRUE:return qt.TRUE;case qt.SYM_DONTCARE:return qt.DONTCARE;case qt.SYM_P:return qt.P;case qt.SYM_L:return qt.L;case qt.SYM_A:return qt.A}throw new m(\"Unknown dimension symbol: \"+t)},Object.defineProperties(qt,Bt);var Vt=function(){};Vt.prototype.filter=function(t){},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Ut=function(){};Ut.prototype.filter=function(t,e){},Ut.prototype.isDone=function(){},Ut.prototype.isGeometryChanged=function(){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var zt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new m(\"geometries must not contain null elements\")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new j,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Gt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=qt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=qt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new f(Gt.asList(this._geometries)),n=new f(Gt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=this.getGeometryN(u),c=o.getGeometryN(u),p=l.compareToSameClass(c,r);if(0!==p)return p;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(T(arguments[0],ft))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(T(arguments[0],Ut)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(T(arguments[0],Vt)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(T(arguments[0],lt)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return\"GeometryCollection\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ct),Xt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?qt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Yt(this).getBoundary()},e.prototype.getGeometryType=function(){return\"MultiLineString\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[At]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(zt),Yt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=gt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Yt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Yt.prototype.getBoundary=function(){return this._geom instanceof Kt?this.boundaryLineString(this._geom):this._geom instanceof Xt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Yt.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){return this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Yt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Yt.prototype.computeBoundaryCoordinates=function(t){var e=new Nt;this._endpointMap=new p;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Lt.toCoordinateArray(e)},Yt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new kt,this._endpointMap.put(t,e)),e.count++},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Yt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Yt(e,n).getBoundary()}};var kt=function(){this.count=null};kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt};var jt=function(){},Ht={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},jt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=\"\",s=new function(){}(new function(){}(jt.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+jt.NEWLINE}catch(t){if(!(t instanceof g))throw t;et.shouldNeverReachHere()}return o}},jt.split=function(t,e){for(var n=e.length,i=new Nt,r=\"\"+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},jt.toString=function(){if(1===arguments.length){var t=arguments[0];return jt.SIMPLE_ORDINATE_FORMAT.format(t)}},jt.spaces=function(t){return jt.chars(\" \",t)},Ht.NEWLINE.get=function(){return Y.getProperty(\"line.separator\")},Ht.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}(\"0.#\")},Object.defineProperties(jt,Ht);var Wt=function(){};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,V.X)===t.getOrdinate(e-1,V.X)&&t.getOrdinate(0,V.Y)===t.getOrdinate(e-1,V.Y))},Wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(t.getOrdinate(r,o)!==e.getOrdinate(r,o)&&(!v.isNaN(s)||!v.isNaN(a)))return!1}return!0},Wt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Wt.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Wt.copy(e,r-1,i,o,1);return i},Wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Wt.swap(t,i,e-i)},Wt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Wt.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Wt.copyCoord(t,e+o,n,i+o)},Wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return\"()\";var n=t.getDimension(),i=new D;i.append(\"(\");for(var r=0;r<e;r++){r>0&&i.append(\" \");for(var o=0;o<n;o++)o>0&&i.append(\",\"),i.append(jt.toString(t.getOrdinate(r,o)))}return i.append(\")\"),i.toString()}},Wt.ensureValidRing=function(t,e){var n=e.size();if(0===n)return e;if(n<=3)return Wt.createClosedRing(t,e,4);return e.getOrdinate(0,V.X)===e.getOrdinate(n-1,V.X)&&e.getOrdinate(0,V.Y)===e.getOrdinate(n-1,V.Y)?e:Wt.createClosedRing(t,e,n+1)},Wt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Wt.copy(e,0,i,0,r);for(var o=r;o<n;o++)Wt.copy(e,0,i,o,1);return i};var Kt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new j:this._points.expandEnvelope(new j)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?qt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();Wt.reverse(t);return this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(T(arguments[0],ft))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(T(arguments[0],Ut)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(T(arguments[0],Vt)){arguments[0].filter(this)}else if(T(arguments[0],lt)){arguments[0].filter(this)}},e.prototype.getBoundary=function(){return new Yt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return\"LineString\"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m(\"Invalid number of points in LineString (found \"+t.size()+\" - must be 0 or >= 2)\");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[At]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ct),Jt=function(){};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt};var Qt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new j;var t=new j;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error(\"getX called on empty Point\");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(T(arguments[0],ft)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(T(arguments[0],Ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(T(arguments[0],Vt)){arguments[0].filter(this)}else if(T(arguments[0],lt)){arguments[0].filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return\"Point\"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error(\"getY called on empty Point\");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ct),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var $t=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new m(\"holes must not contain null elements\");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new m(\"shell is empty but holes are not\");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o===(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Gt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);Y.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=Lt.minCoordinate(e.getCoordinates());Lt.scroll(i,r),Y.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],at.isCCW(e.getCoordinates())===n&&Lt.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,s=this._shell,a=o._shell,u=s.compareToSameClass(a,r);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),p=0;p<l&&p<c;){var h=this.getInteriorRingN(p),f=o.getInteriorRingN(p),g=h.compareToSameClass(f,r);if(0!==g)return g;p++}return p<l?1:p<c?-1:0}},e.prototype.apply=function(t){if(T(t,ft)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(T(t,Ut)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(T(t,Vt))t.filter(this);else if(T(t,lt)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return\"Polygon\"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ct),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return\"MultiPoint\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(zt),ee=function(t){function e(e,n){e instanceof C&&n instanceof _e&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();Wt.reverse(t);return this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new m(\"Points of LinearRing do not form a closed linestring\");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new m(\"Invalid number of points in LinearRing (found \"+this.getCoordinateSequence().size()+\" - must be 0 or >= 4)\")},e.prototype.getGeometryType=function(){return\"LinearRing\"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Kt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Nt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return\"MultiPolygon\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(zt),ie=function(t){this._factory=t||null,this._isUserDataCopied=!1},re={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ie.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ie.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},ie.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof zt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Qt?e.edit(t,this._factory):t instanceof Kt?e.edit(t,this._factory):(et.shouldNeverReachHere(\"Unsupported Geometry class: \"+t.getClass().getName()),null)},ie.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new Nt,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===te?this._factory.createMultiPoint(i.toArray([])):n.getClass()===Xt?this._factory.createMultiLineString(i.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},ie.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new Nt,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.GeometryEditorOperation=function(){},re.NoOpGeometryOperation.get=function(){return oe},re.CoordinateOperation.get=function(){return se},re.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(ie,re);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Kt?e.createLineString(n):t instanceof Qt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Kt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Qt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new C}else if(T(arguments[0],V)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new C}},le={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case V.X:this._coordinates[t].x=n;break;case V.Y:this._coordinates[t].y=n;break;case V.Z:this._coordinates[t].z=n;break;default:throw new m(\"invalid ordinateIndex\")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case V.X:return this._coordinates[t].x;case V.Y:return this._coordinates[t].y;case V.Z:return this._coordinates[t].z}return v.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new C(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new D(17*this._coordinates.length);t.append(\"(\"),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(\", \"),t.append(this._coordinates[e]);return t.append(\")\"),t.toString()}return\"()\"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[V,e]},ue.prototype.getClass=function(){return ue},le.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,le);var ce=function(){},pe={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ce.prototype.readResolve=function(){return ce.instance()},ce.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new ue(t)}if(T(arguments[0],V)){var e=arguments[0];return new ue(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new ue(n):new ue(n,i)}},ce.prototype.interfaces_=function(){return[b,e]},ce.prototype.getClass=function(){return ce},ce.instance=function(){return ce.instanceObject},pe.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pe.instanceObject.get=function(){return new ce},Object.defineProperties(ce,pe);var he=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Nt,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Pt;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Tt),fe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof de){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if(\"number\"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},ge={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fe.prototype.equals=function(t){if(!(t instanceof fe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},fe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new M(n).compareTo(new M(i))},fe.prototype.getScale=function(){return this._scale},fe.prototype.isFloating=function(){return this._modelType===fe.FLOATING||this._modelType===fe.FLOATING_SINGLE},fe.prototype.getType=function(){return this._modelType},fe.prototype.toString=function(){var t=\"UNKNOWN\";return this._modelType===fe.FLOATING?t=\"Floating\":this._modelType===fe.FLOATING_SINGLE?t=\"Floating-Single\":this._modelType===fe.FIXED&&(t=\"Fixed (Scale=\"+this.getScale()+\")\"),t},fe.prototype.makePrecise=function(){if(\"number\"==typeof arguments[0]){var t=arguments[0];if(v.isNaN(t))return t;if(this._modelType===fe.FLOATING_SINGLE){return t}return this._modelType===fe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof C){var e=arguments[0];if(this._modelType===fe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},fe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===fe.FLOATING?t=16:this._modelType===fe.FLOATING_SINGLE?t=6:this._modelType===fe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},fe.prototype.setScale=function(t){this._scale=Math.abs(t)},fe.prototype.interfaces_=function(){return[e,E]},fe.prototype.getClass=function(){return fe},fe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},ge.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ge.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fe,ge);var de=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ye={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};de.prototype.readResolve=function(){return de.nameToTypeMap.get(this._name)},de.prototype.toString=function(){return this._name},de.prototype.interfaces_=function(){return[e]},de.prototype.getClass=function(){return de},ye.serialVersionUID.get=function(){return-552860263173159e4},ye.nameToTypeMap.get=function(){return new he},Object.defineProperties(de,ye),fe.Type=de,fe.FIXED=new de(\"FIXED\"),fe.FLOATING=new de(\"FLOATING\"),fe.FLOATING_SINGLE=new de(\"FLOATING SINGLE\");var _e=function t(){this._precisionModel=new fe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?T(arguments[0],b)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},me={serialVersionUID:{configurable:!0}};_e.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new C(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new C(t.getMinX(),t.getMinY()),new C(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new C(t.getMinX(),t.getMinY()),new C(t.getMinX(),t.getMaxY()),new C(t.getMaxX(),t.getMaxY()),new C(t.getMaxX(),t.getMinY()),new C(t.getMinX(),t.getMinY())]),null)},_e.prototype.createLineString=function(t){return t?t instanceof Array?new Kt(this.getCoordinateSequenceFactory().create(t),this):T(t,V)?new Kt(t,this):void 0:new Kt(this.getCoordinateSequenceFactory().create([]),this)},_e.prototype.createMultiLineString=function(){if(0===arguments.length)return new Xt(null,this);if(1===arguments.length){var t=arguments[0];return new Xt(t,this)}},_e.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(_e.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(_e.toPolygonArray(t));if(a instanceof Kt)return this.createMultiLineString(_e.toLineStringArray(t));if(a instanceof Qt)return this.createMultiPoint(_e.toPointArray(t));et.shouldNeverReachHere(\"Unhandled class: \"+a.getClass().getName())}return a},_e.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},_e.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(T(arguments[0],V)){var e=arguments[0];return new Qt(e,this)}}},_e.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},_e.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(T(arguments[0],V)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new $t(i,r,this)}},_e.prototype.getSRID=function(){return this._SRID},_e.prototype.createGeometryCollection=function(){if(0===arguments.length)return new zt(null,this);if(1===arguments.length){var t=arguments[0];return new zt(t,this)}},_e.prototype.createGeometry=function(t){return new ie(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},_e.prototype.getPrecisionModel=function(){return this._precisionModel},_e.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(T(arguments[0],V)){var e=arguments[0];return new ee(e,this)}}},_e.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ne(null,this);if(1===arguments.length){var t=arguments[0];return new ne(t,this)}},_e.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new te(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(T(arguments[0],V)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Wt.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},_e.prototype.interfaces_=function(){return[e]},_e.prototype.getClass=function(){return _e},_e.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.getDefaultCoordinateSequenceFactory=function(){return ce.instance()},_e.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},me.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(_e,me);var ve=[\"Point\",\"MultiPoint\",\"LineString\",\"MultiLineString\",\"Polygon\",\"MultiPolygon\"],Ie=function(t){this.geometryFactory=t||new _e};Ie.prototype.read=function(t){var e,n=(e=\"string\"==typeof t?JSON.parse(t):t).type;if(!Ee[n])throw new Error(\"Unknown GeoJSON type: \"+e.type);return-1!==ve.indexOf(n)?Ee[n].apply(this,[e.coordinates]):\"GeometryCollection\"===n?Ee[n].apply(this,[e.geometries]):Ee[n].apply(this,[e])},Ie.prototype.write=function(t){var e=t.getGeometryType();if(!xe[e])throw new Error(\"Geometry is not supported\");return xe[e].apply(this,[t])};var Ee={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!Ee[i])throw new Error(\"Unknown GeoJSON type: \"+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Ee.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new C(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new C(t[0],t[1]),new C(t[2],t[1]),new C(t[2],t[3]),new C(t[0],t[3]),new C(t[0],t[1])])},Point:function(t){var e=new C(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ee.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Ee.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ee.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Ee.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=Ee.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(Ee.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},xe={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:\"Point\",coordinates:xe.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Point.apply(this,[i]);e.push(r.coordinates)}return{type:\"MultiPoint\",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(xe.coordinate.apply(this,[r]))}return{type:\"LineString\",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:\"MultiLineString\",coordinates:e}},Polygon:function(t){var e=[],n=xe.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=xe.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:\"Polygon\",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:\"MultiPolygon\",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(xe[r].apply(this,[i]))}return{type:\"GeometryCollection\",geometries:e}}},Ne=function(t){this.geometryFactory=t||new _e,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ie(this.geometryFactory)};Ne.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===fe.FIXED&&this.reducePrecision(e),e},Ne.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ce=function(){this.parser=new Ie(this.geometryFactory)};Ce.prototype.write=function(t){return this.parser.write(t)};var Se=function(){},Le={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.opposite=function(t){return t===Se.LEFT?Se.RIGHT:t===Se.RIGHT?Se.LEFT:t},Le.ON.get=function(){return 0},Le.LEFT.get=function(){return 1},Le.RIGHT.get=function(){return 2},Object.defineProperties(Se,Le),(d.prototype=new Error).name=\"EmptyStackException\",(y.prototype=new xt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new d;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new d;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var be=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};be.prototype.getCoordinate=function(){return this._minCoord},be.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},be.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,\"rightmost point expected to be interior vertex of edge\");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=at.computeOrientation(this._minCoord,n,e),r=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===at.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===at.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},be.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Se.LEFT;return n[e].y<n[e+1].y&&(i=Se.RIGHT),i},be.prototype.getEdge=function(){return this._orientedDe},be.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},be.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},be.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),\"inconsistency in rightmost processing\"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;this.getRightmostSide(this._minDe,this._minIndex)===Se.LEFT&&(this._orientedDe=this._minDe.getSym())},be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be};var we=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new C(i):null,this.name=\"TopologyException\"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+\" [ \"+e+\" ]\"},e}($),Oe=function(){this.array_=[]};Oe.prototype.addLast=function(t){this.array_.push(t)},Oe.prototype.removeFirst=function(){return this.array_.shift()},Oe.prototype.isEmpty=function(){return 0===this.array_.length};var Te=function(){this._finder=null,this._dirEdgeList=new Nt,this._nodes=new Nt,this._rightMostCoord=null,this._env=null,this._finder=new be};Te.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},Te.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Te.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new we(\"unable to find edge to compute depths at \"+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},Te.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Se.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Te.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Te.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Se.RIGHT)>=1&&e.getDepth(Se.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Te.prototype.computeDepths=function(t){var e=new Pt,n=new Oe,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Te.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Te.prototype.getEnvelope=function(){if(null===this._env){for(var t=new j,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},Te.prototype.addReachable=function(t){var e=new y;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Te.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Se.LEFT,t.getDepth(Se.RIGHT)),e.setDepth(Se.RIGHT,t.getDepth(Se.LEFT))},Te.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},Te.prototype.getNodes=function(){return this._nodes},Te.prototype.getDirectedEdges=function(){return this._dirEdgeList},Te.prototype.interfaces_=function(){return[E]},Te.prototype.getClass=function(){return Te};var Re=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Se.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Se.ON]=o,this.location[Se.LEFT]=s,this.location[Se.RIGHT]=a}};Re.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Re.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==w.NONE)return!1;return!0},Re.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===w.NONE&&(this.location[e]=t)},Re.prototype.isLine=function(){return 1===this.location.length},Re.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Se.ON]=this.location[Se.ON],e[Se.LEFT]=w.NONE,e[Se.RIGHT]=w.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===w.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Re.prototype.getLocations=function(){return this.location},Re.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Se.LEFT];this.location[Se.LEFT]=this.location[Se.RIGHT],this.location[Se.RIGHT]=t},Re.prototype.toString=function(){var t=new D;return this.location.length>1&&t.append(w.toLocationSymbol(this.location[Se.LEFT])),t.append(w.toLocationSymbol(this.location[Se.ON])),this.location.length>1&&t.append(w.toLocationSymbol(this.location[Se.RIGHT])),t.toString()},Re.prototype.setLocations=function(t,e,n){this.location[Se.ON]=t,this.location[Se.LEFT]=e,this.location[Se.RIGHT]=n},Re.prototype.get=function(t){return t<this.location.length?this.location[t]:w.NONE},Re.prototype.isArea=function(){return this.location.length>1},Re.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===w.NONE)return!0;return!1},Re.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Se.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Re.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(w.NONE)},Re.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Re.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re};var Pe=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Re(e),this.elt[1]=new Re(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Re(n.elt[0]),this.elt[1]=new Re(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Re(w.NONE),this.elt[1]=new Re(w.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Re(o,s,a),this.elt[1]=new Re(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],p=arguments[3];this.elt[0]=new Re(w.NONE,w.NONE,w.NONE),this.elt[1]=new Re(w.NONE,w.NONE,w.NONE),this.elt[u].setLocations(l,c,p)}};Pe.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Pe.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Pe.prototype.isNull=function(t){return this.elt[t].isNull()},Pe.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Pe.prototype.isLine=function(t){return this.elt[t].isLine()},Pe.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Re(t.elt[e]):this.elt[e].merge(t.elt[e])},Pe.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Pe.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Se.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Pe.prototype.toString=function(){var t=new D;return null!==this.elt[0]&&(t.append(\"A:\"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(\" B:\"),t.append(this.elt[1].toString())),t.toString()},Pe.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Pe.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Pe.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Se.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},Pe.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Pe.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Pe.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Re(this.elt[t].location[0]))},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe},Pe.toLineLabel=function(t){for(var e=new Pe(w.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var De=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Nt,this._pts=new Nt,this._label=new Pe(w.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Nt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};De.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},De.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},De.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new we(\"Found null DirectedEdge\");if(e.getEdgeRing()===this)throw new we(\"Directed Edge visited twice during ring-building at \"+e.getCoordinate());this._edges.add(e);var i=e.getLabel();et.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},De.prototype.getLinearRing=function(){return this._ring},De.prototype.getCoordinate=function(t){return this._pts.get(t)},De.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},De.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},De.prototype.isHole=function(){return this._isHole},De.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},De.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},De.prototype.addHole=function(t){this._holes.add(t)},De.prototype.isShell=function(){return null===this._shell},De.prototype.getLabel=function(){return this._label},De.prototype.getEdges=function(){return this._edges},De.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},De.prototype.getShell=function(){return this._shell},De.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,Se.RIGHT);if(i===w.NONE)return null;if(this._label.getLocation(n)===w.NONE)return this._label.setLocation(n,i),null}},De.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},De.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var Me=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),Ae=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Nt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Me(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),Fe=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Fe.prototype.setVisited=function(t){this._isVisited=t},Fe.prototype.setInResult=function(t){this._isInResult=t},Fe.prototype.isCovered=function(){return this._isCovered},Fe.prototype.isCoveredSet=function(){return this._isCoveredSet},Fe.prototype.setLabel=function(t){this._label=t},Fe.prototype.getLabel=function(){return this._label},Fe.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Fe.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,\"found partial label\"),this.computeIM(t)},Fe.prototype.isInResult=function(){return this._isInResult},Fe.prototype.isVisited=function(){return this._isVisited},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var Ge=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Pe(0,w.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println(\"node \"+this._coord+\" lbl: \"+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=w.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==w.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Pe(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Pe)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===w.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=w.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case w.BOUNDARY:n=w.INTERIOR;break;case w.INTERIOR:default:n=w.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fe),qe=function(){this.nodeMap=new p,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};qe.prototype.find=function(t){return this.nodeMap.get(t)},qe.prototype.addNode=function(){if(arguments[0]instanceof C){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Ge){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},qe.prototype.print=function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},qe.prototype.iterator=function(){return this.nodeMap.values().iterator()},qe.prototype.values=function(){return this.nodeMap.values()},qe.prototype.getBoundaryNodes=function(t){for(var e=new Nt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===w.BOUNDARY&&e.add(i)}return e},qe.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var Be=function(){},Ve={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be},Be.isNorthern=function(t){return t===Be.NE||t===Be.NW},Be.isOpposite=function(t,e){if(t===e)return!1;return 2===(t-e+4)%4},Be.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Be.isInHalfPlane=function(t,e){return e===Be.SE?t===Be.SE||t===Be.SW:t===e||t===e+1},Be.quadrant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m(\"Cannot compute the quadrant for point ( \"+t+\", \"+e+\" )\");return t>=0?e>=0?Be.NE:Be.SE:e>=0?Be.NW:Be.SW}if(arguments[0]instanceof C&&arguments[1]instanceof C){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new m(\"Cannot compute the quadrant for two identical points \"+n);return i.x>=n.x?i.y>=n.y?Be.NE:Be.SE:i.y>=n.y?Be.NW:Be.SW}},Ve.NE.get=function(){return 0},Ve.NW.get=function(){return 1},Ve.SW.get=function(){return 2},Ve.SE.get=function(){return 3},Object.defineProperties(Be,Ve);var Ue=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};Ue.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Ue.prototype.getDy=function(){return this._dy},Ue.prototype.getCoordinate=function(){return this._p0},Ue.prototype.setNode=function(t){this._node=t},Ue.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf(\".\"),r=n.substring(i+1);t.print(\"  \"+r+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+e+\"   \"+this._label)},Ue.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ue.prototype.getDirectedCoordinate=function(){return this._p1},Ue.prototype.getDx=function(){return this._dx},Ue.prototype.getLabel=function(){return this._label},Ue.prototype.getEdge=function(){return this._edge},Ue.prototype.getQuadrant=function(){return this._quadrant},Ue.prototype.getNode=function(){return this._node},Ue.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(\".\");return\"  \"+e.substring(n+1)+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+t+\"   \"+this._label},Ue.prototype.computeLabel=function(t){},Ue.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Be.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),\"EdgeEnd with identical endpoints found\")},Ue.prototype.interfaces_=function(){return[E]},Ue.prototype.getClass=function(){return Ue};var ze=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Pe(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new we(\"assigned depths do not match\",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Se.LEFT)===w.INTERIOR&&this._label.getLocation(e,Se.RIGHT)===w.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(\" \"+this._depth[Se.LEFT]+\"/\"+this._depth[Se.RIGHT]),e.print(\" (\"+this.getDepthDelta()+\")\"),this._isInResult&&e.print(\" inResult\")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,w.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,w.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(\" \"),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Se.LEFT&&(i=-1);var r=Se.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===w.EXTERIOR&&e===w.INTERIOR?1:t===w.INTERIOR&&e===w.EXTERIOR?-1:0},e}(Ue),Xe=function(){};Xe.prototype.createNode=function(t){return new Ge(t,null)},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var Ye=function(){if(this._edges=new Nt,this._nodes=null,this._edgeEndList=new Nt,0===arguments.length)this._nodes=new qe(new Xe);else if(1===arguments.length){var t=arguments[0];this._nodes=new qe(t)}};Ye.prototype.printEdges=function(t){t.println(\"Edges:\");for(var e=0;e<this._edges.size();e++){t.println(\"edge \"+e+\":\");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ye.prototype.find=function(t){return this._nodes.find(t)},Ye.prototype.addNode=function(){if(arguments[0]instanceof Ge){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof C){var e=arguments[0];return this._nodes.addNode(e)}},Ye.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ye.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},Ye.prototype.debugPrintln=function(t){Y.out.println(t)},Ye.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===w.BOUNDARY},Ye.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},Ye.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&(at.computeOrientation(t,e,i)===at.COLLINEAR&&Be.quadrant(t,e)===Be.quadrant(n,i))},Ye.prototype.getEdgeEnds=function(){return this._edgeEndList},Ye.prototype.debugPrint=function(t){Y.out.print(t)},Ye.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ye.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},Ye.prototype.insertEdge=function(t){this._edges.add(t)},Ye.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ye.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new ze(n,!0),r=new ze(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},Ye.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ye.prototype.getNodes=function(){return this._nodes.values()},Ye.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye},Ye.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}};var ke=function(){this._geometryFactory=null,this._shellList=new Nt;var t=arguments[0];this._geometryFactory=t};ke.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},ke.prototype.computePolygons=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},ke.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new we(\"unable to assign hole to a shell\",i.getCoordinate(0));i.setShell(r)}}},ke.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new Nt,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},ke.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},ke.prototype.buildMaximalEdgeRings=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Ae(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},ke.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},ke.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},ke.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(i)&&at.isPointInRing(r,l.getCoordinates())&&(p=!0),p&&(null===o||s.contains(c))&&(o=u)}return o},ke.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return et.isTrue(e<=1,\"found two shells in MinimalEdgeRing list\"),n},ke.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ye.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new Nt,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var je=function(){};je.prototype.getBounds=function(){},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var He=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};He.prototype.getItem=function(){return this._item},He.prototype.getBounds=function(){return this._bounds},He.prototype.interfaces_=function(){return[je,e]},He.prototype.getClass=function(){return He};var We=function(){this._size=null,this._items=null,this._size=0,this._items=new Nt,this._items.add(null)};We.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},We.prototype.size=function(){return this._size},We.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},We.prototype.clear=function(){this._size=0,this._items.clear()},We.prototype.isEmpty=function(){return 0===this._size},We.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ke=function(){};Ke.prototype.visitItem=function(t){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Je=function(){};Je.prototype.insert=function(t,e){},Je.prototype.remove=function(t,e){},Je.prototype.query=function(){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Qe=function(){if(this._childBoundables=new Nt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ze={serialVersionUID:{configurable:!0}};Qe.prototype.getLevel=function(){return this._level},Qe.prototype.size=function(){return this._childBoundables.size()},Qe.prototype.getChildBoundables=function(){return this._childBoundables},Qe.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Qe.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qe.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qe.prototype.interfaces_=function(){return[je,e]},Qe.prototype.getClass=function(){return Qe},Ze.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qe,Ze);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Gt.sort(n,e):Gt.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},$e.singletonList=function(t){var e=new Nt;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),i=tn.isComposite(this._boundable2);if(n&&i)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new m(\"neither boundable is composite\")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[E]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Qe};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Nt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,\"Node capacity must be greater than 1\"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Qe?t+=this.size(n):n instanceof He&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof He&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Nt:t}if(1===arguments.length){for(var e=arguments[0],n=new Nt,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Qe){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof He?n.add(r.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,\"Cannot insert items into an STR packed R-tree after it has been built.\"),this._itemBoundables.add(new He(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Nt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(et.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Qe?this.boundablesAtLevel(n,s,r):(et.isTrue(s instanceof He),-1===n&&r.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Nt;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(T(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof Qe?this.query(r,l,s):l instanceof He?s.visitItem(l.getItem()):et.shouldNeverReachHere())}else if(T(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var c=arguments[0],p=arguments[1],h=arguments[2],f=p.getChildBoundables(),g=0;g<f.size();g++){var d=f.get(g);this.getIntersectsOp().intersects(d.getBounds(),c)&&(d instanceof Qe?this.query(c,d,h):d instanceof He?h.add(d.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&(u instanceof Qe&&(o=this.remove(n,u,r)))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Qe){var i=this.depth(n);i>t&&(t=i)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Nt;n.add(this.createNode(e));var i=new Nt(t);$e.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Nt,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new Nt;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(T(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(T(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new Nt(t);$e.sort(r,n.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(T(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var i=arguments[0];return this.nearestNeighbour(i,v.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&T(arguments[1],on)){var r=arguments[0],o=arguments[1],s=new tn(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&\"number\"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=null,c=new We;for(c.add(a);!c.isEmpty()&&u>0;){var p=c.poll(),h=p.getDistance();if(h>=u)break;p.isLeaves()?(u=h,l=p):p.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[0],g=arguments[1],d=arguments[2],y=new He(f,g),_=new tn(this.getRoot(),y,d);return this.nearestNeighbour(_)[0]}},n.prototype.interfaces_=function(){return[Je,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},i.STRtreeNode.get=function(){return an},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[N]},compare:function(e,i){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(i.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[N]},compare:function(e,i){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(i.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,i),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new j(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qe),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=un.relativeSign(e.x,n.x),r=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(i,r);case 1:return un.compareValue(r,i);case 2:return un.compareValue(r,-i);case 3:return un.compareValue(-i,r);case 4:return un.compareValue(-i,-r);case 5:return un.compareValue(-r,-i);case 6:return un.compareValue(-r,i);case 7:return un.compareValue(i,-r)}return et.shouldNeverReachHere(\"invalid octant value\"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ln=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new C(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};ln.prototype.getCoordinate=function(){return this.coord},ln.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex)},ln.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},ln.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ln.prototype.isInterior=function(){return this._isInterior},ln.prototype.interfaces_=function(){return[E]},ln.prototype.getClass=function(){return ln};var cn=function(){this._nodeMap=new p,this._edge=null;var t=arguments[0];this._edge=t};cn.prototype.getSplitCoordinates=function(){var t=new St;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var t=new Nt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},cn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new M(e+1))}},cn.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new C(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new C(e.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},cn.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new M(e[0])),i=r}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new C(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new C(e.coord)),new gn(o,this._edge.getData())},cn.prototype.add=function(t,e){var n=new ln(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(et.isTrue(i.coord.equals2D(t),\"Found equal nodes with different coordinates\"),i):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $(\"bad split edge start point at \"+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new $(\"bad split edge end point at \"+r)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var pn=function(){};pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.octant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m(\"Cannot compute the octant for point ( \"+t+\", \"+e+\" )\");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof C&&arguments[1]instanceof C){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new m(\"Cannot compute the octant for two identical points \"+r);return pn.octant(s,a)}};var hn=function(){};hn.prototype.getCoordinates=function(){},hn.prototype.size=function(){},hn.prototype.getCoordinate=function(t){},hn.prototype.isClosed=function(){},hn.prototype.setData=function(t){},hn.prototype.getData=function(){},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var fn=function(){};fn.prototype.addIntersection=function(t,e){},fn.prototype.interfaces_=function(){return[hn]},fn.prototype.getClass=function(){return fn};var gn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};gn.prototype.getCoordinates=function(){return this._pts},gn.prototype.size=function(){return this._pts.length},gn.prototype.getCoordinate=function(t){return this._pts[t]},gn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},gn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},gn.prototype.setData=function(t){this._data=t},gn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:pn.octant(t,e)},gn.prototype.getData=function(){return this._data},gn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[3],o=new C(n.getIntersection(r));this.addIntersection(o,i)}},gn.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},gn.prototype.getNodeList=function(){return this._nodeList},gn.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},gn.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},gn.prototype.interfaces_=function(){return[fn]},gn.prototype.getClass=function(){return gn},gn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Nt;return gn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){r.next().getNodeList().addSplitEdges(i)}};var dn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new C,this.p1=new C;else if(1===arguments.length){var t=arguments[0];this.p0=new C(t.p0),this.p1=new C(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new C(e,n),this.p1=new C(i,r)}},yn={serialVersionUID:{configurable:!0}};dn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},dn.prototype.orientationIndex=function(){if(arguments[0]instanceof dn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof C){var i=arguments[0];return at.orientationIndex(this.p0,this.p1,i)}},dn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},dn.prototype.isVertical=function(){return this.p0.x===this.p1.x},dn.prototype.equals=function(t){if(!(t instanceof dn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},dn.prototype.intersection=function(t){var e=new rt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},dn.prototype.project=function(){if(arguments[0]instanceof C){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new C(t);var e=this.projectionFactor(t),n=new C;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof dn){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new dn(s,a)}},dn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},dn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},dn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},dn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},dn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},dn.prototype.midPoint=function(){return dn.midPoint(this.p0,this.p1)},dn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;if(i<=0)return v.NaN;return((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},dn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=v.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},dn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);if(e>0&&e<1)return this.project(t);return this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},dn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},dn.prototype.getLength=function(){return this.p0.distance(this.p1)},dn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},dn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},dn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},dn.prototype.lineIntersection=function(t){try{return k.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof X))throw t}return null},dn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},dn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error(\"Cannot compute offset from zero-length line segment\");a=e*r/s,u=e*o/s}return new C(n-u,i+a)},dn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},dn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||v.isNaN(e))&&(e=1),e},dn.prototype.toString=function(){return\"LINESTRING( \"+this.p0.x+\" \"+this.p0.y+\", \"+this.p1.x+\" \"+this.p1.y+\")\"},dn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},dn.prototype.distance=function(){if(arguments[0]instanceof dn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof C){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},dn.prototype.pointAlong=function(t){var e=new C;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},dn.prototype.hashCode=function(){var t=v.doubleToLongBits(this.p0.x);t^=31*v.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=v.doubleToLongBits(this.p1.x);n^=31*v.doubleToLongBits(this.p1.y);return e^(Math.trunc(n)^Math.trunc(n>>32))},dn.prototype.interfaces_=function(){return[E,e]},dn.prototype.getClass=function(){return dn},dn.midPoint=function(t,e){return new C((t.x+e.x)/2,(t.y+e.y)/2)},yn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(dn,yn);var _n=function(){this.tempEnv1=new j,this.tempEnv2=new j,this._overlapSeg1=new dn,this._overlapSeg2=new dn};_n.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var mn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};mn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mn.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},mn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mn.prototype.setId=function(t){this._id=t},mn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new j(t,e)}return this._env},mn.prototype.getEndIndex=function(){return this._end},mn.prototype.getStartIndex=function(){return this._start},mn.prototype.getContext=function(){return this._context},mn.prototype.getId=function(){return this._id},mn.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),p=Math.trunc((i+r)/2);t<c&&(i<p&&this.computeOverlapsInternal(t,c,n,i,p,o),p<r&&this.computeOverlapsInternal(t,c,n,p,r,o)),c<e&&(i<p&&this.computeOverlapsInternal(c,e,n,i,p,o),p<r&&this.computeOverlapsInternal(c,e,n,p,r,o))},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.getChainStartIndices=function(t){var e=0,n=new Nt;n.add(new M(e));do{var i=vn.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);return vn.toIntArray(n)},vn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Be.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){if(Be.quadrant(t[r-1],t[r])!==i)break}r++}return r-1},vn.getChains=function(){if(1===arguments.length){var t=arguments[0];return vn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new Nt,r=vn.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new mn(e,r[o],r[o+1],n);i.add(s)}return i}},vn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var In=function(){};In.prototype.computeNodes=function(t){},In.prototype.getNodedSubstrings=function(){},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In};var En=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};En.prototype.setSegmentIntersector=function(t){this._segInt=t},En.prototype.interfaces_=function(){return[In]},En.prototype.getClass=function(){return En};var xn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Nt,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return gn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Nn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Nn},Object.defineProperties(e,n),e}(En),Nn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],o=e.getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_n),Cn=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Sn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Cn.prototype.getEndCapStyle=function(){return this._endCapStyle},Cn.prototype.isSingleSided=function(){return this._isSingleSided},Cn.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Cn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Cn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Cn.JOIN_ROUND&&(this._quadrantSegments=Cn.DEFAULT_QUADRANT_SEGMENTS)},Cn.prototype.getJoinStyle=function(){return this._joinStyle},Cn.prototype.setJoinStyle=function(t){this._joinStyle=t},Cn.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Cn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Cn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Cn.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Cn.prototype.getMitreLimit=function(){return this._mitreLimit},Cn.prototype.setMitreLimit=function(t){this._mitreLimit=t},Cn.prototype.setSingleSided=function(t){this._isSingleSided=t},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Sn.CAP_ROUND.get=function(){return 1},Sn.CAP_FLAT.get=function(){return 2},Sn.CAP_SQUARE.get=function(){return 3},Sn.JOIN_ROUND.get=function(){return 1},Sn.JOIN_MITRE.get=function(){return 2},Sn.JOIN_BEVEL.get=function(){return 3},Sn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Sn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Sn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Cn,Sn);var Ln=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},bn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ln.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&(!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i))},Ln.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Ln.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},Ln.prototype.isShallowConcavity=function(t,e,n,i){if(!(at.computeOrientation(t,e,n)===this._angleOrientation))return!1;return at.distancePointLine(e,t,n)<i},Ln.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/Ln.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},Ln.prototype.isConcave=function(t,e,n){var i=at.computeOrientation(t,e,n)===this._angleOrientation;return i},Ln.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Ln.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Ln.DELETE;)e++;return e},Ln.prototype.isShallow=function(t,e,n,i){return at.distancePointLine(e,t,n)<i},Ln.prototype.collapseLine=function(){for(var t=new St,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Ln.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.simplify=function(t,e){return new Ln(t).simplify(e)},bn.INIT.get=function(){return 0},bn.DELETE.get=function(){return 1},bn.KEEP.get=function(){return 1},bn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ln,bn);var wn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Nt},On={COORDINATE_ARRAY_TYPE:{configurable:!0}};wn.prototype.getCoordinates=function(){return this._ptList.toArray(wn.COORDINATE_ARRAY_TYPE)},wn.prototype.setPrecisionModel=function(t){this._precisionModel=t},wn.prototype.addPt=function(t){var e=new C(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},wn.prototype.revere=function(){},wn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},wn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},wn.prototype.toString=function(){return(new _e).createLineString(this.getCoordinates()).toString()},wn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new C(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},wn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},On.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(wn,On);var Tn=function(){},Rn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.toDegrees=function(t){return 180*t/Math.PI},Tn.normalize=function(t){for(;t>Math.PI;)t-=Tn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Tn.PI_TIMES_2;return t},Tn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},Tn.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},Tn.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},Tn.interiorAngle=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n);return Math.abs(r-i)},Tn.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Tn.PI_TIMES_2;t>=Tn.PI_TIMES_2&&(t=0)}else{for(;t>=Tn.PI_TIMES_2;)t-=Tn.PI_TIMES_2;t<0&&(t=0)}return t},Tn.angleBetween=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n);return Tn.diff(i,r)},Tn.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Tn.toRadians=function(t){return t*Math.PI/180},Tn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Tn.COUNTERCLOCKWISE:n<0?Tn.CLOCKWISE:Tn.NONE},Tn.angleBetweenOriented=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n)-i;return r<=-Math.PI?r+Tn.PI_TIMES_2:r>Math.PI?r-Tn.PI_TIMES_2:r},Rn.PI_TIMES_2.get=function(){return 2*Math.PI},Rn.PI_OVER_2.get=function(){return Math.PI/2},Rn.PI_OVER_4.get=function(){return Math.PI/4},Rn.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Rn.CLOCKWISE.get=function(){return at.CLOCKWISE},Rn.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Tn,Rn);var Pn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new dn,this._seg1=new dn,this._offset0=new dn,this._offset1=new dn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Cn.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},Dn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Pn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),i=n===at.CLOCKWISE&&this._side===Se.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Se.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Pn.prototype.addLineEndCap=function(t,e){var n=new dn(t,e),i=new dn;this.computeOffsetSegment(n,Se.LEFT,this._distance,i);var r=new dn;this.computeOffsetSegment(n,Se.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Cn.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case Cn.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case Cn.CAP_SQUARE:var u=new C;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new C(i.p1.x+u.x,i.p1.y+u.y),c=new C(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Pn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Pn.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=k.intersection(e.p0,e.p1,n.p0,n.p1);(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof X))throw t;o=new C(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},Pn.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===at.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},Pn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Pn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Cn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Cn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Pn.prototype.createSquare=function(t){this._segList.addPt(new C(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new C(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new C(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new C(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Pn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Pn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Pn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Pn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Pn.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=Tn.angle(r,this._seg0.p0),s=Tn.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=Tn.normalize(o+s),u=Tn.normalize(a+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(s)),p=r.x+l*Math.cos(u),h=r.y+l*Math.sin(u),f=new C(p,h),g=new dn(r,f),d=g.pointAlongOffset(1,c),y=g.pointAlongOffset(1,-c);this._side===Se.LEFT?(this._segList.addPt(d),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(d))},Pn.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===Se.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},Pn.prototype.addFilletArc=function(t,e,n,i,r){var o=i===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new C;l<s;){var p=e+o*l;c.x=t.x+r*Math.cos(p),c.y=t.y+r*Math.sin(p),this._segList.addPt(c),l+=u}},Pn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Pn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new C((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new C((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Pn.prototype.createCircle=function(t){var e=new C(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Pn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Pn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new wn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Pn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Pn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Cn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Cn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Pn.prototype.closeRing=function(){this._segList.closeRing()},Pn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Dn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Dn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Dn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Dn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Pn,Dn);var Mn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Mn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&Lt.reverse(o),o},Mn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=Ln.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Ln.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},Mn.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===Se.RIGHT&&(i=-i);var r=Ln.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},Mn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=Ln.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Se.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Ln.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Se.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Mn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Cn.CAP_ROUND:e.createCircle(t);break;case Cn.CAP_SQUARE:e.createSquare(t)}},Mn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},Mn.prototype.getBufferParameters=function(){return this._bufParams},Mn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Mn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Mn.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},Mn.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=Ln.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Ln.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},Mn.prototype.getSegGen=function(t){return new Pn(this._precisionModel,this._bufParams,t)},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new C(t[n]);return e};var An=function(){this._subgraphs=null,this._seg=new dn,this._cga=new at;var t=arguments[0];this._subgraphs=t},Fn={DepthSegment:{configurable:!0}};An.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Nt,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(T(arguments[2],xt)&&arguments[0]instanceof C&&arguments[1]instanceof ze)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++){this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();if(!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var c=s.getDepth(Se.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(Se.RIGHT));var p=new Gn(this._seg,c);a.add(p)}}else if(T(arguments[2],xt)&&arguments[0]instanceof C&&T(arguments[1],xt))for(var h=arguments[0],f=arguments[1],g=arguments[2],d=f.iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(h,y,g)}},An.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);if(0===e.size())return 0;return $e.min(e)._leftDepth},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},Fn.DepthSegment.get=function(){return Gn},Object.defineProperties(An,Fn);var Gn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new dn(t),this._leftDepth=e};Gn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Gn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Gn.prototype.toString=function(){return this._upwardSeg.toString()},Gn.prototype.interfaces_=function(){return[E]},Gn.prototype.getClass=function(){return Gn};var qn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};qn.prototype.area=function(){return qn.area(this.p0,this.p1,this.p2)},qn.prototype.signedArea=function(){return qn.signedArea(this.p0,this.p1,this.p2)},qn.prototype.interpolateZ=function(t){if(null===t)throw new m(\"Supplied point is null.\");return qn.interpolateZ(t,this.p0,this.p1,this.p2)},qn.prototype.longestSideLength=function(){return qn.longestSideLength(this.p0,this.p1,this.p2)},qn.prototype.isAcute=function(){return qn.isAcute(this.p0,this.p1,this.p2)},qn.prototype.circumcentre=function(){return qn.circumcentre(this.p0,this.p1,this.p2)},qn.prototype.area3D=function(){return qn.area3D(this.p0,this.p1,this.p2)},qn.prototype.centroid=function(){return qn.centroid(this.p0,this.p1,this.p2)},qn.prototype.inCentre=function(){return qn.inCentre(this.p0,this.p1,this.p2)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},qn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},qn.det=function(t,e,n,i){return t*i-e*n},qn.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,c=s*l-a*u,p=t.x-r,h=t.y-o,f=(l*p-a*h)/c,g=(-u*p+s*h)/c;return e.z+f*(n.z-e.z)+g*(i.z-e.z)},qn.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},qn.isAcute=function(t,e,n){return!!Tn.isAcute(t,e,n)&&(!!Tn.isAcute(e,n,t)&&!!Tn.isAcute(n,t,e))},qn.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,l=2*qn.det(o,s,a,u),c=qn.det(s,o*o+s*s,u,a*a+u*u),p=qn.det(o,o*o+s*s,a,a*a+u*u);return new C(i-c/l,r+p/l)},qn.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new k(t.x+n/2,t.y+i/2,1),o=new k(t.x-i+n/2,t.y+n+i/2,1);return new k(r,o)},qn.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new C(t.x+r*o,t.y+r*s)},qn.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,c=o*s-i*u,p=i*a-r*s,h=l*l+c*c+p*p,f=Math.sqrt(h)/2;return f},qn.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new C(i,r)},qn.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,u=(i*t.y+r*e.y+o*n.y)/s;return new C(a,u)};var Bn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Nt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Bn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,w.EXTERIOR,w.INTERIOR)},Bn.prototype.addPolygon=function(t){var e=this._distance,n=Se.LEFT;this._distance<0&&(e=-this._distance,n=Se.RIGHT);var i=t.getExteriorRing(),r=Lt.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,w.EXTERIOR,w.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Lt.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Se.opposite(n),w.INTERIOR,w.EXTERIOR)}},Bn.prototype.isTriangleErodedCompletely=function(t,e){var n=new qn(t[0],t[1],t[2]),i=n.inCentre();return at.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},Bn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Lt.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,w.EXTERIOR,w.INTERIOR)},Bn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new gn(t,new Pe(0,w.BOUNDARY,e,n));this._curveList.add(i)},Bn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bn.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=r,s=i,n=Se.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Bn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Kt?this.addLineString(t):t instanceof Qt?this.addPoint(t):t instanceof te?this.addCollection(t):t instanceof Xt?this.addCollection(t):t instanceof ne?this.addCollection(t):t instanceof zt&&this.addCollection(t)},Bn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},Bn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var Vn=function(){};Vn.prototype.locate=function(t){},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var Un=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Un.prototype.next=function(){if(this._atStart)return this._atStart=!1,Un.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new i;var t=this._parent.getGeometryN(this._index++);return t instanceof zt?(this._subcollectionIterator=new Un(t),this._subcollectionIterator.next()):t},Un.prototype.remove=function(){throw new Error(this.getClass().getName())},Un.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Un.prototype.interfaces_=function(){return[Et]},Un.prototype.getClass=function(){return Un},Un.isAtomic=function(t){return!(t instanceof zt)};var zn=function(){this._geom=null;var t=arguments[0];this._geom=t};zn.prototype.locate=function(t){return zn.locate(t,this._geom)},zn.prototype.interfaces_=function(){return[Vn]},zn.prototype.getClass=function(){return zn},zn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},zn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!zn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(zn.isPointInRing(t,r))return!1}return!0},zn.containsPoint=function(t,e){if(e instanceof $t)return zn.containsPointInPolygon(t,e);if(e instanceof zt)for(var n=new Un(e);n.hasNext();){var i=n.next();if(i!==e&&zn.containsPoint(t,i))return!0}return!1},zn.locate=function(t,e){return e.isEmpty()?w.EXTERIOR:zn.containsPoint(t,e)?w.INTERIOR:w.EXTERIOR};var Xn=function(){this._edgeMap=new p,this._edgeList=null,this._ptInAreaLocation=[w.NONE,w.NONE]};Xn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Xn.prototype.propagateSideLabels=function(t){for(var e=w.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,Se.LEFT)!==w.NONE&&(e=i.getLocation(t,Se.LEFT))}if(e===w.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Se.ON)===w.NONE&&a.setLocation(t,Se.ON,r),a.isArea(t)){var u=a.getLocation(t,Se.LEFT),l=a.getLocation(t,Se.RIGHT);if(l!==w.NONE){if(l!==r)throw new we(\"side location conflict\",s.getCoordinate());u===w.NONE&&et.shouldNeverReachHere(\"found single null side (at \"+s.getCoordinate()+\")\"),r=u}else et.isTrue(a.getLocation(t,Se.LEFT)===w.NONE,\"found single null side\"),a.setLocation(t,Se.RIGHT,r),a.setLocation(t,Se.LEFT,r)}}},Xn.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;return t.next().getCoordinate()},Xn.prototype.print=function(t){Y.out.println(\"EdgeEndStar:   \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Xn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Xn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Se.LEFT);et.isTrue(i!==w.NONE,\"Found unlabelled area edge\");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),\"Found non-area edge\");var a=s.getLocation(t,Se.LEFT),u=s.getLocation(t,Se.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},Xn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1},Xn.prototype.iterator=function(){return this.getEdges().iterator()},Xn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Nt(this._edgeMap.values())),this._edgeList},Xn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===w.NONE&&(this._ptInAreaLocation[t]=zn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Xn.prototype.toString=function(){var t=new D;t.append(\"EdgeEndStar:   \"+this.getCoordinate()),t.append(\"\\n\");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append(\"\\n\")}return t.toString()},Xn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},Xn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===w.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=w.NONE;if(e[u])l=w.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},Xn.prototype.getDegree=function(){return this._edgeMap.size()},Xn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Yn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new we(\"no outgoing dirEdge found\",this.getCoordinate());et.isTrue(t.isInResult(),\"unable to link last incoming dirEdge\"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return Be.isNorthern(r)&&Be.isNorthern(o)?n:Be.isNorthern(r)||Be.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(et.shouldNeverReachHere(\"found two horizontal edges incident on node\"),null):i},e.prototype.print=function(t){Y.out.println(\"DirectedEdgeStar: \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print(\"out \"),n.print(t),t.println(),t.print(\"in \"),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Nt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Se.LEFT),i=t.getDepth(Se.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new we(\"depth mismatch at \"+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o;u<s;u++){var l=this._edgeList.get(u);l.setEdgeDepths(Se.RIGHT,a),a=l.getDepth(Se.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,\"found null for first outgoing dirEdge\"),et.isTrue(e.getEdgeRing()===t,\"unable to link last incoming dirEdge\"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){e.next().isInResult()&&t++}return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();){r.next().getEdgeRing()===n&&i++}return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=w.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=w.INTERIOR;break}if(i.isInResult()){t=w.EXTERIOR;break}}}if(t===w.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===w.INTERIOR):(s.isInResult()&&(r=w.EXTERIOR),a.isInResult()&&(r=w.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Pe(w.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==w.INTERIOR&&o!==w.BOUNDARY||this._label.setLocation(r,w.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xn),kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Ge(t,new Yn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xe),jn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};jn.prototype.compareTo=function(t){var e=t;return jn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},jn.prototype.interfaces_=function(){return[E]},jn.prototype.getClass=function(){return jn},jn.orientation=function(t){return 1===Lt.increasingDirection(t)},jn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var p=(u+=r)===s,h=(l+=o)===a;if(p&&!h)return-1;if(!p&&h)return 1;if(p&&h)return 0}};var Hn=function(){this._edges=new Nt,this._ocaMap=new p};Hn.prototype.print=function(t){t.print(\"MULTILINESTRING ( \");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(\",\"),t.print(\"(\");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(\",\"),t.print(i[r].x+\" \"+i[r].y);t.println(\")\")}t.print(\")  \")},Hn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Hn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Hn.prototype.iterator=function(){return this._edges.iterator()},Hn.prototype.getEdges=function(){return this._edges},Hn.prototype.get=function(t){return this._edges.get(t)},Hn.prototype.findEqualEdge=function(t){var e=new jn(t.getCoordinates());return this._ocaMap.get(e)},Hn.prototype.add=function(t){this._edges.add(t);var e=new jn(t.getCoordinates());this._ocaMap.put(e,t)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Wn=function(){};Wn.prototype.processIntersections=function(t,e,n,i){},Wn.prototype.isDone=function(){},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Kn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Kn.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Kn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Kn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Kn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Kn.prototype.getLineIntersector=function(){return this._li},Kn.prototype.hasProperIntersection=function(){return this._hasProper},Kn.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Kn.prototype.hasIntersection=function(){return this._hasIntersection},Kn.prototype.isDone=function(){return!1},Kn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Kn.prototype.interfaces_=function(){return[Wn]},Kn.prototype.getClass=function(){return Kn},Kn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Jn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new C(t),this.segmentIndex=e,this.dist=n};Jn.prototype.getSegmentIndex=function(){return this.segmentIndex},Jn.prototype.getCoordinate=function(){return this.coord},Jn.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex),t.println(\" dist = \"+this.dist)},Jn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Jn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Jn.prototype.toString=function(){return this.coord+\" seg # = \"+this.segmentIndex+\" dist = \"+this.dist},Jn.prototype.getDistance=function(){return this.dist},Jn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Jn.prototype.interfaces_=function(){return[E]},Jn.prototype.getClass=function(){return Jn};var Qn=function(){this._nodeMap=new p,this.edge=null;var t=arguments[0];this.edge=t};Qn.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Qn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Qn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Qn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Qn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new C(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new ni(o,new Pe(this.edge._label))},Qn.prototype.add=function(t,e,n){var i=new Jn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Qn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var Zn=function(){};Zn.prototype.getChainStartIndices=function(t){var e=0,n=new Nt;n.add(new M(e));do{var i=this.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);return Zn.toIntArray(n)},Zn.prototype.findChainEnd=function(t,e){for(var n=Be.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(Be.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new j,this.env2=new j;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Zn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[r],p=this.pts[o],h=s.pts[a],f=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,p),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var g=Math.trunc((r+o)/2),d=Math.trunc((a+u)/2);r<g&&(a<d&&this.computeIntersectsForChain(r,g,s,a,d,l),d<u&&this.computeIntersectsForChain(r,g,s,d,u,l)),g<o&&(a<d&&this.computeIntersectsForChain(g,o,s,a,d,l),d<u&&this.computeIntersectsForChain(g,o,s,d,u,l))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var ti=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},ei={NULL_VALUE:{configurable:!0}};ti.prototype.getDepth=function(t,e){return this._depth[t][e]},ti.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},ti.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==ti.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===ti.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===ti.NULL_VALUE}},ti.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},ti.prototype.getDelta=function(t){return this._depth[t][Se.RIGHT]-this._depth[t][Se.LEFT]},ti.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?w.EXTERIOR:w.INTERIOR},ti.prototype.toString=function(){return\"A: \"+this._depth[0][1]+\",\"+this._depth[0][2]+\" B: \"+this._depth[1][1]+\",\"+this._depth[1][2]},ti.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==w.EXTERIOR&&i!==w.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=ti.depthAtLocation(i):this._depth[e][n]+=ti.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===w.INTERIOR&&this._depth[r][o]++}},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.depthAtLocation=function(t){return t===w.EXTERIOR?0:t===w.INTERIOR?1:ti.NULL_VALUE},ei.NULL_VALUE.get=function(){return-1},Object.defineProperties(ti,ei);var ni=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ti,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);t[0]=this.pts[0],t[1]=this.pts[1];return new e(t,Pe.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print(\"edge \"+this._name+\": \"),t.print(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.print(\",\"),t.print(this.pts[e].x+\" \"+this.pts[e].y);t.print(\")  \"+this._label+\" \"+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print(\"edge \"+this._name+\": \");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+\" \");t.println(\"\")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new j;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new C(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new D;t.append(\"edge \"+this._name+\": \"),t.append(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.append(\",\"),t.append(this.pts[e].x+\" \"+this.pts[e].y);return t.append(\")  \"+this._label+\" \"+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Se.ON),e.getLocation(1,Se.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Se.LEFT),e.getLocation(1,Se.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Se.RIGHT),e.getLocation(1,Se.RIGHT),2))},e}(Fe),ii=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hn,this._bufParams=t||null};ii.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ii.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Pe(t.getLabel())).flip(),n.merge(i);var r=ii.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(ii.depthDelta(t.getLabel()))},ii.prototype.buildSubgraphs=function(t,e){for(var n=new Nt,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new An(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},ii.prototype.createSubgraphs=function(t){for(var e=new Nt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Te;r.create(i),e.add(r)}}return $e.sort(e,$e.reverseOrder()),e},ii.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ii.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new xn,n=new rt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e},ii.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new Mn(n,this._bufParams),r=new Bn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Ye(new kn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new ke(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();if(a.size()<=0)return this.createEmptyResultGeometry();return this._geomFact.buildGeometry(a)},ii.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new ni(r.getCoordinates(),new Pe(s));this.insertUniqueEdge(a)}}},ii.prototype.setNoder=function(t){this._workingNoder=t},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.depthDelta=function(t){var e=t.getLocation(0,Se.LEFT),n=t.getLocation(0,Se.RIGHT);return e===w.INTERIOR&&n===w.EXTERIOR?1:e===w.EXTERIOR&&n===w.INTERIOR?-1:0},ii.convertSegStrings=function(t){for(var e=new _e,n=new Nt;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var ri=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ri.prototype.rescale=function(){if(T(arguments[0],It))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Y.out.println(n)}},ri.prototype.scale=function(){if(T(arguments[0],It)){for(var t=arguments[0],e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new gn(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new C(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return Lt.removeRepeatedPoints(o)}},ri.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ri.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ri.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ri.prototype.interfaces_=function(){return[In]},ri.prototype.getClass=function(){return ri};var oi=function(){this._li=new rt,this._segStrings=null;var t=arguments[0];this._segStrings=t},si={fact:{configurable:!0}};oi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new $(\"found endpt/interior pt intersection at index \"+o+\" :pt \"+n)},oi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3];if(c===h&&p===f)return null;var g=c.getCoordinates()[p],d=c.getCoordinates()[p+1],y=h.getCoordinates()[f],_=h.getCoordinates()[f+1];if(this._li.computeIntersection(g,d,y,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,d)||this.hasInteriorIntersection(this._li,y,_)))throw new $(\"found non-noded intersection at \"+g+\"-\"+d+\" and \"+y+\"-\"+_)}},oi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},oi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},oi.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},oi.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $(\"found non-noded collapse at \"+oi.fact.createLineString([t,e,n]))},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},si.fact.get=function(){return new _e},Object.defineProperties(oi,si);var ai=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m(\"Scale factor must be non-zero\");1!==e&&(this._pt=new C(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new C,this._p1Scaled=new C),this.initCorners(this._pt)},ui={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ai.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),\"Found bad envelope test\"),a},ai.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new C(this._maxx,this._maxy),this._corner[1]=new C(this._minx,this._maxy),this._corner[2]=new C(this._minx,this._miny),this._corner[3]=new C(this._maxx,this._miny)},ai.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ai.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ai.prototype.getCoordinate=function(){return this._originalPt},ai.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ai.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ai.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new j(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ai.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},ai.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!n||!i)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))},ai.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ui.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ai,ui);var li=function(){this.tempEnv1=new j,this.selectedSegment=new dn};li.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ci=function(){this._index=null;var t=arguments[0];this._index=t},pi={HotPixelSnapAction:{configurable:!0}};ci.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new hi(e,n,i);return this._index.query(r,{interfaces_:function(){return[Ke]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},pi.HotPixelSnapAction.get=function(){return hi},Object.defineProperties(ci,pi);var hi=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],i=e.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),fi=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Nt};fi.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},fi.prototype.isDone=function(){return!1},fi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},fi.prototype.interfaces_=function(){return[Wn]},fi.prototype.getClass=function(){return fi};var gi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};gi.prototype.checkCorrectness=function(t){var e=gn.getNodedSubstrings(t),n=new oi(e);try{n.checkValid()}catch(t){if(!(t instanceof z))throw t;t.printStackTrace()}},gi.prototype.getNodedSubstrings=function(){return gn.getNodedSubstrings(this._nodedSegStrings)},gi.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},gi.prototype.findInteriorIntersections=function(t,e){var n=new fi(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},gi.prototype.computeVertexSnaps=function(){if(T(arguments[0],It))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof gn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new ai(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},gi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new xn,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(t,this._li)},gi.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new ai(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},gi.prototype.interfaces_=function(){return[In]},gi.prototype.getClass=function(){return gi};var di=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Cn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},yi={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};di.prototype.bufferFixedPrecision=function(t){var e=new ri(new gi(new fe(1)),t.getScale()),n=new ii(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},di.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=di.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof we))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=di.precisionScaleFactor(this._argGeom,this._distance,n),r=new fe(i);this.bufferFixedPrecision(r)}},di.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===fe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},di.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},di.prototype.bufferOriginalPrecision=function(){try{var t=new ii(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},di.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},di.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},di.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new di(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&\"number\"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=arguments[2],o=new di(n);o.setQuadrantSegments(r);return o.getResultGeometry(i)}if(arguments[2]instanceof Cn&&arguments[0]instanceof ct&&\"number\"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return new di(s,u).getResultGeometry(a)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],p=arguments[2],h=arguments[3],f=new di(l);f.setQuadrantSegments(p),f.setEndCapStyle(h);return f.getResultGeometry(c)}},di.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=R.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},yi.CAP_ROUND.get=function(){return Cn.CAP_ROUND},yi.CAP_BUTT.get=function(){return Cn.CAP_FLAT},yi.CAP_FLAT.get=function(){return Cn.CAP_FLAT},yi.CAP_SQUARE.get=function(){return Cn.CAP_SQUARE},yi.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(di,yi);var _i=function(){this._pt=[new C,new C],this._distance=v.NaN,this._isNull=!0};_i.prototype.getCoordinates=function(){return this._pt},_i.prototype.getCoordinate=function(t){return this._pt[t]},_i.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},_i.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},_i.prototype.getDistance=function(){return this._distance},_i.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var mi=function(){};mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},mi.computeDistance=function(){if(arguments[2]instanceof _i&&arguments[0]instanceof Kt&&arguments[1]instanceof C)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),r=new dn,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof _i&&arguments[0]instanceof $t&&arguments[1]instanceof C){var a=arguments[0],u=arguments[1],l=arguments[2];mi.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)mi.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof _i&&arguments[0]instanceof ct&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Kt)mi.computeDistance(p,h,f);else if(p instanceof $t)mi.computeDistance(p,h,f);else if(p instanceof zt)for(var g=p,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);mi.computeDistance(y,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof _i&&arguments[0]instanceof dn&&arguments[1]instanceof C){var _=arguments[0],m=arguments[1],v=arguments[2],I=_.closestPoint(m);v.setMinimum(I,m)}};var vi=function(t){this._maxPtDist=new _i,this._inputGeom=t||null},Ii={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vi.prototype.computeMaxMidpointDistance=function(t){var e=new xi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.computeMaxVertexDistance=function(t){var e=new Ei(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vi.prototype.getDistancePoints=function(){return this._maxPtDist},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},Ii.MaxPointDistanceFilter.get=function(){return Ei},Ii.MaxMidpointDistanceFilter.get=function(){return xi},Object.defineProperties(vi,Ii);var Ei=function(t){this._maxPtDist=new _i,this._minPtDist=new _i,this._geom=t||null};Ei.prototype.filter=function(t){this._minPtDist.initialize(),mi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ei.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ei.prototype.interfaces_=function(){return[ft]},Ei.prototype.getClass=function(){return Ei};var xi=function(t){this._maxPtDist=new _i,this._minPtDist=new _i,this._geom=t||null};xi.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new C((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),mi.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xi.prototype.isDone=function(){return!1},xi.prototype.isGeometryChanged=function(){return!1},xi.prototype.getMaxPointDistance=function(){return this._maxPtDist},xi.prototype.interfaces_=function(){return[Ut]},xi.prototype.getClass=function(){return xi};var Ni=function(t){this._comps=t||null};Ni.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},Ni.prototype.interfaces_=function(){return[Vt]},Ni.prototype.getClass=function(){return Ni},Ni.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Ni.getPolygons(t,new Nt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof zt&&e.apply(new Ni(n)),n}};var Ci=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Ci.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Kt&&this._lines.add(t)},Ci.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Ci.prototype.interfaces_=function(){return[lt]},Ci.prototype.getClass=function(){return Ci},Ci.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ci.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Ci.getLines(e,n))}},Ci.getLines=function(){if(1===arguments.length){var t=arguments[0];return Ci.getLines(t,!1)}if(2===arguments.length){if(T(arguments[0],It)&&T(arguments[1],It)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Ci.getLines(r,n)}return n}if(arguments[0]instanceof ct&&\"boolean\"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Nt;return o.apply(new Ci(a,s)),a}if(arguments[0]instanceof ct&&T(arguments[1],It)){var u=arguments[0],l=arguments[1];return u instanceof Kt?l.add(u):u.apply(new Ci(l)),l}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&T(arguments[0],It)&&T(arguments[1],It)){for(var c=arguments[0],p=arguments[1],h=arguments[2],f=c.iterator();f.hasNext();){var g=f.next();Ci.getLines(g,p,h)}return p}if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof ct&&T(arguments[1],It)){var d=arguments[0],y=arguments[1],_=arguments[2];return d.apply(new Ci(y,_)),y}}};var Si=function(){if(this._boundaryRule=gt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new m(\"Rule must be non-null\");this._boundaryRule=t}};Si.prototype.locateInternal=function(){if(arguments[0]instanceof C&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return w.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===w.EXTERIOR)return w.EXTERIOR;if(i===w.BOUNDARY)return w.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===w.INTERIOR)return w.EXTERIOR;if(s===w.BOUNDARY)return w.BOUNDARY}return w.INTERIOR}if(arguments[0]instanceof C&&arguments[1]instanceof Kt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return w.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?at.isOnLine(a,l)?w.INTERIOR:w.EXTERIOR:w.BOUNDARY}if(arguments[0]instanceof C&&arguments[1]instanceof Qt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?w.INTERIOR:w.EXTERIOR}},Si.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):w.EXTERIOR},Si.prototype.intersects=function(t,e){return this.locate(t,e)!==w.EXTERIOR},Si.prototype.updateLocationInfo=function(t){t===w.INTERIOR&&(this._isIn=!0),t===w.BOUNDARY&&this._numBoundaries++},Si.prototype.computeLocation=function(t,e){if(e instanceof Qt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Xt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof zt)for(var u=new Un(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},Si.prototype.locate=function(t,e){return e.isEmpty()?w.EXTERIOR:e instanceof Kt?this.locateInternal(t,e):e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?w.BOUNDARY:this._numBoundaries>0||this._isIn?w.INTERIOR:w.EXTERIOR)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si};var Li=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},bi={INSIDE_AREA:{configurable:!0}};Li.prototype.isInsideArea=function(){return this._segIndex===Li.INSIDE_AREA},Li.prototype.getCoordinate=function(){return this._pt},Li.prototype.getGeometryComponent=function(){return this._component},Li.prototype.getSegmentIndex=function(){return this._segIndex},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},bi.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Li,bi);var wi=function(t){this._pts=t||null};wi.prototype.filter=function(t){t instanceof Qt&&this._pts.add(t)},wi.prototype.interfaces_=function(){return[Vt]},wi.prototype.getClass=function(){return wi},wi.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Qt?$e.singletonList(t):wi.getPoints(t,new Nt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qt?n.add(e):e instanceof zt&&e.apply(new wi(n)),n}};var Oi=function(){this._locations=null;var t=arguments[0];this._locations=t};Oi.prototype.filter=function(t){(t instanceof Qt||t instanceof Kt||t instanceof $t)&&this._locations.add(new Li(t,0,t.getCoordinate()))},Oi.prototype.interfaces_=function(){return[Vt]},Oi.prototype.getClass=function(){return Oi},Oi.getLocations=function(t){var e=new Nt;return t.apply(new Oi(e)),e};var Ti=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Si,this._minDistanceLocation=null,this._minDistance=v.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};Ti.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=Ni.getPolygons(this._geom[e]);if(r.size()>0){var o=Oi.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&T(arguments[0],xt)&&T(arguments[1],xt)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),p=0;p<a.size();p++)if(this.computeContainmentDistance(c,a.get(p),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Li&&arguments[1]instanceof $t){var h=arguments[0],f=arguments[1],g=arguments[2],d=h.getCoordinate();if(w.EXTERIOR!==this._ptLocator.locate(d,f))return this._minDistance=0,g[0]=h,g[1]=new Li(f,d),null}},Ti.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Ci.getLines(this._geom[0]),n=Ci.getLines(this._geom[1]),i=wi.getPoints(this._geom[0]),r=wi.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},Ti.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ti.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Ti.prototype.nearestPoints=function(){this.computeMinDistance();return[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ti.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=at.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new dn(i[o],i[o+1]).closestPoint(r);n[0]=new Li(t,o,a),n[1]=new Li(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Kt){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var p=u.getCoordinates(),h=l.getCoordinates(),f=0;f<p.length-1;f++)for(var g=0;g<h.length-1;g++){var d=at.distanceLineLine(p[f],p[f+1],h[g],h[g+1]);if(d<this._minDistance){this._minDistance=d;var y=new dn(p[f],p[f+1]),_=new dn(h[g],h[g+1]),m=y.closestPoints(_);c[0]=new Li(u,f,m[0]),c[1]=new Li(l,g,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Ti.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Li(r,0,r.getCoordinate()),n[1]=new Li(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new m(\"null geometries are not supported\");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ti.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.distance=function(t,e){return new Ti(t,e).distance()},Ti.isWithinDistance=function(t,e,n){return new Ti(t,e,n).distance()<=n},Ti.nearestPoints=function(t,e){return new Ti(t,e).nearestPoints()};var Ri=function(){this._pt=[new C,new C],this._distance=v.NaN,this._isNull=!0};Ri.prototype.getCoordinates=function(){return this._pt},Ri.prototype.getCoordinate=function(t){return this._pt[t]},Ri.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Ri.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Ri.prototype.toString=function(){return Z.toLineString(this._pt[0],this._pt[1])},Ri.prototype.getDistance=function(){return this._distance},Ri.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri};var Pi=function(){};Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.computeDistance=function(){if(arguments[2]instanceof Ri&&arguments[0]instanceof Kt&&arguments[1]instanceof C)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new dn,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof $t&&arguments[1]instanceof C){var a=arguments[0],u=arguments[1],l=arguments[2];Pi.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Pi.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof ct&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Kt)Pi.computeDistance(p,h,f);else if(p instanceof $t)Pi.computeDistance(p,h,f);else if(p instanceof zt)for(var g=p,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);Pi.computeDistance(y,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof dn&&arguments[1]instanceof C){var _=arguments[0],m=arguments[1],v=arguments[2],I=_.closestPoint(m);v.setMinimum(I,m)}};var Di=function(){this._g0=null,this._g1=null,this._ptDist=new Ri,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Mi={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Di.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Di.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new m(\"Fraction is not in range (0.0 - 1.0]\");this._densifyFrac=t},Di.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Di.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Di.prototype.computeOrientedDistance=function(t,e,n){var i=new Ai(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new Fi(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},Di.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Di(t,e).distance()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Di(n,i);return o.setDensifyFraction(r),o.distance()}},Mi.MaxPointDistanceFilter.get=function(){return Ai},Mi.MaxDensifiedByFractionDistanceFilter.get=function(){return Fi},Object.defineProperties(Di,Mi);var Ai=function(){this._maxPtDist=new Ri,this._minPtDist=new Ri,this._euclideanDist=new Pi,this._geom=null;var t=arguments[0];this._geom=t};Ai.prototype.filter=function(t){this._minPtDist.initialize(),Pi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ai.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ai.prototype.interfaces_=function(){return[ft]},Ai.prototype.getClass=function(){return Ai};var Fi=function(){this._maxPtDist=new Ri,this._minPtDist=new Ri,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Fi.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,u=n.y+s*o,l=new C(a,u);this._minPtDist.initialize(),Pi.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Fi.prototype.isDone=function(){return!1},Fi.prototype.isGeometryChanged=function(){return!1},Fi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fi.prototype.interfaces_=function(){return[Ut]},Fi.prototype.getClass=function(){return Fi};var Gi=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},qi={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Gi.prototype.checkMaximumDistance=function(t,e,n){var i=new Di(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg=\"Distance between buffer curve and input is too large (\"+this._maxDistanceFound+\" at \"+Z.toLineString(r[0],r[1])+\")\"}},Gi.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Gi.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Gi.VERBOSE&&Y.out.println(\"Min Dist= \"+this._minDistanceFound+\"  err= \"+(1-this._minDistanceFound/this._bufDistance)+\"  Max Dist= \"+this._maxDistanceFound+\"  err= \"+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Gi.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof zt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Gi.prototype.getErrorIndicator=function(){return this._errorIndicator},Gi.prototype.checkMinimumDistance=function(t,e,n){var i=new Ti(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg=\"Distance between buffer curve and input is too small (\"+this._minDistanceFound+\" at \"+Z.toLineString(r[0],r[1])+\" )\"}},Gi.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Gi.prototype.getErrorLocation=function(){return this._errorLocation},Gi.prototype.getPolygonLines=function(t){for(var e=new Nt,n=new Ci(e),i=Ni.getPolygons(t).iterator();i.hasNext();){i.next().apply(n)}return t.getFactory().buildGeometry(e)},Gi.prototype.getErrorMessage=function(){return this._errMsg},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},qi.VERBOSE.get=function(){return!1},qi.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Gi,qi);var Bi=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Vi={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Bi.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Bi.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Bi.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new j(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new j(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg=\"Buffer envelope is incorrect\",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report(\"Envelope\")},Bi.prototype.checkDistance=function(){var t=new Gi(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report(\"Distance\")},Bi.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg=\"Area of positive buffer is smaller than input\",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg=\"Area of negative buffer is larger than input\",this._errorIndicator=this._result),this.report(\"Area\")},Bi.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg=\"Result is not polygonal\",this._errorIndicator=this._result,this.report(\"Polygonal\")},Bi.prototype.getErrorIndicator=function(){return this._errorIndicator},Bi.prototype.getErrorLocation=function(){return this._errorLocation},Bi.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg=\"Result is non-empty\",this._errorIndicator=this._result),void this.report(\"ExpectedEmpty\"))},Bi.prototype.report=function(t){if(!Bi.VERBOSE)return null;Y.out.println(\"Check \"+t+\": \"+(this._isValid?\"passed\":\"FAILED\"))},Bi.prototype.getErrorMessage=function(){return this._errorMsg},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.isValidMsg=function(t,e,n){var i=new Bi(t,e,n);return i.isValid()?null:i.getErrorMessage()},Bi.isValid=function(t,e,n){return!!new Bi(t,e,n).isValid()},Vi.VERBOSE.get=function(){return!1},Vi.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Bi,Vi);var Ui=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Ui.prototype.getCoordinates=function(){return this._pts},Ui.prototype.size=function(){return this._pts.length},Ui.prototype.getCoordinate=function(t){return this._pts[t]},Ui.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ui.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:pn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ui.prototype.setData=function(t){this._data=t},Ui.prototype.getData=function(){return this._data},Ui.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},Ui.prototype.interfaces_=function(){return[hn]},Ui.prototype.getClass=function(){return Ui};var zi=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Nt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};zi.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zi.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zi.prototype.getIntersectionSegments=function(){return this._intSegments},zi.prototype.count=function(){return this._intersectionCount},zi.prototype.getIntersections=function(){return this._intersections},zi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zi.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zi.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly){if(!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null}var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zi.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zi.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zi.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zi.prototype.interfaces_=function(){return[Wn]},zi.prototype.getClass=function(){return zi},zi.createAllIntersectionsFinder=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e},zi.createAnyIntersectionFinder=function(t){return new zi(t)},zi.createIntersectionCounter=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Xi=function(){this._li=new rt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Xi.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Xi.prototype.getIntersections=function(){return this._segInt.getIntersections()},Xi.prototype.isValid=function(){return this.execute(),this._isValid},Xi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Xi.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zi(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new xn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Xi.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new we(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Xi.prototype.getErrorMessage=function(){if(this._isValid)return\"no intersections found\";var t=this._segInt.getIntersectionSegments();return\"found non-noded intersection between \"+Z.toLineString(t[0],t[1])+\" and \"+Z.toLineString(t[2],t[3])},Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi},Xi.computeIntersections=function(t){var e=new Xi(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Yi=function t(){this._nv=null;var e=arguments[0];this._nv=new Xi(t.toSegmentStrings(e))};Yi.prototype.checkValid=function(){this._nv.checkValid()},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.toSegmentStrings=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ui(i.getCoordinates(),i))}return e},Yi.checkValid=function(t){new Yi(t).checkValid()};var ki=function(t){this._mapOp=t};ki.prototype.map=function(t){for(var e=new Nt,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(_e.toGeometryArray(e))},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.map=function(t,e){return new ki(e).map(t)};var ji=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Nt,this._resultLineList=new Nt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};ji.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},ji.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},ji.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},ji.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Lr.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},ji.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},ji.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},ji.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},ji.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Lr.isResultOfOp(i,e)&&e===Lr.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var Hi=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Nt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Hi.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Hi.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&(!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Lr.INTERSECTION))){var i=n.getLabel();Lr.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Hi.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi};var Wi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Wi.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof ee&&!i.isEmpty()||(n=!1);for(var r=new Nt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new Nt;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},Wi.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Wi.prototype.getInputGeometry=function(){return this._inputGeom},Wi.prototype.transformMultiLineString=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformCoordinates=function(t,e){return this.copy(t)},Wi.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformMultiPoint=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformMultiPolygon=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.copy=function(t){return t.copy()},Wi.prototype.transformGeometryCollection=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(_e.toGeometryArray(n)):this._factory.buildGeometry(n)},Wi.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Qt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Kt)return this.transformLineString(t,null);if(t instanceof Xt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof zt)return this.transformGeometryCollection(t,null);throw new m(\"Unknown Geometry subtype: \"+t.getClass().getName())},Wi.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi};var Ki=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new dn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kt&&\"number\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&\"number\"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};Ki.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new C(o)),0===i&&this._isClosed&&t.set(t.size()-1,new C(o)))}},Ki.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Ki.prototype.snapTo=function(t){var e=new St(this._srcPts);this.snapVertices(e,t),this.snapSegments(e,t);return e.toCoordinateArray()},Ki.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new C(r),!1)}},Ki.prototype.findSegmentIndexToSnap=function(t,e){for(var n=v.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Ki.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ji=function(t){this._srcGeom=t||null},Qi={SNAP_PRECISION_FACTOR:{configurable:!0}};Ji.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Zi(e,n).transform(this._srcGeom)},Ji.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Zi(t,n,!0).transform(this._srcGeom),r=i;return e&&T(r,Zt)&&(r=i.buffer(0)),r},Ji.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ji.prototype.extractTargetCoordinates=function(t){for(var e=new f,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Ji.prototype.computeMinimumSegmentLength=function(t){for(var e=v.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Ji(t);i[0]=r.snapTo(e,n);var o=new Ji(e);return i[1]=o.snapTo(i[0],n),i},Ji.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Ji.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===fe.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Ji.computeOverlaySnapTolerance(r),Ji.computeOverlaySnapTolerance(o))}},Ji.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Ji.SNAP_PRECISION_FACTOR},Ji.snapToSelf=function(t,e,n){return new Ji(t).snapToSelf(e,n)},Qi.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ji,Qi);var Zi=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Ki(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wi),$i=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$i.prototype.getCommon=function(){return v.longBitsToDouble(this._commonBits)},$i.prototype.add=function(t){var e=v.doubleToLongBits(t);if(this._isFirst)return this._commonBits=e,this._commonSignExp=$i.signExpBits(this._commonBits),this._isFirst=!1,null;if($i.signExpBits(e)!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=$i.numCommonMostSigMantissaBits(this._commonBits,e),this._commonBits=$i.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},$i.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=v.longBitsToDouble(t),n=\"0000000000000000000000000000000000000000000000000000000000000000\"+v.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+\"  \"+i.substring(1,12)+\"(exp) \"+i.substring(12)+\" [ \"+e+\" ]\"}},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$i.signExpBits=function(t){return t>>52},$i.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$i.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if($i.getBit(t,i)!==$i.getBit(e,i))return n;n++}return 52};var tr=function(){this._commonCoord=null,this._ccFilter=new nr},er={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};tr.prototype.addCommonBits=function(t){var e=new ir(this._commonCoord);t.apply(e),t.geometryChanged()},tr.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new C(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ir(e);return t.apply(n),t.geometryChanged(),t},tr.prototype.getCommonCoordinate=function(){return this._commonCoord},tr.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},er.CommonCoordinateFilter.get=function(){return nr},er.Translater.get=function(){return ir},Object.defineProperties(tr,er);var nr=function(){this._commonBitsX=new $i,this._commonBitsY=new $i};nr.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},nr.prototype.getCommonCoordinate=function(){return new C(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},nr.prototype.interfaces_=function(){return[ft]},nr.prototype.getClass=function(){return nr};var ir=function(){this.trans=null;var t=arguments[0];this.trans=t};ir.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},ir.prototype.isDone=function(){return!1},ir.prototype.isGeometryChanged=function(){return!0},ir.prototype.interfaces_=function(){return[Ut]},ir.prototype.getClass=function(){return ir};var rr=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rr.prototype.selfSnap=function(t){return new Ji(t).snapTo(t,this._snapTolerance)},rr.prototype.removeCommonBits=function(t){this._cbr=new tr,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rr.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rr.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Lr.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rr.prototype.checkValid=function(t){t.isValid()||Y.out.println(\"Snapped geometry is invalid\")},rr.prototype.computeSnapTolerance=function(){this._snapTolerance=Ji.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rr.prototype.snap=function(t){var e=this.removeCommonBits(t);return Ji.snap(e[0],e[1],this._snapTolerance)},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.overlayOp=function(t,e,n){return new rr(t,e).getResultGeometry(n)},rr.union=function(t,e){return rr.overlayOp(t,e,Lr.UNION)},rr.intersection=function(t,e){return rr.overlayOp(t,e,Lr.INTERSECTION)},rr.symDifference=function(t,e){return rr.overlayOp(t,e,Lr.SYMDIFFERENCE)},rr.difference=function(t,e){return rr.overlayOp(t,e,Lr.DIFFERENCE)};var or=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};or.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=Lr.overlayOp(this._geom[0],this._geom[1],t);n=!0}catch(t){if(!(t instanceof $))throw t;i=t}if(!n)try{e=rr.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?i:t}return e},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.overlayOp=function(t,e,n){return new or(t,e).getResultGeometry(n)},or.union=function(t,e){return or.overlayOp(t,e,Lr.UNION)},or.intersection=function(t,e){return or.overlayOp(t,e,Lr.INTERSECTION)},or.symDifference=function(t,e){return or.overlayOp(t,e,Lr.SYMDIFFERENCE)},or.difference=function(t,e){return or.overlayOp(t,e,Lr.DIFFERENCE)};var sr=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sr.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var ar=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},ur={INSERT:{configurable:!0},DELETE:{configurable:!0}};ar.prototype.isDelete=function(){return this._eventType===ar.DELETE},ar.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ar.prototype.getObject=function(){return this._obj},ar.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ar.prototype.getInsertEvent=function(){return this._insertEvent},ar.prototype.isInsert=function(){return this._eventType===ar.INSERT},ar.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ar.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ar.prototype.interfaces_=function(){return[E]},ar.prototype.getClass=function(){return ar},ur.INSERT.get=function(){return 1},ur.DELETE.get=function(){return 2},Object.defineProperties(ar,ur);var lr=function(){};lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var cr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};cr.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(cr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},cr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},cr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cr.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},cr.prototype.hasProperIntersection=function(){return this._hasProper},cr.prototype.hasIntersection=function(){return this._hasIntersection},cr.prototype.isDone=function(){return this._isDone},cr.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},cr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},cr.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var pr=function(t){function e(){t.call(this),this.events=new Nt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof cr&&T(arguments[0],xt)&&T(arguments[1],xt)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if(\"boolean\"==typeof arguments[2]&&T(arguments[0],xt)&&arguments[1]instanceof cr){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new sr(n,r),s=new ar(e,n.getMinX(r),o);this.events.add(s),this.events.add(new ar(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lr),hr=function(){this._min=v.POSITIVE_INFINITY,this._max=v.NEGATIVE_INFINITY},fr={NodeComparator:{configurable:!0}};hr.prototype.getMin=function(){return this._min},hr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hr.prototype.getMax=function(){return this._max},hr.prototype.toString=function(){return Z.toLineString(new C(this._min,0),new C(this._max,0))},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},fr.NodeComparator.get=function(){return gr},Object.defineProperties(hr,fr);var gr=function(){};gr.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},gr.prototype.interfaces_=function(){return[N]},gr.prototype.getClass=function(){return gr};var dr=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),yr=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),_r=function(){this._leaves=new Nt,this._root=null,this._level=0};_r.prototype.buildTree=function(){$e.sort(this._leaves,new hr.NodeComparator);for(var t=this._leaves,e=null,n=new Nt;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},_r.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error(\"Index cannot be added to once it has been queried\");this._leaves.add(new dr(t,e,n))},_r.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},_r.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},_r.prototype.printNode=function(t){Y.out.println(Z.toLineString(new C(t._min,this._level),new C(t._max,this._level)))},_r.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},_r.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new yr(t.get(n),t.get(n+1));e.add(r)}}},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r};var mr=function(){this._items=new Nt};mr.prototype.visitItem=function(t){this._items.add(t)},mr.prototype.getItems=function(){return this._items},mr.prototype.interfaces_=function(){return[Ke]},mr.prototype.getClass=function(){return mr};var vr=function(){this._index=null;var t=arguments[0];if(!T(t,Zt))throw new m(\"Argument must be Polygonal\");this._index=new xr(t)},Ir={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vr.prototype.locate=function(t){var e=new st(t),n=new Er(e);return this._index.query(t.y,t.y,n),e.getLocation()},vr.prototype.interfaces_=function(){return[Vn]},vr.prototype.getClass=function(){return vr},Ir.SegmentVisitor.get=function(){return Er},Ir.IntervalIndexedGeometry.get=function(){return xr},Object.defineProperties(vr,Ir);var Er=function(){this._counter=null;var t=arguments[0];this._counter=t};Er.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Er.prototype.interfaces_=function(){return[Ke]},Er.prototype.getClass=function(){return Er};var xr=function(){this._index=new _r;var t=arguments[0];this.init(t)};xr.prototype.init=function(t){for(var e=Ci.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xr.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new dn(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},xr.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mr;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var Nr=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new he,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Si,2===arguments.length){var e=arguments[0],n=arguments[1],i=gt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;w.NONE;i.getLocation(t,Se.ON)===w.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new cr(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new cr(e,n,!0);i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());return this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Qt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,w.INTERIOR)}else if(arguments[0]instanceof C){var e=arguments[0];this.insertPoint(this._argIndex,e,w.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),w.EXTERIOR,w.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,w.INTERIOR,w.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],w.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],w.BOUNDARY)},e.prototype.addLineString=function(t){var e=Lt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new ni(e,new Pe(this._argIndex,w.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,\"found LineString with single point\"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===w.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=Lt.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;at.isCCW(i)&&(r=n,o=e);var s=new ni(i,new Pe(this._argIndex,w.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],w.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new Pe(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new pr},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Kt)this.addLineString(e);else if(e instanceof Qt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Xt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof zt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return T(this._parentGeom,Zt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vr(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?w.BOUNDARY:w.INTERIOR},e}(Ye),Cr=function(){if(this._li=new rt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Nr(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=gt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Nr(0,e,i),this._arg[1]=new Nr(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Nr(0,r,s),this._arg[1]=new Nr(1,o,s)}};Cr.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Cr.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Sr=function(){};Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.map=function(){if(arguments[0]instanceof ct&&T(arguments[1],Sr.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Nt,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(T(arguments[0],It)&&T(arguments[1],Sr.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Nt,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},Sr.MapOp=function(){};var Lr=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Si,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Hn,this._resultPolyList=new Nt,this._resultLineList=new Nt,this._resultPointList=new Nt,this._graph=new Ye(new kn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Pe(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new Nt;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==w.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Nt,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Nt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Yi.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new ke(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new ji(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Hi(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,Se.RIGHT),r.getLocation(1,Se.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(et.isTrue(!i.isNull(r,Se.LEFT),\"depth of LEFT side has not been initialized\"),n.setLocation(r,Se.LEFT,i.getLocation(r,Se.LEFT)),et.isTrue(!i.isNull(r,Se.RIGHT),\"depth of RIGHT side has not been initialized\"),n.setLocation(r,Se.RIGHT,i.getLocation(r,Se.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cr);Lr.overlayOp=function(t,e,n){return new Lr(t,e).getResultGeometry(n)},Lr.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Lr.createEmptyResult(Lr.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return ki.map(t,{interfaces_:function(){return[Sr.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.INTERSECTION)},Lr.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Lr.createEmptyResult(Lr.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.SYMDIFFERENCE)},Lr.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Lr.INTERSECTION:o=Math.min(i,r);break;case Lr.UNION:o=Math.max(i,r);break;case Lr.DIFFERENCE:o=i;break;case Lr.SYMDIFFERENCE:o=Math.max(i,r)}return o},Lr.createEmptyResult=function(t,e,n,i){var r=null;switch(Lr.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Lr.difference=function(t,e){return t.isEmpty()?Lr.createEmptyResult(Lr.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.DIFFERENCE))},Lr.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Lr.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===w.BOUNDARY&&(r=w.INTERIOR),o===w.BOUNDARY&&(o=w.INTERIOR),s){case Lr.INTERSECTION:return r===w.INTERIOR&&o===w.INTERIOR;case Lr.UNION:return r===w.INTERIOR||o===w.INTERIOR;case Lr.DIFFERENCE:return r===w.INTERIOR&&o!==w.INTERIOR;case Lr.SYMDIFFERENCE:return r===w.INTERIOR&&o!==w.INTERIOR||r!==w.INTERIOR&&o===w.INTERIOR}return!1}},Lr.INTERSECTION=1,Lr.UNION=2,Lr.DIFFERENCE=3,Lr.SYMDIFFERENCE=4;var br=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Si,this._seg=new dn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};br.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++){n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1);if(this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0}return!1},br.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?w.BOUNDARY:this._ptLocator.locate(t,this._g)},br.prototype.extractLinework=function(t){var e=new wr;t.apply(e);var n=e.getLinework(),i=_e.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br};var wr=function(){this._linework=null,this._linework=new Nt};wr.prototype.getLinework=function(){return this._linework},wr.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},wr.prototype.interfaces_=function(){return[Vt]},wr.prototype.getClass=function(){return wr};var Or=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Or.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},Or.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Or.prototype.getPoints=function(t){for(var e=new Nt,n=Ci.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},Or.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var p=new C(l-u,c+a);i.add(p)}if(this._doRight){var h=new C(l+u,c-a);i.add(h)}},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or};var Tr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Nt;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new br(this._geom[0],this._boundaryDistanceTolerance),new br(this._geom[1],this._boundaryDistanceTolerance),new br(this._geom[2],this._boundaryDistanceTolerance)]},Rr={TOLERANCE:{configurable:!0}};Tr.prototype.reportResult=function(t,e,n){Y.out.println(\"Overlay result invalid - A:\"+w.toLocationSymbol(e[0])+\" B:\"+w.toLocationSymbol(e[1])+\" expected:\"+(n?\"i\":\"e\")+\" actual:\"+w.toLocationSymbol(e[2]))},Tr.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},Tr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!Tr.hasLocation(this._location,w.BOUNDARY)||this.isValidResult(i,this._location)}},Tr.prototype.addTestPts=function(t){var e=new Or(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Tr.prototype.isValidResult=function(t,e){var n=Lr.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===w.INTERIOR);return i||this.reportResult(t,e,n),i},Tr.prototype.getInvalidLocation=function(){return this._invalidLocation},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Tr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Ji.computeSizeBasedSnapTolerance(t),Ji.computeSizeBasedSnapTolerance(e))},Tr.isValid=function(t,e,n,i){return new Tr(t,e,i).isValid(n)},Rr.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Tr,Rr);var Pr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Pr.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},Pr.prototype.combine=function(){for(var t=new Nt,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},Pr.combine=function(){if(1===arguments.length){var t=arguments[0];return new Pr(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Pr(Pr.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new Pr(Pr.createList(i,r,o)).combine()}},Pr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Pr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Nt;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new Nt;return s.add(i),s.add(r),s.add(o),s}};var Dr=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Nt)},Mr={STRTREE_NODE_CAPACITY:{configurable:!0}};Dr.prototype.reduceToGeometries=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next(),r=null;T(i,xt)?r=this.unionTree(i):i instanceof ct&&(r=i),e.add(r)}return e},Dr.prototype.extractByEnvelope=function(t,e,n){for(var i=new Nt,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},Dr.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){return Pr.combine(t,e)}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},Dr.prototype.union=function(){if(null===this._inputPolys)throw new Error(\"union() method cannot be called twice\");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Dr.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},Dr.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Dr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Dr.getGeometry(e,n),Dr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},Dr.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},Dr.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Dr.prototype.unionActual=function(t,e){return Dr.restrictToPolygons(t.union(e))},Dr.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Dr.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new Nt,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);i.add(s);return Pr.combine(i)},Dr.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.restrictToPolygons=function(t){if(T(t,Zt))return t;var e=Ni.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(_e.toPolygonArray(e))},Dr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Dr.union=function(t){return new Dr(t).union()},Mr.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Dr,Mr);var Ar=function(){};Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Lr.createEmptyResult(Lr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.UNION)},t.GeoJSONReader=Ne,t.GeoJSONWriter=Ce,t.OverlayOp=Lr,t.UnionOp=Ar,t.BufferOp=di,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","import bearing from '@turf/bearing';\nimport {\n  generatePointsParallelToLinePoints,\n  getPickedEditHandle,\n  getPickedIntermediateEditHandle,\n} from '../utils';\nimport { FeatureCollection } from '../geojson-types';\nimport { ModeProps, StartDraggingEvent, StopDraggingEvent, DraggingEvent } from '../types';\nimport { ModifyMode } from './modify-mode';\nimport { ImmutableFeatureCollection } from './immutable-feature-collection';\n\nexport class ExtrudeMode extends ModifyMode {\n  // this mode is busted =(\n\n  isPointAdded = false;\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>): void {\n    const editHandle = getPickedEditHandle(event.pointerDownPicks);\n\n    if (editHandle) {\n      const { featureIndex } = editHandle.properties;\n      let { positionIndexes } = editHandle.properties;\n\n      const size = this.coordinatesSize(positionIndexes, featureIndex, props.data);\n      positionIndexes = this.isPointAdded\n        ? this.nextPositionIndexes(positionIndexes, size)\n        : positionIndexes;\n      // p1 and p1 are end points for edge\n      const p1 = this.getPointForPositionIndexes(\n        this.prevPositionIndexes(positionIndexes, size),\n        featureIndex,\n        props.data\n      );\n      const p2 = this.getPointForPositionIndexes(positionIndexes, featureIndex, props.data);\n      if (p1 && p2) {\n        // p3 and p4 are end points for moving (extruding) edge\n        const [p3, p4] = generatePointsParallelToLinePoints(p1, p2, event.mapCoords);\n\n        const updatedData = new ImmutableFeatureCollection(props.data)\n          .replacePosition(featureIndex, this.prevPositionIndexes(positionIndexes, size), p4)\n          .replacePosition(featureIndex, positionIndexes, p3)\n          .getObject();\n\n        props.onEdit({\n          updatedData,\n          editType: 'extruding',\n          editContext: {\n            featureIndexes: [featureIndex],\n            positionIndexes: this.nextPositionIndexes(positionIndexes, size),\n            position: p3,\n          },\n        });\n\n        event.cancelPan();\n      }\n    }\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    const selectedFeatureIndexes = props.selectedIndexes;\n\n    const editHandle = getPickedIntermediateEditHandle(event.picks);\n    if (selectedFeatureIndexes.length && editHandle) {\n      const { positionIndexes, featureIndex } = editHandle.properties;\n\n      const size = this.coordinatesSize(positionIndexes, featureIndex, props.data);\n      // p1 and p1 are end points for edge\n      const p1 = this.getPointForPositionIndexes(\n        this.prevPositionIndexes(positionIndexes, size),\n        featureIndex,\n        props.data\n      );\n      const p2 = this.getPointForPositionIndexes(positionIndexes, featureIndex, props.data);\n\n      if (p1 && p2) {\n        let updatedData = new ImmutableFeatureCollection(props.data);\n        if (!this.isOrthogonal(positionIndexes, featureIndex, size, props.data)) {\n          updatedData = updatedData.addPosition(featureIndex, positionIndexes, p2);\n        }\n        if (\n          !this.isOrthogonal(\n            this.prevPositionIndexes(positionIndexes, size),\n            featureIndex,\n            size,\n            props.data\n          )\n        ) {\n          updatedData = updatedData.addPosition(featureIndex, positionIndexes, p1);\n          this.isPointAdded = true;\n        }\n\n        props.onEdit({\n          updatedData: updatedData.getObject(),\n          editType: 'startExtruding',\n          editContext: {\n            featureIndexes: [featureIndex],\n            positionIndexes,\n            position: p1,\n          },\n        });\n      }\n    }\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    const selectedFeatureIndexes = props.selectedIndexes;\n    const editHandle = getPickedEditHandle(event.pointerDownPicks);\n    if (selectedFeatureIndexes.length && editHandle) {\n      const { featureIndex } = editHandle.properties;\n      let { positionIndexes } = editHandle.properties;\n\n      const size = this.coordinatesSize(positionIndexes, featureIndex, props.data);\n      positionIndexes = this.isPointAdded\n        ? this.nextPositionIndexes(positionIndexes, size)\n        : positionIndexes;\n      // p1 and p1 are end points for edge\n      const p1 = this.getPointForPositionIndexes(\n        this.prevPositionIndexes(positionIndexes, size),\n        featureIndex,\n        props.data\n      );\n      const p2 = this.getPointForPositionIndexes(positionIndexes, featureIndex, props.data);\n\n      if (p1 && p2) {\n        // p3 and p4 are end points for new moved (extruded) edge\n        const [p3, p4] = generatePointsParallelToLinePoints(p1, p2, event.mapCoords);\n\n        const updatedData = new ImmutableFeatureCollection(props.data)\n          .replacePosition(featureIndex, this.prevPositionIndexes(positionIndexes, size), p4)\n          .replacePosition(featureIndex, positionIndexes, p3)\n          .getObject();\n\n        props.onEdit({\n          updatedData,\n          editType: 'extruded',\n          editContext: {\n            featureIndexes: [featureIndex],\n            positionIndexes,\n            position: p3,\n          },\n        });\n      }\n    }\n    this.isPointAdded = false;\n  }\n\n  coordinatesSize(\n    positionIndexes: number[] | null | undefined,\n    featureIndex: number,\n    { features }: FeatureCollection\n  ) {\n    let size = 0;\n    if (Array.isArray(positionIndexes)) {\n      const feature = features[featureIndex];\n      const coordinates: any = feature.geometry.coordinates;\n      // for Multi polygons, length will be 3\n      if (positionIndexes.length === 3) {\n        const [a, b] = positionIndexes;\n        if (coordinates.length && coordinates[a].length) {\n          size = coordinates[a][b].length;\n        }\n      } else {\n        const [b] = positionIndexes;\n        if (coordinates.length && coordinates[b].length) {\n          size = coordinates[b].length;\n        }\n      }\n    }\n    return size;\n  }\n\n  getBearing(p1: any, p2: any) {\n    const angle = bearing(p1, p2);\n    if (angle < 0) {\n      return Math.floor(360 + angle);\n    }\n    return Math.floor(angle);\n  }\n\n  isOrthogonal(\n    positionIndexes: number[] | null | undefined,\n    featureIndex: number,\n    size: number,\n    features: FeatureCollection\n  ) {\n    if (!Array.isArray(positionIndexes)) {\n      return false;\n    }\n    if (positionIndexes[positionIndexes.length - 1] === size - 1) {\n      positionIndexes[positionIndexes.length - 1] = 0;\n    }\n    const prevPoint = this.getPointForPositionIndexes(\n      this.prevPositionIndexes(positionIndexes, size),\n      featureIndex,\n      features\n    );\n    const nextPoint = this.getPointForPositionIndexes(\n      this.nextPositionIndexes(positionIndexes, size),\n      featureIndex,\n      features\n    );\n    const currentPoint = this.getPointForPositionIndexes(positionIndexes, featureIndex, features);\n    const prevAngle = this.getBearing(currentPoint, prevPoint);\n    const nextAngle = this.getBearing(currentPoint, nextPoint);\n    return [89, 90, 91, 269, 270, 271].includes(Math.abs(prevAngle - nextAngle));\n  }\n\n  nextPositionIndexes(positionIndexes: number[] | null | undefined, size: number): number[] {\n    if (!Array.isArray(positionIndexes)) {\n      return [];\n    }\n    const next = [...positionIndexes];\n    if (next.length) {\n      next[next.length - 1] = next[next.length - 1] === size - 1 ? 0 : next[next.length - 1] + 1;\n    }\n    return next;\n  }\n\n  prevPositionIndexes(positionIndexes: number[] | null | undefined, size: number): number[] {\n    if (!Array.isArray(positionIndexes)) {\n      return [];\n    }\n    const prev = [...positionIndexes];\n    if (prev.length) {\n      prev[prev.length - 1] = prev[prev.length - 1] === 0 ? size - 2 : prev[prev.length - 1] - 1;\n    }\n    return prev;\n  }\n\n  getPointForPositionIndexes(\n    positionIndexes: number[] | null | undefined,\n    featureIndex: number,\n    { features }: FeatureCollection\n  ) {\n    let p1;\n    if (Array.isArray(positionIndexes)) {\n      const feature = features[featureIndex];\n      const coordinates: any = feature.geometry.coordinates;\n      // for Multi polygons, length will be 3\n      if (positionIndexes.length === 3) {\n        const [a, b, c] = positionIndexes;\n        if (coordinates.length && coordinates[a].length) {\n          p1 = coordinates[a][b][c];\n        }\n      } else {\n        const [b, c] = positionIndexes;\n        if (coordinates.length && coordinates[b].length) {\n          p1 = coordinates[b][c];\n        }\n      }\n    }\n    return p1;\n  }\n}\n","import { ModeProps, PointerMoveEvent, StopDraggingEvent } from '../types';\nimport { Position, FeatureCollection } from '../geojson-types';\nimport { getPickedEditHandle } from '../utils';\nimport { ModifyMode } from './modify-mode';\n\nfunction defaultCalculateElevationChange({\n  pointerDownScreenCoords,\n  screenCoords,\n}: {\n  pointerDownScreenCoords: Position;\n  screenCoords: Position;\n}) {\n  return 10 * (pointerDownScreenCoords[1] - screenCoords[1]);\n}\n\nexport class ElevationMode extends ModifyMode {\n  makeElevatedEvent(\n    event: PointerMoveEvent | StopDraggingEvent,\n    position: Position,\n    props: ModeProps<FeatureCollection>\n  ): Record<string, any> {\n    const {\n      minElevation = 0,\n      maxElevation = 20000,\n      calculateElevationChange = defaultCalculateElevationChange,\n    } = props.modeConfig || {};\n\n    if (!event.pointerDownScreenCoords) {\n      return event;\n    }\n\n    // $FlowFixMe - really, I know it has something at index 2\n    let elevation = position.length === 3 ? position[2] : 0;\n\n    // calculateElevationChange is configurable because (at this time) modes are not aware of the viewport\n    elevation += calculateElevationChange({\n      pointerDownScreenCoords: event.pointerDownScreenCoords,\n      screenCoords: event.screenCoords,\n    });\n    elevation = Math.min(elevation, maxElevation);\n    elevation = Math.max(elevation, minElevation);\n\n    return Object.assign({}, event, {\n      mapCoords: [position[0], position[1], elevation],\n    });\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    const editHandle = getPickedEditHandle(event.pointerDownPicks);\n    const position = editHandle ? editHandle.geometry.coordinates : event.mapCoords;\n    // @ts-ignore\n    super.handlePointerMove(this.makeElevatedEvent(event, position, props), props);\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    const editHandle = getPickedEditHandle(event.picks);\n    const position = editHandle ? editHandle.geometry.coordinates : event.mapCoords;\n    // @ts-ignore\n    super.handleStopDragging(this.makeElevatedEvent(event, position, props), props);\n  }\n\n  getCursor(event: PointerMoveEvent): string | null | undefined {\n    let cursor = super.getCursor(event);\n    if (cursor === 'cell') {\n      cursor = 'ns-resize';\n    }\n    return cursor;\n  }\n\n  static calculateElevationChangeWithViewport(\n    viewport: any,\n    {\n      pointerDownScreenCoords,\n      screenCoords,\n    }: {\n      pointerDownScreenCoords: Position;\n      screenCoords: Position;\n    }\n  ): number {\n    // Source: https://gis.stackexchange.com/a/127949/111804\n    const metersPerPixel =\n      (156543.03392 * Math.cos((viewport.latitude * Math.PI) / 180)) / Math.pow(2, viewport.zoom);\n\n    return (metersPerPixel * (pointerDownScreenCoords[1] - screenCoords[1])) / 2;\n  }\n}\n","import { featureCollection } from '@turf/helpers';\nimport { PointerMoveEvent, ModeProps, StartDraggingEvent } from '../types';\nimport { FeatureCollection } from '../geojson-types';\nimport { TranslateMode } from './translate-mode';\nimport { ScaleMode } from './scale-mode';\nimport { RotateMode } from './rotate-mode';\n\nimport { CompositeMode } from './composite-mode';\n\nexport class TransformMode extends CompositeMode {\n  constructor() {\n    super([new TranslateMode(), new ScaleMode(), new RotateMode()]);\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    let updatedCursor = null;\n    super.handlePointerMove(event, {\n      ...props,\n      onUpdateCursor: (cursor) => {\n        updatedCursor = cursor || updatedCursor;\n      },\n    });\n    props.onUpdateCursor(updatedCursor);\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    let scaleMode = null;\n    let translateMode = null;\n    const filteredModes = [];\n\n    // If the user selects a scaling edit handle that overlaps with part of the selected feature,\n    // it is possible for both scale and translate actions to be triggered. This logic prevents\n    // this simultaneous action trigger from happening by putting a higher priority on scaling\n    // since the user needs to be more precise to hover over a scaling edit handle.\n    this._modes.forEach((mode) => {\n      if (mode instanceof TranslateMode) {\n        translateMode = mode;\n      } else {\n        if (mode instanceof ScaleMode) {\n          scaleMode = mode;\n        }\n        filteredModes.push(mode);\n      }\n    });\n\n    if (scaleMode instanceof ScaleMode && !scaleMode.isEditHandleSelected()) {\n      filteredModes.push(translateMode);\n    }\n\n    filteredModes.filter(Boolean).forEach((mode) => mode.handleStartDragging(event, props));\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>) {\n    let compositeGuides = super.getGuides(props);\n    const rotateMode = (this._modes || []).find((mode) => mode instanceof RotateMode);\n\n    if (rotateMode instanceof RotateMode) {\n      const nonEnvelopeGuides = compositeGuides.features.filter((guide) => {\n        const { editHandleType, mode } = (guide.properties as any) || {};\n        // Both scale and rotate modes have the same enveloping box as a guide - only need one\n        const guidesToFilterOut = [mode];\n        // Do not render scaling edit handles if rotating\n        if (rotateMode.getIsRotating()) {\n          guidesToFilterOut.push(editHandleType);\n        }\n        return !guidesToFilterOut.includes('scale');\n      });\n      // @ts-ignore\n      compositeGuides = featureCollection(nonEnvelopeGuides);\n    }\n    return compositeGuides;\n  }\n}\n","import { ClickEvent, PointerMoveEvent, ModeProps, TentativeFeature } from '../types';\nimport { FeatureCollection } from '../geojson-types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class DrawPointMode extends GeoJsonEditMode {\n  createTentativeFeature(props: ModeProps<FeatureCollection>): TentativeFeature {\n    const { lastPointerMoveEvent } = props;\n    const lastCoords = lastPointerMoveEvent ? [lastPointerMoveEvent.mapCoords] : [];\n\n    return {\n      type: 'Feature',\n      properties: {\n        guideType: 'tentative',\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: lastCoords[0],\n      },\n    };\n  }\n\n  handleClick({ mapCoords }: ClickEvent, props: ModeProps<FeatureCollection>): void {\n    const geometry = {\n      type: 'Point',\n      coordinates: mapCoords,\n    };\n    // @ts-ignore\n    props.onEdit(this.getAddFeatureAction(geometry, props.data));\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n    super.handlePointerMove(event, props);\n  }\n}\n","import { LineString, FeatureCollection } from '../geojson-types';\nimport { ClickEvent, PointerMoveEvent, ModeProps, GuideFeatureCollection } from '../types';\nimport { getPickedEditHandle } from '../utils';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class DrawLineStringMode extends GeoJsonEditMode {\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const { picks } = event;\n    const clickedEditHandle = getPickedEditHandle(picks);\n\n    let positionAdded = false;\n    if (!clickedEditHandle) {\n      // Don't add another point right next to an existing one\n      this.addClickSequence(event);\n      positionAdded = true;\n    }\n    const clickSequence = this.getClickSequence();\n\n    if (\n      clickSequence.length > 1 &&\n      clickedEditHandle &&\n      Array.isArray(clickedEditHandle.properties.positionIndexes) &&\n      clickedEditHandle.properties.positionIndexes[0] === clickSequence.length - 1\n    ) {\n      // They clicked the last point (or double-clicked), so add the LineString\n\n      const lineStringToAdd: LineString = {\n        type: 'LineString',\n        coordinates: [...clickSequence],\n      };\n\n      this.resetClickSequence();\n\n      const editAction = this.getAddFeatureAction(lineStringToAdd, props.data);\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    } else if (positionAdded) {\n      // new tentative point\n      props.onEdit({\n        // data is the same\n        updatedData: props.data,\n        editType: 'addTentativePosition',\n        editContext: {\n          position: event.mapCoords,\n        },\n      });\n    }\n  }\n  handleKeyUp(event: KeyboardEvent, props: ModeProps<FeatureCollection>) {\n    const { key } = event;\n    if (key === 'Enter') {\n      const clickSequence = this.getClickSequence();\n      if (clickSequence.length > 1) {\n        const lineStringToAdd: LineString = {\n          type: 'LineString',\n          coordinates: [...clickSequence],\n        };\n        this.resetClickSequence();\n        const editAction = this.getAddFeatureAction(lineStringToAdd, props.data);\n        if (editAction) {\n          props.onEdit(editAction);\n        }\n      }\n    }\n  }\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const { lastPointerMoveEvent } = props;\n    const clickSequence = this.getClickSequence();\n\n    const lastCoords = lastPointerMoveEvent ? [lastPointerMoveEvent.mapCoords] : [];\n\n    const guides = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    let tentativeFeature;\n    if (clickSequence.length > 0) {\n      tentativeFeature = {\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'LineString',\n          coordinates: [...clickSequence, ...lastCoords],\n        },\n      };\n    }\n\n    if (tentativeFeature) {\n      guides.features.push(tentativeFeature);\n    }\n\n    const editHandles = clickSequence.map((clickedCoord, index) => ({\n      type: 'Feature',\n      properties: {\n        guideType: 'editHandle',\n        editHandleType: 'existing',\n        featureIndex: -1,\n        positionIndexes: [index],\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: clickedCoord,\n      },\n    }));\n\n    guides.features.push(...editHandles);\n    // @ts-ignore\n    return guides;\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n  }\n}\n","import bboxPolygon from '@turf/bbox-polygon';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawRectangleMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    const rectangle = bboxPolygon([coord1[0], coord1[1], coord2[0], coord2[1]]);\n    rectangle.properties = rectangle.properties || {};\n    rectangle.properties.shape = 'Rectangle';\n\n    // @ts-ignore\n    return rectangle;\n  }\n}\n","import bboxPolygon from '@turf/bbox-polygon';\nimport turfDistance from '@turf/distance';\nimport turfAlong from '@turf/along';\nimport { point, lineString as turfLineString } from '@turf/helpers';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawSquareMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    // get the coordinates of the other two rectangle vertices\n    const coord3 = [coord2[0], coord1[1]];\n    const coord4 = [coord1[0], coord2[1]];\n\n    // determine the shortest distance to the origin, which will be the length of each square side\n    const distance1 = turfDistance(point(coord3), point(coord1));\n    const distance2 = turfDistance(point(coord4), point(coord1));\n    const shortestDistance = distance1 <= distance2 ? distance1 : distance2;\n\n    // determine which coordinate pair of the two is closest to the origin\n    const closestPoint = distance1 <= distance2 ? coord3 : coord4;\n\n    // create a linestring which will used to locate the second square vertex\n    const line = turfLineString([closestPoint, coord2]);\n\n    // get the coordinates of the second square vertex\n    const newPoint = turfAlong(line, shortestDistance);\n    const corner = newPoint.geometry.coordinates;\n\n    const square = bboxPolygon([coord1[0], coord1[1], corner[0], corner[1]]);\n    square.properties = square.properties || {};\n    square.properties.shape = 'Square';\n\n    // @ts-ignore\n    return square;\n  }\n}\n","import bboxPolygon from '@turf/bbox-polygon';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawRectangleFromCenterMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    const longitude =\n      coord1[0] > coord2[0]\n        ? coord1[0] + Math.abs(coord1[0] - coord2[0])\n        : coord1[0] - Math.abs(coord1[0] - coord2[0]);\n    const latitude =\n      coord1[1] > coord2[1]\n        ? coord1[1] + Math.abs(coord1[1] - coord2[1])\n        : coord1[1] - Math.abs(coord1[1] - coord2[1]);\n\n    const rectangle = bboxPolygon([longitude, latitude, coord2[0], coord2[1]]);\n    rectangle.properties = rectangle.properties || {};\n    rectangle.properties.shape = 'Rectangle';\n\n    // @ts-ignore\n    return rectangle;\n  }\n}\n","import bboxPolygon from '@turf/bbox-polygon';\nimport turfDistance from '@turf/distance';\nimport turfAlong from '@turf/along';\nimport { point, lineString as turfLineString } from '@turf/helpers';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawSquareFromCenterMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    // get the coordinates of the other two rectangle vertices\n    const coord3 = [coord2[0], coord1[1]];\n    const coord4 = [coord1[0], coord2[1]];\n\n    // determine the shortest distance to the origin, which will be the length of each square side\n    const distance1 = turfDistance(point(coord3), point(coord1));\n    const distance2 = turfDistance(point(coord4), point(coord1));\n    const shortestDistance = distance1 <= distance2 ? distance1 : distance2;\n\n    // determine which coordinate pair of the two is closest to the origin\n    const closestPoint = distance1 <= distance2 ? coord3 : coord4;\n\n    // create a linestring which will used to locate the second square vertex\n    const line = turfLineString([closestPoint, coord2]);\n\n    // get the coordinates of the second square vertex\n    const newPoint = turfAlong(line, shortestDistance);\n    const corner = newPoint.geometry.coordinates;\n\n    // determine the longitude and latitude values of the opposite corner\n    const longitude =\n      coord1[0] > corner[0]\n        ? coord1[0] + Math.abs(coord1[0] - corner[0])\n        : coord1[0] - Math.abs(coord1[0] - corner[0]);\n    const latitude =\n      coord1[1] > corner[1]\n        ? coord1[1] + Math.abs(coord1[1] - corner[1])\n        : coord1[1] - Math.abs(coord1[1] - corner[1]);\n\n    const square = bboxPolygon([longitude, latitude, corner[0], corner[1]]);\n    square.properties = square.properties || {};\n    square.properties.shape = 'Square';\n\n    // @ts-ignore\n    return square;\n  }\n}\n","import circle from '@turf/circle';\nimport distance from '@turf/distance';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { getIntermediatePosition } from './geojson-edit-mode';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawCircleByDiameterMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    // Default turf value for circle is 64\n    const { steps = 64 } = modeConfig || {};\n    const options = { steps };\n\n    if (steps < 4) {\n      console.warn(`Minimum steps to draw a circle is 4 `); // eslint-disable-line no-console,no-undef\n      options.steps = 4;\n    }\n\n    const centerCoordinates = getIntermediatePosition(coord1, coord2);\n    const radius = Math.max(distance(coord1, centerCoordinates), 0.001);\n\n    const geometry = circle(centerCoordinates, radius, options);\n\n    geometry.properties = geometry.properties || {};\n    geometry.properties.shape = 'Circle';\n\n    return geometry;\n  }\n}\n","import circle from '@turf/circle';\nimport distance from '@turf/distance';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawCircleFromCenterMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    // Default turf value for circle is 64\n    const { steps = 64 } = modeConfig || {};\n    const options = { steps };\n\n    if (steps < 4) {\n      console.warn(`Minimum steps to draw a circle is 4 `); // eslint-disable-line no-console,no-undef\n      options.steps = 4;\n    }\n\n    const radius = Math.max(distance(coord1, coord2), 0.001);\n    const geometry = circle(coord1, radius, options);\n\n    geometry.properties = geometry.properties || {};\n    geometry.properties.shape = 'Circle';\n\n    return geometry;\n  }\n}\n","import bboxPolygon from '@turf/bbox-polygon';\nimport distance from '@turf/distance';\nimport ellipse from '@turf/ellipse';\nimport { point } from '@turf/helpers';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { getIntermediatePosition } from './geojson-edit-mode';\nimport { TwoClickPolygonMode } from './two-click-polygon-mode';\n\nexport class DrawEllipseByBoundingBoxMode extends TwoClickPolygonMode {\n  getTwoClickPolygon(coord1: Position, coord2: Position, modeConfig: any): FeatureOf<Polygon> {\n    const minX = Math.min(coord1[0], coord2[0]);\n    const minY = Math.min(coord1[1], coord2[1]);\n    const maxX = Math.max(coord1[0], coord2[0]);\n    const maxY = Math.max(coord1[1], coord2[1]);\n\n    const polygonPoints = bboxPolygon([minX, minY, maxX, maxY]).geometry.coordinates[0];\n    const centerCoordinates = getIntermediatePosition(coord1, coord2);\n\n    const xSemiAxis = Math.max(distance(point(polygonPoints[0]), point(polygonPoints[1])), 0.001);\n    const ySemiAxis = Math.max(distance(point(polygonPoints[0]), point(polygonPoints[3])), 0.001);\n\n    // @ts-ignore\n    return ellipse(centerCoordinates, xSemiAxis, ySemiAxis);\n  }\n}\n","import distance from '@turf/distance';\nimport ellipse from '@turf/ellipse';\nimport bearing from '@turf/bearing';\nimport { point } from '@turf/helpers';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { getIntermediatePosition } from './geojson-edit-mode';\nimport { ThreeClickPolygonMode } from './three-click-polygon-mode';\n\nexport class DrawEllipseUsingThreePointsMode extends ThreeClickPolygonMode {\n  getThreeClickPolygon(\n    coord1: Position,\n    coord2: Position,\n    coord3: Position,\n    modeConfig: any\n  ): FeatureOf<Polygon> | null | undefined {\n    const centerCoordinates = getIntermediatePosition(coord1, coord2);\n    const xSemiAxis = Math.max(distance(centerCoordinates, point(coord3)), 0.001);\n    const ySemiAxis = Math.max(distance(coord1, coord2), 0.001) / 2;\n    const options = { angle: bearing(coord1, coord2) };\n    // @ts-ignore\n    return ellipse(centerCoordinates, xSemiAxis, ySemiAxis, options);\n  }\n}\n","import { generatePointsParallelToLinePoints } from '../utils';\nimport { Position, Polygon, FeatureOf } from '../geojson-types';\nimport { ThreeClickPolygonMode } from './three-click-polygon-mode';\n\nexport class DrawRectangleUsingThreePointsMode extends ThreeClickPolygonMode {\n  getThreeClickPolygon(\n    coord1: Position,\n    coord2: Position,\n    coord3: Position,\n    modeConfig: any\n  ): FeatureOf<Polygon> | null | undefined {\n    const [p3, p4] = generatePointsParallelToLinePoints(coord1, coord2, coord3);\n\n    return {\n      type: 'Feature',\n      properties: {\n        shape: 'Rectangle',\n      },\n      geometry: {\n        type: 'Polygon',\n        coordinates: [\n          [\n            // Draw a polygon containing all the points of the LineString,\n            // then the points orthogonal to the lineString,\n            // then back to the starting position\n            coord1,\n            coord2,\n            p3,\n            p4,\n            coord1,\n          ],\n        ],\n      },\n    };\n  }\n}\n","import destination from '@turf/destination';\nimport bearing from '@turf/bearing';\nimport lineIntersect from '@turf/line-intersect';\nimport turfDistance from '@turf/distance';\nimport { point, lineString as turfLineString } from '@turf/helpers';\nimport {\n  generatePointsParallelToLinePoints,\n  getPickedEditHandle,\n  getEditHandlesForGeometry,\n} from '../utils';\nimport {\n  ClickEvent,\n  PointerMoveEvent,\n  ModeProps,\n  GuideFeatureCollection,\n  TentativeFeature,\n} from '../types';\nimport { Polygon, LineString, Position, FeatureCollection } from '../geojson-types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class Draw90DegreePolygonMode extends GeoJsonEditMode {\n  createTentativeFeature(props: ModeProps<FeatureCollection>): TentativeFeature {\n    const clickSequence = this.getClickSequence();\n\n    const { mapCoords } = props.lastPointerMoveEvent;\n\n    let p3;\n    if (clickSequence.length === 1) {\n      p3 = mapCoords;\n    } else {\n      const p1 = clickSequence[clickSequence.length - 2];\n      const p2 = clickSequence[clickSequence.length - 1];\n      [p3] = generatePointsParallelToLinePoints(p1, p2, mapCoords);\n    }\n\n    let tentativeFeature;\n\n    if (clickSequence.length < 3) {\n      // Draw a LineString connecting all the clicked points with the hovered point\n      tentativeFeature = {\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'LineString',\n          coordinates: [...clickSequence, p3],\n        },\n      };\n    } else {\n      // Draw a Polygon connecting all the clicked points with the hovered point\n      tentativeFeature = {\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'Polygon',\n          coordinates: [[...clickSequence, p3, clickSequence[0]]],\n        },\n      };\n    }\n\n    return tentativeFeature;\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const guides: GuideFeatureCollection = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    const clickSequence = this.getClickSequence();\n\n    if (clickSequence.length === 0 || !props.lastPointerMoveEvent) {\n      return guides;\n    }\n    const tentativeFeature = this.createTentativeFeature(props);\n\n    guides.features.push(tentativeFeature);\n\n    guides.features = guides.features.concat(\n      getEditHandlesForGeometry(tentativeFeature.geometry, -1)\n    );\n\n    // Slice off the handles that are are next to the pointer\n    guides.features = guides.features.slice(0, -1);\n\n    return guides;\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n    super.handlePointerMove(event, props);\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const { picks } = event;\n    const tentativeFeature = this.getTentativeGuide(props);\n    this.addClickSequence(event);\n    const clickSequence = this.getClickSequence();\n\n    if (!tentativeFeature) {\n      // nothing else to do\n      return;\n    }\n\n    if (clickSequence.length === 3 && tentativeFeature.geometry.type === 'LineString') {\n      const lineString: LineString = tentativeFeature.geometry;\n\n      // Tweak the clicked position to be the snapped 90 degree point along the polygon\n      clickSequence[clickSequence.length - 1] =\n        lineString.coordinates[lineString.coordinates.length - 1];\n    } else if (clickSequence.length > 3 && tentativeFeature.geometry.type === 'Polygon') {\n      const polygon: Polygon = tentativeFeature.geometry;\n\n      // Tweak the clicked position to be the snapped 90 degree point along the polygon\n      clickSequence[clickSequence.length - 1] =\n        polygon.coordinates[0][polygon.coordinates[0].length - 2];\n\n      const clickedEditHandle = getPickedEditHandle(picks);\n\n      if (\n        clickedEditHandle &&\n        Array.isArray(clickedEditHandle.properties.positionIndexes) &&\n        (clickedEditHandle.properties.positionIndexes[1] === 0 ||\n          clickedEditHandle.properties.positionIndexes[1] === polygon.coordinates[0].length - 3)\n      ) {\n        // They clicked the first or last point (or double-clicked), so complete the polygon\n        const polygonToAdd: Polygon = {\n          type: 'Polygon',\n          coordinates: this.finalizedCoordinates([...polygon.coordinates[0]]),\n        };\n\n        this.resetClickSequence();\n\n        const editAction = this.getAddFeatureOrBooleanPolygonAction(polygonToAdd, props);\n        if (editAction) {\n          props.onEdit(editAction);\n        }\n      }\n    }\n\n    // Trigger pointer move right away in order for it to update edit handles (to support double-click)\n    const fakePointerMoveEvent: PointerMoveEvent = {\n      screenCoords: [-1, -1],\n      mapCoords: event.mapCoords,\n      picks: [],\n      pointerDownPicks: null,\n      pointerDownScreenCoords: null,\n      pointerDownMapCoords: null,\n      cancelPan: () => {},\n      sourceEvent: null,\n    };\n\n    this.handlePointerMove(fakePointerMoveEvent, props);\n  }\n\n  finalizedCoordinates(coords: Position[]) {\n    // Remove the hovered position\n    let coordinates = [[...coords.slice(0, -2), coords[0]]];\n    let pt = this.getIntermediatePoint([...coords]);\n    if (!pt) {\n      // if intermediate point with 90 degree not available\n      // try remove the last clicked point and get the intermediate point.\n      const tc = [...coords];\n      tc.splice(-3, 1);\n      pt = this.getIntermediatePoint([...tc]);\n      if (pt) {\n        coordinates = [[...coords.slice(0, -3), pt, coords[0]]];\n      }\n    } else {\n      coordinates = [[...coords.slice(0, -2), pt, coords[0]]];\n    }\n    return coordinates;\n  }\n\n  getIntermediatePoint(coordinates: Position[]) {\n    let pt;\n    if (coordinates.length > 4) {\n      const [p1, p2] = [...coordinates];\n      const angle1 = bearing(p1, p2);\n      const p3 = coordinates[coordinates.length - 3];\n      const p4 = coordinates[coordinates.length - 4];\n      const angle2 = bearing(p3, p4);\n\n      const angles = { first: [], second: [] };\n      // calculate 3 right angle points for first and last points in lineString\n      [1, 2, 3].forEach((factor) => {\n        const newAngle1 = angle1 + factor * 90;\n        // convert angles to 0 to -180 for anti-clock and 0 to 180 for clock wise\n        angles.first.push(newAngle1 > 180 ? newAngle1 - 360 : newAngle1);\n        const newAngle2 = angle2 + factor * 90;\n        angles.second.push(newAngle2 > 180 ? newAngle2 - 360 : newAngle2);\n      });\n\n      const distance = turfDistance(point(p1), point(p3));\n      // Draw imaginary right angle lines for both first and last points in lineString\n      // If there is intersection point for any 2 lines, will be the 90 degree point.\n      [0, 1, 2].forEach((indexFirst) => {\n        const line1 = turfLineString([\n          p1,\n          destination(p1, distance, angles.first[indexFirst]).geometry.coordinates,\n        ]);\n        [0, 1, 2].forEach((indexSecond) => {\n          const line2 = turfLineString([\n            p3,\n            destination(p3, distance, angles.second[indexSecond]).geometry.coordinates,\n          ]);\n          const fc = lineIntersect(line1, line2);\n          if (fc && fc.features.length) {\n            // found the intersect point\n            pt = fc.features[0].geometry.coordinates;\n          }\n        });\n      });\n    }\n    return pt;\n  }\n}\n","import throttle from 'lodash.throttle';\nimport {\n  ClickEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  ModeProps,\n} from '../types';\nimport { Polygon, FeatureCollection } from '../geojson-types';\nimport { getPickedEditHandle } from '../utils';\nimport { DrawPolygonMode } from './draw-polygon-mode';\n\ntype DraggingHandler = (event: DraggingEvent, props: ModeProps<FeatureCollection>) => void;\n\nexport class DrawPolygonByDraggingMode extends DrawPolygonMode {\n  handleDraggingThrottled: DraggingHandler | null | undefined = null;\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    // No-op\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    event.cancelPan();\n    if (props.modeConfig && props.modeConfig.throttleMs) {\n      this.handleDraggingThrottled = throttle(this.handleDraggingAux, props.modeConfig.throttleMs);\n    } else {\n      this.handleDraggingThrottled = this.handleDraggingAux;\n    }\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    this.addClickSequence(event);\n    const clickSequence = this.getClickSequence();\n    // @ts-ignore\n    if (this.handleDraggingThrottled && this.handleDraggingThrottled.cancel) {\n      // @ts-ignore\n      this.handleDraggingThrottled.cancel();\n    }\n\n    if (clickSequence.length > 2) {\n      // Complete the polygon.\n      const polygonToAdd: Polygon = {\n        type: 'Polygon',\n        coordinates: [[...clickSequence, clickSequence[0]]],\n      };\n\n      this.resetClickSequence();\n\n      const editAction = this.getAddFeatureOrBooleanPolygonAction(polygonToAdd, props);\n      if (editAction) {\n        props.onEdit(editAction);\n      }\n    }\n  }\n\n  handleDraggingAux(event: DraggingEvent, props: ModeProps<FeatureCollection>) {\n    const { picks } = event;\n    const clickedEditHandle = getPickedEditHandle(picks);\n\n    if (!clickedEditHandle) {\n      // Don't add another point right next to an existing one.\n      this.addClickSequence(event);\n    }\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>) {\n    if (this.handleDraggingThrottled) {\n      this.handleDraggingThrottled(event, props);\n    }\n  }\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class ViewMode extends GeoJsonEditMode {}\n","import turfDistance from '@turf/distance';\nimport turfMidpoint from '@turf/midpoint';\nimport { FeatureCollection } from '../geojson-types';\nimport { ClickEvent, PointerMoveEvent, ModeProps, GuideFeatureCollection, Tooltip } from '../types';\nimport { getPickedEditHandle } from '../utils';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nexport class MeasureDistanceMode extends GeoJsonEditMode {\n  _isMeasuringSessionFinished = false;\n  _currentTooltips = [];\n  _currentDistance = 0;\n\n  _calculateDistanceForTooltip = ({ positionA, positionB, modeConfig }) => {\n    const { turfOptions, measurementCallback } = modeConfig || {};\n    const distance = turfDistance(positionA, positionB, turfOptions);\n\n    if (measurementCallback) {\n      measurementCallback(distance);\n    }\n\n    return distance;\n  };\n\n  _formatTooltip(distance, modeConfig?) {\n    const { formatTooltip, turfOptions } = modeConfig || {};\n    const units = (turfOptions && turfOptions.units) || 'kilometers';\n\n    let text;\n    if (formatTooltip) {\n      text = formatTooltip(distance);\n    } else {\n      // By default, round to 2 decimal places and append units\n      text = `${parseFloat(distance).toFixed(2)} ${units}`;\n    }\n\n    return text;\n  }\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const { modeConfig, data, onEdit } = props;\n    const { centerTooltipsOnLine = false } = modeConfig || {};\n\n    // restart measuring session\n    if (this._isMeasuringSessionFinished) {\n      this._isMeasuringSessionFinished = false;\n      this.resetClickSequence();\n      this._currentTooltips = [];\n      this._currentDistance = 0;\n    }\n\n    const { picks } = event;\n    const clickedEditHandle = getPickedEditHandle(picks);\n\n    let positionAdded = false;\n    if (!clickedEditHandle) {\n      // Don't add another point right next to an existing one\n      this.addClickSequence(event);\n      positionAdded = true;\n    }\n    const clickSequence = this.getClickSequence();\n\n    if (\n      clickSequence.length > 1 &&\n      clickedEditHandle &&\n      Array.isArray(clickedEditHandle.properties.positionIndexes) &&\n      clickedEditHandle.properties.positionIndexes[0] === clickSequence.length - 1\n    ) {\n      // They clicked the last point (or double-clicked), so add the LineString\n      this._isMeasuringSessionFinished = true;\n    } else if (positionAdded) {\n      if (clickSequence.length > 1) {\n        this._currentDistance += this._calculateDistanceForTooltip({\n          positionA: clickSequence[clickSequence.length - 2],\n          positionB: clickSequence[clickSequence.length - 1],\n          modeConfig,\n        });\n\n        const tooltipPosition = centerTooltipsOnLine\n          ? turfMidpoint(\n              clickSequence[clickSequence.length - 2],\n              clickSequence[clickSequence.length - 1]\n            ).geometry.coordinates\n          : event.mapCoords;\n\n        this._currentTooltips.push({\n          position: tooltipPosition,\n          text: this._formatTooltip(this._currentDistance, modeConfig),\n        });\n      }\n\n      // new tentative point\n      onEdit({\n        // data is the same\n        updatedData: data,\n        editType: 'addTentativePosition',\n        editContext: {\n          position: event.mapCoords,\n        },\n      });\n    }\n  }\n\n  handleKeyUp(event: KeyboardEvent, props: ModeProps<FeatureCollection>) {\n    if (this._isMeasuringSessionFinished) return;\n\n    event.stopPropagation();\n    const { key } = event;\n\n    const clickSequenceLength = this.getClickSequence().length;\n\n    switch (key) {\n      case 'Escape':\n        this._isMeasuringSessionFinished = true;\n        if (clickSequenceLength === 1) {\n          this.resetClickSequence();\n          this._currentTooltips = [];\n        }\n        // force update drawings\n        props.onUpdateCursor('cell');\n        break;\n      case 'Enter':\n        this.handleClick(props.lastPointerMoveEvent, props);\n        this._isMeasuringSessionFinished = true;\n        break;\n      default:\n        break;\n    }\n  }\n\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const { lastPointerMoveEvent } = props;\n    const clickSequence = this.getClickSequence();\n\n    const lastCoords =\n      lastPointerMoveEvent && !this._isMeasuringSessionFinished\n        ? [lastPointerMoveEvent.mapCoords]\n        : [];\n\n    const guides = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    if (clickSequence.length > 0) {\n      guides.features.push({\n        type: 'Feature',\n        properties: {\n          guideType: 'tentative',\n        },\n        geometry: {\n          type: 'LineString',\n          coordinates: [...clickSequence, ...lastCoords],\n        },\n      });\n    }\n\n    const editHandles = clickSequence.map((clickedCoord, index) => ({\n      type: 'Feature',\n      properties: {\n        guideType: 'editHandle',\n        editHandleType: 'existing',\n        featureIndex: -1,\n        positionIndexes: [index],\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: clickedCoord,\n      },\n    }));\n\n    guides.features.push(...editHandles);\n    // @ts-ignore\n    return guides;\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    props.onUpdateCursor('cell');\n  }\n\n  getTooltips(props: ModeProps<FeatureCollection>): Tooltip[] {\n    const { lastPointerMoveEvent, modeConfig } = props;\n    const { centerTooltipsOnLine = false } = modeConfig || {};\n    const positions = this.getClickSequence();\n\n    if (positions.length > 0 && lastPointerMoveEvent && !this._isMeasuringSessionFinished) {\n      const distance = this._calculateDistanceForTooltip({\n        positionA: positions[positions.length - 1],\n        positionB: lastPointerMoveEvent.mapCoords,\n        modeConfig: props.modeConfig,\n      });\n\n      const tooltipPosition = centerTooltipsOnLine\n        ? turfMidpoint(positions[positions.length - 1], lastPointerMoveEvent.mapCoords).geometry\n            .coordinates\n        : lastPointerMoveEvent.mapCoords;\n\n      return [\n        ...this._currentTooltips,\n        {\n          position: tooltipPosition,\n          text: this._formatTooltip(this._currentDistance + distance, modeConfig),\n        },\n      ];\n    }\n\n    return this._currentTooltips;\n  }\n}\n","import bearing from '@turf/bearing';\nimport destination from '@turf/destination';\nimport distance from '@turf/distance';\n\n/**\n * Takes two {@link Point|points} and returns a point midway between them.\n * The midpoint is calculated geodesically, meaning the curvature of the earth is taken into account.\n *\n * @name midpoint\n * @param {Coord} point1 first point\n * @param {Coord} point2 second point\n * @returns {Feature<Point>} a point midway between `pt1` and `pt2`\n * @example\n * var point1 = turf.point([144.834823, -37.771257]);\n * var point2 = turf.point([145.14244, -37.830937]);\n *\n * var midpoint = turf.midpoint(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2, midpoint];\n * midpoint.properties['marker-color'] = '#f00';\n */\nfunction midpoint(point1, point2) {\n  var dist = distance(point1, point2);\n  var heading = bearing(point1, point2);\n  var midpoint = destination(point1, dist / 2, heading);\n\n  return midpoint;\n}\n\nexport default midpoint;\n","import turfArea from '@turf/area';\nimport turfCentroid from '@turf/centroid';\nimport { ClickEvent, Tooltip, ModeProps } from '../types';\nimport { FeatureCollection } from '../geojson-types';\nimport { DrawPolygonMode } from './draw-polygon-mode';\n\nconst DEFAULT_TOOLTIPS = [];\n\nexport class MeasureAreaMode extends DrawPolygonMode {\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>) {\n    const propsWithoutEdit = {\n      ...props,\n      // @ts-ignore\n      onEdit: () => {},\n    };\n\n    super.handleClick(event, propsWithoutEdit);\n  }\n\n  getTooltips(props: ModeProps<FeatureCollection>): Tooltip[] {\n    const tentativeGuide = this.getTentativeGuide(props);\n\n    if (tentativeGuide && tentativeGuide.geometry.type === 'Polygon') {\n      const { modeConfig } = props;\n      const { formatTooltip, measurementCallback } = modeConfig || {};\n      const units = 'sq. m';\n\n      const centroid = turfCentroid(tentativeGuide);\n      const area = turfArea(tentativeGuide);\n\n      let text;\n      if (formatTooltip) {\n        text = formatTooltip(area);\n      } else {\n        // By default, round to 2 decimal places and append units\n        // @ts-ignore\n        text = `${parseFloat(area).toFixed(2)} ${units}`;\n      }\n\n      if (measurementCallback) {\n        measurementCallback(area);\n      }\n\n      return [\n        {\n          position: centroid.geometry.coordinates,\n          text,\n        },\n      ];\n    }\n    return DEFAULT_TOOLTIPS;\n  }\n}\n","import { geomReduce } from \"@turf/meta\";\n// Note: change RADIUS => earthRadius\nvar RADIUS = 6378137;\n/**\n * Takes one or more features and returns their area in square meters.\n *\n * @name area\n * @param {GeoJSON} geojson input GeoJSON feature(s)\n * @returns {number} area in square meters\n * @example\n * var polygon = turf.polygon([[[125, -15], [113, -22], [154, -27], [144, -15], [125, -15]]]);\n *\n * var area = turf.area(polygon);\n *\n * //addToMap\n * var addToMap = [polygon]\n * polygon.properties.area = area\n */\nexport default function area(geojson) {\n    return geomReduce(geojson, function (value, geom) {\n        return value + calculateArea(geom);\n    }, 0);\n}\n/**\n * Calculate Area\n *\n * @private\n * @param {Geometry} geom GeoJSON Geometries\n * @returns {number} area\n */\nfunction calculateArea(geom) {\n    var total = 0;\n    var i;\n    switch (geom.type) {\n        case \"Polygon\":\n            return polygonArea(geom.coordinates);\n        case \"MultiPolygon\":\n            for (i = 0; i < geom.coordinates.length; i++) {\n                total += polygonArea(geom.coordinates[i]);\n            }\n            return total;\n        case \"Point\":\n        case \"MultiPoint\":\n        case \"LineString\":\n        case \"MultiLineString\":\n            return 0;\n    }\n    return 0;\n}\nfunction polygonArea(coords) {\n    var total = 0;\n    if (coords && coords.length > 0) {\n        total += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            total -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return total;\n}\n/**\n * @private\n * Calculate the approximate area of the polygon were it projected onto the earth.\n * Note that this area will be positive if ring is oriented clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for Polygons on a Sphere\",\n * JPL Publication 07-03, Jet Propulsion\n * Laboratory, Pasadena, CA, June 2007 https://trs.jpl.nasa.gov/handle/2014/40409\n *\n * @param {Array<Array<number>>} coords Ring Coordinates\n * @returns {number} The approximate signed geodesic area of the polygon in square meters.\n */\nfunction ringArea(coords) {\n    var p1;\n    var p2;\n    var p3;\n    var lowerIndex;\n    var middleIndex;\n    var upperIndex;\n    var i;\n    var total = 0;\n    var coordsLength = coords.length;\n    if (coordsLength > 2) {\n        for (i = 0; i < coordsLength; i++) {\n            if (i === coordsLength - 2) {\n                // i = N-2\n                lowerIndex = coordsLength - 2;\n                middleIndex = coordsLength - 1;\n                upperIndex = 0;\n            }\n            else if (i === coordsLength - 1) {\n                // i = N-1\n                lowerIndex = coordsLength - 1;\n                middleIndex = 0;\n                upperIndex = 1;\n            }\n            else {\n                // i = 0 to N-3\n                lowerIndex = i;\n                middleIndex = i + 1;\n                upperIndex = i + 2;\n            }\n            p1 = coords[lowerIndex];\n            p2 = coords[middleIndex];\n            p3 = coords[upperIndex];\n            total += (rad(p3[0]) - rad(p1[0])) * Math.sin(rad(p2[1]));\n        }\n        total = (total * RADIUS * RADIUS) / 2;\n    }\n    return total;\n}\nfunction rad(num) {\n    return (num * Math.PI) / 180;\n}\n","import turfBearing from '@turf/bearing';\n// @ts-ignore\nimport turfCenter from '@turf/center';\n// @ts-ignore\nimport memoize from '../memoize';\n\nimport { ClickEvent, PointerMoveEvent, Tooltip, ModeProps, GuideFeatureCollection } from '../types';\nimport { FeatureCollection } from '../geojson-types';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\nconst DEFAULT_TOOLTIPS = [];\n\nexport class MeasureAngleMode extends GeoJsonEditMode {\n  _getTooltips = memoize(({ modeConfig, vertex, point1, point2 }) => {\n    let tooltips = DEFAULT_TOOLTIPS;\n\n    if (vertex && point1 && point2) {\n      const { formatTooltip, measurementCallback } = modeConfig || {};\n      const units = 'deg';\n\n      const angle1 = turfBearing(vertex, point1);\n      const angle2 = turfBearing(vertex, point2);\n      let angle = Math.abs(angle1 - angle2);\n      if (angle > 180) {\n        angle = 360 - angle;\n      }\n\n      let text;\n      if (formatTooltip) {\n        text = formatTooltip(angle);\n      } else {\n        // By default, round to 2 decimal places and append units\n        // @ts-ignore\n        text = `${parseFloat(angle).toFixed(2)} ${units}`;\n      }\n\n      if (measurementCallback) {\n        measurementCallback(angle);\n      }\n\n      const position = turfCenter({\n        type: 'FeatureCollection',\n        features: [point1, point2].map((p) => ({\n          type: 'Feature',\n          geometry: {\n            type: 'Point',\n            coordinates: p,\n          },\n        })),\n      }).geometry.coordinates;\n\n      tooltips = [\n        {\n          position,\n          text,\n        },\n      ];\n    }\n\n    return tooltips;\n  });\n\n  handleClick(event: ClickEvent, props: ModeProps<FeatureCollection>): void {\n    if (this.getClickSequence().length >= 3) {\n      this.resetClickSequence();\n    }\n\n    this.addClickSequence(event);\n  }\n\n  // Called when the pointer moved, regardless of whether the pointer is down, up, and whether something was picked\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>): void {\n    props.onUpdateCursor('cell');\n  }\n\n  getPoints(props: ModeProps<FeatureCollection>) {\n    const clickSequence = this.getClickSequence();\n\n    const points = [...clickSequence];\n\n    if (clickSequence.length < 3 && props.lastPointerMoveEvent) {\n      points.push(props.lastPointerMoveEvent.mapCoords);\n    }\n\n    return points;\n  }\n\n  // Return features that can be used as a guide for editing the data\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const guides: GuideFeatureCollection = { type: 'FeatureCollection', features: [] };\n    const { features } = guides;\n\n    const points = this.getPoints(props);\n\n    if (points.length > 2) {\n      features.push({\n        type: 'Feature',\n        properties: { guideType: 'tentative' },\n        geometry: {\n          type: 'LineString',\n          coordinates: [points[1], points[0], points[2]],\n        },\n      });\n    } else if (points.length > 1) {\n      features.push({\n        type: 'Feature',\n        properties: { guideType: 'tentative' },\n        geometry: {\n          type: 'LineString',\n          coordinates: [points[1], points[0]],\n        },\n      });\n    }\n\n    return guides;\n  }\n\n  getTooltips(props: ModeProps<FeatureCollection>): Tooltip[] {\n    const points = this.getPoints(props);\n\n    return this._getTooltips({\n      modeConfig: props.modeConfig,\n      vertex: points[0],\n      point1: points[1],\n      point2: points[2],\n    });\n  }\n}\n","import { Position, Feature, FeatureCollection } from '../geojson-types';\nimport {\n  PointerMoveEvent,\n  StartDraggingEvent,\n  StopDraggingEvent,\n  DraggingEvent,\n  ModeProps,\n  Pick,\n  GuideFeatureCollection,\n  EditHandleFeature,\n} from '../types';\nimport {\n  getPickedSnapSourceEditHandle,\n  getPickedEditHandles,\n  getEditHandlesForGeometry,\n} from '../utils';\nimport { GeoJsonEditMode } from './geojson-edit-mode';\n\ntype MovementTypeEvent = PointerMoveEvent | StartDraggingEvent | StopDraggingEvent | DraggingEvent;\n\nexport class SnappableMode extends GeoJsonEditMode {\n  _handler: GeoJsonEditMode;\n\n  constructor(handler: GeoJsonEditMode) {\n    super();\n    this._handler = handler;\n  }\n\n  _getSnappedMouseEvent<T extends MovementTypeEvent>(\n    event: T,\n    snapSource: EditHandleFeature,\n    snapTarget: EditHandleFeature\n  ): T {\n    return Object.assign(event, {\n      mapCoords: snapTarget.geometry.coordinates,\n      pointerDownMapCoords: snapSource && snapSource.geometry.coordinates,\n    });\n  }\n\n  _getPickedSnapTarget(picks: Pick[]): EditHandleFeature | null | undefined {\n    return getPickedEditHandles(picks).find(\n      (handle) => handle.properties.editHandleType === 'snap-target'\n    );\n  }\n\n  _getPickedSnapSource(\n    pointerDownPicks: Pick[] | null | undefined\n  ): EditHandleFeature | null | undefined {\n    return getPickedSnapSourceEditHandle(pointerDownPicks);\n  }\n\n  _getUpdatedSnapSourceHandle(\n    snapSourceHandle: EditHandleFeature,\n    data: FeatureCollection\n  ): EditHandleFeature {\n    const { featureIndex, positionIndexes } = snapSourceHandle.properties;\n    if (!Array.isArray(positionIndexes)) {\n      return snapSourceHandle;\n    }\n    const snapSourceFeature = data.features[featureIndex];\n\n    // $FlowFixMe\n    const snapSourceCoordinates: Position = positionIndexes.reduce(\n      (a: any[], b: number) => a[b],\n      snapSourceFeature.geometry.coordinates\n    );\n\n    return {\n      ...snapSourceHandle,\n      geometry: {\n        type: 'Point',\n        coordinates: snapSourceCoordinates,\n      },\n    };\n  }\n\n  // If additionalSnapTargets is present in modeConfig and is populated, this\n  // method will return those features along with the features\n  // that live in the current layer. Otherwise, this method will simply return the\n  // features from the current layer\n  _getSnapTargets(props: ModeProps<FeatureCollection>): Feature[] {\n    let { additionalSnapTargets } = props.modeConfig || {};\n    additionalSnapTargets = additionalSnapTargets || [];\n\n    const features = [...props.data.features, ...additionalSnapTargets];\n    return features;\n  }\n\n  _getSnapTargetHandles(props: ModeProps<FeatureCollection>): EditHandleFeature[] {\n    const handles = [];\n    const features = this._getSnapTargets(props);\n\n    for (let i = 0; i < features.length; i++) {\n      // Filter out the currently selected feature(s)\n      const isCurrentIndexFeatureNotSelected = !props.selectedIndexes.includes(i);\n\n      if (isCurrentIndexFeatureNotSelected) {\n        const { geometry } = features[i];\n        handles.push(...getEditHandlesForGeometry(geometry, i, 'snap-target'));\n      }\n    }\n    return handles;\n  }\n\n  // If no snap handle has been picked, only display the edit handles of the\n  // selected feature. If a snap handle has been picked, display said snap handle\n  // along with all snappable points on all non-selected features.\n  getGuides(props: ModeProps<FeatureCollection>): GuideFeatureCollection {\n    const { modeConfig, lastPointerMoveEvent } = props;\n    const { enableSnapping } = modeConfig || {};\n\n    const guides: GuideFeatureCollection = {\n      type: 'FeatureCollection',\n      features: [...this._handler.getGuides(props).features],\n    };\n\n    if (!enableSnapping) {\n      return guides;\n    }\n\n    const snapSourceHandle: EditHandleFeature | null | undefined =\n      lastPointerMoveEvent && this._getPickedSnapSource(lastPointerMoveEvent.pointerDownPicks);\n\n    // They started dragging a handle\n    // So render the picked handle (in its updated location) and all possible snap targets\n    if (snapSourceHandle) {\n      guides.features.push(\n        ...this._getSnapTargetHandles(props),\n        this._getUpdatedSnapSourceHandle(snapSourceHandle, props.data)\n      );\n\n      return guides;\n    }\n\n    // Render the possible snap source handles\n    const { features } = props.data;\n    for (const index of props.selectedIndexes) {\n      if (index < features.length) {\n        const { geometry } = features[index];\n        guides.features.push(...getEditHandlesForGeometry(geometry, index, 'snap-source'));\n      }\n    }\n\n    return guides;\n  }\n\n  _getSnapAwareEvent<T extends MovementTypeEvent>(\n    event: T,\n    props: ModeProps<FeatureCollection>\n  ): T {\n    const snapSource = this._getPickedSnapSource(props.lastPointerMoveEvent.pointerDownPicks);\n    const snapTarget = this._getPickedSnapTarget(event.picks);\n\n    return snapSource && snapTarget\n      ? this._getSnappedMouseEvent(event, snapSource, snapTarget)\n      : event;\n  }\n\n  handleStartDragging(event: StartDraggingEvent, props: ModeProps<FeatureCollection>) {\n    this._handler.handleStartDragging(event, props);\n  }\n\n  handleStopDragging(event: StopDraggingEvent, props: ModeProps<FeatureCollection>) {\n    this._handler.handleStopDragging(this._getSnapAwareEvent(event, props), props);\n  }\n\n  handleDragging(event: DraggingEvent, props: ModeProps<FeatureCollection>) {\n    this._handler.handleDragging(this._getSnapAwareEvent(event, props), props);\n  }\n\n  handlePointerMove(event: PointerMoveEvent, props: ModeProps<FeatureCollection>) {\n    this._handler.handlePointerMove(this._getSnapAwareEvent(event, props), props);\n  }\n}\n","// Describes the arrow style of polylines\nexport const ArrowStyles = {\n  NONE: 0,\n  FORWARD: 1,\n  BACKWARD: 2,\n  BOTH: 3,\n};\n\nexport const DEFAULT_ARROWS = 1;\nexport const MAX_ARROWS = 3;\n","import { PathLayer, PathLayerProps } from '@deck.gl/layers';\n\nimport { insertBefore } from '../utils';\n\ninterface EditablePathLayerProps extends PathLayerProps<any> {\n  pickingLineWidthExtraPixels?: number;\n}\n\nconst defaultProps = {\n  ...PathLayer.defaultProps,\n  pickingLineWidthExtraPixels: { type: 'number', min: 0, value: Number.MAX_SAFE_INTEGER },\n};\n\nexport default class EditablePathLayer extends PathLayer<any, EditablePathLayerProps> {\n  getShaders() {\n    const shaders = super.getShaders();\n\n    shaders.vs = insertBefore(\n      shaders.vs,\n      'vec3 width;',\n      `\n       if(picking_uActive){\n        widthPixels.xy += pickingLineWidthExtraPixels;\n       }\n      `\n    );\n\n    return {\n      ...shaders,\n      inject: {\n        ...(shaders.inject || {}),\n        'vs:#decl': (shaders.inject?.['vs:#decl'] || '').concat(\n          `uniform float pickingLineWidthExtraPixels;`\n        ),\n      },\n    };\n  }\n\n  draw(props) {\n    super.draw({\n      ...props,\n      uniforms: {\n        ...props.uniforms,\n        pickingLineWidthExtraPixels: this.props.pickingLineWidthExtraPixels,\n      },\n    });\n  }\n}\n\nEditablePathLayer.defaultProps = defaultProps;\nEditablePathLayer.layerName = 'EditablePathLayer';\n","/* eslint-env browser */\n\nimport { H3ClusterLayer } from '@deck.gl/geo-layers';\nimport { ViewMode } from '@nebula.gl/edit-modes';\nimport { polyfill, geoToH3 } from 'h3-js';\nimport { PROJECTED_PIXEL_SIZE_MULTIPLIER } from '../constants';\nimport EditableGeoJsonLayer from './editable-geojson-layer';\nimport EditableLayer, { EditableLayerProps } from './editable-layer';\n\nconst DEFAULT_EDIT_MODE = ViewMode;\nconst DEFAULT_H3_RESOLUTION = 9;\nconst EMPTY_FEATURE_COLLECTION = {\n  type: 'FeatureCollection',\n  features: [],\n};\n\nexport interface EditableH3ClusterLayerProps<D> extends EditableLayerProps<D> {\n  resolution?: number;\n  mode?: any;\n  modeConfig?: any;\n  selectedIndexes?: number[];\n  getEditedCluster?: (updatedHexagons: any[], existingCluster: any) => any;\n  getHexagons?: (d) => number[];\n  onEdit?: (updatedData?, editType?: string, featureIndexes?: number[], editContext?) => void;\n  filled?: boolean;\n  stroked?: boolean;\n  lineWidthScale?: number;\n  lineWidthMinPixels?: number;\n  lineWidthMaxPixels?: number;\n  lineWidthUnits?: string;\n}\n\nconst defaultProps: EditableH3ClusterLayerProps<any> = {\n  mode: DEFAULT_EDIT_MODE,\n\n  ...EditableGeoJsonLayer.defaultProps,\n\n  // h3 layer\n  data: [],\n  selectedIndexes: [],\n  filled: false,\n  stroked: true,\n  lineWidthScale: PROJECTED_PIXEL_SIZE_MULTIPLIER,\n  lineWidthMinPixels: 1,\n  lineWidthMaxPixels: Number.MAX_SAFE_INTEGER,\n  lineWidthUnits: 'pixels',\n  getHexagons: (d) => d.hexIds,\n  getEditedCluster: (updatedHexagons, existingCluster) => {\n    if (existingCluster) {\n      return {\n        ...existingCluster,\n        hexIds: updatedHexagons,\n      };\n    }\n    return {\n      hexIds: updatedHexagons,\n    };\n  },\n  resolution: DEFAULT_H3_RESOLUTION,\n};\n\nexport default class EditableH3ClusterLayer extends EditableLayer<\n  any,\n  EditableH3ClusterLayerProps<any>\n> {\n  static layerName = 'EditableH3ClusterLayer';\n  static defaultProps = defaultProps;\n\n  initializeState() {\n    super.initializeState();\n\n    this.setState({\n      tentativeHexagonIDs: [],\n    });\n  }\n\n  // convert array of (lng, lat) coords to cluster of hexes\n  getDerivedHexagonIDs(coords) {\n    return polyfill(coords, this.props.resolution, true);\n  }\n\n  // convert pair of (lng, lat) coords into single hex\n  getDerivedHexagonID(coords) {\n    return geoToH3(coords[1], coords[0], this.props.resolution);\n  }\n\n  renderLayers() {\n    const layers: any = [\n      new EditableGeoJsonLayer(\n        this.getSubLayerProps({\n          id: 'editable-geojson',\n\n          mode: this.props.mode,\n          data: EMPTY_FEATURE_COLLECTION,\n          selectedFeatureIndexes: [],\n\n          onEdit: (editAction) => {\n            const { editType, editContext } = editAction;\n\n            switch (editType) {\n              case 'updateTentativeFeature':\n                // tentative feature updates, updated on every pointer move\n                if (editContext.feature.geometry.type === 'Polygon') {\n                  const coords = editContext.feature.geometry.coordinates;\n                  const hexIDs = this.getDerivedHexagonIDs(coords);\n\n                  this.setState({ tentativeHexagonIDs: hexIDs });\n                } else if (editContext.feature.geometry.type === 'Point') {\n                  const coords = editContext.feature.geometry.coordinates;\n                  const hexID = this.getDerivedHexagonID(coords);\n\n                  this.setState({ tentativeHexagonIDs: [hexID] });\n                }\n                break;\n              case 'addFeature':\n                const updatedData = [...this.props.data];\n                const { modeConfig } = this.props;\n\n                if (!modeConfig || !modeConfig.booleanOperation) {\n                  // add new h3 cluster\n                  updatedData.push(\n                    this.props.getEditedCluster(this.state.tentativeHexagonIDs, null)\n                  );\n                } else if (this.props.selectedIndexes.length !== 1) {\n                  // eslint-disable-next-line no-console,no-undef\n                  console.warn('booleanOperation only supported for single cluster selection');\n                } else {\n                  // they're affecting a selected cluster\n                  let finalHexagonIDs;\n                  const committedHexagonIDs = new Set(this.getSelectedHexIDs());\n                  const tentativeHexagonIDs = new Set(this.state.tentativeHexagonIDs);\n\n                  switch (modeConfig.booleanOperation) {\n                    case 'union':\n                    default:\n                      finalHexagonIDs = [\n                        ...new Set([...committedHexagonIDs, ...tentativeHexagonIDs]),\n                      ];\n                      break;\n                    case 'intersection':\n                      finalHexagonIDs = [...committedHexagonIDs].filter((hexID: string) =>\n                        tentativeHexagonIDs.has(hexID)\n                      );\n                      break;\n                    case 'difference':\n                      finalHexagonIDs = [...committedHexagonIDs].filter(\n                        (hexID: string) => !tentativeHexagonIDs.has(hexID)\n                      );\n                      break;\n                  }\n\n                  const selectedIndex = this.props.selectedIndexes[0];\n                  const existingCluster = this.props.data[selectedIndex];\n                  updatedData[selectedIndex] = this.props.getEditedCluster(\n                    finalHexagonIDs,\n                    existingCluster\n                  );\n                }\n\n                this.setState({\n                  tentativeHexagonIDs: [],\n                });\n\n                this.props.onEdit({ updatedData });\n\n                break;\n              default:\n                break;\n            }\n          },\n        })\n      ),\n\n      new H3ClusterLayer(\n        this.getSubLayerProps({\n          id: 'hexagons',\n          data: this.props.data,\n          getHexagons: this.props.getHexagons,\n        })\n      ),\n      new H3ClusterLayer(\n        this.getSubLayerProps({\n          id: 'tentative-hexagons',\n          data: [\n            {\n              hexIds: this.state.tentativeHexagonIDs,\n            },\n          ],\n          getHexagons: (d) => d.hexIds,\n        })\n      ),\n    ];\n    return layers;\n  }\n\n  // because data is an array of hexagon data, we take the cumulative of all selected indexes,\n  // using props.getHexagons to support multiple data types\n  getSelectedHexIDs() {\n    let cumulativeHexIDs = [];\n    this.props.selectedIndexes.forEach((index) => {\n      const selectedCluster = this.props.data[index];\n      const hexIDs = this.props.getHexagons(selectedCluster);\n      cumulativeHexIDs = cumulativeHexIDs.concat(hexIDs);\n    });\n    return cumulativeHexIDs;\n  }\n\n  getCursor({ isDragging }: { isDragging: boolean }) {\n    let { cursor } = this.state || {};\n    if (!cursor) {\n      // default cursor\n      cursor = isDragging ? 'grabbing' : 'grab';\n    }\n    return cursor;\n  }\n}\n","import { KHR_DF_BLOCKSIZE, KHR_DF_VENDORID_KHRONOS, KHR_DF_VERSION, KTX2DataFormatFlags, KTX2DataFormatModel, KTX2DataFormatPrimaries, KTX2DataFormatType, KTX2SupercompressionScheme, VK_FORMAT_UNDEFINED } from './constants';\n\n/**\n * Represents an unpacked KTX 2.0 texture container. Data for individual mip levels are stored in\n * the `.levels` array, typically compressed in Basis Universal formats. Additional properties\n * provide metadata required to process, transcode, and upload these textures.\n */\nexport class KTX2Container {\n\t/**\n\t * Specifies the image format using Vulkan VkFormat enum values. When using Basis Universal\n\t * texture formats, `vkFormat` must be VK_FORMAT_UNDEFINED.\n\t */\n\tpublic vkFormat = VK_FORMAT_UNDEFINED;\n\n\t/**\n\t * Size of the data type in bytes used to upload the data to a graphics API. When `vkFormat` is\n\t * VK_FORMAT_UNDEFINED, `typeSize` must be 1.\n\t */\n\tpublic typeSize: number = 1;\n\n\t/** Width of the texture image for level 0, in pixels. */\n\tpublic pixelWidth: number = 0;\n\n\t/** Height of the texture image for level 0, in pixels. */\n\tpublic pixelHeight: number = 0;\n\n\t/** Depth of the texture image for level 0, in pixels (3D textures only). */\n\tpublic pixelDepth: number = 0;\n\n\t/** Number of array elements (array textures only). */\n\tpublic layerCount: number = 0;\n\n\t/**\n\t * Number of cubemap faces. For cubemaps and cubemap arrays, `faceCount` must be 6. For all\n\t * other textures, `faceCount` must be 1. Cubemap faces are stored in +X, -X, +Y, -Y, +Z, -Z\n\t * order.\n\t */\n\tpublic faceCount: number = 1;\n\n\t/** Indicates which supercompression scheme has been applied to mip level images, if any. */\n\tpublic supercompressionScheme = KTX2SupercompressionScheme.NONE;\n\n\t/** Mip levels, ordered largest (original) to smallest (~1px). */\n\tpublic levels: KTX2Level[] = [];\n\n\t/** Data Format Descriptor. */\n\tpublic dataFormatDescriptor: KTX2DataFormatDescriptorBasicFormat[] = [{\n\t\tvendorId: KHR_DF_VENDORID_KHRONOS,\n\t\tdescriptorType: KTX2DataFormatType.BASICFORMAT,\n\t\tversionNumber: KHR_DF_VERSION,\n\t\tdescriptorBlockSize: KHR_DF_BLOCKSIZE,\n\t\tcolorModel: KTX2DataFormatModel.UNSPECIFIED,\n\t\tcolorPrimaries: KTX2DataFormatPrimaries.SRGB,\n\t\ttransferFunction: KTX2DataFormatPrimaries.SRGB,\n\t\tflags: KTX2DataFormatFlags.ALPHA_STRAIGHT,\n\t\ttexelBlockDimension: {x: 4, y: 4, z: 1, w: 1},\n\t\tbytesPlane: [],\n\t\tsamples: [],\n\t}];\n\n\t/** Key/Value Data. */\n\tpublic keyValue: {[key: string]: string | Uint8Array} = {};\n\n\t/** Supercompression Global Data. */\n\tpublic globalData: KTX2GlobalDataBasisLZ | null = null;\n}\n\n\n///////////////////////////////////////////////////\n// Mip Levels.\n///////////////////////////////////////////////////\n\nexport interface KTX2Level {\n\t/** Compressed data of the mip level. */\n\tlevelData: Uint8Array;\n\n\t/**\n\t * Size of the mip level after reflation from supercompression, if applicable. When\n\t * `supercompressionType` is BASISLZ, `uncompressedByteLength` must be 0. When\n\t * `supercompressionType` is `NONE`, `uncompressedByteLength` must match the `levelData` byte\n\t * length.\n\t *\n\t * _**NOTICE:** this implies that for formats such as UASTC, `uncompressedByteLength` may\n\t * indicate size after ZSTD reflation (and of transcoded ASTC data), but does _not_ indicate\n\t * size of decoded RGBA32 pixels._\n\t */\n\tuncompressedByteLength: number;\n};\n\n\n///////////////////////////////////////////////////\n// Data Format Descriptor (DFD).\n///////////////////////////////////////////////////\n\nexport interface KTX2DataFormatDescriptorBasicFormat {\n\tvendorId: number;\n\tdescriptorType: number;\n\tversionNumber: number;\n\tdescriptorBlockSize: number;\n\tcolorModel: number;\n\tcolorPrimaries: number;\n\ttransferFunction: number;\n\tflags: number;\n\ttexelBlockDimension: KTX2BasicFormatTexelBlockDimensions;\n\tbytesPlane: number[];\n\tsamples: KTX2BasicFormatSample[],\n};\n\nexport interface KTX2BasicFormatTexelBlockDimensions {\n\tx: number;\n\ty: number;\n\tz: number;\n\tw: number;\n};\n\nexport interface KTX2BasicFormatSample {\n\tbitOffset: number;\n\tbitLength: number;\n\tchannelID: number;\n\tsamplePosition: number[];\n\tsampleLower: number;\n\tsampleUpper: number;\n};\n\n\n///////////////////////////////////////////////////\n// Supercompression Global Data.\n///////////////////////////////////////////////////\n\nexport interface KTX2GlobalDataBasisLZ {\n\tendpointCount: number;\n\tselectorCount: number;\n\timageDescs: KTX2GlobalDataBasisLZImageDesc[];\n\tendpointsData: Uint8Array;\n\tselectorsData: Uint8Array;\n\ttablesData: Uint8Array;\n\textendedData: Uint8Array;\n};\n\ninterface KTX2GlobalDataBasisLZImageDesc {\n\timageFlags: number;\n\trgbSliceByteOffset: number;\n\trgbSliceByteLength: number;\n\talphaSliceByteOffset: number;\n\talphaSliceByteLength: number;\n};\n","export class BufferReader {\n\tprivate _dataView: DataView;\n\tprivate _littleEndian: boolean;\n\tpublic _offset: number;\n\n\tconstructor(data: Uint8Array, byteOffset: number, byteLength: number, littleEndian: boolean) {\n\t\tthis._dataView = new DataView(data.buffer, data.byteOffset + byteOffset, byteLength);\n\t\tthis._littleEndian = littleEndian;\n\t\tthis._offset = 0;\n\t}\n\n\t_nextUint8() {\n\t\tconst value = this._dataView.getUint8(this._offset);\n\t\tthis._offset += 1;\n\t\treturn value;\n\t}\n\n\t_nextUint16() {\n\t\tconst value = this._dataView.getUint16(this._offset, this._littleEndian);\n\t\tthis._offset += 2;\n\t\treturn value;\n\t}\n\n\t_nextUint32() {\n\t\tconst value = this._dataView.getUint32(this._offset, this._littleEndian);\n\t\tthis._offset += 4;\n\t\treturn value;\n\t}\n\n\t_nextUint64() {\n\t\tconst left = this._dataView.getUint32(this._offset, this._littleEndian);\n\t\tconst right = this._dataView.getUint32(this._offset + 4, this._littleEndian);\n\t\t// TODO(cleanup): Just test this...\n\t\t// const value = this._littleEndian ? left + (2 ** 32 * right) : (2 ** 32 * left) + right;\n\t\tconst value = left + (2 ** 32 * right);\n\t\tthis._offset += 8;\n\t\treturn value;\n\t}\n\n\t_skip(bytes: number) {\n\t\tthis._offset += bytes;\n\t\treturn this;\n\t}\n\n\t_scan(maxByteLength: number, term: number = 0x00): Uint8Array {\n\t\tconst byteOffset = this._offset;\n\t\tlet byteLength = 0;\n\t\twhile (this._dataView.getUint8(this._offset) !== term && byteLength < maxByteLength) {\n\t\t\tbyteLength++;\n\t\t\tthis._offset++;\n\t\t}\n\n\t\tif (byteLength < maxByteLength) this._offset++;\n\n\t\treturn new Uint8Array(\n\t\t\tthis._dataView.buffer,\n\t\t\tthis._dataView.byteOffset + byteOffset,\n\t\t\tbyteLength\n\t\t);\n\t}\n}\n","\n/** Encodes text to an ArrayBuffer. */\nexport function encodeText(text: string): Uint8Array {\n\tif (typeof TextEncoder !== 'undefined') {\n\t\treturn new TextEncoder().encode(text);\n\t}\n\treturn Buffer.from(text);\n}\n\n/** Decodes an ArrayBuffer to text. */\nexport function decodeText(buffer: Uint8Array): string {\n\tif (typeof TextDecoder !== 'undefined') {\n\t\treturn new TextDecoder().decode(buffer);\n\t}\n\treturn Buffer.from(buffer).toString('utf8');\n}\n\n/** Concatenates N ArrayBuffers. */\nexport function concat (buffers: (ArrayBuffer | Uint8Array)[]): Uint8Array {\n\tlet totalByteLength = 0;\n\tfor (const buffer of buffers) {\n\t\ttotalByteLength += buffer.byteLength;\n\t}\n\n\tconst result = new Uint8Array(totalByteLength);\n\tlet byteOffset = 0;\n\n\tfor (const buffer of buffers) {\n\t\tresult.set(new Uint8Array(buffer), byteOffset);\n\t\tbyteOffset += buffer.byteLength;\n\t}\n\n\treturn result;\n}","import { BufferReader } from './buffer-reader';\nimport { KTX2_ID } from './constants';\nimport { KTX2Container, KTX2DataFormatDescriptorBasicFormat } from './container';\nimport { decodeText } from './util';\n\n/**\n * Parses a KTX 2.0 file, returning an unpacked {@link KTX2Container} instance with all associated\n * data. The container's mip levels and other binary data are pointers into the original file, not\n * copies, so the original file should not be overwritten after reading.\n *\n * @param data Bytes of KTX 2.0 file, as Uint8Array or Buffer.\n */\nexport function read(data: Uint8Array): KTX2Container {\n\n\t///////////////////////////////////////////////////\n\t// KTX 2.0 Identifier.\n\t///////////////////////////////////////////////////\n\n\tconst id = new Uint8Array(data.buffer, data.byteOffset, KTX2_ID.length);\n\tif (id[0] !== KTX2_ID[0] || // '´'\n\t\tid[1] !== KTX2_ID[1] || // 'K'\n\t\tid[2] !== KTX2_ID[2] || // 'T'\n\t\tid[3] !== KTX2_ID[3] || // 'X'\n\t\tid[4] !== KTX2_ID[4] || // ' '\n\t\tid[5] !== KTX2_ID[5] || // '2'\n\t\tid[6] !== KTX2_ID[6] || // '0'\n\t\tid[7] !== KTX2_ID[7] || // 'ª'\n\t\tid[8] !== KTX2_ID[8] || // '\\r'\n\t\tid[9] !== KTX2_ID[9] || // '\\n'\n\t\tid[10] !== KTX2_ID[10] || // '\\x1A'\n\t\tid[11] !== KTX2_ID[11] // '\\n'\n\t) {\n\t\tthrow new Error('Missing KTX 2.0 identifier.');\n\t}\n\n\tconst container = new KTX2Container();\n\n\t///////////////////////////////////////////////////\n\t// Header.\n\t///////////////////////////////////////////////////\n\n\tconst headerByteLength = 17 * Uint32Array.BYTES_PER_ELEMENT;\n\tconst headerReader = new BufferReader(data, KTX2_ID.length, headerByteLength, true);\n\n\tcontainer.vkFormat = headerReader._nextUint32();\n\tcontainer.typeSize = headerReader._nextUint32();\n\tcontainer.pixelWidth = headerReader._nextUint32();\n\tcontainer.pixelHeight = headerReader._nextUint32();\n\tcontainer.pixelDepth = headerReader._nextUint32();\n\tcontainer.layerCount = headerReader._nextUint32();\n\tcontainer.faceCount = headerReader._nextUint32();\n\n\tconst levelCount = headerReader._nextUint32();\n\n\tcontainer.supercompressionScheme = headerReader._nextUint32();\n\n\tconst dfdByteOffset = headerReader._nextUint32();\n\tconst dfdByteLength = headerReader._nextUint32();\n\tconst kvdByteOffset = headerReader._nextUint32();\n\tconst kvdByteLength = headerReader._nextUint32();\n\tconst sgdByteOffset = headerReader._nextUint64();\n\tconst sgdByteLength = headerReader._nextUint64();\n\n\t///////////////////////////////////////////////////\n\t// Level Index.\n\t///////////////////////////////////////////////////\n\n\tconst levelByteLength = levelCount * 3 * 8;\n\tconst levelReader = new BufferReader(data, KTX2_ID.length + headerByteLength, levelByteLength, true);\n\n\tfor (let i = 0; i < levelCount; i ++) {\n\t\tcontainer.levels.push({\n\t\t\tlevelData: new Uint8Array(data.buffer, data.byteOffset + levelReader._nextUint64(), levelReader._nextUint64()),\n\t\t\tuncompressedByteLength: levelReader._nextUint64(),\n\t\t});\n\t}\n\n\n\t///////////////////////////////////////////////////\n\t// Data Format Descriptor (DFD).\n\t///////////////////////////////////////////////////\n\n\tconst dfdReader = new BufferReader(data, dfdByteOffset, dfdByteLength, true);\n\n\tconst dfd: KTX2DataFormatDescriptorBasicFormat = {\n\t\tvendorId: dfdReader._skip(4 /* totalSize */)._nextUint16(),\n\t\tdescriptorType: dfdReader._nextUint16(),\n\t\tversionNumber: dfdReader._nextUint16(),\n\t\tdescriptorBlockSize: dfdReader._nextUint16(),\n\t\tcolorModel: dfdReader._nextUint8(),\n\t\tcolorPrimaries: dfdReader._nextUint8(),\n\t\ttransferFunction: dfdReader._nextUint8(),\n\t\tflags: dfdReader._nextUint8(),\n\t\ttexelBlockDimension: {\n\t\t\tx: dfdReader._nextUint8() + 1,\n\t\t\ty: dfdReader._nextUint8() + 1,\n\t\t\tz: dfdReader._nextUint8() + 1,\n\t\t\tw: dfdReader._nextUint8() + 1,\n\t\t},\n\t\tbytesPlane: [\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t\tdfdReader._nextUint8(),\n\t\t],\n\t\tsamples: [],\n\t};\n\n\tconst sampleStart = 6;\n\tconst sampleWords = 4;\n\tconst numSamples = (dfd.descriptorBlockSize / 4 - sampleStart) / sampleWords;\n\n\tfor (let i = 0; i < numSamples; i ++) {\n\t\tdfd.samples[ i ] = {\n\t\t\tbitOffset: dfdReader._nextUint16(),\n\t\t\tbitLength: dfdReader._nextUint8(),\n\t\t\tchannelID: dfdReader._nextUint8(),\n\t\t\tsamplePosition: [\n\t\t\t\tdfdReader._nextUint8(),\n\t\t\t\tdfdReader._nextUint8(),\n\t\t\t\tdfdReader._nextUint8(),\n\t\t\t\tdfdReader._nextUint8(),\n\t\t\t],\n\t\t\tsampleLower: dfdReader._nextUint32(),\n\t\t\tsampleUpper: dfdReader._nextUint32(),\n\t\t};\n\t}\n\n\tcontainer.dataFormatDescriptor.length = 0;\n\tcontainer.dataFormatDescriptor.push(dfd);\n\n\n\t///////////////////////////////////////////////////\n\t// Key/Value Data (KVD).\n\t///////////////////////////////////////////////////\n\n\tconst kvdReader = new BufferReader(data, kvdByteOffset, kvdByteLength, true);\n\n\twhile (kvdReader._offset < kvdByteLength) {\n\t\tconst keyValueByteLength = kvdReader._nextUint32();\n\t\tconst keyData = kvdReader._scan(keyValueByteLength);\n\t\tconst key = decodeText(keyData);\n\t\tconst valueData = kvdReader._scan(keyValueByteLength - keyData.byteLength);\n\t\tcontainer.keyValue[key] = key.match(/^ktx/i) ? decodeText(valueData) : valueData;\n\n\t\t// 4-byte alignment.\n\t\tif (keyValueByteLength % 4) kvdReader._skip(4 - (keyValueByteLength % 4));\n\t}\n\n\n\t///////////////////////////////////////////////////\n\t// Supercompression Global Data (SGD).\n\t///////////////////////////////////////////////////\n\n\tif (sgdByteLength <= 0) return container;\n\n\tconst sgdReader = new BufferReader(data, sgdByteOffset, sgdByteLength, true);\n\n\tconst endpointCount = sgdReader._nextUint16();\n\tconst selectorCount = sgdReader._nextUint16();\n\tconst endpointsByteLength = sgdReader._nextUint32();\n\tconst selectorsByteLength = sgdReader._nextUint32();\n\tconst tablesByteLength = sgdReader._nextUint32();\n\tconst extendedByteLength = sgdReader._nextUint32();\n\n\tconst imageDescs = [];\n\tfor (let i = 0; i < levelCount; i ++) {\n\t\timageDescs.push({\n\t\t\timageFlags: sgdReader._nextUint32(),\n\t\t\trgbSliceByteOffset: sgdReader._nextUint32(),\n\t\t\trgbSliceByteLength: sgdReader._nextUint32(),\n\t\t\talphaSliceByteOffset: sgdReader._nextUint32(),\n\t\t\talphaSliceByteLength: sgdReader._nextUint32(),\n\t\t});\n\t}\n\n\tconst endpointsByteOffset = sgdByteOffset + sgdReader._offset;\n\tconst selectorsByteOffset = endpointsByteOffset + endpointsByteLength;\n\tconst tablesByteOffset = selectorsByteOffset + selectorsByteLength;\n\tconst extendedByteOffset = tablesByteOffset + tablesByteLength;\n\n\tconst endpointsData = new Uint8Array(data.buffer, data.byteOffset + endpointsByteOffset, endpointsByteLength);\n\tconst selectorsData = new Uint8Array(data.buffer, data.byteOffset + selectorsByteOffset, selectorsByteLength);\n\tconst tablesData = new Uint8Array(data.buffer, data.byteOffset + tablesByteOffset, tablesByteLength);\n\tconst extendedData = new Uint8Array(data.buffer, data.byteOffset + extendedByteOffset, extendedByteLength);\n\n\tcontainer.globalData = {\n\t\tendpointCount,\n\t\tselectorCount,\n\t\timageDescs,\n\t\tendpointsData,\n\t\tselectorsData,\n\t\ttablesData,\n\t\textendedData,\n\t};\n\n\treturn container;\n}\n","import {Texture2D, hasFeature, FEATURES, log} from '@luma.gl/webgl';\n\nexport default class GLTFMaterialParser {\n  constructor(\n    gl,\n    {attributes, material, pbrDebug, imageBasedLightingEnvironment, lights, useTangents}\n  ) {\n    this.gl = gl;\n\n    this.defines = {\n      // TODO: Use EXT_sRGB if available (Standard in WebGL 2.0)\n      MANUAL_SRGB: 1,\n      SRGB_FAST_APPROXIMATION: 1\n    };\n\n    if (hasFeature(gl, FEATURES.GLSL_TEXTURE_LOD)) {\n      this.defines.USE_TEX_LOD = 1;\n    }\n\n    this.uniforms = {\n      // TODO: find better values?\n      u_Camera: [0, 0, 0], // Model should override\n\n      u_MetallicRoughnessValues: [1, 1] // Default is 1 and 1\n    };\n\n    this.parameters = {};\n    this.generatedTextures = [];\n\n    if (imageBasedLightingEnvironment) {\n      this.uniforms.u_DiffuseEnvSampler = imageBasedLightingEnvironment.getDiffuseEnvSampler();\n      this.uniforms.u_SpecularEnvSampler = imageBasedLightingEnvironment.getSpecularEnvSampler();\n      this.uniforms.u_brdfLUT = imageBasedLightingEnvironment.getBrdfTexture();\n      this.uniforms.u_ScaleIBLAmbient = [1, 1];\n    }\n\n    if (pbrDebug) {\n      // Override final color for reference app visualization\n      // of various parameters in the lighting equation.\n      this.uniforms.u_ScaleDiffBaseMR = [0, 0, 0, 0];\n      this.uniforms.u_ScaleFGDSpec = [0, 0, 0, 0];\n    }\n\n    this.defineIfPresent(attributes.NORMAL, 'HAS_NORMALS');\n    this.defineIfPresent(attributes.TANGENT && useTangents, 'HAS_TANGENTS');\n    this.defineIfPresent(attributes.TEXCOORD_0, 'HAS_UV');\n\n    this.defineIfPresent(imageBasedLightingEnvironment, 'USE_IBL');\n    this.defineIfPresent(lights, 'USE_LIGHTS');\n    this.defineIfPresent(pbrDebug, 'PBR_DEBUG');\n\n    if (material) {\n      this.parseMaterial(material);\n    }\n  }\n\n  defineIfPresent(value, name) {\n    if (value) {\n      this.defines[name] = 1;\n    }\n  }\n\n  parseTexture(gltfTexture, name, define = null) {\n    const parameters =\n      (gltfTexture.texture &&\n        gltfTexture.texture.sampler &&\n        gltfTexture.texture.sampler.parameters) ||\n      {};\n\n    const image = gltfTexture.texture.source.image;\n    let textureOptions;\n    let specialTextureParameters = {};\n    if (image.compressed) {\n      textureOptions = image;\n      specialTextureParameters = {\n        [this.gl.TEXTURE_MIN_FILTER]:\n          image.data.length > 1 ? this.gl.LINEAR_MIPMAP_NEAREST : this.gl.LINEAR\n      };\n    } else {\n      // Texture2D accepts a promise that returns an image as data (Async Textures)\n      textureOptions = {data: image};\n    }\n\n    const texture = new Texture2D(this.gl, {\n      id: gltfTexture.name || gltfTexture.id,\n      parameters: {\n        ...parameters,\n        ...specialTextureParameters\n      },\n      pixelStore: {\n        [this.gl.UNPACK_FLIP_Y_WEBGL]: false\n      },\n      ...textureOptions\n    });\n    this.uniforms[name] = texture;\n    this.defineIfPresent(define, define);\n    this.generatedTextures.push(texture);\n  }\n\n  parsePbrMetallicRoughness(pbrMetallicRoughness) {\n    if (pbrMetallicRoughness.baseColorTexture) {\n      this.parseTexture(\n        pbrMetallicRoughness.baseColorTexture,\n        'u_BaseColorSampler',\n        'HAS_BASECOLORMAP'\n      );\n    }\n    this.uniforms.u_BaseColorFactor = pbrMetallicRoughness.baseColorFactor || [1, 1, 1, 1];\n\n    if (pbrMetallicRoughness.metallicRoughnessTexture) {\n      this.parseTexture(\n        pbrMetallicRoughness.metallicRoughnessTexture,\n        'u_MetallicRoughnessSampler',\n        'HAS_METALROUGHNESSMAP'\n      );\n    }\n    const {metallicFactor = 1, roughnessFactor = 1} = pbrMetallicRoughness;\n    this.uniforms.u_MetallicRoughnessValues = [metallicFactor, roughnessFactor];\n  }\n\n  parseMaterial(material) {\n    this.uniforms.pbr_uUnlit = Boolean(material.unlit);\n\n    if (material.pbrMetallicRoughness) {\n      this.parsePbrMetallicRoughness(material.pbrMetallicRoughness);\n    }\n    if (material.normalTexture) {\n      this.parseTexture(material.normalTexture, 'u_NormalSampler', 'HAS_NORMALMAP');\n\n      const {scale = 1} = material.normalTexture;\n      this.uniforms.u_NormalScale = scale;\n    }\n    if (material.occlusionTexture) {\n      this.parseTexture(material.occlusionTexture, 'u_OcclusionSampler', 'HAS_OCCLUSIONMAP');\n\n      const {strength = 1} = material.occlusionTexture;\n      this.uniforms.u_OcclusionStrength = strength;\n    }\n    if (material.emissiveTexture) {\n      this.parseTexture(material.emissiveTexture, 'u_EmissiveSampler', 'HAS_EMISSIVEMAP');\n      this.uniforms.u_EmissiveFactor = material.emissiveFactor || [0, 0, 0];\n    }\n    if (material.alphaMode === 'MASK') {\n      const {alphaCutoff = 0.5} = material;\n      this.defines.ALPHA_CUTOFF = 1;\n      this.uniforms.u_AlphaCutoff = alphaCutoff;\n    } else if (material.alphaMode === 'BLEND') {\n      log.warn('BLEND alphaMode might not work well because it requires mesh sorting')();\n      Object.assign(this.parameters, {\n        blend: true,\n        blendEquation: this.gl.FUNC_ADD,\n        blendFunc: [\n          this.gl.SRC_ALPHA,\n          this.gl.ONE_MINUS_SRC_ALPHA,\n          this.gl.ONE,\n          this.gl.ONE_MINUS_SRC_ALPHA\n        ]\n      });\n    }\n  }\n\n  /**\n   * Destroy all generated resources to release memory.\n   */\n  delete() {\n    this.generatedTextures.forEach(texture => texture.delete());\n  }\n}\n","/* eslint-env browser */\n\nimport { CompositeLayer } from '@deck.gl/core';\nimport { PolygonLayer } from '@deck.gl/layers';\nimport { CompositeLayerProps } from '@deck.gl/core/lib/composite-layer';\nimport { polygon } from '@turf/helpers';\nimport turfBuffer from '@turf/buffer';\nimport turfDifference from '@turf/difference';\nimport { DrawRectangleMode, DrawPolygonMode, ViewMode } from '@nebula.gl/edit-modes';\n\nimport EditableGeoJsonLayer from './editable-geojson-layer';\n\nexport const SELECTION_TYPE = {\n  NONE: null,\n  RECTANGLE: 'rectangle',\n  POLYGON: 'polygon',\n};\n\nconst MODE_MAP = {\n  [SELECTION_TYPE.RECTANGLE]: DrawRectangleMode,\n  [SELECTION_TYPE.POLYGON]: DrawPolygonMode,\n};\n\nconst MODE_CONFIG_MAP = {\n  [SELECTION_TYPE.RECTANGLE]: { dragToDraw: true },\n};\n\ninterface SelectionLayerProps extends CompositeLayerProps<any> {\n  layerIds: any[];\n  onSelect: (info: any) => any;\n  selectionType: string | null;\n}\n\nconst defaultProps: SelectionLayerProps = {\n  selectionType: SELECTION_TYPE.RECTANGLE,\n  layerIds: [],\n  onSelect: () => {},\n};\n\nconst EMPTY_DATA = {\n  type: 'FeatureCollection',\n  features: [],\n};\n\nconst EXPANSION_KM = 50;\nconst LAYER_ID_GEOJSON = 'selection-geojson';\nconst LAYER_ID_BLOCKER = 'selection-blocker';\n\nconst PASS_THROUGH_PROPS = [\n  'lineWidthScale',\n  'lineWidthMinPixels',\n  'lineWidthMaxPixels',\n  'lineWidthUnits',\n  'lineJointRounded',\n  'lineCapRounded',\n  'lineMiterLimit',\n  'pointRadiusScale',\n  'pointRadiusMinPixels',\n  'pointRadiusMaxPixels',\n  'lineDashJustified',\n  'getLineColor',\n  'getFillColor',\n  'getRadius',\n  'getLineWidth',\n  'getLineDashArray',\n  'getTentativeLineDashArray',\n  'getTentativeLineColor',\n  'getTentativeFillColor',\n  'getTentativeLineWidth',\n];\nexport default class SelectionLayer<\n  D,\n  P extends SelectionLayerProps = SelectionLayerProps\n> extends CompositeLayer<D, P> {\n  static layerName = 'SelectionLayer';\n  static defaultProps = defaultProps;\n\n  _selectRectangleObjects(coordinates: any) {\n    const { layerIds, onSelect } = this.props;\n    // @ts-ignore\n    const [x1, y1] = this.context.viewport.project(coordinates[0][0]);\n    // @ts-ignore\n    const [x2, y2] = this.context.viewport.project(coordinates[0][2]);\n    // @ts-ignore\n    const pickingInfos = this.context.deck.pickObjects({\n      x: Math.min(x1, x2),\n      y: Math.min(y1, y2),\n      width: Math.abs(x2 - x1),\n      height: Math.abs(y2 - y1),\n      layerIds,\n    });\n\n    onSelect({ pickingInfos });\n  }\n\n  _selectPolygonObjects(coordinates: any) {\n    const { layerIds, onSelect } = this.props;\n    // @ts-ignore\n    const mousePoints = coordinates[0].map((c) => this.context.viewport.project(c));\n\n    const allX = mousePoints.map((mousePoint) => mousePoint[0]);\n    const allY = mousePoints.map((mousePoint) => mousePoint[1]);\n    const x = Math.min(...allX);\n    const y = Math.min(...allY);\n    const maxX = Math.max(...allX);\n    const maxY = Math.max(...allY);\n\n    // Use a polygon to hide the outside, because pickObjects()\n    // does not support polygons\n    const landPointsPoly = polygon(coordinates);\n    const bigBuffer = turfBuffer(landPointsPoly, EXPANSION_KM);\n    let bigPolygon;\n    try {\n      // turfDifference throws an exception if the polygon\n      // intersects with itself (TODO: check if true in all versions)\n      bigPolygon = turfDifference(bigBuffer, landPointsPoly);\n    } catch (e) {\n      // invalid selection polygon\n      console.log('turfDifference() error', e); // eslint-disable-line\n      return;\n    }\n\n    this.setState({\n      pendingPolygonSelection: {\n        bigPolygon,\n      },\n    });\n\n    const blockerId = `${this.props.id}-${LAYER_ID_BLOCKER}`;\n\n    // HACK, find a better way\n    setTimeout(() => {\n      // @ts-ignore\n      const pickingInfos = this.context.deck.pickObjects({\n        x,\n        y,\n        width: maxX - x,\n        height: maxY - y,\n        layerIds: [blockerId, ...layerIds],\n      });\n\n      onSelect({\n        pickingInfos: pickingInfos.filter((item) => item.layer.id !== this.props.id),\n      });\n    }, 250);\n  }\n\n  renderLayers() {\n    const { pendingPolygonSelection } = this.state;\n\n    const mode = MODE_MAP[this.props.selectionType] || ViewMode;\n    const modeConfig = MODE_CONFIG_MAP[this.props.selectionType];\n\n    const inheritedProps = {};\n    PASS_THROUGH_PROPS.forEach((p) => {\n      if (this.props[p] !== undefined) inheritedProps[p] = this.props[p];\n    });\n\n    const layers = [\n      new EditableGeoJsonLayer(\n        this.getSubLayerProps({\n          id: LAYER_ID_GEOJSON,\n          pickable: true,\n          mode,\n          modeConfig,\n          selectedFeatureIndexes: [],\n          data: EMPTY_DATA,\n          onEdit: ({ updatedData, editType }) => {\n            if (editType === 'addFeature') {\n              const { coordinates } = updatedData.features[0].geometry;\n\n              if (this.props.selectionType === SELECTION_TYPE.RECTANGLE) {\n                this._selectRectangleObjects(coordinates);\n              } else if (this.props.selectionType === SELECTION_TYPE.POLYGON) {\n                this._selectPolygonObjects(coordinates);\n              }\n            }\n          },\n          ...inheritedProps,\n        })\n      ),\n    ];\n\n    if (pendingPolygonSelection) {\n      const { bigPolygon } = pendingPolygonSelection;\n      layers.push(\n        // @ts-ignore\n        new PolygonLayer(\n          // @ts-ignore\n          this.getSubLayerProps({\n            id: LAYER_ID_BLOCKER,\n            pickable: true,\n            stroked: false,\n            opacity: 1.0,\n            data: [bigPolygon],\n            getLineColor: (obj) => [0, 0, 0, 1],\n            getFillColor: (obj) => [0, 0, 0, 1],\n            getPolygon: (o) => o.geometry.coordinates,\n          })\n        )\n      );\n    }\n\n    return layers;\n  }\n\n  shouldUpdateState({ changeFlags: { stateChanged, propsOrDataChanged } }: Record<string, any>) {\n    return stateChanged || propsOrDataChanged;\n  }\n}\n","/* eslint-env browser */\n\nimport { CompositeLayer } from '@deck.gl/core';\nimport { ScatterplotLayer, LineLayer } from '@deck.gl/layers';\n\nconst defaultProps = {};\n\nexport default class ElevatedEditHandleLayer extends CompositeLayer<any> {\n  static layerName = 'ElevatedEditHandleLayer';\n  static defaultProps = defaultProps;\n  renderLayers() {\n    const handles = new ScatterplotLayer(\n      Object.assign({}, this.props, {\n        id: `${this.props.id}-ScatterplotLayer`,\n        data: this.props.data,\n      })\n    );\n\n    const lines = new LineLayer(\n      Object.assign({}, this.props, {\n        id: `${this.props.id}-LineLayer`,\n        data: this.props.data,\n        pickable: false,\n        getSourcePosition: ({ position }) => [position[0], position[1], 0],\n        getTargetPosition: ({ position }) => [position[0], position[1], position[2] || 0],\n        getColor: [150, 150, 150, 200],\n        getStrokeWidth: 3,\n      })\n    );\n\n    return [handles, lines];\n  }\n}\n","// GL constants, copied from Mozilla documentation\n// https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Constants\n\n// Standard WebGL 1 constants\n// These constants are defined on the WebGLRenderingContext interface.\n\n/* eslint-disable key-spacing, max-len, no-inline-comments, camelcase */\n// eslint-disable-next-line\nexport default {\n  // Clearing buffers\n  // Constants passed to clear() to clear buffer masks.\n\n  DEPTH_BUFFER_BIT: 0x00000100,\n  STENCIL_BUFFER_BIT: 0x00000400,\n  COLOR_BUFFER_BIT: 0x00004000,\n\n  // Rendering primitives\n  // Constants passed to drawElements() or drawArrays() to specify what kind of primitive to render.\n\n  POINTS: 0x0000,\n  LINES: 0x0001,\n  LINE_LOOP: 0x0002,\n  LINE_STRIP: 0x0003,\n  TRIANGLES: 0x0004,\n  TRIANGLE_STRIP: 0x0005,\n  TRIANGLE_FAN: 0x0006,\n\n  // Blending modes\n  // Constants passed to blendFunc() or blendFuncSeparate() to specify the blending mode (for both, RBG and alpha, or separately).\n\n  ZERO: 0,\n  ONE: 1,\n  SRC_COLOR: 0x0300,\n  ONE_MINUS_SRC_COLOR: 0x0301,\n  SRC_ALPHA: 0x0302,\n  ONE_MINUS_SRC_ALPHA: 0x0303,\n  DST_ALPHA: 0x0304,\n  ONE_MINUS_DST_ALPHA: 0x0305,\n  DST_COLOR: 0x0306,\n  ONE_MINUS_DST_COLOR: 0x0307,\n  SRC_ALPHA_SATURATE: 0x0308,\n  CONSTANT_COLOR: 0x8001,\n  ONE_MINUS_CONSTANT_COLOR: 0x8002,\n  CONSTANT_ALPHA: 0x8003,\n  ONE_MINUS_CONSTANT_ALPHA: 0x8004,\n\n  // Blending equations\n  // Constants passed to blendEquation() or blendEquationSeparate() to control\n  // how the blending is calculated (for both, RBG and alpha, or separately).\n\n  FUNC_ADD: 0x8006,\n  FUNC_SUBTRACT: 0x800a,\n  FUNC_REVERSE_SUBTRACT: 0x800b,\n\n  // Getting GL parameter information\n  // Constants passed to getParameter() to specify what information to return.\n\n  BLEND_EQUATION: 0x8009,\n  BLEND_EQUATION_RGB: 0x8009,\n  BLEND_EQUATION_ALPHA: 0x883d,\n  BLEND_DST_RGB: 0x80c8,\n  BLEND_SRC_RGB: 0x80c9,\n  BLEND_DST_ALPHA: 0x80ca,\n  BLEND_SRC_ALPHA: 0x80cb,\n  BLEND_COLOR: 0x8005,\n  ARRAY_BUFFER_BINDING: 0x8894,\n  ELEMENT_ARRAY_BUFFER_BINDING: 0x8895,\n  LINE_WIDTH: 0x0b21,\n  ALIASED_POINT_SIZE_RANGE: 0x846d,\n  ALIASED_LINE_WIDTH_RANGE: 0x846e,\n  CULL_FACE_MODE: 0x0b45,\n  FRONT_FACE: 0x0b46,\n  DEPTH_RANGE: 0x0b70,\n  DEPTH_WRITEMASK: 0x0b72,\n  DEPTH_CLEAR_VALUE: 0x0b73,\n  DEPTH_FUNC: 0x0b74,\n  STENCIL_CLEAR_VALUE: 0x0b91,\n  STENCIL_FUNC: 0x0b92,\n  STENCIL_FAIL: 0x0b94,\n  STENCIL_PASS_DEPTH_FAIL: 0x0b95,\n  STENCIL_PASS_DEPTH_PASS: 0x0b96,\n  STENCIL_REF: 0x0b97,\n  STENCIL_VALUE_MASK: 0x0b93,\n  STENCIL_WRITEMASK: 0x0b98,\n  STENCIL_BACK_FUNC: 0x8800,\n  STENCIL_BACK_FAIL: 0x8801,\n  STENCIL_BACK_PASS_DEPTH_FAIL: 0x8802,\n  STENCIL_BACK_PASS_DEPTH_PASS: 0x8803,\n  STENCIL_BACK_REF: 0x8ca3,\n  STENCIL_BACK_VALUE_MASK: 0x8ca4,\n  STENCIL_BACK_WRITEMASK: 0x8ca5,\n  VIEWPORT: 0x0ba2,\n  SCISSOR_BOX: 0x0c10,\n  COLOR_CLEAR_VALUE: 0x0c22,\n  COLOR_WRITEMASK: 0x0c23,\n  UNPACK_ALIGNMENT: 0x0cf5,\n  PACK_ALIGNMENT: 0x0d05,\n  MAX_TEXTURE_SIZE: 0x0d33,\n  MAX_VIEWPORT_DIMS: 0x0d3a,\n  SUBPIXEL_BITS: 0x0d50,\n  RED_BITS: 0x0d52,\n  GREEN_BITS: 0x0d53,\n  BLUE_BITS: 0x0d54,\n  ALPHA_BITS: 0x0d55,\n  DEPTH_BITS: 0x0d56,\n  STENCIL_BITS: 0x0d57,\n  POLYGON_OFFSET_UNITS: 0x2a00,\n  POLYGON_OFFSET_FACTOR: 0x8038,\n  TEXTURE_BINDING_2D: 0x8069,\n  SAMPLE_BUFFERS: 0x80a8,\n  SAMPLES: 0x80a9,\n  SAMPLE_COVERAGE_VALUE: 0x80aa,\n  SAMPLE_COVERAGE_INVERT: 0x80ab,\n  COMPRESSED_TEXTURE_FORMATS: 0x86a3,\n  VENDOR: 0x1f00,\n  RENDERER: 0x1f01,\n  VERSION: 0x1f02,\n  IMPLEMENTATION_COLOR_READ_TYPE: 0x8b9a,\n  IMPLEMENTATION_COLOR_READ_FORMAT: 0x8b9b,\n  BROWSER_DEFAULT_WEBGL: 0x9244,\n\n  // Buffers\n  // Constants passed to bufferData(), bufferSubData(), bindBuffer(), or\n  // getBufferParameter().\n\n  STATIC_DRAW: 0x88e4,\n  STREAM_DRAW: 0x88e0,\n  DYNAMIC_DRAW: 0x88e8,\n  ARRAY_BUFFER: 0x8892,\n  ELEMENT_ARRAY_BUFFER: 0x8893,\n  BUFFER_SIZE: 0x8764,\n  BUFFER_USAGE: 0x8765,\n\n  // Vertex attributes\n  // Constants passed to getVertexAttrib().\n\n  CURRENT_VERTEX_ATTRIB: 0x8626,\n  VERTEX_ATTRIB_ARRAY_ENABLED: 0x8622,\n  VERTEX_ATTRIB_ARRAY_SIZE: 0x8623,\n  VERTEX_ATTRIB_ARRAY_STRIDE: 0x8624,\n  VERTEX_ATTRIB_ARRAY_TYPE: 0x8625,\n  VERTEX_ATTRIB_ARRAY_NORMALIZED: 0x886a,\n  VERTEX_ATTRIB_ARRAY_POINTER: 0x8645,\n  VERTEX_ATTRIB_ARRAY_BUFFER_BINDING: 0x889f,\n\n  // Culling\n  // Constants passed to cullFace().\n\n  CULL_FACE: 0x0b44,\n  FRONT: 0x0404,\n  BACK: 0x0405,\n  FRONT_AND_BACK: 0x0408,\n\n  // Enabling and disabling\n  // Constants passed to enable() or disable().\n\n  BLEND: 0x0be2,\n  DEPTH_TEST: 0x0b71,\n  DITHER: 0x0bd0,\n  POLYGON_OFFSET_FILL: 0x8037,\n  SAMPLE_ALPHA_TO_COVERAGE: 0x809e,\n  SAMPLE_COVERAGE: 0x80a0,\n  SCISSOR_TEST: 0x0c11,\n  STENCIL_TEST: 0x0b90,\n\n  // Errors\n  // Constants returned from getError().\n\n  NO_ERROR: 0,\n  INVALID_ENUM: 0x0500,\n  INVALID_VALUE: 0x0501,\n  INVALID_OPERATION: 0x0502,\n  OUT_OF_MEMORY: 0x0505,\n  CONTEXT_LOST_WEBGL: 0x9242,\n\n  // Front face directions\n  // Constants passed to frontFace().\n\n  CW: 0x0900,\n  CCW: 0x0901,\n\n  // Hints\n  // Constants passed to hint()\n\n  DONT_CARE: 0x1100,\n  FASTEST: 0x1101,\n  NICEST: 0x1102,\n  GENERATE_MIPMAP_HINT: 0x8192,\n\n  // Data types\n\n  BYTE: 0x1400,\n  UNSIGNED_BYTE: 0x1401,\n  SHORT: 0x1402,\n  UNSIGNED_SHORT: 0x1403,\n  INT: 0x1404,\n  UNSIGNED_INT: 0x1405,\n  FLOAT: 0x1406,\n  DOUBLE: 0x140a,\n\n  // Pixel formats\n\n  DEPTH_COMPONENT: 0x1902,\n  ALPHA: 0x1906,\n  RGB: 0x1907,\n  RGBA: 0x1908,\n  LUMINANCE: 0x1909,\n  LUMINANCE_ALPHA: 0x190a,\n\n  // Pixel types\n\n  // UNSIGNED_BYTE: 0x1401,\n  UNSIGNED_SHORT_4_4_4_4: 0x8033,\n  UNSIGNED_SHORT_5_5_5_1: 0x8034,\n  UNSIGNED_SHORT_5_6_5: 0x8363,\n\n  // Shaders\n  // Constants passed to createShader() or getShaderParameter()\n\n  FRAGMENT_SHADER: 0x8b30,\n  VERTEX_SHADER: 0x8b31,\n  COMPILE_STATUS: 0x8b81,\n  DELETE_STATUS: 0x8b80,\n  LINK_STATUS: 0x8b82,\n  VALIDATE_STATUS: 0x8b83,\n  ATTACHED_SHADERS: 0x8b85,\n  ACTIVE_ATTRIBUTES: 0x8b89,\n  ACTIVE_UNIFORMS: 0x8b86,\n  MAX_VERTEX_ATTRIBS: 0x8869,\n  MAX_VERTEX_UNIFORM_VECTORS: 0x8dfb,\n  MAX_VARYING_VECTORS: 0x8dfc,\n  MAX_COMBINED_TEXTURE_IMAGE_UNITS: 0x8b4d,\n  MAX_VERTEX_TEXTURE_IMAGE_UNITS: 0x8b4c,\n  MAX_TEXTURE_IMAGE_UNITS: 0x8872,\n  MAX_FRAGMENT_UNIFORM_VECTORS: 0x8dfd,\n  SHADER_TYPE: 0x8b4f,\n  SHADING_LANGUAGE_VERSION: 0x8b8c,\n  CURRENT_PROGRAM: 0x8b8d,\n\n  // Depth or stencil tests\n  // Constants passed to depthFunc() or stencilFunc().\n\n  NEVER: 0x0200,\n  ALWAYS: 0x0207,\n  LESS: 0x0201,\n  EQUAL: 0x0202,\n  LEQUAL: 0x0203,\n  GREATER: 0x0204,\n  GEQUAL: 0x0206,\n  NOTEQUAL: 0x0205,\n\n  // Stencil actions\n  // Constants passed to stencilOp().\n\n  KEEP: 0x1e00,\n  REPLACE: 0x1e01,\n  INCR: 0x1e02,\n  DECR: 0x1e03,\n  INVERT: 0x150a,\n  INCR_WRAP: 0x8507,\n  DECR_WRAP: 0x8508,\n\n  // Textures\n  // Constants passed to texParameteri(),\n  // texParameterf(), bindTexture(), texImage2D(), and others.\n\n  NEAREST: 0x2600,\n  LINEAR: 0x2601,\n  NEAREST_MIPMAP_NEAREST: 0x2700,\n  LINEAR_MIPMAP_NEAREST: 0x2701,\n  NEAREST_MIPMAP_LINEAR: 0x2702,\n  LINEAR_MIPMAP_LINEAR: 0x2703,\n  TEXTURE_MAG_FILTER: 0x2800,\n  TEXTURE_MIN_FILTER: 0x2801,\n  TEXTURE_WRAP_S: 0x2802,\n  TEXTURE_WRAP_T: 0x2803,\n  TEXTURE_2D: 0x0de1,\n  TEXTURE: 0x1702,\n  TEXTURE_CUBE_MAP: 0x8513,\n  TEXTURE_BINDING_CUBE_MAP: 0x8514,\n  TEXTURE_CUBE_MAP_POSITIVE_X: 0x8515,\n  TEXTURE_CUBE_MAP_NEGATIVE_X: 0x8516,\n  TEXTURE_CUBE_MAP_POSITIVE_Y: 0x8517,\n  TEXTURE_CUBE_MAP_NEGATIVE_Y: 0x8518,\n  TEXTURE_CUBE_MAP_POSITIVE_Z: 0x8519,\n  TEXTURE_CUBE_MAP_NEGATIVE_Z: 0x851a,\n  MAX_CUBE_MAP_TEXTURE_SIZE: 0x851c,\n  // TEXTURE0 - 31 0x84C0 - 0x84DF A texture unit.\n  TEXTURE0: 0x84c0,\n  ACTIVE_TEXTURE: 0x84e0,\n  REPEAT: 0x2901,\n  CLAMP_TO_EDGE: 0x812f,\n  MIRRORED_REPEAT: 0x8370,\n\n  // Emulation\n  TEXTURE_WIDTH: 0x1000,\n  TEXTURE_HEIGHT: 0x1001,\n\n  // Uniform types\n\n  FLOAT_VEC2: 0x8b50,\n  FLOAT_VEC3: 0x8b51,\n  FLOAT_VEC4: 0x8b52,\n  INT_VEC2: 0x8b53,\n  INT_VEC3: 0x8b54,\n  INT_VEC4: 0x8b55,\n  BOOL: 0x8b56,\n  BOOL_VEC2: 0x8b57,\n  BOOL_VEC3: 0x8b58,\n  BOOL_VEC4: 0x8b59,\n  FLOAT_MAT2: 0x8b5a,\n  FLOAT_MAT3: 0x8b5b,\n  FLOAT_MAT4: 0x8b5c,\n  SAMPLER_2D: 0x8b5e,\n  SAMPLER_CUBE: 0x8b60,\n\n  // Shader precision-specified types\n\n  LOW_FLOAT: 0x8df0,\n  MEDIUM_FLOAT: 0x8df1,\n  HIGH_FLOAT: 0x8df2,\n  LOW_INT: 0x8df3,\n  MEDIUM_INT: 0x8df4,\n  HIGH_INT: 0x8df5,\n\n  // Framebuffers and renderbuffers\n\n  FRAMEBUFFER: 0x8d40,\n  RENDERBUFFER: 0x8d41,\n  RGBA4: 0x8056,\n  RGB5_A1: 0x8057,\n  RGB565: 0x8d62,\n  DEPTH_COMPONENT16: 0x81a5,\n  STENCIL_INDEX: 0x1901,\n  STENCIL_INDEX8: 0x8d48,\n  DEPTH_STENCIL: 0x84f9,\n  RENDERBUFFER_WIDTH: 0x8d42,\n  RENDERBUFFER_HEIGHT: 0x8d43,\n  RENDERBUFFER_INTERNAL_FORMAT: 0x8d44,\n  RENDERBUFFER_RED_SIZE: 0x8d50,\n  RENDERBUFFER_GREEN_SIZE: 0x8d51,\n  RENDERBUFFER_BLUE_SIZE: 0x8d52,\n  RENDERBUFFER_ALPHA_SIZE: 0x8d53,\n  RENDERBUFFER_DEPTH_SIZE: 0x8d54,\n  RENDERBUFFER_STENCIL_SIZE: 0x8d55,\n  FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE: 0x8cd0,\n  FRAMEBUFFER_ATTACHMENT_OBJECT_NAME: 0x8cd1,\n  FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL: 0x8cd2,\n  FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE: 0x8cd3,\n  COLOR_ATTACHMENT0: 0x8ce0,\n  DEPTH_ATTACHMENT: 0x8d00,\n  STENCIL_ATTACHMENT: 0x8d20,\n  DEPTH_STENCIL_ATTACHMENT: 0x821a,\n  NONE: 0,\n  FRAMEBUFFER_COMPLETE: 0x8cd5,\n  FRAMEBUFFER_INCOMPLETE_ATTACHMENT: 0x8cd6,\n  FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT: 0x8cd7,\n  FRAMEBUFFER_INCOMPLETE_DIMENSIONS: 0x8cd9,\n  FRAMEBUFFER_UNSUPPORTED: 0x8cdd,\n  FRAMEBUFFER_BINDING: 0x8ca6,\n  RENDERBUFFER_BINDING: 0x8ca7,\n  READ_FRAMEBUFFER: 0x8ca8,\n  DRAW_FRAMEBUFFER: 0x8ca9,\n  MAX_RENDERBUFFER_SIZE: 0x84e8,\n  INVALID_FRAMEBUFFER_OPERATION: 0x0506,\n\n  // Pixel storage modes\n  // Constants passed to pixelStorei().\n\n  UNPACK_FLIP_Y_WEBGL: 0x9240,\n  UNPACK_PREMULTIPLY_ALPHA_WEBGL: 0x9241,\n  UNPACK_COLORSPACE_CONVERSION_WEBGL: 0x9243,\n\n  // /////////////////////////////////////////////////////\n  // Additional constants defined WebGL 2\n  // These constants are defined on the WebGL2RenderingContext interface.\n  // All WebGL 1 constants are also available in a WebGL 2 context.\n  // /////////////////////////////////////////////////////\n\n  // Getting GL parameter information\n  // Constants passed to getParameter()\n  // to specify what information to return.\n\n  READ_BUFFER: 0x0c02,\n  UNPACK_ROW_LENGTH: 0x0cf2,\n  UNPACK_SKIP_ROWS: 0x0cf3,\n  UNPACK_SKIP_PIXELS: 0x0cf4,\n  PACK_ROW_LENGTH: 0x0d02,\n  PACK_SKIP_ROWS: 0x0d03,\n  PACK_SKIP_PIXELS: 0x0d04,\n  TEXTURE_BINDING_3D: 0x806a,\n  UNPACK_SKIP_IMAGES: 0x806d,\n  UNPACK_IMAGE_HEIGHT: 0x806e,\n  MAX_3D_TEXTURE_SIZE: 0x8073,\n  MAX_ELEMENTS_VERTICES: 0x80e8,\n  MAX_ELEMENTS_INDICES: 0x80e9,\n  MAX_TEXTURE_LOD_BIAS: 0x84fd,\n  MAX_FRAGMENT_UNIFORM_COMPONENTS: 0x8b49,\n  MAX_VERTEX_UNIFORM_COMPONENTS: 0x8b4a,\n  MAX_ARRAY_TEXTURE_LAYERS: 0x88ff,\n  MIN_PROGRAM_TEXEL_OFFSET: 0x8904,\n  MAX_PROGRAM_TEXEL_OFFSET: 0x8905,\n  MAX_VARYING_COMPONENTS: 0x8b4b,\n  FRAGMENT_SHADER_DERIVATIVE_HINT: 0x8b8b,\n  RASTERIZER_DISCARD: 0x8c89,\n  VERTEX_ARRAY_BINDING: 0x85b5,\n  MAX_VERTEX_OUTPUT_COMPONENTS: 0x9122,\n  MAX_FRAGMENT_INPUT_COMPONENTS: 0x9125,\n  MAX_SERVER_WAIT_TIMEOUT: 0x9111,\n  MAX_ELEMENT_INDEX: 0x8d6b,\n\n  // Textures\n  // Constants passed to texParameteri(),\n  // texParameterf(), bindTexture(), texImage2D(), and others.\n\n  RED: 0x1903,\n  RGB8: 0x8051,\n  RGBA8: 0x8058,\n  RGB10_A2: 0x8059,\n  TEXTURE_3D: 0x806f,\n  TEXTURE_WRAP_R: 0x8072,\n  TEXTURE_MIN_LOD: 0x813a,\n  TEXTURE_MAX_LOD: 0x813b,\n  TEXTURE_BASE_LEVEL: 0x813c,\n  TEXTURE_MAX_LEVEL: 0x813d,\n  TEXTURE_COMPARE_MODE: 0x884c,\n  TEXTURE_COMPARE_FUNC: 0x884d,\n  SRGB: 0x8c40,\n  SRGB8: 0x8c41,\n  SRGB8_ALPHA8: 0x8c43,\n  COMPARE_REF_TO_TEXTURE: 0x884e,\n  RGBA32F: 0x8814,\n  RGB32F: 0x8815,\n  RGBA16F: 0x881a,\n  RGB16F: 0x881b,\n  TEXTURE_2D_ARRAY: 0x8c1a,\n  TEXTURE_BINDING_2D_ARRAY: 0x8c1d,\n  R11F_G11F_B10F: 0x8c3a,\n  RGB9_E5: 0x8c3d,\n  RGBA32UI: 0x8d70,\n  RGB32UI: 0x8d71,\n  RGBA16UI: 0x8d76,\n  RGB16UI: 0x8d77,\n  RGBA8UI: 0x8d7c,\n  RGB8UI: 0x8d7d,\n  RGBA32I: 0x8d82,\n  RGB32I: 0x8d83,\n  RGBA16I: 0x8d88,\n  RGB16I: 0x8d89,\n  RGBA8I: 0x8d8e,\n  RGB8I: 0x8d8f,\n  RED_INTEGER: 0x8d94,\n  RGB_INTEGER: 0x8d98,\n  RGBA_INTEGER: 0x8d99,\n  R8: 0x8229,\n  RG8: 0x822b,\n  R16F: 0x822d,\n  R32F: 0x822e,\n  RG16F: 0x822f,\n  RG32F: 0x8230,\n  R8I: 0x8231,\n  R8UI: 0x8232,\n  R16I: 0x8233,\n  R16UI: 0x8234,\n  R32I: 0x8235,\n  R32UI: 0x8236,\n  RG8I: 0x8237,\n  RG8UI: 0x8238,\n  RG16I: 0x8239,\n  RG16UI: 0x823a,\n  RG32I: 0x823b,\n  RG32UI: 0x823c,\n  R8_SNORM: 0x8f94,\n  RG8_SNORM: 0x8f95,\n  RGB8_SNORM: 0x8f96,\n  RGBA8_SNORM: 0x8f97,\n  RGB10_A2UI: 0x906f,\n\n  /* covered by extension\n  COMPRESSED_R11_EAC : 0x9270,\n  COMPRESSED_SIGNED_R11_EAC: 0x9271,\n  COMPRESSED_RG11_EAC: 0x9272,\n  COMPRESSED_SIGNED_RG11_EAC : 0x9273,\n  COMPRESSED_RGB8_ETC2 : 0x9274,\n  COMPRESSED_SRGB8_ETC2: 0x9275,\n  COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 : 0x9276,\n  COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC : 0x9277,\n  COMPRESSED_RGBA8_ETC2_EAC: 0x9278,\n  COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : 0x9279,\n  */\n  TEXTURE_IMMUTABLE_FORMAT: 0x912f,\n  TEXTURE_IMMUTABLE_LEVELS: 0x82df,\n\n  // Pixel types\n\n  UNSIGNED_INT_2_10_10_10_REV: 0x8368,\n  UNSIGNED_INT_10F_11F_11F_REV: 0x8c3b,\n  UNSIGNED_INT_5_9_9_9_REV: 0x8c3e,\n  FLOAT_32_UNSIGNED_INT_24_8_REV: 0x8dad,\n  UNSIGNED_INT_24_8: 0x84fa,\n  HALF_FLOAT: 0x140b,\n  RG: 0x8227,\n  RG_INTEGER: 0x8228,\n  INT_2_10_10_10_REV: 0x8d9f,\n\n  // Queries\n\n  CURRENT_QUERY: 0x8865,\n  QUERY_RESULT: 0x8866,\n  QUERY_RESULT_AVAILABLE: 0x8867,\n  ANY_SAMPLES_PASSED: 0x8c2f,\n  ANY_SAMPLES_PASSED_CONSERVATIVE: 0x8d6a,\n\n  // Draw buffers\n\n  MAX_DRAW_BUFFERS: 0x8824,\n  DRAW_BUFFER0: 0x8825,\n  DRAW_BUFFER1: 0x8826,\n  DRAW_BUFFER2: 0x8827,\n  DRAW_BUFFER3: 0x8828,\n  DRAW_BUFFER4: 0x8829,\n  DRAW_BUFFER5: 0x882a,\n  DRAW_BUFFER6: 0x882b,\n  DRAW_BUFFER7: 0x882c,\n  DRAW_BUFFER8: 0x882d,\n  DRAW_BUFFER9: 0x882e,\n  DRAW_BUFFER10: 0x882f,\n  DRAW_BUFFER11: 0x8830,\n  DRAW_BUFFER12: 0x8831,\n  DRAW_BUFFER13: 0x8832,\n  DRAW_BUFFER14: 0x8833,\n  DRAW_BUFFER15: 0x8834,\n  MAX_COLOR_ATTACHMENTS: 0x8cdf,\n  COLOR_ATTACHMENT1: 0x8ce1,\n  COLOR_ATTACHMENT2: 0x8ce2,\n  COLOR_ATTACHMENT3: 0x8ce3,\n  COLOR_ATTACHMENT4: 0x8ce4,\n  COLOR_ATTACHMENT5: 0x8ce5,\n  COLOR_ATTACHMENT6: 0x8ce6,\n  COLOR_ATTACHMENT7: 0x8ce7,\n  COLOR_ATTACHMENT8: 0x8ce8,\n  COLOR_ATTACHMENT9: 0x8ce9,\n  COLOR_ATTACHMENT10: 0x8cea,\n  COLOR_ATTACHMENT11: 0x8ceb,\n  COLOR_ATTACHMENT12: 0x8cec,\n  COLOR_ATTACHMENT13: 0x8ced,\n  COLOR_ATTACHMENT14: 0x8cee,\n  COLOR_ATTACHMENT15: 0x8cef,\n\n  // Samplers\n\n  SAMPLER_3D: 0x8b5f,\n  SAMPLER_2D_SHADOW: 0x8b62,\n  SAMPLER_2D_ARRAY: 0x8dc1,\n  SAMPLER_2D_ARRAY_SHADOW: 0x8dc4,\n  SAMPLER_CUBE_SHADOW: 0x8dc5,\n  INT_SAMPLER_2D: 0x8dca,\n  INT_SAMPLER_3D: 0x8dcb,\n  INT_SAMPLER_CUBE: 0x8dcc,\n  INT_SAMPLER_2D_ARRAY: 0x8dcf,\n  UNSIGNED_INT_SAMPLER_2D: 0x8dd2,\n  UNSIGNED_INT_SAMPLER_3D: 0x8dd3,\n  UNSIGNED_INT_SAMPLER_CUBE: 0x8dd4,\n  UNSIGNED_INT_SAMPLER_2D_ARRAY: 0x8dd7,\n  MAX_SAMPLES: 0x8d57,\n  SAMPLER_BINDING: 0x8919,\n\n  // Buffers\n\n  PIXEL_PACK_BUFFER: 0x88eb,\n  PIXEL_UNPACK_BUFFER: 0x88ec,\n  PIXEL_PACK_BUFFER_BINDING: 0x88ed,\n  PIXEL_UNPACK_BUFFER_BINDING: 0x88ef,\n  COPY_READ_BUFFER: 0x8f36,\n  COPY_WRITE_BUFFER: 0x8f37,\n  COPY_READ_BUFFER_BINDING: 0x8f36,\n  COPY_WRITE_BUFFER_BINDING: 0x8f37,\n\n  // Data types\n\n  FLOAT_MAT2x3: 0x8b65,\n  FLOAT_MAT2x4: 0x8b66,\n  FLOAT_MAT3x2: 0x8b67,\n  FLOAT_MAT3x4: 0x8b68,\n  FLOAT_MAT4x2: 0x8b69,\n  FLOAT_MAT4x3: 0x8b6a,\n  UNSIGNED_INT_VEC2: 0x8dc6,\n  UNSIGNED_INT_VEC3: 0x8dc7,\n  UNSIGNED_INT_VEC4: 0x8dc8,\n  UNSIGNED_NORMALIZED: 0x8c17,\n  SIGNED_NORMALIZED: 0x8f9c,\n\n  // Vertex attributes\n\n  VERTEX_ATTRIB_ARRAY_INTEGER: 0x88fd,\n  VERTEX_ATTRIB_ARRAY_DIVISOR: 0x88fe,\n\n  // Transform feedback\n\n  TRANSFORM_FEEDBACK_BUFFER_MODE: 0x8c7f,\n  MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS: 0x8c80,\n  TRANSFORM_FEEDBACK_VARYINGS: 0x8c83,\n  TRANSFORM_FEEDBACK_BUFFER_START: 0x8c84,\n  TRANSFORM_FEEDBACK_BUFFER_SIZE: 0x8c85,\n  TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN: 0x8c88,\n  MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS: 0x8c8a,\n  MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS: 0x8c8b,\n  INTERLEAVED_ATTRIBS: 0x8c8c,\n  SEPARATE_ATTRIBS: 0x8c8d,\n  TRANSFORM_FEEDBACK_BUFFER: 0x8c8e,\n  TRANSFORM_FEEDBACK_BUFFER_BINDING: 0x8c8f,\n  TRANSFORM_FEEDBACK: 0x8e22,\n  TRANSFORM_FEEDBACK_PAUSED: 0x8e23,\n  TRANSFORM_FEEDBACK_ACTIVE: 0x8e24,\n  TRANSFORM_FEEDBACK_BINDING: 0x8e25,\n\n  // Framebuffers and renderbuffers\n\n  FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING: 0x8210,\n  FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE: 0x8211,\n  FRAMEBUFFER_ATTACHMENT_RED_SIZE: 0x8212,\n  FRAMEBUFFER_ATTACHMENT_GREEN_SIZE: 0x8213,\n  FRAMEBUFFER_ATTACHMENT_BLUE_SIZE: 0x8214,\n  FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE: 0x8215,\n  FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE: 0x8216,\n  FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE: 0x8217,\n  FRAMEBUFFER_DEFAULT: 0x8218,\n  // DEPTH_STENCIL_ATTACHMENT : 0x821A,\n  // DEPTH_STENCIL: 0x84F9,\n  DEPTH24_STENCIL8: 0x88f0,\n  DRAW_FRAMEBUFFER_BINDING: 0x8ca6,\n  READ_FRAMEBUFFER_BINDING: 0x8caa,\n  RENDERBUFFER_SAMPLES: 0x8cab,\n  FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER: 0x8cd4,\n  FRAMEBUFFER_INCOMPLETE_MULTISAMPLE: 0x8d56,\n\n  // Uniforms\n\n  UNIFORM_BUFFER: 0x8a11,\n  UNIFORM_BUFFER_BINDING: 0x8a28,\n  UNIFORM_BUFFER_START: 0x8a29,\n  UNIFORM_BUFFER_SIZE: 0x8a2a,\n  MAX_VERTEX_UNIFORM_BLOCKS: 0x8a2b,\n  MAX_FRAGMENT_UNIFORM_BLOCKS: 0x8a2d,\n  MAX_COMBINED_UNIFORM_BLOCKS: 0x8a2e,\n  MAX_UNIFORM_BUFFER_BINDINGS: 0x8a2f,\n  MAX_UNIFORM_BLOCK_SIZE: 0x8a30,\n  MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS: 0x8a31,\n  MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS: 0x8a33,\n  UNIFORM_BUFFER_OFFSET_ALIGNMENT: 0x8a34,\n  ACTIVE_UNIFORM_BLOCKS: 0x8a36,\n  UNIFORM_TYPE: 0x8a37,\n  UNIFORM_SIZE: 0x8a38,\n  UNIFORM_BLOCK_INDEX: 0x8a3a,\n  UNIFORM_OFFSET: 0x8a3b,\n  UNIFORM_ARRAY_STRIDE: 0x8a3c,\n  UNIFORM_MATRIX_STRIDE: 0x8a3d,\n  UNIFORM_IS_ROW_MAJOR: 0x8a3e,\n  UNIFORM_BLOCK_BINDING: 0x8a3f,\n  UNIFORM_BLOCK_DATA_SIZE: 0x8a40,\n  UNIFORM_BLOCK_ACTIVE_UNIFORMS: 0x8a42,\n  UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES: 0x8a43,\n  UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER: 0x8a44,\n  UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER: 0x8a46,\n\n  // Sync objects\n\n  OBJECT_TYPE: 0x9112,\n  SYNC_CONDITION: 0x9113,\n  SYNC_STATUS: 0x9114,\n  SYNC_FLAGS: 0x9115,\n  SYNC_FENCE: 0x9116,\n  SYNC_GPU_COMMANDS_COMPLETE: 0x9117,\n  UNSIGNALED: 0x9118,\n  SIGNALED: 0x9119,\n  ALREADY_SIGNALED: 0x911a,\n  TIMEOUT_EXPIRED: 0x911b,\n  CONDITION_SATISFIED: 0x911c,\n  WAIT_FAILED: 0x911d,\n  SYNC_FLUSH_COMMANDS_BIT: 0x00000001,\n\n  // Miscellaneous constants\n\n  COLOR: 0x1800,\n  DEPTH: 0x1801,\n  STENCIL: 0x1802,\n  MIN: 0x8007,\n  MAX: 0x8008,\n  DEPTH_COMPONENT24: 0x81a6,\n  STREAM_READ: 0x88e1,\n  STREAM_COPY: 0x88e2,\n  STATIC_READ: 0x88e5,\n  STATIC_COPY: 0x88e6,\n  DYNAMIC_READ: 0x88e9,\n  DYNAMIC_COPY: 0x88ea,\n  DEPTH_COMPONENT32F: 0x8cac,\n  DEPTH32F_STENCIL8: 0x8cad,\n  INVALID_INDEX: 0xffffffff,\n  TIMEOUT_IGNORED: -1,\n  MAX_CLIENT_WAIT_TIMEOUT_WEBGL: 0x9247,\n\n  // Constants defined in WebGL extensions\n\n  // ANGLE_instanced_arrays\n\n  VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE: 0x88fe,\n\n  // WEBGL_debug_renderer_info\n\n  UNMASKED_VENDOR_WEBGL: 0x9245,\n  UNMASKED_RENDERER_WEBGL: 0x9246,\n\n  // EXT_texture_filter_anisotropic\n\n  MAX_TEXTURE_MAX_ANISOTROPY_EXT: 0x84ff,\n  TEXTURE_MAX_ANISOTROPY_EXT: 0x84fe,\n\n  // WEBGL_compressed_texture_s3tc\n\n  COMPRESSED_RGB_S3TC_DXT1_EXT: 0x83f0,\n  COMPRESSED_RGBA_S3TC_DXT1_EXT: 0x83f1,\n  COMPRESSED_RGBA_S3TC_DXT3_EXT: 0x83f2,\n  COMPRESSED_RGBA_S3TC_DXT5_EXT: 0x83f3,\n\n  // WEBGL_compressed_texture_es3\n\n  COMPRESSED_R11_EAC: 0x9270,\n  COMPRESSED_SIGNED_R11_EAC: 0x9271,\n  COMPRESSED_RG11_EAC: 0x9272,\n  COMPRESSED_SIGNED_RG11_EAC: 0x9273,\n  COMPRESSED_RGB8_ETC2: 0x9274,\n  COMPRESSED_RGBA8_ETC2_EAC: 0x9275,\n  COMPRESSED_SRGB8_ETC2: 0x9276,\n  COMPRESSED_SRGB8_ALPHA8_ETC2_EAC: 0x9277,\n  COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2: 0x9278,\n  COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2: 0x9279,\n\n  // WEBGL_compressed_texture_pvrtc\n\n  COMPRESSED_RGB_PVRTC_4BPPV1_IMG: 0x8c00,\n  COMPRESSED_RGBA_PVRTC_4BPPV1_IMG: 0x8c02,\n  COMPRESSED_RGB_PVRTC_2BPPV1_IMG: 0x8c01,\n  COMPRESSED_RGBA_PVRTC_2BPPV1_IMG: 0x8c03,\n\n  // WEBGL_compressed_texture_etc1\n\n  COMPRESSED_RGB_ETC1_WEBGL: 0x8d64,\n\n  // WEBGL_compressed_texture_atc\n\n  COMPRESSED_RGB_ATC_WEBGL: 0x8c92,\n  COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL: 0x8c92,\n  COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL: 0x87ee,\n\n  // WEBGL_depth_texture\n\n  UNSIGNED_INT_24_8_WEBGL: 0x84fa,\n\n  // OES_texture_half_float\n\n  HALF_FLOAT_OES: 0x8d61,\n\n  // WEBGL_color_buffer_float\n\n  RGBA32F_EXT: 0x8814,\n  RGB32F_EXT: 0x8815,\n  FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n  UNSIGNED_NORMALIZED_EXT: 0x8c17,\n\n  // EXT_blend_minmax\n\n  MIN_EXT: 0x8007,\n  MAX_EXT: 0x8008,\n\n  // EXT_sRGB\n\n  SRGB_EXT: 0x8c40,\n  SRGB_ALPHA_EXT: 0x8c42,\n  SRGB8_ALPHA8_EXT: 0x8c43,\n  FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT: 0x8210,\n\n  // OES_standard_derivatives\n\n  FRAGMENT_SHADER_DERIVATIVE_HINT_OES: 0x8b8b,\n\n  // WEBGL_draw_buffers\n\n  COLOR_ATTACHMENT0_WEBGL: 0x8ce0,\n  COLOR_ATTACHMENT1_WEBGL: 0x8ce1,\n  COLOR_ATTACHMENT2_WEBGL: 0x8ce2,\n  COLOR_ATTACHMENT3_WEBGL: 0x8ce3,\n  COLOR_ATTACHMENT4_WEBGL: 0x8ce4,\n  COLOR_ATTACHMENT5_WEBGL: 0x8ce5,\n  COLOR_ATTACHMENT6_WEBGL: 0x8ce6,\n  COLOR_ATTACHMENT7_WEBGL: 0x8ce7,\n  COLOR_ATTACHMENT8_WEBGL: 0x8ce8,\n  COLOR_ATTACHMENT9_WEBGL: 0x8ce9,\n  COLOR_ATTACHMENT10_WEBGL: 0x8cea,\n  COLOR_ATTACHMENT11_WEBGL: 0x8ceb,\n  COLOR_ATTACHMENT12_WEBGL: 0x8cec,\n  COLOR_ATTACHMENT13_WEBGL: 0x8ced,\n  COLOR_ATTACHMENT14_WEBGL: 0x8cee,\n  COLOR_ATTACHMENT15_WEBGL: 0x8cef,\n  DRAW_BUFFER0_WEBGL: 0x8825,\n  DRAW_BUFFER1_WEBGL: 0x8826,\n  DRAW_BUFFER2_WEBGL: 0x8827,\n  DRAW_BUFFER3_WEBGL: 0x8828,\n  DRAW_BUFFER4_WEBGL: 0x8829,\n  DRAW_BUFFER5_WEBGL: 0x882a,\n  DRAW_BUFFER6_WEBGL: 0x882b,\n  DRAW_BUFFER7_WEBGL: 0x882c,\n  DRAW_BUFFER8_WEBGL: 0x882d,\n  DRAW_BUFFER9_WEBGL: 0x882e,\n  DRAW_BUFFER10_WEBGL: 0x882f,\n  DRAW_BUFFER11_WEBGL: 0x8830,\n  DRAW_BUFFER12_WEBGL: 0x8831,\n  DRAW_BUFFER13_WEBGL: 0x8832,\n  DRAW_BUFFER14_WEBGL: 0x8833,\n  DRAW_BUFFER15_WEBGL: 0x8834,\n  MAX_COLOR_ATTACHMENTS_WEBGL: 0x8cdf,\n  MAX_DRAW_BUFFERS_WEBGL: 0x8824,\n\n  // OES_vertex_array_object\n\n  VERTEX_ARRAY_BINDING_OES: 0x85b5,\n\n  // EXT_disjoint_timer_query\n\n  QUERY_COUNTER_BITS_EXT: 0x8864,\n  CURRENT_QUERY_EXT: 0x8865,\n  QUERY_RESULT_EXT: 0x8866,\n  QUERY_RESULT_AVAILABLE_EXT: 0x8867,\n  TIME_ELAPSED_EXT: 0x88bf,\n  TIMESTAMP_EXT: 0x8e28,\n  GPU_DISJOINT_EXT: 0x8fbb // A Boolean indicating whether or not the GPU performed any disjoint operation.\n};\n","/* eslint-disable camelcase */\nconst INITIAL_STATE: Record<string, any> = {\n  outlineEnabled: false,\n  outlineRenderShadowmap: false,\n  outlineShadowmap: null,\n};\n\nfunction getUniforms({ outlineEnabled, outlineRenderShadowmap, outlineShadowmap } = INITIAL_STATE) {\n  const uniforms: Record<string, any> = {};\n  if (outlineEnabled !== undefined) {\n    // ? 1.0 : 0.0;\n    uniforms.outline_uEnabled = outlineEnabled;\n  }\n  if (outlineRenderShadowmap !== undefined) {\n    // ? 1.0 : 0.0;\n    uniforms.outline_uRenderOutlines = outlineRenderShadowmap;\n  }\n  if (outlineShadowmap !== undefined) {\n    uniforms.outline_uShadowmap = outlineShadowmap;\n  }\n  return uniforms;\n}\n\nconst vs = `\\\nattribute float instanceZLevel;\nvarying float outline_vzLevel;\nvarying vec4 outline_vPosition;\n\n// Set the z level for the outline shadowmap rendering\nvoid outline_setZLevel(float zLevel) {\n  outline_vzLevel = zLevel;\n}\n\n// Store an adjusted position for texture2DProj\nvoid outline_setUV(vec4 position) {\n  // mat4(\n  //   0.5, 0.0, 0.0, 0.0,\n  //   0.0, 0.5, 0.0, 0.0,\n  //   0.0, 0.0, 0.5, 0.0,\n  //   0.5, 0.5, 0.5, 1.0\n  // ) * position;\n  outline_vPosition = vec4(position.xyz * 0.5 + position.w * 0.5, position.w);\n}\n`;\n\nconst fs = `\\\nuniform bool outline_uEnabled;\nuniform bool outline_uRenderOutlines;\nuniform sampler2D outline_uShadowmap;\n\nvarying float outline_vzLevel;\n// varying vec2 outline_vUV;\nvarying vec4 outline_vPosition;\n\nconst float OUTLINE_Z_LEVEL_ERROR = 0.01;\n\n// Return a darker color in shadowmap\nvec4 outline_filterShadowColor(vec4 color) {\n  return vec4(outline_vzLevel / 255., outline_vzLevel / 255., outline_vzLevel / 255., 1.);\n}\n\n// Return a darker color if in shadowmap\nvec4 outline_filterDarkenColor(vec4 color) {\n  if (outline_uEnabled) {\n    float maxZLevel;\n    if (outline_vPosition.q > 0.0) {\n      maxZLevel = texture2DProj(outline_uShadowmap, outline_vPosition).r * 255.;\n    } else {\n      discard;\n    }\n    if (maxZLevel < outline_vzLevel + OUTLINE_Z_LEVEL_ERROR) {\n      vec4(color.rgb * 0.5, color.a);\n    } else {\n      discard;\n    }\n  }\n  return color;\n}\n\n// if enabled and rendering outlines - Render depth to shadowmap\n// if enabled and rendering colors - Return a darker color if in shadowmap\n// if disabled, just return color\nvec4 outline_filterColor(vec4 color) {\n  if (outline_uEnabled) {\n    return outline_uRenderOutlines ?\n      outline_filterShadowColor(color) :\n      outline_filterDarkenColor(color);\n  }\n  return color;\n}\n`;\n\nexport default {\n  name: 'outline',\n  vs,\n  fs,\n  getUniforms,\n};\n","import { CompositeLayer, COORDINATE_SYSTEM } from '@deck.gl/core';\nimport { ScatterplotLayer } from '@deck.gl/layers';\nimport { SimpleMeshLayer } from '@deck.gl/mesh-layers';\nimport PathOutlineLayer, { PathOutlineLayerProps } from '../path-outline-layer/path-outline-layer';\nimport Arrow2DGeometry from './arrow-2d-geometry';\n\nimport createPathMarkers from './create-path-markers';\nimport { getClosestPointOnPolyline } from './polyline';\n\nconst DISTANCE_FOR_MULTI_ARROWS = 0.1;\nconst ARROW_HEAD_SIZE = 0.2;\nconst ARROW_TAIL_WIDTH = 0.05;\n// const ARROW_CENTER_ADJUST = -0.8;\n\nconst DEFAULT_MARKER_LAYER = SimpleMeshLayer;\n\nexport interface PathMarkerLayerProps<D> extends PathOutlineLayerProps<D> {\n  getDirection?: (x) => any;\n  getMarkerColor?: (x) => number[];\n  getMarkerPercentages?: (x: any, info: any) => number[];\n  highlightPoint?: any;\n  highlightIndex?: number;\n  MarkerLayer?: any;\n  markerLayerProps?: any;\n  sizeScale?: number;\n  fp64?: boolean;\n  nebulaLayer?: any;\n}\n\nconst DEFAULT_MARKER_LAYER_PROPS = {\n  mesh: new Arrow2DGeometry({ headSize: ARROW_HEAD_SIZE, tailWidth: ARROW_TAIL_WIDTH }),\n};\n\nconst defaultProps: PathMarkerLayerProps<any> = Object.assign({}, PathOutlineLayer.defaultProps, {\n  MarkerLayer: DEFAULT_MARKER_LAYER,\n  markerLayerProps: DEFAULT_MARKER_LAYER_PROPS,\n\n  sizeScale: 100,\n  fp64: false,\n\n  highlightIndex: -1,\n  highlightPoint: null,\n\n  getPath: (x) => x.path,\n  getColor: (x) => x.color,\n  getMarkerColor: (x) => [0, 0, 0, 255],\n  getDirection: (x) => x.direction,\n  getMarkerPercentages: (object, { lineLength }) =>\n    lineLength > DISTANCE_FOR_MULTI_ARROWS ? [0.25, 0.5, 0.75] : [0.5],\n});\n\nexport default class PathMarkerLayer extends CompositeLayer<any, PathMarkerLayerProps<any>> {\n  static layerName = 'PathMarkerLayer';\n  static defaultProps = defaultProps;\n\n  initializeState() {\n    this.state = {\n      markers: [],\n      mesh: new Arrow2DGeometry({ headSize: ARROW_HEAD_SIZE, tailWidth: ARROW_TAIL_WIDTH }),\n      closestPoint: null,\n    };\n  }\n  // @ts-ignore\n  projectFlat(xyz, viewport, coordinateSystem, coordinateOrigin) {\n    if (coordinateSystem === COORDINATE_SYSTEM.METER_OFFSETS) {\n      const [dx, dy] = viewport.metersToLngLatDelta(xyz);\n      const [x, y] = coordinateOrigin;\n      return viewport.projectFlat([x + dx, dy + y]);\n    } else if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT_OFFSETS) {\n      const [dx, dy] = xyz;\n      const [x, y] = coordinateOrigin;\n      return viewport.projectFlat([x + dx, dy + y]);\n    }\n\n    return viewport.projectFlat(xyz);\n  }\n\n  updateState({ props, oldProps, changeFlags }) {\n    if (changeFlags.dataChanged || changeFlags.updateTriggersChanged) {\n      const {\n        data,\n        getPath,\n        getDirection,\n        getMarkerColor,\n        getMarkerPercentages,\n        coordinateSystem,\n        coordinateOrigin,\n      } = this.props;\n      // @ts-ignore\n      const { viewport } = this.context;\n      const projectFlat = (o) => this.projectFlat(o, viewport, coordinateSystem, coordinateOrigin);\n      this.state.markers = createPathMarkers({\n        data,\n        getPath,\n        getDirection,\n        getColor: getMarkerColor,\n        getMarkerPercentages,\n        projectFlat,\n      });\n      this._recalculateClosestPoint();\n    }\n    if (changeFlags.propsChanged) {\n      if (props.point !== oldProps.point) {\n        this._recalculateClosestPoint();\n      }\n    }\n  }\n\n  _recalculateClosestPoint() {\n    const { highlightPoint, highlightIndex } = this.props;\n    if (highlightPoint && highlightIndex >= 0) {\n      const object = this.props.data[highlightIndex];\n      const points = this.props.getPath(object);\n      const { point } = getClosestPointOnPolyline({ points, p: highlightPoint });\n      this.state.closestPoints = [\n        {\n          position: point,\n        },\n      ];\n    } else {\n      this.state.closestPoints = [];\n    }\n  }\n\n  getPickingInfo({ info }) {\n    return Object.assign(info, {\n      // override object with picked feature\n      object: (info.object && info.object.path) || info.object,\n    });\n  }\n\n  renderLayers() {\n    return [\n      new PathOutlineLayer(\n        this.props,\n        // @ts-ignore\n        this.getSubLayerProps({\n          id: 'paths',\n          // Note: data has to be passed explicitly like this to avoid being empty\n          data: this.props.data,\n        })\n      ),\n      new this.props.MarkerLayer(\n        this.getSubLayerProps(\n          Object.assign({}, this.props.markerLayerProps, {\n            id: 'markers',\n            data: this.state.markers,\n            getOrientation: (x) => [0, -x.angle, 0],\n            getColor: (x) => x.color,\n            sizeScale: this.props.sizeScale,\n            fp64: this.props.fp64,\n            pickable: false,\n            parameters: {\n              blend: false,\n              depthTest: false,\n            },\n          })\n        )\n      ),\n      this.state.closestPoints &&\n        new ScatterplotLayer({\n          id: `${this.props.id}-highlight`,\n          data: this.state.closestPoints,\n          // @ts-ignore\n          fp64: this.props.fp64,\n        }),\n    ];\n  }\n}\n","import { Geometry } from '@luma.gl/core';\n\nexport default class Arrow2DGeometry extends Geometry {\n  constructor(opts = {}) {\n    super(\n      Object.assign({}, opts, {\n        attributes: getArrowAttributes(opts),\n      })\n    );\n  }\n}\n\nfunction getArrowAttributes({ length = 1, headSize = 0.2, tailWidth = 0.05, tailStart = 0.05 }) {\n  const texCoords = [\n    // HEAD\n    0.5,\n    1.0,\n    0,\n    0.5 - headSize / 2,\n    1.0 - headSize,\n    0,\n    0.5 + headSize / 2,\n    1.0 - headSize,\n    0,\n    0.5 - tailWidth / 2,\n    tailStart,\n    0,\n    0.5 + tailWidth / 2,\n    1.0 - headSize,\n    0,\n    0.5 + tailWidth / 2,\n    tailStart,\n    0,\n    0.5 - tailWidth / 2,\n    tailStart,\n    0,\n    0.5 - tailWidth / 2,\n    1.0 - headSize,\n    0,\n    0.5 + tailWidth / 2,\n    1.0 - headSize,\n    0,\n  ];\n\n  const normals = [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1];\n\n  // Center and scale\n  const positions = new Array(texCoords.length);\n  for (let i = 0; i < texCoords.length / 3; i++) {\n    const i3 = i * 3;\n    positions[i3 + 0] = (texCoords[i3 + 0] - 0.5) * length;\n    positions[i3 + 1] = (texCoords[i3 + 1] - 0.5) * length;\n    positions[i3 + 2] = 0;\n  }\n  return {\n    positions: new Float32Array(positions),\n    normals: new Float32Array(normals),\n    texCoords: new Float32Array(texCoords),\n  };\n}\n","import { Vector2 } from 'math.gl';\n\nfunction getLineLength(vPoints) {\n  // calculate total length\n  let lineLength = 0;\n  for (let i = 0; i < vPoints.length - 1; i++) {\n    lineLength += vPoints[i].distance(vPoints[i + 1]);\n  }\n  return lineLength;\n}\n\nconst DEFAULT_COLOR = [0, 0, 0, 255];\nconst DEFAULT_DIRECTION = { forward: true, backward: false };\n\nexport default function createPathMarkers({\n  data,\n  getPath = (x) => x.path,\n  getDirection = (x) => x.direction,\n  getColor = (x) => DEFAULT_COLOR,\n  getMarkerPercentages = (x, info) => [0.5],\n  projectFlat,\n}) {\n  const markers = [];\n\n  for (const object of data) {\n    const path = getPath(object);\n    const direction = getDirection(object) || DEFAULT_DIRECTION;\n    const color = getColor(object);\n\n    const vPoints = path.map((p) => new Vector2(p));\n    const vPointsReverse = vPoints.slice(0).reverse();\n\n    // calculate total length\n    const lineLength = getLineLength(vPoints);\n\n    // Ask for where to put markers\n    // @ts-ignore\n    const percentages = getMarkerPercentages(object, { lineLength });\n\n    // Create the markers\n    for (const percentage of percentages) {\n      if (direction.forward) {\n        const marker = createMarkerAlongPath({\n          path: vPoints,\n          percentage,\n          lineLength,\n          color,\n          object,\n          projectFlat,\n        });\n        markers.push(marker);\n      }\n\n      if (direction.backward) {\n        const marker = createMarkerAlongPath({\n          path: vPointsReverse,\n          percentage,\n          lineLength,\n          color,\n          object,\n          projectFlat,\n        });\n        markers.push(marker);\n      }\n    }\n  }\n\n  return markers;\n}\n\nfunction createMarkerAlongPath({ path, percentage, lineLength, color, object, projectFlat }) {\n  const distanceAlong = lineLength * percentage;\n  let currentDistance = 0;\n  let previousDistance = 0;\n  let i = 0;\n  for (i = 0; i < path.length - 1; i++) {\n    currentDistance += path[i].distance(path[i + 1]);\n    if (currentDistance > distanceAlong) {\n      break;\n    }\n    previousDistance = currentDistance;\n  }\n\n  // If reached the end of the loop without exiting early,\n  // undo the final increment to avoid a null-pointer exception\n  if (i === path.length - 1) {\n    i -= 1;\n  }\n\n  const vDirection = path[i + 1].clone().subtract(path[i]).normalize();\n  const along = distanceAlong - previousDistance;\n  const vCenter = vDirection.clone().multiply(new Vector2(along, along)).add(path[i]);\n\n  const vDirection2 = new Vector2(projectFlat(path[i + 1])).subtract(projectFlat(path[i]));\n\n  const angle = (vDirection2.verticalAngle() * 180) / Math.PI;\n\n  return { position: [vCenter.x, vCenter.y, 0], angle, color, object };\n}\n","import { Vector3, clamp } from 'math.gl';\n\n// Return the closest point on a line segment\nexport function getClosestPointOnLine({ p, p1, p2, clampToLine = true }) {\n  const lineVector = new Vector3(p2).subtract(p1);\n  const pointVector = new Vector3(p).subtract(p1);\n  let dotProduct = lineVector.dot(pointVector);\n  if (clampToLine) {\n    dotProduct = clamp(dotProduct, 0, 1);\n  }\n  // @ts-ignore\n  return lineVector.lerp(dotProduct);\n}\n\n// Return the closest point on a line segment\nexport function getClosestPointOnPolyline({ p, points }) {\n  p = new Vector3(p);\n  let pClosest = null;\n  let distanceSquared = Infinity;\n  let index = -1;\n  for (let i = 0; i < points.length - 1; ++i) {\n    const p1 = points[i];\n    const p2 = points[i + 1];\n    const pClosestOnLine = getClosestPointOnLine({ p, p1, p2 });\n    const distanceToLineSquared = p.distanceSquared(pClosestOnLine);\n    if (distanceToLineSquared < distanceSquared) {\n      distanceSquared = distanceToLineSquared;\n      pClosest = pClosestOnLine;\n      index = i;\n    }\n  }\n  return {\n    point: pClosest,\n    index,\n    p1: points[index],\n    p2: points[index + 1],\n    distanceSquared,\n    distance: Math.sqrt(distanceSquared),\n  };\n}\n","import { CompositeLayer, RGBAColor } from '@deck.gl/core';\nimport { ScatterplotLayer } from '@deck.gl/layers';\nimport { CompositeLayerProps } from '@deck.gl/core/lib/composite-layer';\n\ninterface JunctionScatterplotLayerProps extends CompositeLayerProps<any> {\n  getFillColor?: RGBAColor | ((d) => RGBAColor);\n  getStrokeColor?: RGBAColor | ((d) => RGBAColor);\n  getInnerRadius?: number | ((d) => number);\n}\n\nexport default class JunctionScatterplotLayer extends CompositeLayer<\n  any,\n  JunctionScatterplotLayerProps\n> {\n  static layerName = 'JunctionScatterplotLayer';\n  static defaultProps: JunctionScatterplotLayerProps = {\n    ...ScatterplotLayer.defaultProps,\n    getFillColor: (d) => [0, 0, 0, 255],\n    getStrokeColor: (d) => [255, 255, 255, 255],\n    getInnerRadius: (d) => 1,\n  };\n\n  renderLayers() {\n    const { id, getFillColor, getStrokeColor, getInnerRadius, updateTriggers } = this.props;\n\n    // data needs to be passed explicitly after deck.gl 5.3\n    return [\n      // the full circles\n      new ScatterplotLayer({\n        ...this.props,\n        id: `${id}-full`,\n        data: this.props.data,\n        getLineColor: getStrokeColor,\n        updateTriggers: {\n          ...updateTriggers,\n          getStrokeColor: updateTriggers.getStrokeColor,\n        },\n      }), // the inner part\n      new ScatterplotLayer({\n        ...this.props,\n        id: `${id}-inner`,\n        data: this.props.data,\n        getFillColor,\n        getRadius: getInnerRadius,\n        pickable: false,\n        updateTriggers: {\n          ...updateTriggers,\n          getFillColor: updateTriggers.getFillColor,\n          getRadius: updateTriggers.getInnerRadius,\n        },\n      }),\n    ];\n  }\n}\n","import { getCoords } from \"@turf/invariant\";\n/**\n * Takes a ring and return true or false whether or not the ring is clockwise or counter-clockwise.\n *\n * @name booleanClockwise\n * @param {Feature<LineString>|LineString|Array<Array<number>>} line to be evaluated\n * @returns {boolean} true/false\n * @example\n * var clockwiseRing = turf.lineString([[0,0],[1,1],[1,0],[0,0]]);\n * var counterClockwiseRing = turf.lineString([[0,0],[1,0],[1,1],[0,0]]);\n *\n * turf.booleanClockwise(clockwiseRing)\n * //=true\n * turf.booleanClockwise(counterClockwiseRing)\n * //=false\n */\nexport default function booleanClockwise(line) {\n    var ring = getCoords(line);\n    var sum = 0;\n    var i = 1;\n    var prev;\n    var cur;\n    while (i < ring.length) {\n        prev = cur || ring[0];\n        cur = ring[i];\n        sum += (cur[0] - prev[0]) * (cur[1] + prev[1]);\n        i++;\n    }\n    return sum > 0;\n}\n","import clone from '@turf/clone';\nimport booleanClockwise from '@turf/boolean-clockwise';\nimport { featureEach, geomEach } from '@turf/meta';\nimport { getCoords } from '@turf/invariant';\nimport { isObject, featureCollection } from '@turf/helpers';\n\n/**\n * Rewind {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon} outer ring counterclockwise and inner rings clockwise (Uses {@link http://en.wikipedia.org/wiki/Shoelace_formula|Shoelace Formula}).\n *\n * @name rewind\n * @param {GeoJSON} geojson input GeoJSON Polygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.reverse=false] enable reverse winding\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} rewind Polygon\n * @example\n * var polygon = turf.polygon([[[121, -29], [138, -29], [138, -18], [121, -18], [121, -29]]]);\n *\n * var rewind = turf.rewind(polygon);\n *\n * //addToMap\n * var addToMap = [rewind];\n */\nfunction rewind(geojson, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var reverse = options.reverse || false;\n  var mutate = options.mutate || false;\n\n  // validation\n  if (!geojson) throw new Error(\"<geojson> is required\");\n  if (typeof reverse !== \"boolean\")\n    throw new Error(\"<reverse> must be a boolean\");\n  if (typeof mutate !== \"boolean\")\n    throw new Error(\"<mutate> must be a boolean\");\n\n  // prevent input mutation\n  if (mutate === false) geojson = clone(geojson);\n\n  // Support Feature Collection or Geometry Collection\n  var results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"FeatureCollection\":\n      featureEach(geojson, function (feature) {\n        featureEach(rewindFeature(feature, reverse), function (result) {\n          results.push(result);\n        });\n      });\n      return featureCollection(results);\n  }\n  // Support Feature or Geometry Objects\n  return rewindFeature(geojson, reverse);\n}\n\n/**\n * Rewind\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Geometry or Feature\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {Geometry|Feature<any>} rewind Geometry or Feature\n */\nfunction rewindFeature(geojson, reverse) {\n  var type = geojson.type === \"Feature\" ? geojson.geometry.type : geojson.type;\n\n  // Support all GeoJSON Geometry Objects\n  switch (type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"LineString\":\n      rewindLineString(getCoords(geojson), reverse);\n      return geojson;\n    case \"Polygon\":\n      rewindPolygon(getCoords(geojson), reverse);\n      return geojson;\n    case \"MultiLineString\":\n      getCoords(geojson).forEach(function (lineCoords) {\n        rewindLineString(lineCoords, reverse);\n      });\n      return geojson;\n    case \"MultiPolygon\":\n      getCoords(geojson).forEach(function (lineCoords) {\n        rewindPolygon(lineCoords, reverse);\n      });\n      return geojson;\n    case \"Point\":\n    case \"MultiPoint\":\n      return geojson;\n  }\n}\n\n/**\n * Rewind LineString - outer ring clockwise\n *\n * @private\n * @param {Array<Array<number>>} coords GeoJSON LineString geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindLineString(coords, reverse) {\n  if (booleanClockwise(coords) === reverse) coords.reverse();\n}\n\n/**\n * Rewind Polygon - outer ring counterclockwise and inner rings clockwise.\n *\n * @private\n * @param {Array<Array<Array<number>>>} coords GeoJSON Polygon geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindPolygon(coords, reverse) {\n  // outer ring\n  if (booleanClockwise(coords[0]) !== reverse) {\n    coords[0].reverse();\n  }\n  // inner rings\n  for (var i = 1; i < coords.length; i++) {\n    if (booleanClockwise(coords[i]) === reverse) {\n      coords[i].reverse();\n    }\n  }\n}\n\nexport default rewind;\n","/* global importScripts */\nimport {global, isBrowser, isWorker} from '../env-utils/globals';\nimport * as node from '../node/require-utils.node';\nimport {assert} from '../env-utils/assert';\nimport {VERSION as __VERSION__} from '../env-utils/version';\n\n// TODO - unpkg.com doesn't seem to have a `latest` specifier for alpha releases...\nconst LATEST = 'latest';\nconst VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : LATEST;\n\nconst loadLibraryPromises: Record<string, Promise<any>> = {}; // promises\n\n/**\n * Dynamically loads a library (\"module\")\n *\n * - wasm library: Array buffer is returned\n * - js library: Parse JS is returned\n *\n * Method depends on environment\n * - browser - script element is created and installed on document\n * - worker - eval is called on global context\n * - node - file is required\n *\n * @param libraryUrl\n * @param moduleName\n * @param options\n */\nexport async function loadLibrary(\n  libraryUrl: string,\n  moduleName: string | null = null,\n  options: object = {}\n): Promise<any> {\n  if (moduleName) {\n    libraryUrl = getLibraryUrl(libraryUrl, moduleName, options);\n  }\n\n  // Ensure libraries are only loaded once\n\n  loadLibraryPromises[libraryUrl] =\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    loadLibraryPromises[libraryUrl] || loadLibraryFromFile(libraryUrl);\n  return await loadLibraryPromises[libraryUrl];\n}\n\n// TODO - sort out how to resolve paths for main/worker and dev/prod\nexport function getLibraryUrl(library: string, moduleName?: string, options?: any): string {\n  // Check if already a URL\n  if (library.startsWith('http')) {\n    return library;\n  }\n\n  // Allow application to import and supply libraries through `options.modules`\n  const modules = options.modules || {};\n  if (modules[library]) {\n    return modules[library];\n  }\n\n  // Load from local files, not from CDN scripts in Node.js\n  // TODO - needs to locate the modules directory when installed!\n  if (!isBrowser) {\n    return `modules/${moduleName}/dist/libs/${library}`;\n  }\n\n  // In browser, load from external scripts\n  if (options.CDN) {\n    assert(options.CDN.startsWith('http'));\n    return `${options.CDN}/${moduleName}@${VERSION}/dist/libs/${library}`;\n  }\n\n  // TODO - loading inside workers requires paths relative to worker script location...\n  if (isWorker) {\n    return `../src/libs/${library}`;\n  }\n\n  return `modules/${moduleName}/src/libs/${library}`;\n}\n\nasync function loadLibraryFromFile(libraryUrl: string): Promise<any> {\n  if (libraryUrl.endsWith('wasm')) {\n    const response = await fetch(libraryUrl);\n    return await response.arrayBuffer();\n  }\n\n  if (!isBrowser) {\n    try {\n      return node && node.requireFromFile && (await node.requireFromFile(libraryUrl));\n    } catch {\n      return null;\n    }\n  }\n  if (isWorker) {\n    return importScripts(libraryUrl);\n  }\n  // TODO - fix - should be more secure than string parsing since observes CORS\n  // if (isBrowser) {\n  //   return await loadScriptFromFile(libraryUrl);\n  // }\n\n  const response = await fetch(libraryUrl);\n  const scriptSource = await response.text();\n  return loadLibraryFromString(scriptSource, libraryUrl);\n}\n\n/*\nasync function loadScriptFromFile(libraryUrl) {\n  const script = document.createElement('script');\n  script.src = libraryUrl;\n  return await new Promise((resolve, reject) => {\n    script.onload = data => {\n      resolve(data);\n    };\n    script.onerror = reject;\n  });\n}\n*/\n\n// TODO - Needs security audit...\n//  - Raw eval call\n//  - Potentially bypasses CORS\n// Upside is that this separates fetching and parsing\n// we could create a`LibraryLoader` or`ModuleLoader`\nfunction loadLibraryFromString(scriptSource: string, id: string): null | any {\n  if (!isBrowser) {\n    return node.requireFromString && node.requireFromString(scriptSource, id);\n  }\n\n  if (isWorker) {\n    // Use lvalue trick to make eval run in global scope\n    eval.call(global, scriptSource); // eslint-disable-line no-eval\n    // https://stackoverflow.com/questions/9107240/1-evalthis-vs-evalthis-in-javascript\n    // http://perfectionkills.com/global-eval-what-are-the-options/\n    return null;\n  }\n\n  const script = document.createElement('script');\n  script.id = id;\n  // most browsers like a separate text node but some throw an error. The second method covers those.\n  try {\n    script.appendChild(document.createTextNode(scriptSource));\n  } catch (e) {\n    script.text = scriptSource;\n  }\n  document.body.appendChild(script);\n  return null;\n}\n\n// TODO - technique for module injection into worker, from THREE.DracoLoader...\n/*\nfunction combineWorkerWithLibrary(worker, jsContent) {\n  var fn = wWorker.toString();\n  var body = [\n    '// injected',\n    jsContent,\n    '',\n    '// worker',\n    fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}'))\n  ].join('\\n');\n  this.workerSourceURL = URL.createObjectURL(new Blob([body]));\n}\n*/\n","// __VERSION__ is injected by babel-plugin-version-inline\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nconst VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'beta';\n\n// @ts-nocheck\nimport {loadLibrary} from '@loaders.gl/worker-utils';\n\nconst BASIS_CDN_ENCODER_WASM = `https://unpkg.com/@loaders.gl/textures@${VERSION}/dist/libs/basis_encoder.wasm`;\nconst BASIS_CDN_ENCODER_JS = `https://unpkg.com/@loaders.gl/textures@${VERSION}/dist/libs/basis_encoder.js`;\n\nlet loadBasisTranscoderPromise;\n\n/**\n * Loads wasm transcoder module\n * @param options\n * @returns {BasisFile} promise\n */\nexport async function loadBasisTrascoderModule(options) {\n  const modules = options.modules || {};\n  if (modules.basis) {\n    return modules.basis;\n  }\n\n  loadBasisTranscoderPromise = loadBasisTranscoderPromise || loadBasisTrascoder(options);\n  return await loadBasisTranscoderPromise;\n}\n\n/**\n * Loads wasm transcoder module\n * @param options\n * @returns {BasisFile} promise\n */\nasync function loadBasisTrascoder(options) {\n  let BASIS = null;\n  let wasmBinary = null;\n\n  [BASIS, wasmBinary] = await Promise.all([\n    await loadLibrary('basis_transcoder.js', 'textures', options),\n    await loadLibrary('basis_transcoder.wasm', 'textures', options)\n  ]);\n\n  // Depends on how import happened...\n  // @ts-ignore TS2339: Property does not exist on type\n  BASIS = BASIS || globalThis.BASIS;\n  return await initializeBasisTrascoderModule(BASIS, wasmBinary);\n}\n\n/**\n * Initialize wasm transcoder module\n * @param BasisModule - js part of the module\n * @param wasmBinary - wasm part of the module\n * @returns {BasisFile} promise\n */\nfunction initializeBasisTrascoderModule(BasisModule, wasmBinary) {\n  const options: {wasmBinary?} = {};\n\n  if (wasmBinary) {\n    options.wasmBinary = wasmBinary;\n  }\n\n  return new Promise((resolve) => {\n    // if you try to return BasisModule the browser crashes!\n    BasisModule(options).then((module) => {\n      const {BasisFile, initializeBasis} = module;\n      initializeBasis();\n      resolve({BasisFile});\n    });\n  });\n}\n\nlet loadBasisEncoderPromise;\n\n/**\n * Loads wasm encoder module\n * @param options\n * @returns {BasisFile, KTX2File} promise\n */\nexport async function loadBasisEncoderModule(options) {\n  const modules = options.modules || {};\n  if (modules.basisEncoder) {\n    return modules.basisEncoder;\n  }\n\n  loadBasisEncoderPromise = loadBasisEncoderPromise || loadBasisEncoder(options);\n  return await loadBasisEncoderPromise;\n}\n\n/**\n * Loads wasm encoder module\n * @param options\n * @returns {BasisFile, KTX2File} promise\n */\nasync function loadBasisEncoder(options) {\n  let BASIS_ENCODER = null;\n  let wasmBinary = null;\n\n  [BASIS_ENCODER, wasmBinary] = await Promise.all([\n    await loadLibrary(BASIS_CDN_ENCODER_JS, 'textures', options),\n    await loadLibrary(BASIS_CDN_ENCODER_WASM, 'textures', options)\n  ]);\n\n  // Depends on how import happened...\n  // @ts-ignore TS2339: Property does not exist on type\n  BASIS_ENCODER = BASIS_ENCODER || globalThis.BASIS;\n  return await initializeBasisEncoderModule(BASIS_ENCODER, wasmBinary);\n}\n\n/**\n * Initialize wasm transcoder module\n * @param BasisEncoderModule - js part of the module\n * @param wasmBinary - wasm part of the module\n * @returns {BasisFile, KTX2File} promise\n */\nfunction initializeBasisEncoderModule(BasisEncoderModule, wasmBinary) {\n  const options: {wasmBinary?} = {};\n\n  if (wasmBinary) {\n    options.wasmBinary = wasmBinary;\n  }\n\n  return new Promise((resolve) => {\n    // if you try to return BasisModule the browser crashes!\n    BasisEncoderModule(options).then((module) => {\n      const {BasisFile, KTX2File, initializeBasis, BasisEncoder} = module;\n      initializeBasis();\n      resolve({BasisFile, KTX2File, BasisEncoder});\n    });\n  });\n}\n","/* eslint-disable camelcase */\nexport const GL_EXTENSIONS_CONSTANTS = {\n  // WEBGL_compressed_texture_s3tc\n\n  COMPRESSED_RGB_S3TC_DXT1_EXT: 0x83f0,\n  COMPRESSED_RGBA_S3TC_DXT1_EXT: 0x83f1,\n  COMPRESSED_RGBA_S3TC_DXT3_EXT: 0x83f2,\n  COMPRESSED_RGBA_S3TC_DXT5_EXT: 0x83f3,\n\n  // WEBGL_compressed_texture_es3\n\n  COMPRESSED_R11_EAC: 0x9270,\n  COMPRESSED_SIGNED_R11_EAC: 0x9271,\n  COMPRESSED_RG11_EAC: 0x9272,\n  COMPRESSED_SIGNED_RG11_EAC: 0x9273,\n  COMPRESSED_RGB8_ETC2: 0x9274,\n  COMPRESSED_RGBA8_ETC2_EAC: 0x9275,\n  COMPRESSED_SRGB8_ETC2: 0x9276,\n  COMPRESSED_SRGB8_ALPHA8_ETC2_EAC: 0x9277,\n  COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2: 0x9278,\n  COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2: 0x9279,\n\n  // WEBGL_compressed_texture_pvrtc\n\n  COMPRESSED_RGB_PVRTC_4BPPV1_IMG: 0x8c00,\n  COMPRESSED_RGBA_PVRTC_4BPPV1_IMG: 0x8c02,\n  COMPRESSED_RGB_PVRTC_2BPPV1_IMG: 0x8c01,\n  COMPRESSED_RGBA_PVRTC_2BPPV1_IMG: 0x8c03,\n\n  // WEBGL_compressed_texture_etc1\n\n  COMPRESSED_RGB_ETC1_WEBGL: 0x8d64,\n\n  // WEBGL_compressed_texture_atc\n\n  COMPRESSED_RGB_ATC_WEBGL: 0x8c92,\n  COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL: 0x8c93,\n  COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL: 0x87ee,\n\n  // WEBGL_compressed_texture_astc\n\n  COMPRESSED_RGBA_ASTC_4X4_KHR: 0x93b0,\n  COMPRESSED_RGBA_ASTC_5X4_KHR: 0x93b1,\n  COMPRESSED_RGBA_ASTC_5X5_KHR: 0x93b2,\n  COMPRESSED_RGBA_ASTC_6X5_KHR: 0x93b3,\n  COMPRESSED_RGBA_ASTC_6X6_KHR: 0x93b4,\n  COMPRESSED_RGBA_ASTC_8X5_KHR: 0x93b5,\n  COMPRESSED_RGBA_ASTC_8X6_KHR: 0x93b6,\n  COMPRESSED_RGBA_ASTC_8X8_KHR: 0x93b7,\n  COMPRESSED_RGBA_ASTC_10X5_KHR: 0x93b8,\n  COMPRESSED_RGBA_ASTC_10X6_KHR: 0x93b9,\n  COMPRESSED_RGBA_ASTC_10X8_KHR: 0x93ba,\n  COMPRESSED_RGBA_ASTC_10X10_KHR: 0x93bb,\n  COMPRESSED_RGBA_ASTC_12X10_KHR: 0x93bc,\n  COMPRESSED_RGBA_ASTC_12X12_KHR: 0x93bd,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR: 0x93d0,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR: 0x93d1,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR: 0x93d2,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR: 0x93d3,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR: 0x93d4,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR: 0x93d5,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR: 0x93d6,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR: 0x93d7,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR: 0x93d8,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR: 0x93d9,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR: 0x93da,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR: 0x93db,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR: 0x93dc,\n  COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR: 0x93dd,\n\n  // EXT_texture_compression_rgtc\n\n  COMPRESSED_RED_RGTC1_EXT: 0x8dbb,\n  COMPRESSED_SIGNED_RED_RGTC1_EXT: 0x8dbc,\n  COMPRESSED_RED_GREEN_RGTC2_EXT: 0x8dbd,\n  COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT: 0x8dbe,\n\n  // WEBGL_compressed_texture_s3tc_srgb\n\n  COMPRESSED_SRGB_S3TC_DXT1_EXT: 0x8c4c,\n  COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT: 0x8c4d,\n  COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT: 0x8c4e,\n  COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT: 0x8c4f\n};\n","import type {GPUTextureFormat} from '@loaders.gl/schema';\n\nconst BROWSER_PREFIXES = ['', 'WEBKIT_', 'MOZ_'];\n\nconst WEBGL_EXTENSIONS: {[key: string]: GPUTextureFormat} = {\n  /* eslint-disable camelcase */\n  WEBGL_compressed_texture_s3tc: 'dxt',\n  WEBGL_compressed_texture_s3tc_srgb: 'dxt-srgb',\n  WEBGL_compressed_texture_etc1: 'etc1',\n  WEBGL_compressed_texture_etc: 'etc2',\n  WEBGL_compressed_texture_pvrtc: 'pvrtc',\n  WEBGL_compressed_texture_atc: 'atc',\n  WEBGL_compressed_texture_astc: 'astc',\n  EXT_texture_compression_rgtc: 'rgtc'\n  /* eslint-enable camelcase */\n};\n\nlet formats: Set<GPUTextureFormat> | null = null;\n\n/**\n * Returns a list of formats.\n * Creates a temporary WebGLRenderingContext if none is provided.\n *\n * @param gl - Optional context.\n */\nexport function getSupportedGPUTextureFormats(gl?: WebGLRenderingContext): Set<string> {\n  if (!formats) {\n    gl = gl || getWebGLContext() || undefined;\n\n    formats = new Set<GPUTextureFormat>();\n\n    for (const prefix of BROWSER_PREFIXES) {\n      for (const extension in WEBGL_EXTENSIONS) {\n        if (gl && gl.getExtension(`${prefix}${extension}`)) {\n          const gpuTextureFormat = WEBGL_EXTENSIONS[extension];\n          formats.add(gpuTextureFormat);\n        }\n      }\n    }\n  }\n\n  return formats;\n}\n\n/**\n * @returns {WebGLRenderingContext?}\n */\nfunction getWebGLContext() {\n  try {\n    const canvas = document.createElement('canvas');\n    return canvas.getContext('webgl');\n  } catch (error) {\n    return null;\n  }\n}\n","import type {TextureLevel} from '@loaders.gl/schema';\nimport {read} from 'ktx-parse';\nimport {extractMipmapImages} from '../utils/extract-mipmap-images';\nimport {mapVkFormatToWebGL} from '../utils/ktx-format-helper';\n\nconst KTX2_ID = [\n  // '´', 'K', 'T', 'X', '2', '0', 'ª', '\\r', '\\n', '\\x1A', '\\n'\n  0xab, 0x4b, 0x54, 0x58, 0x20, 0x32, 0x30, 0xbb, 0x0d, 0x0a, 0x1a, 0x0a\n];\n\n// eslint-disable-next-line complexity\nexport function isKTX(data: ArrayBuffer) {\n  // const id = new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n  const id = new Uint8Array(data);\n  const notKTX =\n    id.byteLength < KTX2_ID.length ||\n    id[0] !== KTX2_ID[0] || // '´'\n    id[1] !== KTX2_ID[1] || // 'K'\n    id[2] !== KTX2_ID[2] || // 'T'\n    id[3] !== KTX2_ID[3] || // 'X'\n    id[4] !== KTX2_ID[4] || // ' '\n    id[5] !== KTX2_ID[5] || // '2'\n    id[6] !== KTX2_ID[6] || // '0'\n    id[7] !== KTX2_ID[7] || // 'ª'\n    id[8] !== KTX2_ID[8] || // '\\r'\n    id[9] !== KTX2_ID[9] || // '\\n'\n    id[10] !== KTX2_ID[10] || // '\\x1A'\n    id[11] !== KTX2_ID[11]; // '\\n'\n\n  return !notKTX;\n}\n\nexport function parseKTX(arrayBuffer: ArrayBuffer): TextureLevel[] {\n  const uint8Array = new Uint8Array(arrayBuffer);\n  const ktx = read(uint8Array);\n  const mipMapLevels = Math.max(1, ktx.levels.length);\n  const width = ktx.pixelWidth;\n  const height = ktx.pixelHeight;\n  const internalFormat = mapVkFormatToWebGL(ktx.vkFormat);\n\n  return extractMipmapImages(ktx.levels, {\n    mipMapLevels,\n    width,\n    height,\n    sizeFunction: (level: any): number => level.uncompressedByteLength,\n    internalFormat\n  });\n}\n","/* eslint-disable indent */\nimport type {TextureLevel} from '@loaders.gl/schema';\nimport {loadBasisEncoderModule, loadBasisTrascoderModule} from './basis-module-loader';\nimport {GL_EXTENSIONS_CONSTANTS} from '../gl-extensions';\nimport {getSupportedGPUTextureFormats} from '../utils/texture-formats';\nimport {isKTX} from './parse-ktx';\n\nexport type BasisFormat =\n  | 'etc1'\n  | 'etc2'\n  | 'bc1'\n  | 'bc3'\n  | 'bc4'\n  | 'bc5'\n  | 'bc7-m6-opaque-only'\n  | 'bc7-m5'\n  | 'pvrtc1-4-rgb'\n  | 'pvrtc1-4-rgba'\n  | 'astc-4x4'\n  | 'atc-rgb'\n  | 'atc-rgba-interpolated-alpha'\n  | 'rgba32'\n  | 'rgb565'\n  | 'bgr565'\n  | 'rgba4444';\n\ntype BasisOutputOptions = {\n  basisFormat: number;\n  compressed: boolean;\n  format?: number;\n};\n\nconst OutputFormat: Record<string, BasisOutputOptions> = {\n  etc1: {\n    basisFormat: 0,\n    compressed: true,\n    format: GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_ETC1_WEBGL\n  },\n  etc2: {basisFormat: 1, compressed: true},\n  bc1: {\n    basisFormat: 2,\n    compressed: true,\n    format: GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_S3TC_DXT1_EXT\n  },\n  bc3: {\n    basisFormat: 3,\n    compressed: true,\n    format: GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT5_EXT\n  },\n  bc4: {basisFormat: 4, compressed: true},\n  bc5: {basisFormat: 5, compressed: true},\n  'bc7-m6-opaque-only': {basisFormat: 6, compressed: true},\n  'bc7-m5': {basisFormat: 7, compressed: true},\n  'pvrtc1-4-rgb': {\n    basisFormat: 8,\n    compressed: true,\n    format: GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG\n  },\n  'pvrtc1-4-rgba': {\n    basisFormat: 9,\n    compressed: true,\n    format: GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\n  },\n  'astc-4x4': {\n    basisFormat: 10,\n    compressed: true,\n    format: GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_4X4_KHR\n  },\n  'atc-rgb': {basisFormat: 11, compressed: true},\n  'atc-rgba-interpolated-alpha': {basisFormat: 12, compressed: true},\n  rgba32: {basisFormat: 13, compressed: false},\n  rgb565: {basisFormat: 14, compressed: false},\n  bgr565: {basisFormat: 15, compressed: false},\n  rgba4444: {basisFormat: 16, compressed: false}\n};\n\n/**\n * parse data with a Binomial Basis_Universal module\n * @param data\n * @param options\n * @returns compressed texture data\n */\nexport default async function parseBasis(data: ArrayBuffer, options): Promise<TextureLevel[][]> {\n  if (options.basis.containerFormat === 'auto') {\n    if (isKTX(data)) {\n      const fileConstructors = await loadBasisEncoderModule(options);\n      return parseKTX2File(fileConstructors.KTX2File, data, options);\n    }\n    const {BasisFile} = await loadBasisTrascoderModule(options);\n    return parseBasisFile(BasisFile, data, options);\n  }\n  switch (options.basis.module) {\n    case 'encoder':\n      const fileConstructors = await loadBasisEncoderModule(options);\n      switch (options.basis.containerFormat) {\n        case 'ktx2':\n          return parseKTX2File(fileConstructors.KTX2File, data, options);\n        case 'basis':\n        default:\n          return parseBasisFile(fileConstructors.BasisFile, data, options);\n      }\n    case 'transcoder':\n    default:\n      const {BasisFile} = await loadBasisTrascoderModule(options);\n      return parseBasisFile(BasisFile, data, options);\n  }\n}\n\n/**\n * Parse *.basis file data\n * @param BasisFile - initialized transcoder module\n * @param data\n * @param options\n * @returns compressed texture data\n */\nfunction parseBasisFile(BasisFile, data, options): TextureLevel[][] {\n  const basisFile = new BasisFile(new Uint8Array(data));\n\n  try {\n    if (!basisFile.startTranscoding()) {\n      throw new Error('Failed to start basis transcoding');\n    }\n\n    const imageCount = basisFile.getNumImages();\n    const images: TextureLevel[][] = [];\n\n    for (let imageIndex = 0; imageIndex < imageCount; imageIndex++) {\n      const levelsCount = basisFile.getNumLevels(imageIndex);\n      const levels: TextureLevel[] = [];\n\n      for (let levelIndex = 0; levelIndex < levelsCount; levelIndex++) {\n        levels.push(transcodeImage(basisFile, imageIndex, levelIndex, options));\n      }\n\n      images.push(levels);\n    }\n\n    return images;\n  } finally {\n    basisFile.close();\n    basisFile.delete();\n  }\n}\n\n/**\n * Parse the particular level image of a basis file\n * @param basisFile\n * @param imageIndex\n * @param levelIndex\n * @param options\n * @returns compressed texture data\n */\nfunction transcodeImage(basisFile, imageIndex, levelIndex, options): TextureLevel {\n  const width = basisFile.getImageWidth(imageIndex, levelIndex);\n  const height = basisFile.getImageHeight(imageIndex, levelIndex);\n\n  // See https://github.com/BinomialLLC/basis_universal/pull/83\n  const hasAlpha = basisFile.getHasAlpha(/* imageIndex, levelIndex */);\n\n  // Check options for output format etc\n  const {compressed, format, basisFormat} = getBasisOptions(options, hasAlpha);\n\n  const decodedSize = basisFile.getImageTranscodedSizeInBytes(imageIndex, levelIndex, basisFormat);\n  const decodedData = new Uint8Array(decodedSize);\n\n  if (!basisFile.transcodeImage(decodedData, imageIndex, levelIndex, basisFormat, 0, 0)) {\n    throw new Error('failed to start Basis transcoding');\n  }\n\n  return {\n    // standard loaders.gl image category payload\n    width,\n    height,\n    data: decodedData,\n    compressed,\n    format,\n\n    // Additional fields\n    // Add levelSize field.\n    hasAlpha\n  };\n}\n\n/**\n * Parse *.ktx2 file data\n * @param KTX2File\n * @param data\n * @param options\n * @returns compressed texture data\n */\nfunction parseKTX2File(KTX2File, data: ArrayBuffer, options): TextureLevel[][] {\n  const ktx2File = new KTX2File(new Uint8Array(data));\n\n  try {\n    if (!ktx2File.startTranscoding()) {\n      throw new Error('failed to start KTX2 transcoding');\n    }\n    const levelsCount = ktx2File.getLevels();\n    const levels: TextureLevel[] = [];\n\n    for (let levelIndex = 0; levelIndex < levelsCount; levelIndex++) {\n      levels.push(transcodeKTX2Image(ktx2File, levelIndex, options));\n      break; // texture app can only show one level for some reason\n    }\n\n    return [levels];\n  } finally {\n    ktx2File.close();\n    ktx2File.delete();\n  }\n}\n\n/**\n * Parse the particular level image of a ktx2 file\n * @param ktx2File\n * @param levelIndex\n * @param options\n * @returns\n */\nfunction transcodeKTX2Image(ktx2File, levelIndex: number, options): TextureLevel {\n  const {alphaFlag, height, width} = ktx2File.getImageLevelInfo(levelIndex, 0, 0);\n\n  // Check options for output format etc\n  const {compressed, format, basisFormat} = getBasisOptions(options, alphaFlag);\n\n  const decodedSize = ktx2File.getImageTranscodedSizeInBytes(\n    levelIndex,\n    0 /* layerIndex */,\n    0 /* faceIndex */,\n    basisFormat\n  );\n  const decodedData = new Uint8Array(decodedSize);\n\n  if (\n    !ktx2File.transcodeImage(\n      decodedData,\n      levelIndex,\n      0 /* layerIndex */,\n      0 /* faceIndex */,\n      basisFormat,\n      0,\n      -1 /* channel0 */,\n      -1 /* channel1 */\n    )\n  ) {\n    throw new Error('Failed to transcode KTX2 image');\n  }\n\n  return {\n    // standard loaders.gl image category payload\n    width,\n    height,\n    data: decodedData,\n    compressed,\n\n    // Additional fields\n    // Add levelSize field.\n    hasAlpha: alphaFlag,\n    format\n  };\n}\n\n/**\n * Get BasisFormat by loader format option\n * @param options\n * @param hasAlpha\n * @returns BasisFormat data\n */\nfunction getBasisOptions(options, hasAlpha: boolean): BasisOutputOptions {\n  let format = options && options.basis && options.basis.format;\n  if (format === 'auto') {\n    format = selectSupportedBasisFormat();\n  }\n  if (typeof format === 'object') {\n    format = hasAlpha ? format.alpha : format.noAlpha;\n  }\n  format = format.toLowerCase();\n  return OutputFormat[format];\n}\n\n/**\n * Select transcode format from the list of supported formats\n * @returns key for OutputFormat map\n */\nexport function selectSupportedBasisFormat():\n  | BasisFormat\n  | {\n      alpha: BasisFormat;\n      noAlpha: BasisFormat;\n    } {\n  const supportedFormats = getSupportedGPUTextureFormats();\n  if (supportedFormats.has('astc')) {\n    return 'astc-4x4';\n  } else if (supportedFormats.has('dxt')) {\n    return {\n      alpha: 'bc3',\n      noAlpha: 'bc1'\n    };\n  } else if (supportedFormats.has('pvrtc')) {\n    return {\n      alpha: 'pvrtc1-4-rgba',\n      noAlpha: 'pvrtc1-4-rgb'\n    };\n  } else if (supportedFormats.has('etc1')) {\n    return 'etc1';\n  } else if (supportedFormats.has('etc2')) {\n    return 'etc2';\n  }\n  return 'rgb565';\n}\n","import type {Loader, LoaderWithParser} from '@loaders.gl/loader-utils';\nimport {VERSION} from './lib/utils/version';\nimport parseBasis from './lib/parsers/parse-basis';\n\n/**\n * Worker loader for Basis super compressed textures\n */\nexport const BasisWorkerLoader = {\n  name: 'Basis',\n  id: 'basis',\n  module: 'textures',\n  version: VERSION,\n  worker: true,\n  extensions: ['basis', 'ktx2'],\n  mimeTypes: ['application/octet-stream', 'image/ktx2'],\n  tests: ['sB'],\n  binary: true,\n  options: {\n    basis: {\n      format: 'auto', // gl context doesn't exist on a worker thread\n      libraryPath: 'libs/',\n      containerFormat: 'auto', // 'basis' || 'ktx2' || 'auto'\n      module: 'transcoder' // 'transcoder' || 'encoder'\n    }\n  }\n};\n\n/**\n * Loader for Basis super compressed textures\n */\nexport const BasisLoader = {\n  ...BasisWorkerLoader,\n  parse: parseBasis\n};\n\n// TYPE TESTS - TODO find a better way than exporting junk\nexport const _TypecheckBasisWorkerLoader: Loader = BasisWorkerLoader;\nexport const _TypecheckBasisLoader: LoaderWithParser = BasisLoader;\n","// Resolves a relative url against a baseUrl\n// If url is absolute, return it unchanged\nexport function resolveUrl(url, options) {\n  // TODO: Use better logic to handle all protocols plus not delay on data\n  const absolute = url.startsWith('data:') || url.startsWith('http:') || url.startsWith('https:');\n  if (absolute) {\n    return url;\n  }\n  const baseUrl = options.baseUri || options.uri;\n  if (!baseUrl) {\n    throw new Error(`'baseUri' must be provided to resolve relative url ${url}`);\n  }\n  return baseUrl.substr(0, baseUrl.lastIndexOf('/') + 1) + url;\n}\n","// TODO - GLTFScenegraph should use these\nimport {assert} from '../utils/assert';\n\n// accepts buffer view index or buffer view object\n// returns a `Uint8Array`\nexport function getTypedArrayForBufferView(json, buffers, bufferViewIndex) {\n  const bufferView = json.bufferViews[bufferViewIndex];\n  assert(bufferView);\n\n  // Get hold of the arrayBuffer\n  const bufferIndex = bufferView.buffer;\n  const binChunk = buffers[bufferIndex];\n  assert(binChunk);\n\n  const byteOffset = (bufferView.byteOffset || 0) + binChunk.byteOffset;\n  return new Uint8Array(binChunk.arrayBuffer, byteOffset, bufferView.byteLength);\n}\n\n// accepts accessor index or accessor object\n// returns a `Uint8Array`\nexport function getTypedArrayForImageData(json, buffers, imageIndex) {\n  const image = json.images[imageIndex];\n  const bufferViewIndex = json.bufferViews[image.bufferView];\n  return getTypedArrayForBufferView(json, buffers, bufferViewIndex);\n}\n\n/*\n// accepts accessor index or accessor object\n// returns a typed array with type that matches the types\nexport function getTypedArrayForAccessor(accessor) {\n  accessor = this.getAccessor(accessor);\n  const bufferView = this.getBufferView(accessor.bufferView);\n  const buffer = this.getBuffer(bufferView.buffer);\n  const arrayBuffer = buffer.data;\n\n  // Create a new typed array as a view into the combined buffer\n  const {ArrayType, length} = getAccessorArrayTypeAndLength(accessor, bufferView);\n  const byteOffset = bufferView.byteOffset + accessor.byteOffset;\n  return new ArrayType(arrayBuffer, byteOffset, length);\n}\n*/\n","import {assert} from '../utils/assert';\n\nconst TYPES = ['SCALAR', 'VEC2', 'VEC3', 'VEC4'];\n\ntype TypedArrayConstructor =\n  | Int8ArrayConstructor\n  | Uint8ArrayConstructor\n  | Int16ArrayConstructor\n  | Uint16ArrayConstructor\n  | Int32ArrayConstructor\n  | Uint32ArrayConstructor\n  | Int32ArrayConstructor\n  | Uint32ArrayConstructor\n  | Float32ArrayConstructor\n  | Float64ArrayConstructor;\n\nconst ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT: [TypedArrayConstructor, number][] = [\n  [Int8Array, 5120],\n  [Uint8Array, 5121],\n  [Int16Array, 5122],\n  [Uint16Array, 5123],\n  [Uint32Array, 5125],\n  [Float32Array, 5126],\n  [Float64Array, 5130]\n];\nconst ARRAY_TO_COMPONENT_TYPE = new Map<TypedArrayConstructor, number>(\n  ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT\n);\n\nconst ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nconst ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE = {\n  5120: 1,\n  5121: 1,\n  5122: 2,\n  5123: 2,\n  5125: 4,\n  5126: 4\n};\n\nconst ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\n\nexport function getAccessorTypeFromSize(size) {\n  const type = TYPES[size - 1];\n  return type || TYPES[0];\n}\n\nexport function getComponentTypeFromArray(typedArray) {\n  const componentType = ARRAY_TO_COMPONENT_TYPE.get(typedArray.constructor);\n  if (!componentType) {\n    throw new Error('Illegal typed array');\n  }\n  return componentType;\n}\n\nexport function getAccessorArrayTypeAndLength(accessor, bufferView) {\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[accessor.componentType];\n  const length = accessor.count * components;\n  const byteLength = accessor.count * components * bytesPerComponent;\n  assert(byteLength >= 0 && byteLength <= bufferView.byteLength);\n  return {ArrayType, length, byteLength};\n}\n","import type {\n  GLTF,\n  GLTFScene,\n  GLTFNode,\n  GLTFMesh,\n  GLTFSkin,\n  GLTFMaterial,\n  GLTFAccessor,\n  GLTFSampler,\n  GLTFTexture,\n  GLTFImage,\n  GLTFBuffer,\n  GLTFBufferView\n} from '../types/gltf-types';\n\nimport {getBinaryImageMetadata} from '@loaders.gl/images';\nimport {padToNBytes, copyToArray} from '@loaders.gl/loader-utils';\nimport {assert} from '../utils/assert';\nimport {\n  getAccessorArrayTypeAndLength,\n  getAccessorTypeFromSize,\n  getComponentTypeFromArray\n} from '../gltf-utils/gltf-utils';\n\ntype GLTFWithBuffers = {\n  json: GLTF;\n  buffers: any[];\n  binary?: ArrayBuffer;\n};\n\nconst DEFAULT_GLTF_JSON: GLTF = {\n  asset: {\n    version: '2.0',\n    generator: 'loaders.gl'\n  },\n  buffers: []\n};\n\ntype Extension = {[key: string]: any};\n/**\n * Class for structured access to GLTF data\n */\nexport default class GLTFScenegraph {\n  // internal\n  gltf: GLTFWithBuffers;\n  sourceBuffers: any[];\n  byteLength: number;\n\n  constructor(gltf?: {json: GLTF; buffers?: any[]}) {\n    // @ts-ignore\n    this.gltf = gltf || {\n      json: {...DEFAULT_GLTF_JSON},\n      buffers: []\n    };\n    this.sourceBuffers = [];\n    this.byteLength = 0;\n\n    // Initialize buffers\n    if (this.gltf.buffers && this.gltf.buffers[0]) {\n      this.byteLength = this.gltf.buffers[0].byteLength;\n      this.sourceBuffers = [this.gltf.buffers[0]];\n    }\n  }\n\n  // Accessors\n\n  get json(): GLTF {\n    return this.gltf.json;\n  }\n\n  getApplicationData(key: string): {[key: string]: any} {\n    // TODO - Data is already unpacked by GLBParser\n    const data = this.json[key];\n    return data;\n  }\n\n  getExtraData(key: string): {[key: string]: any} {\n    // TODO - Data is already unpacked by GLBParser\n    const extras = this.json.extras || {};\n    return extras[key];\n  }\n\n  getExtension<T = Extension>(extensionName: string): T | null {\n    const isExtension = this.getUsedExtensions().find((name) => name === extensionName);\n    const extensions = this.json.extensions || {};\n    return isExtension ? extensions[extensionName] || true : null;\n  }\n\n  getRequiredExtension<T = Extension>(extensionName: string): T | null {\n    const isRequired = this.getRequiredExtensions().find((name) => name === extensionName);\n    return isRequired ? this.getExtension(extensionName) : null;\n  }\n\n  getRequiredExtensions(): string[] {\n    return this.json.extensionsRequired || [];\n  }\n\n  getUsedExtensions(): string[] {\n    return this.json.extensionsUsed || [];\n  }\n\n  getObjectExtension<T = Extension>(object: {[key: string]: any}, extensionName: string): T | null {\n    const extensions = object.extensions || {};\n    return extensions[extensionName];\n  }\n\n  getScene(index: number): GLTFScene {\n    return this.getObject('scenes', index) as GLTFScene;\n  }\n\n  getNode(index: number): GLTFNode {\n    return this.getObject('nodes', index) as GLTFNode;\n  }\n\n  getSkin(index: number): GLTFSkin {\n    return this.getObject('skins', index) as GLTFSkin;\n  }\n\n  getMesh(index: number): GLTFMesh {\n    return this.getObject('meshes', index) as GLTFMesh;\n  }\n\n  getMaterial(index: number): GLTFMaterial {\n    return this.getObject('materials', index) as GLTFMaterial;\n  }\n\n  getAccessor(index: number): GLTFAccessor {\n    return this.getObject('accessors', index) as GLTFAccessor;\n  }\n\n  // getCamera(index: number): object | null {\n  //   return null; // TODO: fix thi: object  as null;\n  // }\n\n  getTexture(index: number): GLTFTexture {\n    return this.getObject('textures', index) as GLTFTexture;\n  }\n\n  getSampler(index: number): GLTFSampler {\n    return this.getObject('samplers', index) as GLTFSampler;\n  }\n\n  getImage(index: number): GLTFImage {\n    return this.getObject('images', index) as GLTFImage;\n  }\n\n  getBufferView(index: number | object): GLTFBufferView {\n    return this.getObject('bufferViews', index) as GLTFBufferView;\n  }\n\n  getBuffer(index: number): GLTFBuffer {\n    return this.getObject('buffers', index) as GLTFBuffer;\n  }\n\n  getObject(array: string, index: number | object): object {\n    // check if already resolved\n    if (typeof index === 'object') {\n      return index;\n    }\n    const object = this.json[array] && this.json[array][index];\n    if (!object) {\n      throw new Error(`glTF file error: Could not find ${array}[${index}]`); // eslint-disable-line\n    }\n    return object;\n  }\n\n  /**\n   * Accepts buffer view index or buffer view object\n   * @returns a `Uint8Array`\n   */\n  getTypedArrayForBufferView(bufferView: number | object): Uint8Array {\n    bufferView = this.getBufferView(bufferView);\n    // @ts-ignore\n    const bufferIndex = bufferView.buffer;\n\n    // Get hold of the arrayBuffer\n    // const buffer = this.getBuffer(bufferIndex);\n    const binChunk = this.gltf.buffers[bufferIndex];\n    assert(binChunk);\n\n    // @ts-ignore\n    const byteOffset = (bufferView.byteOffset || 0) + binChunk.byteOffset;\n    // @ts-ignore\n    return new Uint8Array(binChunk.arrayBuffer, byteOffset, bufferView.byteLength);\n  }\n\n  /** Accepts accessor index or accessor object\n   * @returns a typed array with type that matches the types\n   */\n  getTypedArrayForAccessor(accessor: number | object): any {\n    // @ts-ignore\n    accessor = this.getAccessor(accessor);\n    // @ts-ignore\n    const bufferView = this.getBufferView(accessor.bufferView);\n    const buffer = this.getBuffer(bufferView.buffer);\n    // @ts-ignore\n    const arrayBuffer = buffer.data;\n\n    // Create a new typed array as a view into the combined buffer\n    const {ArrayType, length} = getAccessorArrayTypeAndLength(accessor, bufferView);\n    // @ts-ignore\n    const byteOffset = bufferView.byteOffset + accessor.byteOffset;\n    return new ArrayType(arrayBuffer, byteOffset, length);\n  }\n\n  /** accepts accessor index or accessor object\n   * returns a `Uint8Array`\n   */\n  getTypedArrayForImageData(image: number | object): Uint8Array {\n    // @ts-ignore\n    image = this.getAccessor(image);\n    // @ts-ignore\n    const bufferView = this.getBufferView(image.bufferView);\n    const buffer = this.getBuffer(bufferView.buffer);\n    // @ts-ignore\n    const arrayBuffer = buffer.data;\n\n    const byteOffset = bufferView.byteOffset || 0;\n    return new Uint8Array(arrayBuffer, byteOffset, bufferView.byteLength);\n  }\n\n  // MODIFERS\n\n  /**\n   * Add an extra application-defined key to the top-level data structure\n   */\n  addApplicationData(key: string, data: object): GLTFScenegraph {\n    this.json[key] = data;\n    return this;\n  }\n\n  /**\n   * `extras` - Standard GLTF field for storing application specific data\n   */\n  addExtraData(key: string, data: object): GLTFScenegraph {\n    this.json.extras = this.json.extras || {};\n    this.json.extras[key] = data;\n    return this;\n  }\n\n  addObjectExtension(object: object, extensionName: string, data: object): GLTFScenegraph {\n    // @ts-ignore\n    object.extensions = object.extensions || {};\n    // TODO - clobber or merge?\n    // @ts-ignore\n    object.extensions[extensionName] = data;\n    this.registerUsedExtension(extensionName);\n    return this;\n  }\n\n  setObjectExtension(object: object, extensionName: string, data: object): void {\n    // @ts-ignore\n    const extensions = object.extensions || {};\n    extensions[extensionName] = data;\n    // TODO - add to usedExtensions...\n  }\n\n  removeObjectExtension(object: object, extensionName: string): object {\n    // @ts-ignore\n    const extensions = object.extensions || {};\n    const extension = extensions[extensionName];\n    delete extensions[extensionName];\n    return extension;\n  }\n\n  /**\n   * Add to standard GLTF top level extension object, mark as used\n   */\n  addExtension(extensionName: string, extensionData: object = {}): object {\n    assert(extensionData);\n    this.json.extensions = this.json.extensions || {};\n    this.json.extensions[extensionName] = extensionData;\n    this.registerUsedExtension(extensionName);\n    return extensionData;\n  }\n\n  /**\n   * Standard GLTF top level extension object, mark as used and required\n   */\n  addRequiredExtension(extensionName, extensionData: object = {}): object {\n    assert(extensionData);\n    this.addExtension(extensionName, extensionData);\n    this.registerRequiredExtension(extensionName);\n    return extensionData;\n  }\n\n  /**\n   * Add extensionName to list of used extensions\n   */\n  registerUsedExtension(extensionName: string): void {\n    this.json.extensionsUsed = this.json.extensionsUsed || [];\n    if (!this.json.extensionsUsed.find((ext) => ext === extensionName)) {\n      this.json.extensionsUsed.push(extensionName);\n    }\n  }\n\n  /**\n   * Add extensionName to list of required extensions\n   */\n  registerRequiredExtension(extensionName: string): void {\n    this.registerUsedExtension(extensionName);\n    this.json.extensionsRequired = this.json.extensionsRequired || [];\n    if (!this.json.extensionsRequired.find((ext) => ext === extensionName)) {\n      this.json.extensionsRequired.push(extensionName);\n    }\n  }\n\n  /**\n   * Removes an extension from the top-level list\n   */\n  removeExtension(extensionName: string): void {\n    if (this.json.extensionsRequired) {\n      this._removeStringFromArray(this.json.extensionsRequired, extensionName);\n    }\n    if (this.json.extensionsUsed) {\n      this._removeStringFromArray(this.json.extensionsUsed, extensionName);\n    }\n    if (this.json.extensions) {\n      delete this.json.extensions[extensionName];\n    }\n  }\n\n  /**\n   *  Set default scene which is to be displayed at load time\n   */\n  setDefaultScene(sceneIndex: number): void {\n    this.json.scene = sceneIndex;\n  }\n\n  /**\n   * @todo: add more properties for scene initialization:\n   *   name`, `extensions`, `extras`\n   *   https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#reference-scene\n   */\n  addScene(scene: {nodeIndices: number[]}): number {\n    const {nodeIndices} = scene;\n    this.json.scenes = this.json.scenes || [];\n    this.json.scenes.push({nodes: nodeIndices});\n    return this.json.scenes.length - 1;\n  }\n\n  /**\n   * @todo: add more properties for node initialization:\n   *   `name`, `extensions`, `extras`, `camera`, `children`, `skin`, `rotation`, `scale`, `translation`, `weights`\n   *   https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#node\n   */\n  addNode(node: {meshIndex: number; matrix?: number[]}): number {\n    const {meshIndex, matrix} = node;\n    this.json.nodes = this.json.nodes || [];\n    const nodeData = {mesh: meshIndex};\n    if (matrix) {\n      // @ts-ignore\n      nodeData.matrix = matrix;\n    }\n    this.json.nodes.push(nodeData);\n    return this.json.nodes.length - 1;\n  }\n\n  /** Adds a mesh to the json part */\n  addMesh(mesh: {attributes: object; indices?: object; material?: number; mode?: number}): number {\n    const {attributes, indices, material, mode = 4} = mesh;\n    const accessors = this._addAttributes(attributes);\n\n    const glTFMesh = {\n      primitives: [\n        {\n          attributes: accessors,\n          mode\n        }\n      ]\n    };\n\n    if (indices) {\n      const indicesAccessor = this._addIndices(indices);\n      // @ts-ignore\n      glTFMesh.primitives[0].indices = indicesAccessor;\n    }\n\n    if (Number.isFinite(material)) {\n      // @ts-ignore\n      glTFMesh.primitives[0].material = material;\n    }\n\n    this.json.meshes = this.json.meshes || [];\n    this.json.meshes.push(glTFMesh);\n    return this.json.meshes.length - 1;\n  }\n\n  addPointCloud(attributes: object): number {\n    // @ts-ignore\n    const accessorIndices = this._addAttributes(attributes);\n\n    const glTFMesh = {\n      primitives: [\n        {\n          attributes: accessorIndices,\n          mode: 0 // GL.POINTS\n        }\n      ]\n    };\n\n    this.json.meshes = this.json.meshes || [];\n    this.json.meshes.push(glTFMesh);\n    return this.json.meshes.length - 1;\n  }\n\n  /**\n   * Adds a binary image. Builds glTF \"JSON metadata\" and saves buffer reference\n   * Buffer will be copied into BIN chunk during \"pack\"\n   * Currently encodes as glTF image\n   * @param imageData\n   * @param mimeType\n   */\n  addImage(imageData: any, mimeTypeOpt?: string): number {\n    // If image is referencing a bufferView instead of URI, mimeType must be defined:\n    //   https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#images\n    //   \"a reference to a bufferView; in that case mimeType must be defined.\"\n    const metadata = getBinaryImageMetadata(imageData);\n    const mimeType = mimeTypeOpt || metadata?.mimeType;\n\n    const bufferViewIndex = this.addBufferView(imageData);\n\n    const glTFImage = {\n      bufferView: bufferViewIndex,\n      mimeType\n    };\n\n    this.json.images = this.json.images || [];\n    this.json.images.push(glTFImage);\n    return this.json.images.length - 1;\n  }\n\n  /**\n   * Add one untyped source buffer, create a matching glTF `bufferView`, and return its index\n   * @param buffer\n   */\n  addBufferView(buffer: any): number {\n    const byteLength = buffer.byteLength;\n    assert(Number.isFinite(byteLength));\n\n    // Add this buffer to the list of buffers to be written to the body.\n    this.sourceBuffers = this.sourceBuffers || [];\n    this.sourceBuffers.push(buffer);\n\n    const glTFBufferView = {\n      buffer: 0,\n      // Write offset from the start of the binary body\n      byteOffset: this.byteLength,\n      byteLength\n    };\n\n    // We've now added the contents to the body, so update the total length\n    // Every sub-chunk needs to be 4-byte align ed\n    this.byteLength += padToNBytes(byteLength, 4);\n\n    // Add a bufferView indicating start and length of this binary sub-chunk\n    this.json.bufferViews = this.json.bufferViews || [];\n    this.json.bufferViews.push(glTFBufferView);\n    return this.json.bufferViews.length - 1;\n  }\n\n  /**\n   * Adds an accessor to a bufferView\n   * @param bufferViewIndex\n   * @param accessor\n   */\n  addAccessor(bufferViewIndex: number, accessor: object): number {\n    const glTFAccessor = {\n      bufferView: bufferViewIndex,\n      // @ts-ignore\n      type: getAccessorTypeFromSize(accessor.size),\n      // @ts-ignore\n      componentType: accessor.componentType,\n      // @ts-ignore\n      count: accessor.count,\n      // @ts-ignore\n      max: accessor.max,\n      // @ts-ignore\n      min: accessor.min\n    };\n\n    this.json.accessors = this.json.accessors || [];\n    this.json.accessors.push(glTFAccessor);\n    return this.json.accessors.length - 1;\n  }\n\n  /**\n   * Add a binary buffer. Builds glTF \"JSON metadata\" and saves buffer reference\n   * Buffer will be copied into BIN chunk during \"pack\"\n   * Currently encodes buffers as glTF accessors, but this could be optimized\n   * @param sourceBuffer\n   * @param accessor\n   */\n  addBinaryBuffer(sourceBuffer: any, accessor: object = {size: 3}): number {\n    const bufferViewIndex = this.addBufferView(sourceBuffer);\n    // @ts-ignore\n    let minMax = {min: accessor.min, max: accessor.max};\n    if (!minMax.min || !minMax.max) {\n      // @ts-ignore\n      minMax = this._getAccessorMinMax(sourceBuffer, accessor.size);\n    }\n\n    const accessorDefaults = {\n      // @ts-ignore\n      size: accessor.size,\n      componentType: getComponentTypeFromArray(sourceBuffer),\n      // @ts-ignore\n      count: Math.round(sourceBuffer.length / accessor.size),\n      min: minMax.min,\n      max: minMax.max\n    };\n\n    return this.addAccessor(bufferViewIndex, Object.assign(accessorDefaults, accessor));\n  }\n\n  /**\n   * Adds a texture to the json part\n   * @todo: add more properties for texture initialization\n   * `sampler`, `name`, `extensions`, `extras`\n   * https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#texture\n   */\n  addTexture(texture: {imageIndex: number}): number {\n    const {imageIndex} = texture;\n    const glTFTexture = {\n      source: imageIndex\n    };\n\n    this.json.textures = this.json.textures || [];\n    this.json.textures.push(glTFTexture);\n    return this.json.textures.length - 1;\n  }\n\n  /** Adds a material to the json part */\n  addMaterial(pbrMaterialInfo: Object): number {\n    this.json.materials = this.json.materials || [];\n    this.json.materials.push(pbrMaterialInfo);\n    return this.json.materials.length - 1;\n  }\n\n  /** Pack the binary chunk */\n  createBinaryChunk(): void {\n    // Encoder expects this array undefined or empty\n    this.gltf.buffers = [];\n\n    // Allocate total array\n    const totalByteLength = this.byteLength;\n    const arrayBuffer = new ArrayBuffer(totalByteLength);\n    const targetArray = new Uint8Array(arrayBuffer);\n\n    // Copy each array into\n    let dstByteOffset = 0;\n    for (const sourceBuffer of this.sourceBuffers || []) {\n      dstByteOffset = copyToArray(sourceBuffer, targetArray, dstByteOffset);\n    }\n\n    // Update the glTF BIN CHUNK byte length\n    if (this.json?.buffers?.[0]) {\n      this.json.buffers[0].byteLength = totalByteLength;\n    } else {\n      this.json.buffers = [{byteLength: totalByteLength}];\n    }\n\n    // Save generated arrayBuffer\n    this.gltf.binary = arrayBuffer;\n\n    // Put arrayBuffer to sourceBuffers for possible additional writing data in the chunk\n    this.sourceBuffers = [arrayBuffer];\n  }\n\n  // PRIVATE\n\n  _removeStringFromArray(array, string) {\n    let found = true;\n    while (found) {\n      const index = array.indexOf(string);\n      if (index > -1) {\n        array.splice(index, 1);\n      } else {\n        found = false;\n      }\n    }\n  }\n\n  /**\n   * Add attributes to buffers and create `attributes` object which is part of `mesh`\n   */\n  _addAttributes(attributes = {}) {\n    const result = {};\n    for (const attributeKey in attributes) {\n      const attributeData = attributes[attributeKey];\n      const attrName = this._getGltfAttributeName(attributeKey);\n      const accessor = this.addBinaryBuffer(attributeData.value, attributeData);\n      result[attrName] = accessor;\n    }\n    return result;\n  }\n\n  /**\n   * Add indices to buffers\n   */\n  _addIndices(indices) {\n    return this.addBinaryBuffer(indices, {size: 1});\n  }\n\n  /**\n   * Deduce gltf specific attribue name from input attribute name\n   */\n  _getGltfAttributeName(attributeName) {\n    switch (attributeName.toLowerCase()) {\n      case 'position':\n      case 'positions':\n      case 'vertices':\n        return 'POSITION';\n      case 'normal':\n      case 'normals':\n        return 'NORMAL';\n      case 'color':\n      case 'colors':\n        return 'COLOR_0';\n      case 'texcoord':\n      case 'texcoords':\n        return 'TEXCOORD_0';\n      default:\n        return attributeName;\n    }\n  }\n\n  /**\n   * Calculate `min` and `max` arrays of accessor according to spec:\n   * https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#reference-accessor\n   */\n  _getAccessorMinMax(buffer, size) {\n    const result = {min: null, max: null};\n    if (buffer.length < size) {\n      return result;\n    }\n    // @ts-ignore\n    result.min = [];\n    // @ts-ignore\n    result.max = [];\n    const initValues = buffer.subarray(0, size);\n    for (const value of initValues) {\n      // @ts-ignore\n      result.min.push(value);\n      // @ts-ignore\n      result.max.push(value);\n    }\n\n    for (let index = size; index < buffer.length; index += size) {\n      for (let componentIndex = 0; componentIndex < size; componentIndex++) {\n        // @ts-ignore\n        result.min[0 + componentIndex] = Math.min(\n          // @ts-ignore\n          result.min[0 + componentIndex],\n          buffer[index + componentIndex]\n        );\n        // @ts-ignore\n        result.max[0 + componentIndex] = Math.max(\n          // @ts-ignore\n          result.max[0 + componentIndex],\n          buffer[index + componentIndex]\n        );\n      }\n    }\n    return result;\n  }\n}\n","// This file is part of meshoptimizer library and is distributed under the terms of MIT License.\n// Copyright (C) 2016-2021, by Arseny Kapoulkine (arseny.kapoulkine@gmail.com)\n\n/* eslint-disable camelcase */\nconst isWebAssemblySupported = typeof WebAssembly !== 'object';\n\n// Built with clang version 11.0.0 (https://github.com/llvm/llvm-project.git 0160ad802e899c2922bc9b29564080c22eb0908c)\n// Built from meshoptimizer 0.16\nconst wasm_base =\n  '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';\nconst wasm_simd =\n  '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';\n\n// Uses bulk-memory and simd extensions\nconst detector = new Uint8Array([\n  0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 3, 2, 0, 0, 5, 3, 1, 0, 1, 12, 1, 0, 10, 22, 2,\n  12, 0, 65, 0, 65, 0, 65, 0, 252, 10, 0, 0, 11, 7, 0, 65, 0, 253, 15, 26, 11\n]);\n\n// Used to unpack wasm\nconst wasmpack = new Uint8Array([\n  32, 0, 65, 253, 3, 1, 2, 34, 4, 106, 6, 5, 11, 8, 7, 20, 13, 33, 12, 16, 128, 9, 116, 64, 19, 113,\n  127, 15, 10, 21, 22, 14, 255, 66, 24, 54, 136, 107, 18, 23, 192, 26, 114, 118, 132, 17, 77, 101,\n  130, 144, 27, 87, 131, 44, 45, 74, 156, 154, 70, 167\n]);\n\nconst FILTERS = {\n  // legacy index-based enums for glTF\n  0: '',\n  1: 'meshopt_decodeFilterOct',\n  2: 'meshopt_decodeFilterQuat',\n  3: 'meshopt_decodeFilterExp',\n  // string-based enums for glTF\n  NONE: '',\n  OCTAHEDRAL: 'meshopt_decodeFilterOct',\n  QUATERNION: 'meshopt_decodeFilterQuat',\n  EXPONENTIAL: 'meshopt_decodeFilterExp'\n};\n\nconst DECODERS = {\n  // legacy index-based enums for glTF\n  0: 'meshopt_decodeVertexBuffer',\n  1: 'meshopt_decodeIndexBuffer',\n  2: 'meshopt_decodeIndexSequence',\n  // string-based enums for glTF\n  ATTRIBUTES: 'meshopt_decodeVertexBuffer',\n  TRIANGLES: 'meshopt_decodeIndexBuffer',\n  INDICES: 'meshopt_decodeIndexSequence'\n};\n\nexport function isMeshoptSupported(): boolean {\n  return isWebAssemblySupported;\n}\n\nexport async function meshoptDecodeVertexBuffer(\n  target: Uint8Array,\n  count: number,\n  size: number,\n  source: Uint8Array,\n  filter: string | number = 'NONE'\n): Promise<void> {\n  const instance = await loadWasmInstance();\n  decode(\n    instance,\n    instance.exports.meshopt_decodeVertexBuffer,\n    target,\n    count,\n    size,\n    source,\n    instance.exports[FILTERS[filter]]\n  );\n}\n\nexport async function meshoptDecodeIndexBuffer(\n  target: Uint8Array,\n  count: number,\n  size: number,\n  source: Uint8Array\n): Promise<void> {\n  const instance = await loadWasmInstance();\n  decode(instance, instance.exports.meshopt_decodeIndexBuffer, target, count, size, source);\n}\n\nexport async function meshoptDecodeIndexSequence(\n  target: Uint8Array,\n  count: number,\n  size: number,\n  source: Uint8Array\n): Promise<void> {\n  const instance = await loadWasmInstance();\n  decode(instance, instance.exports.meshopt_decodeIndexSequence, target, count, size, source);\n}\n\n// eslint-disable-next-line max-params\nexport async function meshoptDecodeGltfBuffer(\n  target: Uint8Array,\n  count: number,\n  size: number,\n  source: Uint8Array,\n  mode: string,\n  filter: string | number = 'NONE'\n): Promise<void> {\n  const instance = await loadWasmInstance();\n  decode(\n    instance,\n    instance.exports[DECODERS[mode]],\n    target,\n    count,\n    size,\n    source,\n    instance.exports[FILTERS[filter || 'NONE']]\n  );\n}\n\nlet wasmPromise: Promise<WebAssembly.Instance>;\n\nasync function loadWasmInstance(): Promise<WebAssembly.Instance> {\n  // eslint-disable-next-line\n  if (!wasmPromise) {\n    wasmPromise = loadWasmModule();\n  }\n  return wasmPromise;\n}\n\nasync function loadWasmModule(): Promise<WebAssembly.Instance> {\n  let wasm = wasm_base;\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd;\n\n    // eslint-disable-next-line no-console\n    console.log('Warning: meshopt_decoder is using experimental SIMD support');\n  }\n\n  const result = await WebAssembly.instantiate(unpack(wasm), {});\n  await (result.instance.exports as any).__wasm_call_ctors();\n  return result.instance;\n}\n\nfunction unpack(data) {\n  const result = new Uint8Array(data.length);\n  for (let i = 0; i < data.length; ++i) {\n    const ch = data.charCodeAt(i);\n    result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62;\n  }\n  let write = 0;\n  for (let i = 0; i < data.length; ++i) {\n    result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i];\n  }\n  return result.buffer.slice(0, write);\n}\n\n// eslint-disable-next-line max-params\nfunction decode(instance, fun, target, count, size, source, filter?) {\n  const sbrk = instance.exports.sbrk;\n  const count4 = (count + 3) & ~3; // pad for SIMD filter\n  const tp = sbrk(count4 * size);\n  const sp = sbrk(source.length);\n  const heap = new Uint8Array(instance.exports.memory.buffer);\n  heap.set(source, sp);\n  const res = fun(tp, count, size, sp, source.length);\n  if (res === 0 && filter) {\n    filter(tp, count4, size);\n  }\n  target.set(heap.subarray(tp, tp + count * size));\n  sbrk(tp - sbrk(0));\n  if (res !== 0) {\n    throw new Error(`Malformed buffer data: ${res}`);\n  }\n}\n","/* eslint-disable camelcase */\nimport type {GLTF, GLTFBufferView, GLTF_EXT_meshopt_compression} from '../types/gltf-types';\nimport type {GLTFLoaderOptions} from '../../gltf-loader';\nimport GLTFScenegraph from '../api/gltf-scenegraph';\nimport {meshoptDecodeGltfBuffer} from '../../meshopt/meshopt-decoder';\n\n// @ts-ignore\n// eslint-disable-next-line\nconst DEFAULT_MESHOPT_OPTIONS = {\n  byteOffset: 0,\n  filter: 'NONE'\n};\n\n/** Extension name */\nconst EXT_MESHOPT_COMPRESSION = 'EXT_meshopt_compression';\n\nexport const name = EXT_MESHOPT_COMPRESSION;\n\nexport async function decode(gltfData: {json: GLTF}, options: GLTFLoaderOptions) {\n  const scenegraph = new GLTFScenegraph(gltfData);\n\n  if (!options?.gltf?.decompressMeshes) {\n    return;\n  }\n\n  const promises: Promise<any>[] = [];\n  for (const bufferViewIndex of gltfData.json.bufferViews || []) {\n    promises.push(decodeMeshoptBufferView(scenegraph, bufferViewIndex));\n  }\n\n  // Decompress meshes in parallel\n  await Promise.all(promises);\n\n  // We have now decompressed all primitives, so remove the top-level extensions\n  scenegraph.removeExtension(EXT_MESHOPT_COMPRESSION);\n}\n\n/** Decode one meshopt buffer view */\nasync function decodeMeshoptBufferView(\n  scenegraph: GLTFScenegraph,\n  bufferView: GLTFBufferView\n): Promise<ArrayBuffer | null> {\n  const meshoptExtension = scenegraph.getObjectExtension<GLTF_EXT_meshopt_compression>(\n    bufferView,\n    EXT_MESHOPT_COMPRESSION\n  );\n  if (meshoptExtension) {\n    const {\n      byteOffset = 0,\n      byteLength = 0,\n      byteStride,\n      count,\n      mode,\n      filter = 'NONE',\n      buffer: bufferIndex\n    } = meshoptExtension;\n    const buffer = scenegraph.gltf.buffers[bufferIndex];\n\n    const source = new Uint8Array(buffer.arrayBuffer, buffer.byteOffset + byteOffset, byteLength);\n    const result = new Uint8Array(\n      scenegraph.gltf.buffers[bufferView.buffer].arrayBuffer,\n      bufferView.byteOffset,\n      bufferView.byteLength\n    );\n    await meshoptDecodeGltfBuffer(result, count, byteStride, source, mode, filter);\n    return result;\n  }\n\n  return null;\n}\n","import {isBrowser} from '@loaders.gl/loader-utils';\n\n// The following formats are supported by loaders.gl polyfills\nconst NODE_FORMAT_SUPPORT = ['image/png', 'image/jpeg', 'image/gif'];\n\n/** Cache values for speed */\nconst mimeTypeSupported: {[mimeType: string]: boolean} = {};\n\n/**\n * Check if image MIME type is supported. Result is cached.\n */\nexport function _isImageFormatSupported(mimeType: string): boolean {\n  if (mimeTypeSupported[mimeType] === undefined) {\n    mimeTypeSupported[mimeType] = checkFormatSupport(mimeType);\n  }\n  return mimeTypeSupported[mimeType];\n}\n\n/**\n * Check if image MIME type is supported.\n */\nfunction checkFormatSupport(mimeType: string): boolean {\n  switch (mimeType) {\n    case 'image/webp':\n      return checkWebPSupport();\n    case 'image/svg':\n      return isBrowser;\n    default:\n      if (!isBrowser) {\n        // @ts-ignore\n        const {_parseImageNode} = globalThis;\n        return Boolean(_parseImageNode) && NODE_FORMAT_SUPPORT.includes(mimeType);\n      }\n      return true;\n  }\n}\n\n/** Check WebPSupport synchronously */\nfunction checkWebPSupport() {\n  if (!isBrowser) {\n    return false;\n  }\n  try {\n    const element = document.createElement('canvas');\n    return element.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n  } catch {\n    // Probably Safari...\n    return false;\n  }\n}\n\n// Note: better test but asynchronous\n\n// Lossy test image. Support for lossy images doesn't guarantee support for all WebP images.\n// https://stackoverflow.com/questions/5573096/detecting-webp-support\n// const WEBP_TEST_IMAGE = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n// Check WebPSupport asynchronously\n// async function isWebPSupported() {\n//   return new Promise( resolve => {\n//     const image = new Image();\n//     image.src = WEBP_TEST_IMAGE;\n//     image.onload = image.onerror = function () {\n//     resolve( image.height === 1 );\n//   }\n// }\n","// GLTF EXTENSION: EXT_TEXTURE_WEBP\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/EXT_TEXTURE_WEBP\n/* eslint-disable camelcase */\n\nimport type {GLTF, GLTF_EXT_texture_webp} from '../types/gltf-types';\nimport type {GLTFLoaderOptions} from '../../gltf-loader';\n\nimport {_isImageFormatSupported} from '@loaders.gl/images';\nimport GLTFScenegraph from '../api/gltf-scenegraph';\n\nconst EXT_TEXTURE_WEBP = 'EXT_texture_webp';\n\n/** Extension name */\nexport const name = EXT_TEXTURE_WEBP;\n\n/**\n * Replaces a texture source reference with the extension texture\n * Done in preprocess() to prevent load of default image\n */\nexport function preprocess(gltfData: {json: GLTF}, options: GLTFLoaderOptions): void {\n  const scenegraph = new GLTFScenegraph(gltfData);\n\n  if (!_isImageFormatSupported('image/webp')) {\n    if (scenegraph.getRequiredExtensions().includes(EXT_TEXTURE_WEBP)) {\n      throw new Error(`gltf: Required extension ${EXT_TEXTURE_WEBP} not supported by browser`);\n    }\n    return;\n  }\n\n  const {json} = scenegraph;\n\n  for (const texture of json.textures || []) {\n    const extension = scenegraph.getObjectExtension<GLTF_EXT_texture_webp>(\n      texture,\n      EXT_TEXTURE_WEBP\n    );\n    if (extension) {\n      texture.source = extension.source;\n    }\n    scenegraph.removeObjectExtension(texture, EXT_TEXTURE_WEBP);\n  }\n\n  // Remove the top-level extension\n  scenegraph.removeExtension(EXT_TEXTURE_WEBP);\n}\n","// GLTF EXTENSION: KHR_texture_basisu\n// https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_texture_basisu\n/* eslint-disable camelcase */\n\nimport type {GLTF, GLTF_KHR_texture_basisu} from '../types/gltf-types';\nimport type {GLTFLoaderOptions} from '../../gltf-loader';\n\nimport GLTFScenegraph from '../api/gltf-scenegraph';\n\nconst KHR_TEXTURE_BASISU = 'KHR_texture_basisu';\n\n/** Extension name */\nexport const name = KHR_TEXTURE_BASISU;\n\n/**\n * Replaces a texture source reference with the extension texture\n * Done in preprocess() to prevent load of default image\n */\nexport function preprocess(gltfData: {json: GLTF}, options: GLTFLoaderOptions): void {\n  const scene = new GLTFScenegraph(gltfData);\n  const {json} = scene;\n\n  for (const texture of json.textures || []) {\n    const extension = scene.getObjectExtension<GLTF_KHR_texture_basisu>(\n      texture,\n      KHR_TEXTURE_BASISU\n    );\n    if (extension) {\n      texture.source = extension.source;\n    }\n    scene.removeObjectExtension(texture, KHR_TEXTURE_BASISU);\n  }\n\n  // Remove the top-level extension\n  scene.removeExtension(KHR_TEXTURE_BASISU);\n}\n","// import type {TypedArray} from '../types/loader-utils';\nimport type {GLTFAccessor} from '../types/gltf-types';\n// TODO - remove\nimport {getAccessorTypeFromSize, getComponentTypeFromArray} from './gltf-utils';\n\n// Returns a fresh attributes object with glTF-standardized attributes names\n// Attributes that cannot be identified will not be included\n// Removes `indices` if present, as it should be stored separately from the attributes\nexport function getGLTFAccessors(attributes): {[key: string]: GLTFAccessor} {\n  const accessors = {};\n  for (const name in attributes) {\n    const attribute = attributes[name];\n    if (name !== 'indices') {\n      const glTFAccessor = getGLTFAccessor(attribute);\n      accessors[name] = glTFAccessor;\n    }\n  }\n  return accessors;\n}\n\n// Fix up a single accessor.\n// Input: typed array or a partial accessor object\n// Return: accessor object\nexport function getGLTFAccessor(attribute) {\n  const {buffer, size, count} = getAccessorData(attribute);\n\n  const glTFAccessor: GLTFAccessor = {\n    // glTF Accessor values\n    // TODO: Instead of a bufferView index we could have an actual buffer (typed array)\n    // bufferView: null,\n    // TODO: Deprecate `value` in favor of bufferView?\n    // @ts-ignore\n    value: buffer,\n    size, // Decoded `type` (e.g. SCALAR)\n\n    byteOffset: 0,\n    count,\n    type: getAccessorTypeFromSize(size),\n    componentType: getComponentTypeFromArray(buffer)\n  };\n\n  return glTFAccessor;\n}\n\n// export function getGLTFAttribute(data, gltfAttributeName): GLTFAccessor {\n//   return data.attributes[data.glTFAttributeMap[gltfAttributeName]];\n// }\n\nfunction getAccessorData(attribute) {\n  let buffer = attribute;\n  let size = 1;\n  let count = 0;\n\n  if (attribute && attribute.value) {\n    buffer = attribute.value;\n    size = attribute.size || 1;\n  }\n\n  if (buffer) {\n    if (!ArrayBuffer.isView(buffer)) {\n      buffer = toTypedArray(buffer, Float32Array);\n    }\n    count = buffer.length / size;\n  }\n\n  return {buffer, size, count};\n}\n\n// Convert non-typed arrays to arrays of specified format\nfunction toTypedArray(array, ArrayType, convertTypedArrays = false) {\n  if (!array) {\n    return null;\n  }\n  if (Array.isArray(array)) {\n    return new ArrayType(array);\n  }\n  if (convertTypedArrays && !(array instanceof ArrayType)) {\n    return new ArrayType(array);\n  }\n  return array;\n}\n","// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n// Only TRIANGLES: 0x0004 and TRIANGLE_STRIP: 0x0005 are supported\n/* eslint-disable camelcase */\n\n/* eslint-disable camelcase */\nimport type {\n  GLTF,\n  GLTFAccessor,\n  GLTFMeshPrimitive,\n  GLTF_KHR_draco_mesh_compression\n} from '../types/gltf-types';\nimport type {GLTFLoaderOptions} from '../../gltf-loader';\n\nimport type {LoaderContext} from '@loaders.gl/loader-utils';\nimport {DracoLoader} from '@loaders.gl/draco';\nimport {DracoLoaderOptions, DracoMesh} from '@loaders.gl/draco';\nimport {sliceArrayBuffer} from '@loaders.gl/loader-utils';\nimport {default as Scenegraph} from '../api/gltf-scenegraph';\nimport {getGLTFAccessors, getGLTFAccessor} from '../gltf-utils/gltf-attribute-utils';\n\nconst KHR_DRACO_MESH_COMPRESSION = 'KHR_draco_mesh_compression';\n\n/** Extension name */\nexport const name = KHR_DRACO_MESH_COMPRESSION;\n\nexport function preprocess(\n  gltfData: {json: GLTF},\n  options: GLTFLoaderOptions,\n  context: LoaderContext\n): void {\n  const scenegraph = new Scenegraph(gltfData);\n  for (const primitive of makeMeshPrimitiveIterator(scenegraph)) {\n    if (scenegraph.getObjectExtension(primitive, KHR_DRACO_MESH_COMPRESSION)) {\n      // TODO - Remove fallback accessors to make sure we don't load unnecessary buffers\n    }\n  }\n}\n\nexport async function decode(\n  gltfData: {json: GLTF},\n  options: GLTFLoaderOptions,\n  context: LoaderContext\n): Promise<void> {\n  if (!options?.gltf?.decompressMeshes) {\n    return;\n  }\n\n  const scenegraph = new Scenegraph(gltfData);\n  const promises: Promise<void>[] = [];\n  for (const primitive of makeMeshPrimitiveIterator(scenegraph)) {\n    if (scenegraph.getObjectExtension(primitive, KHR_DRACO_MESH_COMPRESSION)) {\n      promises.push(decompressPrimitive(scenegraph, primitive, options, context));\n    }\n  }\n\n  // Decompress meshes in parallel\n  await Promise.all(promises);\n\n  // We have now decompressed all primitives, so remove the top-level extensions\n  scenegraph.removeExtension(KHR_DRACO_MESH_COMPRESSION);\n}\n\nexport function encode(gltfData, options: GLTFLoaderOptions = {}): void {\n  const scenegraph = new Scenegraph(gltfData);\n\n  for (const mesh of scenegraph.json.meshes || []) {\n    // eslint-disable-next-line camelcase\n    // @ts-ignore\n    compressMesh(mesh, options);\n    // NOTE: Only add the extension if something was actually compressed\n    scenegraph.addRequiredExtension(KHR_DRACO_MESH_COMPRESSION);\n  }\n}\n\n// DECODE\n\n// Unpacks one mesh primitive and removes the extension from the primitive\n// DracoDecoder needs to be imported and registered by app\n// Returns: Promise that resolves when all pending draco decoder jobs for this mesh complete\n\n// TODO - Implement fallback behavior per KHR_DRACO_MESH_COMPRESSION spec\n\nasync function decompressPrimitive(\n  scenegraph: Scenegraph,\n  primitive: GLTFMeshPrimitive,\n  options: GLTFLoaderOptions,\n  context: LoaderContext\n): Promise<void> {\n  const dracoExtension = scenegraph.getObjectExtension<GLTF_KHR_draco_mesh_compression>(\n    primitive,\n    KHR_DRACO_MESH_COMPRESSION\n  );\n  if (!dracoExtension) {\n    return;\n  }\n\n  const buffer = scenegraph.getTypedArrayForBufferView(dracoExtension.bufferView);\n  // TODO - parse does not yet deal well with byte offsets embedded in typed arrays. Copy buffer\n  // TODO - remove when `parse` is fixed to handle `byteOffset`s\n  const bufferCopy = sliceArrayBuffer(buffer.buffer, buffer.byteOffset); // , buffer.byteLength);\n\n  const {parse} = context;\n  const dracoOptions: DracoLoaderOptions = {...options};\n\n  // TODO - remove hack: The entire tileset might be included, too expensive to serialize\n  delete dracoOptions['3d-tiles'];\n  const decodedData = (await parse(bufferCopy, DracoLoader, dracoOptions, context)) as DracoMesh;\n\n  const decodedAttributes: {[key: string]: GLTFAccessor} = getGLTFAccessors(decodedData.attributes);\n\n  // Restore min/max values\n  for (const [attributeName, decodedAttribute] of Object.entries(decodedAttributes)) {\n    if (attributeName in primitive.attributes) {\n      const accessorIndex: number = primitive.attributes[attributeName];\n      const accessor = scenegraph.getAccessor(accessorIndex);\n      if (accessor?.min && accessor?.max) {\n        decodedAttribute.min = accessor.min;\n        decodedAttribute.max = accessor.max;\n      }\n    }\n  }\n\n  // @ts-ignore\n  primitive.attributes = decodedAttributes;\n  if (decodedData.indices) {\n    // @ts-ignore\n    primitive.indices = getGLTFAccessor(decodedData.indices);\n  }\n\n  // Extension has been processed, delete it\n  // delete primitive.extensions[KHR_DRACO_MESH_COMPRESSION];\n\n  checkPrimitive(primitive);\n}\n\n// ENCODE\n\n// eslint-disable-next-line max-len\n// Only TRIANGLES: 0x0004 and TRIANGLE_STRIP: 0x0005 are supported\nfunction compressMesh(attributes, indices, mode: number = 4, options, context: LoaderContext) {\n  if (!options.DracoWriter) {\n    throw new Error('options.gltf.DracoWriter not provided');\n  }\n\n  // TODO - use DracoWriter using encode w/ registered DracoWriter...\n  const compressedData = options.DracoWriter.encodeSync({attributes});\n\n  // Draco compression may change the order and number of vertices in a mesh.\n  // To satisfy the requirement that accessors properties be correct for both\n  // compressed and uncompressed data, generators should create uncompressed\n  // attributes and indices using data that has been decompressed from the Draco buffer,\n  // rather than the original source data.\n  // @ts-ignore TODO this needs to be fixed\n  const decodedData = context?.parseSync?.({attributes});\n  const fauxAccessors = options._addFauxAttributes(decodedData.attributes);\n\n  const bufferViewIndex = options.addBufferView(compressedData);\n\n  const glTFMesh = {\n    primitives: [\n      {\n        attributes: fauxAccessors, // TODO - verify with spec\n        mode, // GL.POINTS\n        extensions: {\n          [KHR_DRACO_MESH_COMPRESSION]: {\n            bufferView: bufferViewIndex,\n            attributes: fauxAccessors // TODO - verify with spec\n          }\n        }\n      }\n    ]\n  };\n\n  return glTFMesh;\n}\n\n// UTILS\n\nfunction checkPrimitive(primitive: GLTFMeshPrimitive) {\n  if (!primitive.attributes && Object.keys(primitive.attributes).length > 0) {\n    throw new Error('glTF: Empty primitive detected: Draco decompression failure?');\n  }\n}\n\nfunction* makeMeshPrimitiveIterator(scenegraph) {\n  for (const mesh of scenegraph.json.meshes || []) {\n    for (const primitive of mesh.primitives) {\n      yield primitive;\n    }\n  }\n}\n","// GLTF EXTENSION: KHR_lights_punctual\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\nimport type {GLTF} from '../../types/gltf-types';\n\nimport {assert} from '../../utils/assert';\nimport GLTFScenegraph from '../../api/gltf-scenegraph';\n\nconst KHR_LIGHTS_PUNCTUAL = 'KHR_lights_punctual';\n\nexport const name = KHR_LIGHTS_PUNCTUAL;\n\nexport async function decode(gltfData: {json: GLTF}): Promise<void> {\n  const gltfScenegraph = new GLTFScenegraph(gltfData);\n  const {json} = gltfScenegraph;\n\n  // Move the light array out of the extension and remove the extension\n  const extension = gltfScenegraph.getExtension(KHR_LIGHTS_PUNCTUAL);\n  if (extension) {\n    // @ts-ignore\n    gltfScenegraph.json.lights = extension.lights;\n    gltfScenegraph.removeExtension(KHR_LIGHTS_PUNCTUAL);\n  }\n\n  // Any nodes that have the extension, add lights field pointing to light object\n  // and remove the extension\n  for (const node of json.nodes || []) {\n    const nodeExtension = gltfScenegraph.getObjectExtension(node, KHR_LIGHTS_PUNCTUAL);\n    if (nodeExtension) {\n      // @ts-ignore\n      node.light = nodeExtension.light;\n    }\n    gltfScenegraph.removeObjectExtension(node, KHR_LIGHTS_PUNCTUAL);\n  }\n}\n\n// Move the light ar ray out of the extension and remove the extension\nexport async function encode(gltfData): Promise<void> {\n  const gltfScenegraph = new GLTFScenegraph(gltfData);\n  const {json} = gltfScenegraph;\n\n  // @ts-ignore\n  if (json.lights) {\n    const extension = gltfScenegraph.addExtension(KHR_LIGHTS_PUNCTUAL);\n    // @ts-ignore\n    assert(!extension.lights);\n    // @ts-ignore\n    extension.lights = json.lights;\n    // @ts-ignore\n    delete json.lights;\n  }\n\n  // Any nodes that have lights field pointing to light object\n  // add the extension\n  // @ts-ignore\n  if (gltfScenegraph.json.lights) {\n    // @ts-ignore\n    for (const light of gltfScenegraph.json.lights) {\n      const node = light.node;\n      gltfScenegraph.addObjectExtension(node, KHR_LIGHTS_PUNCTUAL, light);\n    }\n    // @ts-ignore\n    delete gltfScenegraph.json.lights;\n  }\n}\n","// GLTF EXTENSION: KHR_materials_unlit\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\nimport type {GLTF} from '../../types/gltf-types';\n\nimport GLTFScenegraph from '../../api/gltf-scenegraph';\n\nconst KHR_MATERIALS_UNLIT = 'KHR_materials_unlit';\n\nexport const name = KHR_MATERIALS_UNLIT;\n\nexport async function decode(gltfData: {json: GLTF}): Promise<void> {\n  const gltfScenegraph = new GLTFScenegraph(gltfData);\n  const {json} = gltfScenegraph;\n\n  // Remove the top-level extension\n  gltfScenegraph.removeExtension(KHR_MATERIALS_UNLIT);\n\n  // Any nodes that have the extension, add lights field pointing to light object\n  // and remove the extension\n  for (const material of json.materials || []) {\n    const extension = material.extensions && material.extensions.KHR_materials_unlit;\n    if (extension) {\n      // @ts-ignore TODO\n      material.unlit = true;\n    }\n    gltfScenegraph.removeObjectExtension(material, KHR_MATERIALS_UNLIT);\n  }\n}\n\nexport function encode(gltfData) {\n  const gltfScenegraph = new GLTFScenegraph(gltfData);\n  const {json} = gltfScenegraph;\n\n  // Any nodes that have lights field pointing to light object\n  // add the extension\n  // @ts-ignore\n  if (gltfScenegraph.materials) {\n    for (const material of json.materials || []) {\n      // @ts-ignore\n      if (material.unlit) {\n        // @ts-ignore\n        delete material.unlit;\n        gltfScenegraph.addObjectExtension(material, KHR_MATERIALS_UNLIT, {});\n        gltfScenegraph.addExtension(KHR_MATERIALS_UNLIT);\n      }\n    }\n  }\n}\n","// GLTF EXTENSION: KHR_techniques_webgl\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_techniques_webgl\n\nimport type {GLTF} from '../../types/gltf-types';\n\nimport GLTFScenegraph from '../../api/gltf-scenegraph';\n\nconst KHR_TECHNIQUES_WEBGL = 'KHR_techniques_webgl';\n\nexport const name = KHR_TECHNIQUES_WEBGL;\n\nexport async function decode(gltfData: {json: GLTF}): Promise<void> {\n  const gltfScenegraph = new GLTFScenegraph(gltfData);\n  const {json} = gltfScenegraph;\n\n  const extension = gltfScenegraph.getExtension(KHR_TECHNIQUES_WEBGL);\n  if (extension) {\n    const techniques = resolveTechniques(extension, gltfScenegraph);\n\n    for (const material of json.materials || []) {\n      const materialExtension = gltfScenegraph.getObjectExtension(material, KHR_TECHNIQUES_WEBGL);\n      if (materialExtension) {\n        // @ts-ignore TODO\n        material.technique = Object.assign(\n          {},\n          materialExtension,\n          // @ts-ignore\n          techniques[materialExtension.technique]\n        );\n        // @ts-ignore TODO\n        material.technique.values = resolveValues(material.technique, gltfScenegraph);\n      }\n      gltfScenegraph.removeObjectExtension(material, KHR_TECHNIQUES_WEBGL);\n    }\n\n    gltfScenegraph.removeExtension(KHR_TECHNIQUES_WEBGL);\n  }\n}\n// eslint-disable-next-line\nexport async function encode(gltfData, options): Promise<void> {\n  // TODO\n}\n\nfunction resolveTechniques(\n  techniquesExtension: {[key: string]: any},\n  // programs: {[key: string]: any}[],\n  // shaders: {[key: string]: any}[],\n  // techniques: {[key: string]: any}[]\n  gltfScenegraph\n) {\n  const {programs = [], shaders = [], techniques = []} = techniquesExtension;\n  const textDecoder = new TextDecoder();\n\n  shaders.forEach((shader) => {\n    if (Number.isFinite(shader.bufferView)) {\n      shader.code = textDecoder.decode(\n        gltfScenegraph.getTypedArrayForBufferView(shader.bufferView)\n      );\n    } else {\n      // TODO: handle URI shader\n      throw new Error('KHR_techniques_webgl: no shader code');\n    }\n  });\n\n  programs.forEach((program) => {\n    program.fragmentShader = shaders[program.fragmentShader];\n    program.vertexShader = shaders[program.vertexShader];\n  });\n\n  techniques.forEach((technique) => {\n    technique.program = programs[technique.program];\n  });\n\n  return techniques;\n}\n\nfunction resolveValues(technique, gltfScenegraph) {\n  const values = Object.assign({}, technique.values);\n\n  // merge values from uniforms\n  Object.keys(technique.uniforms || {}).forEach((uniform) => {\n    if (technique.uniforms[uniform].value && !(uniform in values)) {\n      values[uniform] = technique.uniforms[uniform].value;\n    }\n  });\n\n  // resolve textures\n  Object.keys(values).forEach((uniform) => {\n    if (typeof values[uniform] === 'object' && values[uniform].index !== undefined) {\n      // Assume this is a texture\n      // TODO: find if there are any other types that can be referenced\n      values[uniform].texture = gltfScenegraph.getTexture(values[uniform].index);\n    }\n  });\n\n  return values;\n}\n","/* eslint-disable camelcase */\nimport {GLTF} from '../types/gltf-types';\nimport type {GLTFLoaderOptions} from '../../gltf-loader';\n\n// GLTF 1.0 extensions (decode only)\n// import * as KHR_binary_gltf from './KHR_draco_mesh_compression';\n\n// GLTF 2.0 Khronos extensions (decode/encode)\nimport * as EXT_meshopt_compression from '../extensions/EXT_meshopt_compression';\nimport * as EXT_texture_webp from '../extensions/EXT_texture_webp';\nimport * as KHR_texture_basisu from '../extensions/KHR_texture_basisu';\nimport * as KHR_draco_mesh_compression from '../extensions/KHR_draco_mesh_compression';\n\n// Deprecated. These should be handled by rendering library (e.g. luma.gl), not the loader.\nimport * as KHR_lights_punctual from '../extensions/deprecated/KHR_lights_punctual';\nimport * as KHR_materials_unlit from '../extensions/deprecated/KHR_materials_unlit';\nimport * as KHR_techniques_webgl from '../extensions/deprecated/KHR_techniques_webgl';\n\n// Vendor extensions\n\ntype GLTFExtensionPlugin = {\n  name: string;\n  preprocess?: (gltfData: {json: GLTF}, options: GLTFLoaderOptions, context) => void;\n  decode?: (gltfData: {json: GLTF}, options: GLTFLoaderOptions, context) => Promise<void>;\n  encode?: (gltfData: {json: GLTF}, options: GLTFLoaderOptions) => void;\n};\n\n/**\n * List of extensions processed by the GLTFLoader\n * Note that may extensions can only be handled on the rendering stage and are left out here\n * These are just extensions that can be handled fully or partially during loading.\n */\nexport const EXTENSIONS: GLTFExtensionPlugin[] = [\n  // 1.0\n  // KHR_binary_gltf is handled separately - must be processed before other parsing starts\n  // KHR_binary_gltf,\n\n  // 2.0\n  EXT_meshopt_compression,\n  EXT_texture_webp,\n  // Basisu should come after webp, we want basisu to be preferred if both are provided\n  KHR_texture_basisu,\n  KHR_draco_mesh_compression,\n  KHR_lights_punctual,\n  KHR_materials_unlit,\n  KHR_techniques_webgl\n];\n\n/** Call before any resource loading starts */\nexport function preprocessExtensions(gltf, options: GLTFLoaderOptions = {}, context?) {\n  const extensions = EXTENSIONS.filter((extension) => useExtension(extension.name, options));\n  for (const extension of extensions) {\n    extension.preprocess?.(gltf, options, context);\n  }\n}\n\n/** Call after resource loading */\nexport async function decodeExtensions(gltf, options: GLTFLoaderOptions = {}, context?) {\n  const extensions = EXTENSIONS.filter((extension) => useExtension(extension.name, options));\n  for (const extension of extensions) {\n    // Note: We decode async extensions sequentially, this might not be necessary\n    // Currently we only have Draco, but when we add Basis we may revisit\n    await extension.decode?.(gltf, options, context);\n  }\n}\n\nfunction useExtension(extensionName: string, options: GLTFLoaderOptions) {\n  const excludes = options?.gltf?.excludeExtensions || {};\n  const exclude = extensionName in excludes && !excludes[extensionName];\n  return !exclude;\n}\n","// GLTF 1.0 EXTENSION: KHR_binary_glTF\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/1.0/Khronos/KHR_binary_glTF\n/* eslint-disable camelcase */\n\nimport type {GLTF, GLTF_KHR_binary_glTF} from '../types/gltf-types';\n\nimport GLTFScenegraph from '../api/gltf-scenegraph';\n\nconst KHR_BINARY_GLTF = 'KHR_binary_glTF';\n\n/** Extension name */\nexport const name = KHR_BINARY_GLTF;\n\nexport function preprocess(gltfData: {json: GLTF}): void {\n  const gltfScenegraph = new GLTFScenegraph(gltfData);\n  const {json} = gltfScenegraph;\n\n  // Note: json.buffers.binary_glTF also needs to be replaced\n  // This is currently done during gltf normalization\n\n  // Image and shader nodes can have the extension\n  // https://github.com/KhronosGroup/glTF/blob/master/extensions/1.0/Khronos/KHR_binary_glTF/schema/image.KHR_binary_glTF.schema.json\n  for (const image of json.images || []) {\n    const extension = gltfScenegraph.getObjectExtension<GLTF_KHR_binary_glTF>(\n      image,\n      KHR_BINARY_GLTF\n    );\n    // The data in the extension is valid as glTF 2.0 data inside the object, so just copy it in\n    if (extension) {\n      Object.assign(image, extension);\n    }\n    gltfScenegraph.removeObjectExtension(image, KHR_BINARY_GLTF);\n  }\n\n  // TODO shaders - At least traverse and throw error if used?\n  // https://github.com/KhronosGroup/glTF/blob/master/extensions/1.0/Khronos/KHR_binary_glTF/schema/shader.KHR_binary_glTF.schema.json\n\n  // glTF v1 one files have a partially formed URI field that is not expected in (and causes problems in) 2.0\n  if (json.buffers && json.buffers[0]) {\n    delete json.buffers[0].uri;\n  }\n\n  // Remove the top-level extension as it has now been removed from all nodes\n  gltfScenegraph.removeExtension(KHR_BINARY_GLTF);\n}\n\n// KHR_binary_gltf is a 1.0 extension that is supported natively by 2.0\n// export function encode() {\n//   throw new Error(KHR_BINARY_GLTF);\n// }\n","/* eslint-disable camelcase */\nimport * as KHR_binary_glTF from '../extensions/KHR_binary_gltf';\n\n// Binary format changes (mainly implemented by GLBLoader)\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/1.0/Khronos/KHR_binary_glTF\n\n// JSON format changes:\n// https://github.com/khronosgroup/gltf/issues/605\n\n// - [x] Top-level JSON objects are arrays now\n// - [ ] Removed indirection from animation: sampler now refers directly to accessors, #712\n// - [ ] material.parameter.value and technique.parameter.value must be an array, #690\n// - [ ] Node can have only one mesh #821\n// - [ ] Added reqs on JSON encoding\n// - [ ] Added reqs on binary data alignment #802 (comment)\n\n// Additions:\n// - [ ] Added accessor.normalized, #691, #706\n// - [ ] Added glExtensionsUsed property and 5125 (UNSIGNED_INT) accessor.componentType value, #619\n// - [ ] Added extensionsRequired property, #720, #721\n// - [ ] Added \"STEP\" as valid animation.sampler.interpolation value, #712\n\n// Removals:\n// - [x] Removed buffer.type, #786, #629\n// - [ ] Removed revision number from profile.version, #709\n// - [ ] Removed technique.functions.scissor and removed 3089 (SCISSOR_TEST) as a valid value for technique.states.enable, #681\n// - [ ] Techniques, programs, and shaders were moved out to KHR_technique_webgl extension.\n\n// Other edits:\n// - [x] asset is now required, #642\n// - [ ] buffer.byteLength and bufferView.byteLength are now required, #560.\n// - [ ] accessor.min and accessor.max are now required, #593, and clarified that the JSON value and binary data must be the same, #628.\n// - [ ] Clarified animation.sampler and animation.channel restrictions, #712\n// - [ ] skin.inverseBindMatrices is now optional, #461.\n// - [ ] Attribute parameters can't have a value defined in the technique or parameter, #563 (comment).\n// - [ ] Only TEXCOORD and COLOR attribute semantics can be written in the form [semantic]_[set_index], #563 (comment).\n// - [ ] TEXCOORD and COLOR attribute semantics must be written in the form [semantic]_[set_index], e.g., just TEXCOORD should be TEXCOORD_0, and just COLOR should be COLOR_0, #649\n// - [ ] camera.perspective.aspectRatio and camera.perspective.yfov must now be > 0, not >= 0, #563 (comment).\n// - [ ] Application-specific parameter semantics must start with an underscore, e.g., _TEMPERATURE and _SIMULATION_TIME, #563 (comment).\n// - [ ] Properties in technique.parameters must be defined in technique.uniforms or technique.attributes,\n\n// #563 (comment).\n// - [ ] technique.parameter.count can only be defined when the semantic is JOINTMATRIX or an application-specific semantic is used. It can never be defined for attribute parameters; only uniforms, d2f6945\n// - [ ] technique.parameter.semantic is required when the parameter is an attribute, 28e113d\n// - [ ] Mesh-only models are allowed, e.g., without materials, #642\n// - [ ] Skeleton hierarchies (nodes containing jointName) must be separated from non-skeleton hierarchies., #647\n// - [ ] technique.states.functions.blendColor and technique.states.functions.depthRange parameters now must match WebGL function min/max, #707\n\nconst GLTF_ARRAYS = {\n  accessors: 'accessor',\n  animations: 'animation',\n  buffers: 'buffer',\n  bufferViews: 'bufferView',\n  images: 'image',\n  materials: 'material',\n  meshes: 'mesh',\n  nodes: 'node',\n  samplers: 'sampler',\n  scenes: 'scene',\n  skins: 'skin',\n  textures: 'texture'\n};\n\nconst GLTF_KEYS = {\n  accessor: 'accessors',\n  animations: 'animation',\n  buffer: 'buffers',\n  bufferView: 'bufferViews',\n  image: 'images',\n  material: 'materials',\n  mesh: 'meshes',\n  node: 'nodes',\n  sampler: 'samplers',\n  scene: 'scenes',\n  skin: 'skins',\n  texture: 'textures'\n};\n\n/**\n * Converts (normalizes) glTF v1 to v2\n */\nclass GLTFV1Normalizer {\n  idToIndexMap = {\n    animations: {},\n    accessors: {},\n    buffers: {},\n    bufferViews: {},\n    images: {},\n    materials: {},\n    meshes: {},\n    nodes: {},\n    samplers: {},\n    scenes: {},\n    skins: {},\n    textures: {}\n  };\n\n  json;\n\n  // constructor() {}\n\n  /**\n   * Convert (normalize) glTF < 2.0 to glTF 2.0\n   * @param gltf - object with json and binChunks\n   * @param options\n   * @param options normalize Whether to actually normalize\n   */\n  normalize(gltf, options) {\n    this.json = gltf.json;\n    const json = gltf.json;\n\n    // Check version\n    switch (json.asset && json.asset.version) {\n      // We are converting to v2 format. Return if there is nothing to do\n      case '2.0':\n        return;\n\n      // This class is written to convert 1.0\n      case undefined:\n      case '1.0':\n        break;\n\n      default:\n        // eslint-disable-next-line no-undef, no-console\n        console.warn(`glTF: Unknown version ${json.asset.version}`);\n        return;\n    }\n\n    if (!options.normalize) {\n      // We are still missing a few conversion tricks, remove once addressed\n      throw new Error('glTF v1 is not supported.');\n    }\n\n    // eslint-disable-next-line no-undef, no-console\n    console.warn('Converting glTF v1 to glTF v2 format. This is experimental and may fail.');\n\n    this._addAsset(json);\n\n    // In glTF2 top-level fields are Arrays not Object maps\n    this._convertTopLevelObjectsToArrays(json);\n\n    // Extract bufferView indices for images\n    // (this extension needs to be invoked early in the normalization process)\n    // TODO can this be handled by standard extension processing instead of called explicitly?\n    KHR_binary_glTF.preprocess(gltf);\n\n    // Convert object references from ids to indices\n    this._convertObjectIdsToArrayIndices(json);\n\n    this._updateObjects(json);\n\n    this._updateMaterial(json);\n  }\n\n  // asset is now required, #642 https://github.com/KhronosGroup/glTF/issues/639\n  _addAsset(json) {\n    json.asset = json.asset || {};\n    // We are normalizing to glTF v2, so change version to \"2.0\"\n    json.asset.version = '2.0';\n    json.asset.generator = json.asset.generator || 'Normalized to glTF 2.0 by loaders.gl';\n  }\n\n  _convertTopLevelObjectsToArrays(json) {\n    // TODO check that all arrays are covered\n    for (const arrayName in GLTF_ARRAYS) {\n      this._convertTopLevelObjectToArray(json, arrayName);\n    }\n  }\n\n  /** Convert one top level object to array */\n  _convertTopLevelObjectToArray(json, mapName) {\n    const objectMap = json[mapName];\n    if (!objectMap || Array.isArray(objectMap)) {\n      return;\n    }\n\n    // Rewrite the top-level field as an array\n    json[mapName] = [];\n    // Copy the map key into object.id\n    for (const id in objectMap) {\n      const object = objectMap[id];\n      object.id = object.id || id; // Mutates the loaded object\n      const index = json[mapName].length;\n      json[mapName].push(object);\n      this.idToIndexMap[mapName][id] = index;\n    }\n  }\n\n  /** Go through all objects in all top-level arrays and replace ids with indices */\n  _convertObjectIdsToArrayIndices(json) {\n    for (const arrayName in GLTF_ARRAYS) {\n      this._convertIdsToIndices(json, arrayName);\n    }\n    if ('scene' in json) {\n      json.scene = this._convertIdToIndex(json.scene, 'scene');\n    }\n\n    // Convert any index references that are not using array names\n\n    // texture.source (image)\n    for (const texture of json.textures) {\n      this._convertTextureIds(texture);\n    }\n    for (const mesh of json.meshes) {\n      this._convertMeshIds(mesh);\n    }\n    for (const node of json.nodes) {\n      this._convertNodeIds(node);\n    }\n    for (const node of json.scenes) {\n      this._convertSceneIds(node);\n    }\n  }\n\n  _convertTextureIds(texture) {\n    if (texture.source) {\n      texture.source = this._convertIdToIndex(texture.source, 'image');\n    }\n  }\n\n  _convertMeshIds(mesh) {\n    for (const primitive of mesh.primitives) {\n      const {attributes, indices, material} = primitive;\n      for (const attributeName in attributes) {\n        attributes[attributeName] = this._convertIdToIndex(attributes[attributeName], 'accessor');\n      }\n      if (indices) {\n        primitive.indices = this._convertIdToIndex(indices, 'accessor');\n      }\n      if (material) {\n        primitive.material = this._convertIdToIndex(material, 'material');\n      }\n    }\n  }\n\n  _convertNodeIds(node) {\n    if (node.children) {\n      node.children = node.children.map((child) => this._convertIdToIndex(child, 'node'));\n    }\n    if (node.meshes) {\n      node.meshes = node.meshes.map((mesh) => this._convertIdToIndex(mesh, 'mesh'));\n    }\n  }\n\n  _convertSceneIds(scene) {\n    if (scene.nodes) {\n      scene.nodes = scene.nodes.map((node) => this._convertIdToIndex(node, 'node'));\n    }\n  }\n\n  /** Go through all objects in a top-level array and replace ids with indices */\n  _convertIdsToIndices(json, topLevelArrayName) {\n    if (!json[topLevelArrayName]) {\n      console.warn(`gltf v1: json doesn't contain attribute ${topLevelArrayName}`); // eslint-disable-line no-console, no-undef\n      json[topLevelArrayName] = [];\n    }\n    for (const object of json[topLevelArrayName]) {\n      for (const key in object) {\n        const id = object[key];\n        const index = this._convertIdToIndex(id, key);\n        object[key] = index;\n      }\n    }\n  }\n\n  _convertIdToIndex(id, key) {\n    const arrayName = GLTF_KEYS[key];\n    if (arrayName in this.idToIndexMap) {\n      const index = this.idToIndexMap[arrayName][id];\n      if (!Number.isFinite(index)) {\n        throw new Error(`gltf v1: failed to resolve ${key} with id ${id}`);\n      }\n      return index;\n    }\n    return id;\n  }\n\n  /**\n   *\n   * @param {*} json\n   */\n  _updateObjects(json) {\n    for (const buffer of this.json.buffers) {\n      // - [x] Removed buffer.type, #786, #629\n      delete buffer.type;\n    }\n  }\n\n  /**\n   * Update material (set pbrMetallicRoughness)\n   * @param {*} json\n   */\n  _updateMaterial(json) {\n    for (const material of json.materials) {\n      material.pbrMetallicRoughness = {\n        baseColorFactor: [1, 1, 1, 1],\n        metallicFactor: 1,\n        roughnessFactor: 1\n      };\n\n      const textureId =\n        material.values?.tex || material.values?.texture2d_0 || material.values?.diffuseTex;\n      const textureIndex = json.textures.findIndex((texture) => texture.id === textureId);\n      if (textureIndex !== -1) {\n        material.pbrMetallicRoughness.baseColorTexture = {index: textureIndex};\n      }\n    }\n  }\n}\n\nexport function normalizeGLTFV1(gltf, options = {}) {\n  return new GLTFV1Normalizer().normalize(gltf, options);\n}\n","import {assert} from '../utils/assert';\nimport {getAccessorArrayTypeAndLength} from '../gltf-utils/gltf-utils';\nimport {BufferView} from '../types/gltf-json-schema';\nimport {BufferView as BufferViewPostprocessed} from '../types/gltf-postprocessed-schema';\n\n// This is a post processor for loaded glTF files\n// The goal is to make the loaded data easier to use in WebGL applications\n//\n// Functions:\n// * Resolve indexed arrays structure of glTF into a linked tree.\n// * Translate stringified enum keys and values into WebGL constants.\n// * Load images (optional)\n\n// ENUM LOOKUP\n\nconst COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nconst BYTES = {\n  5120: 1, // BYTE\n  5121: 1, // UNSIGNED_BYTE\n  5122: 2, // SHORT\n  5123: 2, // UNSIGNED_SHORT\n  5125: 4, // UNSIGNED_INT\n  5126: 4 // FLOAT\n};\n\nconst GL_SAMPLER = {\n  // Sampler parameters\n  TEXTURE_MAG_FILTER: 0x2800,\n  TEXTURE_MIN_FILTER: 0x2801,\n  TEXTURE_WRAP_S: 0x2802,\n  TEXTURE_WRAP_T: 0x2803,\n\n  // Sampler default values\n  REPEAT: 0x2901,\n  LINEAR: 0x2601,\n  NEAREST_MIPMAP_LINEAR: 0x2702\n};\n\nconst SAMPLER_PARAMETER_GLTF_TO_GL = {\n  magFilter: GL_SAMPLER.TEXTURE_MAG_FILTER,\n  minFilter: GL_SAMPLER.TEXTURE_MIN_FILTER,\n  wrapS: GL_SAMPLER.TEXTURE_WRAP_S,\n  wrapT: GL_SAMPLER.TEXTURE_WRAP_T\n};\n\n// When undefined, a sampler with repeat wrapping and auto filtering should be used.\n// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#texture\nconst DEFAULT_SAMPLER = {\n  [GL_SAMPLER.TEXTURE_MAG_FILTER]: GL_SAMPLER.LINEAR,\n  [GL_SAMPLER.TEXTURE_MIN_FILTER]: GL_SAMPLER.NEAREST_MIPMAP_LINEAR,\n  [GL_SAMPLER.TEXTURE_WRAP_S]: GL_SAMPLER.REPEAT,\n  [GL_SAMPLER.TEXTURE_WRAP_T]: GL_SAMPLER.REPEAT\n};\n\nfunction getBytesFromComponentType(componentType) {\n  return BYTES[componentType];\n}\n\nfunction getSizeFromAccessorType(type) {\n  return COMPONENTS[type];\n}\n\nclass GLTFPostProcessor {\n  baseUri: string = '';\n  json: Record<string, any> = {};\n  buffers: [] = [];\n  images: [] = [];\n\n  postProcess(gltf, options = {}) {\n    const {json, buffers = [], images = [], baseUri = ''} = gltf;\n    assert(json);\n\n    this.baseUri = baseUri;\n    this.json = json;\n    this.buffers = buffers;\n    this.images = images;\n\n    this._resolveTree(this.json, options);\n\n    return this.json;\n  }\n\n  // Convert indexed glTF structure into tree structure\n  // cross-link index resolution, enum lookup, convenience calculations\n  // eslint-disable-next-line complexity\n  _resolveTree(json, options = {}) {\n    if (json.bufferViews) {\n      json.bufferViews = json.bufferViews.map((bufView, i) => this._resolveBufferView(bufView, i));\n    }\n    if (json.images) {\n      json.images = json.images.map((image, i) => this._resolveImage(image, i));\n    }\n    if (json.samplers) {\n      json.samplers = json.samplers.map((sampler, i) => this._resolveSampler(sampler, i));\n    }\n    if (json.textures) {\n      json.textures = json.textures.map((texture, i) => this._resolveTexture(texture, i));\n    }\n    if (json.accessors) {\n      json.accessors = json.accessors.map((accessor, i) => this._resolveAccessor(accessor, i));\n    }\n    if (json.materials) {\n      json.materials = json.materials.map((material, i) => this._resolveMaterial(material, i));\n    }\n    if (json.meshes) {\n      json.meshes = json.meshes.map((mesh, i) => this._resolveMesh(mesh, i));\n    }\n    if (json.nodes) {\n      json.nodes = json.nodes.map((node, i) => this._resolveNode(node, i));\n    }\n    if (json.skins) {\n      json.skins = json.skins.map((skin, i) => this._resolveSkin(skin, i));\n    }\n    if (json.scenes) {\n      json.scenes = json.scenes.map((scene, i) => this._resolveScene(scene, i));\n    }\n    if (json.scene !== undefined) {\n      json.scene = json.scenes[this.json.scene];\n    }\n  }\n\n  getScene(index) {\n    return this._get('scenes', index);\n  }\n\n  getNode(index) {\n    return this._get('nodes', index);\n  }\n\n  getSkin(index) {\n    return this._get('skins', index);\n  }\n\n  getMesh(index) {\n    return this._get('meshes', index);\n  }\n\n  getMaterial(index) {\n    return this._get('materials', index);\n  }\n\n  getAccessor(index) {\n    return this._get('accessors', index);\n  }\n\n  getCamera(index) {\n    return null; // TODO: fix this\n  }\n\n  getTexture(index) {\n    return this._get('textures', index);\n  }\n\n  getSampler(index) {\n    return this._get('samplers', index);\n  }\n\n  getImage(index) {\n    return this._get('images', index);\n  }\n\n  getBufferView(index) {\n    return this._get('bufferViews', index);\n  }\n\n  getBuffer(index) {\n    return this._get('buffers', index);\n  }\n\n  _get(array, index) {\n    // check if already resolved\n    if (typeof index === 'object') {\n      return index;\n    }\n    const object = this.json[array] && this.json[array][index];\n    if (!object) {\n      console.warn(`glTF file error: Could not find ${array}[${index}]`); // eslint-disable-line\n    }\n    return object;\n  }\n\n  // PARSING HELPERS\n\n  _resolveScene(scene, index) {\n    // scene = {...scene};\n    scene.id = scene.id || `scene-${index}`;\n    scene.nodes = (scene.nodes || []).map((node) => this.getNode(node));\n    return scene;\n  }\n\n  _resolveNode(node, index) {\n    // node = {...node};\n    node.id = node.id || `node-${index}`;\n    if (node.children) {\n      node.children = node.children.map((child) => this.getNode(child));\n    }\n    if (node.mesh !== undefined) {\n      node.mesh = this.getMesh(node.mesh);\n    } else if (node.meshes !== undefined && node.meshes.length) {\n      node.mesh = node.meshes.reduce(\n        (accum, meshIndex) => {\n          const mesh = this.getMesh(meshIndex);\n          accum.id = mesh.id;\n          accum.primitives = accum.primitives.concat(mesh.primitives);\n          return accum;\n        },\n        {primitives: []}\n      );\n    }\n    if (node.camera !== undefined) {\n      node.camera = this.getCamera(node.camera);\n    }\n    if (node.skin !== undefined) {\n      node.skin = this.getSkin(node.skin);\n    }\n    return node;\n  }\n\n  _resolveSkin(skin, index) {\n    // skin = {...skin};\n    skin.id = skin.id || `skin-${index}`;\n    skin.inverseBindMatrices = this.getAccessor(skin.inverseBindMatrices);\n    return skin;\n  }\n\n  _resolveMesh(mesh, index) {\n    // mesh = {...mesh};\n    mesh.id = mesh.id || `mesh-${index}`;\n    if (mesh.primitives) {\n      mesh.primitives = mesh.primitives.map((primitive) => {\n        primitive = {...primitive};\n        const attributes = primitive.attributes;\n        primitive.attributes = {};\n        for (const attribute in attributes) {\n          primitive.attributes[attribute] = this.getAccessor(attributes[attribute]);\n        }\n        if (primitive.indices !== undefined) {\n          primitive.indices = this.getAccessor(primitive.indices);\n        }\n        if (primitive.material !== undefined) {\n          primitive.material = this.getMaterial(primitive.material);\n        }\n        return primitive;\n      });\n    }\n    return mesh;\n  }\n\n  _resolveMaterial(material, index) {\n    // material = {...material};\n    material.id = material.id || `material-${index}`;\n    if (material.normalTexture) {\n      material.normalTexture = {...material.normalTexture};\n      material.normalTexture.texture = this.getTexture(material.normalTexture.index);\n    }\n    if (material.occlusionTexture) {\n      material.occlustionTexture = {...material.occlustionTexture};\n      material.occlusionTexture.texture = this.getTexture(material.occlusionTexture.index);\n    }\n    if (material.emissiveTexture) {\n      material.emmisiveTexture = {...material.emmisiveTexture};\n      material.emissiveTexture.texture = this.getTexture(material.emissiveTexture.index);\n    }\n    if (!material.emissiveFactor) {\n      material.emissiveFactor = material.emmisiveTexture ? [1, 1, 1] : [0, 0, 0];\n    }\n\n    if (material.pbrMetallicRoughness) {\n      material.pbrMetallicRoughness = {...material.pbrMetallicRoughness};\n      const mr = material.pbrMetallicRoughness;\n      if (mr.baseColorTexture) {\n        mr.baseColorTexture = {...mr.baseColorTexture};\n        mr.baseColorTexture.texture = this.getTexture(mr.baseColorTexture.index);\n      }\n      if (mr.metallicRoughnessTexture) {\n        mr.metallicRoughnessTexture = {...mr.metallicRoughnessTexture};\n        mr.metallicRoughnessTexture.texture = this.getTexture(mr.metallicRoughnessTexture.index);\n      }\n    }\n    return material;\n  }\n\n  _resolveAccessor(accessor, index) {\n    // accessor = {...accessor};\n    accessor.id = accessor.id || `accessor-${index}`;\n    if (accessor.bufferView !== undefined) {\n      // Draco encoded meshes don't have bufferView\n      accessor.bufferView = this.getBufferView(accessor.bufferView);\n    }\n\n    // Look up enums\n    accessor.bytesPerComponent = getBytesFromComponentType(accessor.componentType);\n    accessor.components = getSizeFromAccessorType(accessor.type);\n    accessor.bytesPerElement = accessor.bytesPerComponent * accessor.components;\n\n    // Create TypedArray for the accessor\n    // Note: The canonical way to instantiate is to ignore this array and create\n    // WebGLBuffer's using the bufferViews.\n    if (accessor.bufferView) {\n      const buffer = accessor.bufferView.buffer;\n      const {ArrayType, byteLength} = getAccessorArrayTypeAndLength(accessor, accessor.bufferView);\n      const byteOffset =\n        (accessor.bufferView.byteOffset || 0) + (accessor.byteOffset || 0) + buffer.byteOffset;\n      let cutBuffer = buffer.arrayBuffer.slice(byteOffset, byteOffset + byteLength);\n      if (accessor.bufferView.byteStride) {\n        cutBuffer = this._getValueFromInterleavedBuffer(\n          buffer,\n          byteOffset,\n          accessor.bufferView.byteStride,\n          accessor.bytesPerElement,\n          accessor.count\n        );\n      }\n      accessor.value = new ArrayType(cutBuffer);\n    }\n\n    return accessor;\n  }\n\n  /**\n   * Take values of particular accessor from interleaved buffer\n   * various parts of the buffer\n   * @param buffer\n   * @param byteOffset\n   * @param byteStride\n   * @param bytesPerElement\n   * @param count\n   * @returns\n   */\n  _getValueFromInterleavedBuffer(buffer, byteOffset, byteStride, bytesPerElement, count) {\n    const result = new Uint8Array(count * bytesPerElement);\n    for (let i = 0; i < count; i++) {\n      const elementOffset = byteOffset + i * byteStride;\n      result.set(\n        new Uint8Array(buffer.arrayBuffer.slice(elementOffset, elementOffset + bytesPerElement)),\n        i * bytesPerElement\n      );\n    }\n    return result.buffer;\n  }\n\n  _resolveTexture(texture, index) {\n    // texture = {...texture};\n    texture.id = texture.id || `texture-${index}`;\n    texture.sampler = 'sampler' in texture ? this.getSampler(texture.sampler) : DEFAULT_SAMPLER;\n    texture.source = this.getImage(texture.source);\n    return texture;\n  }\n\n  _resolveSampler(sampler, index) {\n    // sampler = {...sampler};\n    sampler.id = sampler.id || `sampler-${index}`;\n    // Map textual parameters to GL parameter values\n    sampler.parameters = {};\n    for (const key in sampler) {\n      const glEnum = this._enumSamplerParameter(key);\n      if (glEnum !== undefined) {\n        sampler.parameters[glEnum] = sampler[key];\n      }\n    }\n    return sampler;\n  }\n\n  _enumSamplerParameter(key) {\n    return SAMPLER_PARAMETER_GLTF_TO_GL[key];\n  }\n\n  _resolveImage(image, index) {\n    // image = {...image};\n    image.id = image.id || `image-${index}`;\n    if (image.bufferView !== undefined) {\n      image.bufferView = this.getBufferView(image.bufferView);\n    }\n\n    // Check if image has been preloaded by the GLTFLoader\n    // If so, link it into the JSON and drop the URI\n    const preloadedImage = this.images[index];\n    if (preloadedImage) {\n      image.image = preloadedImage;\n    }\n\n    return image;\n  }\n\n  _resolveBufferView(bufferView: BufferView, index: number): BufferViewPostprocessed {\n    // bufferView = {...bufferView};\n    const bufferIndex = bufferView.buffer;\n    const result: BufferViewPostprocessed = {\n      id: `bufferView-${index}`,\n      ...bufferView,\n      buffer: this.buffers[bufferIndex]\n    };\n\n    // @ts-expect-error\n    const arrayBuffer = this.buffers[bufferIndex].arrayBuffer;\n    // @ts-expect-error\n    let byteOffset = this.buffers[bufferIndex].byteOffset || 0;\n\n    if ('byteOffset' in bufferView) {\n      byteOffset += bufferView.byteOffset;\n    }\n\n    result.data = new Uint8Array(arrayBuffer, byteOffset, bufferView.byteLength);\n    return result;\n  }\n\n  _resolveCamera(camera, index) {\n    camera.id = camera.id || `camera-${index}`;\n    // TODO - create 4x4 matrices\n    if (camera.perspective) {\n      // camera.matrix = createPerspectiveMatrix(camera.perspective);\n    }\n    if (camera.orthographic) {\n      // camera.matrix = createOrthographicMatrix(camera.orthographic);\n    }\n    return camera;\n  }\n}\n\nexport function postProcessGLTF(gltf, options?) {\n  return new GLTFPostProcessor().postProcess(gltf, options);\n}\n","/* eslint-disable camelcase, max-statements */\n// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#glb-file-format-specification\n// https://github.com/KhronosGroup/glTF/tree/master/extensions/1.0/Khronos/KHR_binary_glTF\nimport type {GLB} from '../types/glb-types';\nimport {padToNBytes, assert} from '@loaders.gl/loader-utils';\n\nexport type GLBParseOptions = {\n  magic?: number;\n  strict?: boolean;\n};\n\nconst MAGIC_glTF = 0x676c5446; // glTF in Big-Endian ASCII\n\nconst GLB_FILE_HEADER_SIZE = 12;\nconst GLB_CHUNK_HEADER_SIZE = 8;\n\nconst GLB_CHUNK_TYPE_JSON = 0x4e4f534a;\nconst GLB_CHUNK_TYPE_BIN = 0x004e4942;\nconst GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED = 0; // DEPRECATED - Backward compatibility for old xviz files\nconst GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED = 1; // DEPRECATED - Backward compatibility for old xviz files\n\nconst GLB_V1_CONTENT_FORMAT_JSON = 0x0;\n\nconst LE = true; // Binary GLTF is little endian.\n\nfunction getMagicString(dataView, byteOffset = 0) {\n  return `\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 0))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 1))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 2))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 3))}`;\n}\n\n// Check if a data view is a GLB\nexport function isGLB(\n  arrayBuffer: ArrayBuffer,\n  byteOffset: number = 0,\n  options: GLBParseOptions = {}\n): boolean {\n  const dataView = new DataView(arrayBuffer);\n  // Check that GLB Header starts with the magic number\n  const {magic = MAGIC_glTF} = options;\n  const magic1 = dataView.getUint32(byteOffset, false);\n  return magic1 === magic || magic1 === MAGIC_glTF;\n}\n\nexport default function parseGLBSync(\n  glb: GLB,\n  arrayBuffer: ArrayBuffer,\n  byteOffset: number = 0,\n  options: GLBParseOptions = {}\n) {\n  // Check that GLB Header starts with the magic number\n  const dataView = new DataView(arrayBuffer);\n\n  // Compare format with GLBLoader documentation\n  const type = getMagicString(dataView, byteOffset + 0);\n  const version = dataView.getUint32(byteOffset + 4, LE); // Version 2 of binary glTF container format\n  const byteLength = dataView.getUint32(byteOffset + 8, LE); // Total byte length of binary file\n\n  Object.assign(glb, {\n    // Put less important stuff in a header, to avoid clutter\n    header: {\n      byteOffset, // Byte offset into the initial arrayBuffer\n      byteLength,\n      hasBinChunk: false\n    },\n\n    type,\n    version,\n\n    json: {},\n    binChunks: []\n  } as GLB);\n\n  byteOffset += GLB_FILE_HEADER_SIZE;\n\n  switch (glb.version) {\n    case 1:\n      // eslint-disable-next-line\n      return parseGLBV1(glb, dataView, byteOffset);\n    case 2:\n      // eslint-disable-next-line\n      return parseGLBV2(glb, dataView, byteOffset, (options = {}));\n    default:\n      throw new Error(`Invalid GLB version ${glb.version}. Only supports v1 and v2.`);\n  }\n}\n\nfunction parseGLBV1(glb: GLB, dataView: DataView, byteOffset: number): number {\n  // Sanity: ensure file is big enough to hold at least the headers\n  assert(glb.header.byteLength > GLB_FILE_HEADER_SIZE + GLB_CHUNK_HEADER_SIZE);\n\n  // Explanation of GLB structure:\n  // https://cloud.githubusercontent.com/assets/3479527/22600725/36b87122-ea55-11e6-9d40-6fd42819fcab.png\n  const contentLength = dataView.getUint32(byteOffset + 0, LE); // Byte length of chunk\n  const contentFormat = dataView.getUint32(byteOffset + 4, LE); // Chunk format as uint32\n  byteOffset += GLB_CHUNK_HEADER_SIZE;\n\n  // GLB v1 only supports a single chunk type\n  assert(contentFormat === GLB_V1_CONTENT_FORMAT_JSON);\n\n  parseJSONChunk(glb, dataView, byteOffset, contentLength);\n  // No need to call the function padToBytes() from parseJSONChunk()\n  byteOffset += contentLength;\n  byteOffset += parseBINChunk(glb, dataView, byteOffset, glb.header.byteLength);\n\n  return byteOffset;\n}\n\nfunction parseGLBV2(\n  glb: GLB,\n  dataView: DataView,\n  byteOffset: number,\n  options: GLBParseOptions\n): number {\n  // Sanity: ensure file is big enough to hold at least the first chunk header\n  assert(glb.header.byteLength > GLB_FILE_HEADER_SIZE + GLB_CHUNK_HEADER_SIZE);\n\n  parseGLBChunksSync(glb, dataView, byteOffset, options);\n\n  return byteOffset + glb.header.byteLength;\n}\n\nfunction parseGLBChunksSync(\n  glb: GLB,\n  dataView: DataView,\n  byteOffset: number,\n  options: GLBParseOptions\n) {\n  // Per spec we must iterate over chunks, ignoring all except JSON and BIN\n  // Iterate as long as there is space left for another chunk header\n  while (byteOffset + 8 <= glb.header.byteLength) {\n    const chunkLength = dataView.getUint32(byteOffset + 0, LE); // Byte length of chunk\n    const chunkFormat = dataView.getUint32(byteOffset + 4, LE); // Chunk format as uint32\n    byteOffset += GLB_CHUNK_HEADER_SIZE;\n\n    // Per spec we must iterate over chunks, ignoring all except JSON and BIN\n    switch (chunkFormat) {\n      case GLB_CHUNK_TYPE_JSON:\n        parseJSONChunk(glb, dataView, byteOffset, chunkLength);\n        break;\n      case GLB_CHUNK_TYPE_BIN:\n        parseBINChunk(glb, dataView, byteOffset, chunkLength);\n        break;\n\n      // Backward compatibility for very old xviz files\n      case GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED:\n        if (!options.strict) {\n          parseJSONChunk(glb, dataView, byteOffset, chunkLength);\n        }\n        break;\n      case GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED:\n        if (!options.strict) {\n          parseBINChunk(glb, dataView, byteOffset, chunkLength);\n        }\n        break;\n\n      default:\n        // Ignore, per spec\n        // console.warn(`Unknown GLB chunk type`); // eslint-disable-line\n        break;\n    }\n\n    byteOffset += padToNBytes(chunkLength, 4);\n  }\n\n  return byteOffset;\n}\n\n// Parse a GLB JSON chunk\nfunction parseJSONChunk(glb: GLB, dataView: DataView, byteOffset: number, chunkLength: number) {\n  // 1. Create a \"view\" of the binary encoded JSON data inside the GLB\n  const jsonChunk = new Uint8Array(dataView.buffer, byteOffset, chunkLength);\n\n  // 2. Decode the JSON binary array into clear text\n  const textDecoder = new TextDecoder('utf8');\n  const jsonText = textDecoder.decode(jsonChunk);\n\n  // 3. Parse the JSON text into a JavaScript data structure\n  glb.json = JSON.parse(jsonText);\n\n  return padToNBytes(chunkLength, 4);\n}\n\n// Parse a GLB BIN chunk\nfunction parseBINChunk(glb: GLB, dataView, byteOffset, chunkLength) {\n  // Note: BIN chunk can be optional\n  glb.header.hasBinChunk = true;\n  glb.binChunks.push({\n    byteOffset,\n    byteLength: chunkLength,\n    arrayBuffer: dataView.buffer\n    // TODO - copy, or create typed array view?\n  });\n\n  return padToNBytes(chunkLength, 4);\n}\n","/* eslint-disable camelcase, max-statements, no-restricted-globals */\nimport type {LoaderContext} from '@loaders.gl/loader-utils';\nimport {BasisLoader, selectSupportedBasisFormat} from '@loaders.gl/textures';\nimport type {GLTFLoaderOptions} from '../../gltf-loader';\nimport type {GLB} from '../types/glb-types';\nimport type {GLTFWithBuffers} from '../types/gltf-types';\n\nimport {ImageLoader} from '@loaders.gl/images';\nimport {parseJSON, sliceArrayBuffer} from '@loaders.gl/loader-utils';\nimport {assert} from '../utils/assert';\nimport {resolveUrl} from '../gltf-utils/resolve-url';\nimport {getTypedArrayForBufferView} from '../gltf-utils/get-typed-array';\nimport {preprocessExtensions, decodeExtensions} from '../api/gltf-extensions';\nimport {normalizeGLTFV1} from '../api/normalize-gltf-v1';\nimport {postProcessGLTF} from '../api/post-process-gltf';\nimport parseGLBSync, {isGLB} from './parse-glb';\n\nexport type GLTFParseOptions = {\n  normalize?: boolean;\n  loadImages?: boolean;\n  loadBuffers?: boolean;\n  decompressMeshes?: boolean;\n  postProcess?: boolean;\n  excludeExtensions?: string[];\n};\n\n// export type GLTFOptions = {\n//   gltf?: GLTFParseOptions;\n// };\n\nexport function isGLTF(arrayBuffer, options?): boolean {\n  const byteOffset = 0;\n  return isGLB(arrayBuffer, byteOffset, options);\n}\n\nexport async function parseGLTF(\n  gltf: GLTFWithBuffers,\n  arrayBufferOrString,\n  byteOffset = 0,\n  options: GLTFLoaderOptions,\n  context: LoaderContext\n) {\n  parseGLTFContainerSync(gltf, arrayBufferOrString, byteOffset, options);\n\n  normalizeGLTFV1(gltf, {normalize: options?.gltf?.normalize});\n\n  preprocessExtensions(gltf, options, context);\n\n  const promises: Promise<any>[] = [];\n\n  // Load linked buffers asynchronously and decodes base64 buffers in parallel\n  if (options?.gltf?.loadBuffers && gltf.json.buffers) {\n    await loadBuffers(gltf, options, context);\n  }\n\n  if (options?.gltf?.loadImages) {\n    const promise = loadImages(gltf, options, context);\n    promises.push(promise);\n  }\n\n  const promise = decodeExtensions(gltf, options, context);\n  promises.push(promise);\n\n  // Parallelize image loading and buffer loading/extension decoding\n  await Promise.all(promises);\n\n  // Post processing resolves indices to objects, buffers\n  return options?.gltf?.postProcess ? postProcessGLTF(gltf, options) : gltf;\n}\n\n// `data` - can be ArrayBuffer (GLB), ArrayBuffer (Binary JSON), String (JSON), or Object (parsed JSON)\nfunction parseGLTFContainerSync(gltf, data, byteOffset, options) {\n  // Initialize gltf container\n  if (options.uri) {\n    gltf.baseUri = options.uri;\n  }\n\n  // If data is binary and starting with magic bytes, assume binary JSON text, convert to string\n  if (data instanceof ArrayBuffer && !isGLB(data, byteOffset, options)) {\n    const textDecoder = new TextDecoder();\n    data = textDecoder.decode(data);\n  }\n\n  if (typeof data === 'string') {\n    // If string, try to parse as JSON\n    gltf.json = parseJSON(data);\n  } else if (data instanceof ArrayBuffer) {\n    // If still ArrayBuffer, parse as GLB container\n    const glb: GLB = {} as GLB;\n    byteOffset = parseGLBSync(glb, data, byteOffset, options.glb);\n\n    assert(glb.type === 'glTF', `Invalid GLB magic string ${glb.type}`);\n\n    gltf._glb = glb;\n    gltf.json = glb.json;\n  } else {\n    assert(false, 'GLTF: must be ArrayBuffer or string');\n  }\n\n  // Populate buffers\n  // Create an external buffers array to hold binary data\n  const buffers = gltf.json.buffers || [];\n  gltf.buffers = new Array(buffers.length).fill(null);\n\n  // Populates JSON and some bin chunk info\n  if (gltf._glb && gltf._glb.header.hasBinChunk) {\n    const {binChunks} = gltf._glb;\n    gltf.buffers[0] = {\n      arrayBuffer: binChunks[0].arrayBuffer,\n      byteOffset: binChunks[0].byteOffset,\n      byteLength: binChunks[0].byteLength\n    };\n\n    // TODO - this modifies JSON and is a post processing thing\n    // gltf.json.buffers[0].data = gltf.buffers[0].arrayBuffer;\n    // gltf.json.buffers[0].byteOffset = gltf.buffers[0].byteOffset;\n  }\n\n  // Populate images\n  const images = gltf.json.images || [];\n  gltf.images = new Array(images.length).fill({});\n}\n\n/** Asynchronously fetch and parse buffers, store in buffers array outside of json\n * TODO - traverse gltf and determine which buffers are actually needed\n */\nasync function loadBuffers(gltf: GLTFWithBuffers, options, context: LoaderContext) {\n  // TODO\n  const buffers = gltf.json.buffers || [];\n  for (let i = 0; i < buffers.length; ++i) {\n    const buffer = buffers[i];\n    if (buffer.uri) {\n      const {fetch} = context;\n      assert(fetch);\n\n      const uri = resolveUrl(buffer.uri, options);\n      const response = await context?.fetch?.(uri);\n      const arrayBuffer = await response?.arrayBuffer?.();\n\n      gltf.buffers[i] = {\n        arrayBuffer,\n        byteOffset: 0,\n        byteLength: arrayBuffer.byteLength\n      };\n\n      delete buffer.uri;\n    } else if (gltf.buffers[i] === null) {\n      gltf.buffers[i] = {\n        arrayBuffer: new ArrayBuffer(buffer.byteLength),\n        byteOffset: 0,\n        byteLength: buffer.byteLength\n      };\n    }\n  }\n}\n\n/**\n * Loads all images\n * TODO - traverse gltf and determine which images are actually needed\n * @param gltf\n * @param options\n * @param context\n * @returns\n */\nasync function loadImages(gltf: GLTFWithBuffers, options, context: LoaderContext) {\n  const imageIndices = getReferencesImageIndices(gltf);\n\n  const images = gltf.json.images || [];\n\n  const promises: Promise<any>[] = [];\n  for (const imageIndex of imageIndices) {\n    promises.push(loadImage(gltf, images[imageIndex], imageIndex, options, context));\n  }\n\n  return await Promise.all(promises);\n}\n\n/** Make sure we only load images that are actually referenced by textures */\nfunction getReferencesImageIndices(gltf: GLTFWithBuffers): number[] {\n  const imageIndices = new Set<number>();\n\n  const textures = gltf.json.textures || [];\n  for (const texture of textures) {\n    if (texture.source !== undefined) {\n      imageIndices.add(texture.source);\n    }\n  }\n\n  return Array.from(imageIndices).sort();\n}\n\n/** Asynchronously fetches and parses one image, store in images array outside of json */\nasync function loadImage(\n  gltf: GLTFWithBuffers,\n  image,\n  index: number,\n  options,\n  context: LoaderContext\n) {\n  const {fetch, parse} = context;\n\n  let arrayBuffer;\n\n  if (image.uri && !image.hasOwnProperty('bufferView')) {\n    const uri = resolveUrl(image.uri, options);\n    const response = await fetch(uri);\n    arrayBuffer = await response.arrayBuffer();\n  }\n\n  if (Number.isFinite(image.bufferView)) {\n    const array = getTypedArrayForBufferView(gltf.json, gltf.buffers, image.bufferView);\n    arrayBuffer = sliceArrayBuffer(array.buffer, array.byteOffset, array.byteLength);\n  }\n\n  assert(arrayBuffer, 'glTF image has no data');\n\n  // Call `parse`\n  let parsedImage = await parse(\n    arrayBuffer,\n    [ImageLoader, BasisLoader],\n    {mimeType: image.mimeType, basis: options.basis || {format: selectSupportedBasisFormat()}},\n    context\n  );\n\n  if (parsedImage && parsedImage[0]) {\n    parsedImage = {\n      compressed: true,\n      mipmaps: false,\n      width: parsedImage[0].width,\n      height: parsedImage[0].height,\n      data: parsedImage[0]\n    };\n  }\n  // TODO making sure ImageLoader is overridable by using array of loaders\n  // const parsedImage = await parse(arrayBuffer, [ImageLoader]);\n\n  // Store the loaded image\n  gltf.images = gltf.images || [];\n  gltf.images[index] = parsedImage;\n}\n","import type {LoaderWithParser, LoaderOptions} from '@loaders.gl/loader-utils';\nimport type {DracoLoaderOptions} from '@loaders.gl/draco';\nimport {VERSION} from './lib/utils/version';\nimport type {ImageLoaderOptions} from '@loaders.gl/images';\nimport type {TextureLoaderOptions} from '@loaders.gl/textures';\nimport type {GLTFParseOptions} from './lib/parsers/parse-gltf';\nimport type {GLTFWithBuffers} from './lib/types/gltf-types';\nimport {parseGLTF} from './lib/parsers/parse-gltf';\nimport {GLBLoaderOptions} from './glb-loader';\n\n/**\n * GLTF loader options\n */\nexport type GLTFLoaderOptions = LoaderOptions &\n  ImageLoaderOptions &\n  TextureLoaderOptions &\n  GLBLoaderOptions &\n  DracoLoaderOptions & {\n    gltf?: GLTFParseOptions;\n  };\n\n/**\n * GLTF loader\n */\nexport const GLTFLoader: LoaderWithParser = {\n  name: 'glTF',\n  id: 'gltf',\n  module: 'gltf',\n  version: VERSION,\n  extensions: ['gltf', 'glb'],\n  mimeTypes: ['model/gltf+json', 'model/gltf-binary'],\n\n  text: true,\n  binary: true,\n  tests: ['glTF'],\n  parse,\n\n  options: {\n    gltf: {\n      normalize: true, // Normalize glTF v1 to glTF v2 format (not yet stable)\n      loadBuffers: true, // Fetch any linked .BIN buffers, decode base64\n      loadImages: true, // Create image objects\n      decompressMeshes: true, // Decompress Draco encoded meshes\n      postProcess: true // Postprocess glTF and return json structure directly\n    },\n\n    // common?\n    log: console // eslint-disable-line\n  },\n  deprecatedOptions: {\n    fetchImages: 'gltf.loadImages',\n    createImages: 'gltf.loadImages',\n    decompress: 'gltf.decompressMeshes',\n    postProcess: 'gltf.postProcess',\n    gltf: {\n      decompress: 'gltf.decompressMeshes'\n    }\n  }\n};\n\nexport async function parse(arrayBuffer, options: GLTFLoaderOptions = {}, context) {\n  // Apps can call the parse method directly, we so apply default options here\n  options = {...GLTFLoader.options, ...options};\n  // @ts-ignore\n  options.gltf = {...GLTFLoader.options.gltf, ...options.gltf};\n\n  const {byteOffset = 0} = options;\n  const gltf = {};\n  return await parseGLTF(gltf as GLTFWithBuffers, arrayBuffer, byteOffset, options, context);\n}\n","/** @typedef {import('./fp64-utils')} types */\n\n/**\n * Calculate WebGL 64 bit float\n * @type {types['fp64ify']}\n */\nexport function fp64ify(a, out = [], startIndex = 0) {\n  const hiPart = Math.fround(a);\n  const loPart = a - hiPart;\n  out[startIndex] = hiPart;\n  out[startIndex + 1] = loPart;\n  return out;\n}\n\n/** @type {types['fp64LowPart']} */\nexport function fp64LowPart(a) {\n  return a - Math.fround(a);\n}\n\n/**\n * Calculate WebGL 64 bit matrix (transposed \"Float64Array\")\n * @type {types['fp64ifyMatrix4']}\n * */\nexport function fp64ifyMatrix4(matrix) {\n  // Transpose the projection matrix to column major for GLSL.\n  const matrixFP64 = new Float32Array(32);\n  for (let i = 0; i < 4; ++i) {\n    for (let j = 0; j < 4; ++j) {\n      const index = i * 4 + j;\n      fp64ify(matrix[j * 4 + i], matrixFP64, index * 2);\n    }\n  }\n  return matrixFP64;\n}\n","/** @typedef {import('../../types').ShaderModule} ShaderModule */\n\nimport {fp64ify, fp64LowPart, fp64ifyMatrix4} from './fp64-utils';\n\nimport fp64arithmeticShader from './fp64-arithmetic.glsl';\nimport fp64functionShader from './fp64-functions.glsl';\n\nconst CONST_UNIFORMS = {\n  // Used in LUMA_FP64_CODE_ELIMINATION_WORKAROUND\n  ONE: 1.0\n};\nexport {fp64ify, fp64LowPart, fp64ifyMatrix4};\n\nfunction getUniforms() {\n  return CONST_UNIFORMS;\n}\n\n// Arithmetic only\nexport const fp64arithmetic = {\n  name: 'fp64-arithmetic',\n  vs: fp64arithmeticShader,\n  fs: null,\n  getUniforms,\n  fp64ify,\n  fp64LowPart,\n  fp64ifyMatrix4\n};\n\n// Full fp64 shader\nexport const fp64 = {\n  name: 'fp64',\n  vs: fp64functionShader,\n  fs: null,\n  dependencies: [fp64arithmetic],\n  fp64ify,\n  fp64LowPart,\n  fp64ifyMatrix4\n};\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\nconst vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09); // 1/3!\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09); // 1/4!\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10); // 1/5!\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11); // 1/6!\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12); // 1/7!\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13); // 1/8!\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14); // 1/9!\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15); // 1/10!\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\n/* k_power controls how much range reduction we would like to have\nRange reduction uses the following method:\nassume a = k_power * r + m * log(2), k and m being integers.\nSet k_power = 4 (we can choose other k to trade accuracy with performance.\nwe only need to calculate exp(r) and using exp(a) = 2^m * exp(r)^k_power;\n*/\n\nvec2 exp_fp64(vec2 a) {\n  // We need to make sure these two numbers match\n  // as bit-wise shift is not available in GLSL 1.0\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_6_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_7_FP64);\n\n  s = sum_fp64(s, t);\n\n\n  // At this point, s = exp(r) - 1; but after following 4 recursions, we will get exp(r) ^ 512 - 1.\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n//   return r;\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_7_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_9_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_8_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_10_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    // We just can't get PI/16 * 3.0 very accurately.\n    // so let's just store it\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\n// Vector functions\n// vec2 functions\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\n\n// vec3 functions\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\n\n// vec4 functions\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n`;\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\nuniform float ONE;\n\n/*\nAbout LUMA_FP64_CODE_ELIMINATION_WORKAROUND\n\nThe purpose of this workaround is to prevent shader compilers from\noptimizing away necessary arithmetic operations by swapping their sequences\nor transform the equation to some 'equivalent' from.\n\nThe method is to multiply an artifical variable, ONE, which will be known to\nthe compiler to be 1 only at runtime. The whole expression is then represented\nas a polynomial with respective to ONE. In the coefficients of all terms, only one a\nand one b should appear\n\nerr = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE\n*/\n\n// Divide float number to high and low floats to extend fraction bits\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\n\n// Divide float number again when high float uses too many fraction bits\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\n\n// Special sum operation when a > b\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\n\n// General sum operation\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  // y component is for the error\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n`;\n","/** @typedef {import('../../types').ShaderModule} ShaderModule */\n\nimport {lights} from '../lights/lights';\n\nimport vs from './pbr-vertex.glsl';\nimport fs from './pbr-fragment.glsl';\n\n/**\n * @type {ShaderModule}\n * PBR lighting shader module\n */\nexport const pbr = {\n  name: 'pbr',\n  vs,\n  fs,\n  defines: {\n    LIGHTING_FRAGMENT: 1\n  },\n  dependencies: [lights]\n};\n","export default `\\\nuniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else // HAS_TANGENTS != 1\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n`;\n","// This fragment shader defines a reference implementation for Physically Based Shading of\n// a microfacet surface material defined by a glTF model.\n//\n// Attribution:\n// MIT license, Copyright (c) 2016-2017 Mohamad Moneimne and Contributors\n\n// TODO - better do the checks outside of shader\nexport default `\\\n#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n// WebGL 1.0 does not support non-constant in for loops\n// This provides an easy way to handle these cases\n// and still take advantage of WebGL 2.0\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n// debugging flags used for shader output of intermediate PBR variables\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n  float NdotL;                  // cos angle between normal and light direction\n  float NdotV;                  // cos angle between normal and view direction\n  float NdotH;                  // cos angle between normal and half vector\n  float LdotH;                  // cos angle between light direction and half vector\n  float VdotH;                  // cos angle between view direction and half vector\n  float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n  float metalness;              // metallic value at the surface\n  vec3 reflectance0;            // full reflectance color (normal incidence angle)\n  vec3 reflectance90;           // reflectance color at grazing angle\n  float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n  vec3 diffuseColor;            // color contribution from diffuse lighting\n  vec3 specularColor;           // color contribution from specular lighting\n  vec3 n;                       // normal at surface point\n  vec3 v;                       // vector from surface point to camera\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else //SRGB_FAST_APPROXIMATION\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif //SRGB_FAST_APPROXIMATION\n  return vec4(linOut,srgbIn.w);;\n#else //MANUAL_SRGB\n  return srgbIn;\n#endif //MANUAL_SRGB\n}\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\nvec3 getNormal()\n{\n  // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  // The tbn matrix is linearly interpolated, so we need to re-normalize\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0; // resolution of 512x512\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  // retrieve a scale and bias to F0. See [1], Figure 3\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n  // For presentation, this allows us to disable IBL terms\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across\n// the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface\n// for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes\n// from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);             // Vector from surface point to light\n  vec3 h = normalize(l+v);                        // Half vector between both l and v\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  // Calculate the shading terms for the microfacet specular shading model\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n\n  // Calculation of analytical lighting contribution\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n  // The albedo may be defined from a base texture or a flat color\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    // For typical incident reflectance range (between 4% to 100%) set the grazing\n    // reflectance to 100% for typical fresnel effect.\n    // For very low reflectance range on highly diffuse objects (below 4%),\n    // incrementally reduce grazing reflecance to 0%.\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();                          // normal at surface point\n    vec3 v = normalize(u_Camera - pbr_vPosition);  // Vector from surface point to camera\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0, // NdotL\n      NdotV,\n      0.0, // NdotH\n      0.0, // LdotH\n      0.0, // VdotH\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    // Apply ambient light\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n\n    // Apply directional light\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n\n    // Apply point light\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n\n    // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n    // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n    // This section uses mix to override final color for reference app visualization\n    // of various parameters in the lighting equation.\n#ifdef PBR_DEBUG\n    // TODO: Figure out how to debug multiple lights\n\n    // color = mix(color, F, u_ScaleFGDSpec.x);\n    // color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n    // color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n    // color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n    // color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n`;\n"],"sourceRoot":""}